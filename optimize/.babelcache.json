{
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/cli.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "../utils/package_json",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "pkg"
              }
            ]
          },
          {
            "source": "./command",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Command"
              }
            ]
          },
          {
            "source": "./serve/serve",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "serveCommand"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _utilsPackage_json = require('../utils/package_json');\n\nvar _utilsPackage_json2 = _interopRequireDefault(_utilsPackage_json);\n\nvar _command = require('./command');\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _serveServe = require('./serve/serve');\n\nvar _serveServe2 = _interopRequireDefault(_serveServe);\n\nvar argv = process.env.kbnWorkerArgv ? JSON.parse(process.env.kbnWorkerArgv) : process.argv.slice();\nvar program = new _command2['default']('bin/kibana');\n\nprogram.version(_utilsPackage_json2['default'].version).description('Kibana is an open source (Apache Licensed), browser ' + 'based analytics and search dashboard for Elasticsearch.');\n\n// attach commands\n(0, _serveServe2['default'])(program);\n\nprogram.command('help <command>').description('Get the help for a specific command').action(function (cmdName) {\n  var cmd = _lodash2['default'].find(program.commands, { _name: cmdName });\n  if (!cmd) return program.error('unknown command ' + cmdName);\n  cmd.help();\n});\n\nprogram.command('*', null, { noHelp: true }).action(function (cmd, options) {\n  program.error('unknown command ' + cmd);\n});\n\n// check for no command name\nvar subCommand = argv[2] && !String(argv[2][0]).match(/^-|^\\.|\\//);\n\nif (!subCommand) {\n  if (_lodash2['default'].intersection(argv.slice(2), ['-h', '--help']).length) {\n    program.defaultHelp();\n  } else {\n    argv.splice(2, 0, ['serve']);\n  }\n}\n\nprogram.parse(argv);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvY2xpLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7c0JBQWMsUUFBUTs7OztpQ0FDTix1QkFBdUI7Ozs7dUJBQ25CLFdBQVc7Ozs7MEJBQ04sZUFBZTs7OztBQUV4QyxJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUN0RyxJQUFNLE9BQU8sR0FBRyx5QkFBWSxZQUFZLENBQUMsQ0FBQzs7QUFFMUMsT0FBTyxDQUNOLE9BQU8sQ0FBQywrQkFBSSxPQUFPLENBQUMsQ0FDcEIsV0FBVyxDQUNWLHNEQUFzRCxHQUN0RCx5REFBeUQsQ0FDMUQsQ0FBQzs7O0FBR0YsNkJBQWEsT0FBTyxDQUFDLENBQUM7O0FBRXRCLE9BQU8sQ0FDTixPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FDekIsV0FBVyxDQUFDLHFDQUFxQyxDQUFDLENBQ2xELE1BQU0sQ0FBQyxVQUFVLE9BQU8sRUFBRTtBQUN6QixNQUFNLEdBQUcsR0FBRyxvQkFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDO0FBQ3pELE1BQUksQ0FBQyxHQUFHLEVBQUUsT0FBTyxPQUFPLENBQUMsS0FBSyxzQkFBb0IsT0FBTyxDQUFHLENBQUM7QUFDN0QsS0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO0NBQ1osQ0FBQyxDQUFDOztBQUVILE9BQU8sQ0FDTixPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUNwQyxNQUFNLENBQUMsVUFBVSxHQUFHLEVBQUUsT0FBTyxFQUFFO0FBQzlCLFNBQU8sQ0FBQyxLQUFLLHNCQUFvQixHQUFHLENBQUcsQ0FBQztDQUN6QyxDQUFDLENBQUM7OztBQUdILElBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7O0FBRXJFLElBQUksQ0FBQyxVQUFVLEVBQUU7QUFDZixNQUFJLG9CQUFFLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFO0FBQzFELFdBQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztHQUN2QixNQUFNO0FBQ0wsUUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztHQUM5QjtDQUNGOztBQUVELE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NsaS9jbGkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHBrZyBmcm9tICcuLi91dGlscy9wYWNrYWdlX2pzb24nO1xuaW1wb3J0IENvbW1hbmQgZnJvbSAnLi9jb21tYW5kJztcbmltcG9ydCBzZXJ2ZUNvbW1hbmQgZnJvbSAnLi9zZXJ2ZS9zZXJ2ZSc7XG5cbmNvbnN0IGFyZ3YgPSBwcm9jZXNzLmVudi5rYm5Xb3JrZXJBcmd2ID8gSlNPTi5wYXJzZShwcm9jZXNzLmVudi5rYm5Xb3JrZXJBcmd2KSA6IHByb2Nlc3MuYXJndi5zbGljZSgpO1xuY29uc3QgcHJvZ3JhbSA9IG5ldyBDb21tYW5kKCdiaW4va2liYW5hJyk7XG5cbnByb2dyYW1cbi52ZXJzaW9uKHBrZy52ZXJzaW9uKVxuLmRlc2NyaXB0aW9uKFxuICAnS2liYW5hIGlzIGFuIG9wZW4gc291cmNlIChBcGFjaGUgTGljZW5zZWQpLCBicm93c2VyICcgK1xuICAnYmFzZWQgYW5hbHl0aWNzIGFuZCBzZWFyY2ggZGFzaGJvYXJkIGZvciBFbGFzdGljc2VhcmNoLidcbik7XG5cbi8vIGF0dGFjaCBjb21tYW5kc1xuc2VydmVDb21tYW5kKHByb2dyYW0pO1xuXG5wcm9ncmFtXG4uY29tbWFuZCgnaGVscCA8Y29tbWFuZD4nKVxuLmRlc2NyaXB0aW9uKCdHZXQgdGhlIGhlbHAgZm9yIGEgc3BlY2lmaWMgY29tbWFuZCcpXG4uYWN0aW9uKGZ1bmN0aW9uIChjbWROYW1lKSB7XG4gIGNvbnN0IGNtZCA9IF8uZmluZChwcm9ncmFtLmNvbW1hbmRzLCB7IF9uYW1lOiBjbWROYW1lIH0pO1xuICBpZiAoIWNtZCkgcmV0dXJuIHByb2dyYW0uZXJyb3IoYHVua25vd24gY29tbWFuZCAke2NtZE5hbWV9YCk7XG4gIGNtZC5oZWxwKCk7XG59KTtcblxucHJvZ3JhbVxuLmNvbW1hbmQoJyonLCBudWxsLCB7IG5vSGVscDogdHJ1ZSB9KVxuLmFjdGlvbihmdW5jdGlvbiAoY21kLCBvcHRpb25zKSB7XG4gIHByb2dyYW0uZXJyb3IoYHVua25vd24gY29tbWFuZCAke2NtZH1gKTtcbn0pO1xuXG4vLyBjaGVjayBmb3Igbm8gY29tbWFuZCBuYW1lXG5jb25zdCBzdWJDb21tYW5kID0gYXJndlsyXSAmJiAhU3RyaW5nKGFyZ3ZbMl1bMF0pLm1hdGNoKC9eLXxeXFwufFxcLy8pO1xuXG5pZiAoIXN1YkNvbW1hbmQpIHtcbiAgaWYgKF8uaW50ZXJzZWN0aW9uKGFyZ3Yuc2xpY2UoMiksIFsnLWgnLCAnLS1oZWxwJ10pLmxlbmd0aCkge1xuICAgIHByb2dyYW0uZGVmYXVsdEhlbHAoKTtcbiAgfSBlbHNlIHtcbiAgICBhcmd2LnNwbGljZSgyLCAwLCBbJ3NlcnZlJ10pO1xuICB9XG59XG5cbnByb2dyYW0ucGFyc2UoYXJndik7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/cli.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;iCACN,uBAAuB;;;;uBACnB,WAAW;;;;0BACN,eAAe;;;;AAExC,IAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;AACtG,IAAM,OAAO,GAAG,yBAAY,YAAY,CAAC,CAAC;;AAE1C,OAAO,CACN,OAAO,CAAC,+BAAI,OAAO,CAAC,CACpB,WAAW,CACV,sDAAsD,GACtD,yDAAyD,CAC1D,CAAC;;;AAGF,6BAAa,OAAO,CAAC,CAAC;;AAEtB,OAAO,CACN,OAAO,CAAC,gBAAgB,CAAC,CACzB,WAAW,CAAC,qCAAqC,CAAC,CAClD,MAAM,CAAC,UAAU,OAAO,EAAE;AACzB,MAAM,GAAG,GAAG,oBAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;AACzD,MAAI,CAAC,GAAG,EAAE,OAAO,OAAO,CAAC,KAAK,sBAAoB,OAAO,CAAG,CAAC;AAC7D,KAAG,CAAC,IAAI,EAAE,CAAC;CACZ,CAAC,CAAC;;AAEH,OAAO,CACN,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CACpC,MAAM,CAAC,UAAU,GAAG,EAAE,OAAO,EAAE;AAC9B,SAAO,CAAC,KAAK,sBAAoB,GAAG,CAAG,CAAC;CACzC,CAAC,CAAC;;;AAGH,IAAM,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;;AAErE,IAAI,CAAC,UAAU,EAAE;AACf,MAAI,oBAAE,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,MAAM,EAAE;AAC1D,WAAO,CAAC,WAAW,EAAE,CAAC;GACvB,MAAM;AACL,QAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;GAC9B;CACF;;AAED,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/cli/cli.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport pkg from '../utils/package_json';\nimport Command from './command';\nimport serveCommand from './serve/serve';\n\nconst argv = process.env.kbnWorkerArgv ? JSON.parse(process.env.kbnWorkerArgv) : process.argv.slice();\nconst program = new Command('bin/kibana');\n\nprogram\n.version(pkg.version)\n.description(\n  'Kibana is an open source (Apache Licensed), browser ' +\n  'based analytics and search dashboard for Elasticsearch.'\n);\n\n// attach commands\nserveCommand(program);\n\nprogram\n.command('help <command>')\n.description('Get the help for a specific command')\n.action(function (cmdName) {\n  const cmd = _.find(program.commands, { _name: cmdName });\n  if (!cmd) return program.error(`unknown command ${cmdName}`);\n  cmd.help();\n});\n\nprogram\n.command('*', null, { noHelp: true })\n.action(function (cmd, options) {\n  program.error(`unknown command ${cmd}`);\n});\n\n// check for no command name\nconst subCommand = argv[2] && !String(argv[2][0]).match(/^-|^\\.|\\//);\n\nif (!subCommand) {\n  if (_.intersection(argv.slice(2), ['-h', '--help']).length) {\n    program.defaultHelp();\n  } else {\n    argv.splice(2, 0, ['serve']);\n  }\n}\n\nprogram.parse(argv);\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/utils/package_json.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "dirname"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "dirname",
                "local": "dirname"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _path = require('path');\n\nmodule.exports = require('../../package.json');\nmodule.exports.__filename = require.resolve('../../package.json');\nmodule.exports.__dirname = (0, _path.dirname)(module.exports.__filename);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9wYWNrYWdlX2pzb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7b0JBQXdCLE1BQU07O0FBRTlCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUM7QUFDL0MsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBQ2xFLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLG1CQUFRLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3V0aWxzL3BhY2thZ2VfanNvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRpcm5hbWUgfSBmcm9tICdwYXRoJztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKTtcbm1vZHVsZS5leHBvcnRzLl9fZmlsZW5hbWUgPSByZXF1aXJlLnJlc29sdmUoJy4uLy4uL3BhY2thZ2UuanNvbicpO1xubW9kdWxlLmV4cG9ydHMuX19kaXJuYW1lID0gZGlybmFtZShtb2R1bGUuZXhwb3J0cy5fX2ZpbGVuYW1lKTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/utils/package_json.js"
      ],
      "names": [],
      "mappings": ";;oBAAwB,MAAM;;AAE9B,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAC/C,MAAM,CAAC,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAClE,MAAM,CAAC,OAAO,CAAC,SAAS,GAAG,mBAAQ,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/utils/package_json.js",
      "sourcesContent": [
        "import { dirname } from 'path';\n\nmodule.exports = require('../../package.json');\nmodule.exports.__filename = require.resolve('../../package.json');\nmodule.exports.__dirname = dirname(module.exports.__filename);\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/command.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./help",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "help"
              }
            ]
          },
          {
            "source": "commander",
            "imported": [
              "Command"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Command",
                "local": "Command"
              }
            ]
          },
          {
            "source": "./color",
            "imported": [
              "red"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "red",
                "local": "red"
              }
            ]
          },
          {
            "source": "./color",
            "imported": [
              "yellow"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "yellow",
                "local": "yellow"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _help = require('./help');\n\nvar _help2 = _interopRequireDefault(_help);\n\nvar _commander = require('commander');\n\nvar _color = require('./color');\n\n_commander.Command.prototype.error = function (err) {\n  if (err && err.message) err = err.message;\n\n  console.log('\\n' + (0, _color.red)(' ERROR ') + ' ' + err + '\\n\\n' + (0, _help2['default'])(this, '  ') + '\\n');\n\n  process.exit(64); // eslint-disable-line no-process-exit\n};\n\n_commander.Command.prototype.defaultHelp = function () {\n  console.log('\\n' + (0, _help2['default'])(this, '  ') + '\\n\\n');\n\n  process.exit(64); // eslint-disable-line no-process-exit\n};\n\n_commander.Command.prototype.unknownArgv = function (argv) {\n  if (argv) this.__unknownArgv = argv;\n  return this.__unknownArgv ? this.__unknownArgv.slice(0) : [];\n};\n\n/**\n * setup the command to accept arbitrary configuration via the cli\n * @return {[type]} [description]\n */\n_commander.Command.prototype.collectUnknownOptions = function () {\n  var title = 'Extra ' + this._name + ' options';\n\n  this.allowUnknownOption();\n  this.getUnknownOptions = function () {\n    var opts = {};\n    var unknowns = this.unknownArgv();\n\n    while (unknowns.length) {\n      var opt = unknowns.shift().split('=');\n      if (opt[0].slice(0, 2) !== '--') {\n        this.error(title + ' \"' + opt[0] + '\" must start with \"--\"');\n      }\n\n      if (opt.length === 1) {\n        if (!unknowns.length || unknowns[0][0] === '-') {\n          this.error(title + ' \"' + opt[0] + '\" must have a value');\n        }\n\n        opt.push(unknowns.shift());\n      }\n\n      var val = opt[1];\n      try {\n        val = JSON.parse(opt[1]);\n      } catch (e) {\n        val = opt[1];\n      }\n\n      _lodash2['default'].set(opts, opt[0].slice(2), val);\n    }\n\n    return opts;\n  };\n\n  return this;\n};\n\n_commander.Command.prototype.parseOptions = _lodash2['default'].wrap(_commander.Command.prototype.parseOptions, function (parse, argv) {\n  var opts = parse.call(this, argv);\n  this.unknownArgv(opts.unknown);\n  return opts;\n});\n\n_commander.Command.prototype.action = _lodash2['default'].wrap(_commander.Command.prototype.action, function (action, fn) {\n  return action.call(this, function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var ret = fn.apply(this, args);\n    if (ret && typeof ret.then === 'function') {\n      ret.then(null, function (e) {\n        console.log('FATAL CLI ERROR', e.stack);\n        process.exit(1);\n      });\n    }\n  });\n});\n\nmodule.exports = _commander.Command;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvY29tbWFuZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3NCQUFjLFFBQVE7Ozs7b0JBRUwsUUFBUTs7Ozt5QkFDRCxXQUFXOztxQkFDZixTQUFTOztBQUc3QixtQkFBUSxTQUFTLENBQUMsS0FBSyxHQUFHLFVBQVUsR0FBRyxFQUFFO0FBQ3ZDLE1BQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUM7O0FBRTFDLFNBQU8sQ0FBQyxHQUFHLFFBRVgsZ0JBQUksU0FBUyxDQUFDLFNBQUksR0FBRyxZQUVyQix1QkFBSyxJQUFJLEVBQUUsSUFBSSxDQUFDLFFBRWYsQ0FBQzs7QUFFRixTQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQ2xCLENBQUM7O0FBRUYsbUJBQVEsU0FBUyxDQUFDLFdBQVcsR0FBRyxZQUFZO0FBQzFDLFNBQU8sQ0FBQyxHQUFHLFFBRVgsdUJBQUssSUFBSSxFQUFFLElBQUksQ0FBQyxVQUdmLENBQUM7O0FBRUYsU0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUNsQixDQUFDOztBQUVGLG1CQUFRLFNBQVMsQ0FBQyxXQUFXLEdBQUcsVUFBVSxJQUFJLEVBQUU7QUFDOUMsTUFBSSxJQUFJLEVBQUUsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7QUFDcEMsU0FBTyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztDQUM5RCxDQUFDOzs7Ozs7QUFNRixtQkFBUSxTQUFTLENBQUMscUJBQXFCLEdBQUcsWUFBWTtBQUNwRCxNQUFNLEtBQUssY0FBWSxJQUFJLENBQUMsS0FBSyxhQUFVLENBQUM7O0FBRTVDLE1BQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO0FBQzFCLE1BQUksQ0FBQyxpQkFBaUIsR0FBRyxZQUFZO0FBQ25DLFFBQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUNoQixRQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7O0FBRXBDLFdBQU8sUUFBUSxDQUFDLE1BQU0sRUFBRTtBQUN0QixVQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3hDLFVBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFO0FBQy9CLFlBQUksQ0FBQyxLQUFLLENBQUksS0FBSyxVQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsNEJBQXlCLENBQUM7T0FDekQ7O0FBRUQsVUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUNwQixZQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO0FBQzlDLGNBQUksQ0FBQyxLQUFLLENBQUksS0FBSyxVQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMseUJBQXNCLENBQUM7U0FDdEQ7O0FBRUQsV0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztPQUM1Qjs7QUFFRCxVQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakIsVUFBSTtBQUFFLFdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQUUsQ0FDakMsT0FBTyxDQUFDLEVBQUU7QUFBRSxXQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQUU7O0FBRTNCLDBCQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztLQUNuQzs7QUFFRCxXQUFPLElBQUksQ0FBQztHQUNiLENBQUM7O0FBRUYsU0FBTyxJQUFJLENBQUM7Q0FDYixDQUFDOztBQUVGLG1CQUFRLFNBQVMsQ0FBQyxZQUFZLEdBQUcsb0JBQUUsSUFBSSxDQUFDLG1CQUFRLFNBQVMsQ0FBQyxZQUFZLEVBQUUsVUFBVSxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQzdGLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3BDLE1BQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLFNBQU8sSUFBSSxDQUFDO0NBQ2IsQ0FBQyxDQUFDOztBQUVILG1CQUFRLFNBQVMsQ0FBQyxNQUFNLEdBQUcsb0JBQUUsSUFBSSxDQUFDLG1CQUFRLFNBQVMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxNQUFNLEVBQUUsRUFBRSxFQUFFO0FBQ2hGLFNBQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsWUFBbUI7c0NBQU4sSUFBSTtBQUFKLFVBQUk7OztBQUN4QyxRQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNqQyxRQUFJLEdBQUcsSUFBSSxPQUFPLEdBQUcsQ0FBQyxJQUFJLEtBQUssVUFBVSxFQUFFO0FBQ3pDLFNBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxFQUFFO0FBQzFCLGVBQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3hDLGVBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7T0FDakIsQ0FBQyxDQUFDO0tBQ0o7R0FDRixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLE9BQU8scUJBQVUsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY2xpL2NvbW1hbmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgaGVscCBmcm9tICcuL2hlbHAnO1xuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJ2NvbW1hbmRlcic7XG5pbXBvcnQgeyByZWQgfSBmcm9tICcuL2NvbG9yJztcbmltcG9ydCB7IHllbGxvdyB9IGZyb20gJy4vY29sb3InO1xuXG5Db21tYW5kLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgaWYgKGVyciAmJiBlcnIubWVzc2FnZSkgZXJyID0gZXJyLm1lc3NhZ2U7XG5cbiAgY29uc29sZS5sb2coXG5gXG4ke3JlZCgnIEVSUk9SICcpfSAke2Vycn1cblxuJHtoZWxwKHRoaXMsICcgICcpfVxuYFxuICApO1xuXG4gIHByb2Nlc3MuZXhpdCg2NCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvY2Vzcy1leGl0XG59O1xuXG5Db21tYW5kLnByb3RvdHlwZS5kZWZhdWx0SGVscCA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc29sZS5sb2coXG5gXG4ke2hlbHAodGhpcywgJyAgJyl9XG5cbmBcbiAgKTtcblxuICBwcm9jZXNzLmV4aXQoNjQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb2Nlc3MtZXhpdFxufTtcblxuQ29tbWFuZC5wcm90b3R5cGUudW5rbm93bkFyZ3YgPSBmdW5jdGlvbiAoYXJndikge1xuICBpZiAoYXJndikgdGhpcy5fX3Vua25vd25Bcmd2ID0gYXJndjtcbiAgcmV0dXJuIHRoaXMuX191bmtub3duQXJndiA/IHRoaXMuX191bmtub3duQXJndi5zbGljZSgwKSA6IFtdO1xufTtcblxuLyoqXG4gKiBzZXR1cCB0aGUgY29tbWFuZCB0byBhY2NlcHQgYXJiaXRyYXJ5IGNvbmZpZ3VyYXRpb24gdmlhIHRoZSBjbGlcbiAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICovXG5Db21tYW5kLnByb3RvdHlwZS5jb2xsZWN0VW5rbm93bk9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHRpdGxlID0gYEV4dHJhICR7dGhpcy5fbmFtZX0gb3B0aW9uc2A7XG5cbiAgdGhpcy5hbGxvd1Vua25vd25PcHRpb24oKTtcbiAgdGhpcy5nZXRVbmtub3duT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBvcHRzID0ge307XG4gICAgY29uc3QgdW5rbm93bnMgPSB0aGlzLnVua25vd25Bcmd2KCk7XG5cbiAgICB3aGlsZSAodW5rbm93bnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBvcHQgPSB1bmtub3ducy5zaGlmdCgpLnNwbGl0KCc9Jyk7XG4gICAgICBpZiAob3B0WzBdLnNsaWNlKDAsIDIpICE9PSAnLS0nKSB7XG4gICAgICAgIHRoaXMuZXJyb3IoYCR7dGl0bGV9IFwiJHtvcHRbMF19XCIgbXVzdCBzdGFydCB3aXRoIFwiLS1cImApO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZiAoIXVua25vd25zLmxlbmd0aCB8fCB1bmtub3duc1swXVswXSA9PT0gJy0nKSB7XG4gICAgICAgICAgdGhpcy5lcnJvcihgJHt0aXRsZX0gXCIke29wdFswXX1cIiBtdXN0IGhhdmUgYSB2YWx1ZWApO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0LnB1c2godW5rbm93bnMuc2hpZnQoKSk7XG4gICAgICB9XG5cbiAgICAgIGxldCB2YWwgPSBvcHRbMV07XG4gICAgICB0cnkgeyB2YWwgPSBKU09OLnBhcnNlKG9wdFsxXSk7IH1cbiAgICAgIGNhdGNoIChlKSB7IHZhbCA9IG9wdFsxXTsgfVxuXG4gICAgICBfLnNldChvcHRzLCBvcHRbMF0uc2xpY2UoMiksIHZhbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdHM7XG4gIH07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5Db21tYW5kLnByb3RvdHlwZS5wYXJzZU9wdGlvbnMgPSBfLndyYXAoQ29tbWFuZC5wcm90b3R5cGUucGFyc2VPcHRpb25zLCBmdW5jdGlvbiAocGFyc2UsIGFyZ3YpIHtcbiAgY29uc3Qgb3B0cyA9IHBhcnNlLmNhbGwodGhpcywgYXJndik7XG4gIHRoaXMudW5rbm93bkFyZ3Yob3B0cy51bmtub3duKTtcbiAgcmV0dXJuIG9wdHM7XG59KTtcblxuQ29tbWFuZC5wcm90b3R5cGUuYWN0aW9uID0gXy53cmFwKENvbW1hbmQucHJvdG90eXBlLmFjdGlvbiwgZnVuY3Rpb24gKGFjdGlvbiwgZm4pIHtcbiAgcmV0dXJuIGFjdGlvbi5jYWxsKHRoaXMsIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgY29uc3QgcmV0ID0gZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgaWYgKHJldCAmJiB0eXBlb2YgcmV0LnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldC50aGVuKG51bGwsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGQVRBTMKgQ0xJIEVSUk9SJywgZS5zdGFjayk7XG4gICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb21tYW5kO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/command.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/cli/command.js",
      "sourcesContent": [
        "import _ from 'lodash';\n\nimport help from './help';\nimport { Command } from 'commander';\nimport { red } from './color';\nimport { yellow } from './color';\n\nCommand.prototype.error = function (err) {\n  if (err && err.message) err = err.message;\n\n  console.log(\n`\n${red(' ERROR ')} ${err}\n\n${help(this, '  ')}\n`\n  );\n\n  process.exit(64); // eslint-disable-line no-process-exit\n};\n\nCommand.prototype.defaultHelp = function () {\n  console.log(\n`\n${help(this, '  ')}\n\n`\n  );\n\n  process.exit(64); // eslint-disable-line no-process-exit\n};\n\nCommand.prototype.unknownArgv = function (argv) {\n  if (argv) this.__unknownArgv = argv;\n  return this.__unknownArgv ? this.__unknownArgv.slice(0) : [];\n};\n\n/**\n * setup the command to accept arbitrary configuration via the cli\n * @return {[type]} [description]\n */\nCommand.prototype.collectUnknownOptions = function () {\n  const title = `Extra ${this._name} options`;\n\n  this.allowUnknownOption();\n  this.getUnknownOptions = function () {\n    const opts = {};\n    const unknowns = this.unknownArgv();\n\n    while (unknowns.length) {\n      const opt = unknowns.shift().split('=');\n      if (opt[0].slice(0, 2) !== '--') {\n        this.error(`${title} \"${opt[0]}\" must start with \"--\"`);\n      }\n\n      if (opt.length === 1) {\n        if (!unknowns.length || unknowns[0][0] === '-') {\n          this.error(`${title} \"${opt[0]}\" must have a value`);\n        }\n\n        opt.push(unknowns.shift());\n      }\n\n      let val = opt[1];\n      try { val = JSON.parse(opt[1]); }\n      catch (e) { val = opt[1]; }\n\n      _.set(opts, opt[0].slice(2), val);\n    }\n\n    return opts;\n  };\n\n  return this;\n};\n\nCommand.prototype.parseOptions = _.wrap(Command.prototype.parseOptions, function (parse, argv) {\n  const opts = parse.call(this, argv);\n  this.unknownArgv(opts.unknown);\n  return opts;\n});\n\nCommand.prototype.action = _.wrap(Command.prototype.action, function (action, fn) {\n  return action.call(this, function (...args) {\n    const ret = fn.apply(this, args);\n    if (ret && typeof ret.then === 'function') {\n      ret.then(null, function (e) {\n        console.log('FATAL CLI ERROR', e.stack);\n        process.exit(1);\n      });\n    }\n  });\n});\n\nmodule.exports = Command;\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/help.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nmodule.exports = function (command, spaces) {\n  if (!_lodash2['default'].size(command.commands)) {\n    return command.outputHelp();\n  }\n\n  var defCmd = _lodash2['default'].find(command.commands, function (cmd) {\n    return cmd._name === 'serve';\n  });\n\n  var desc = !command.description() ? '' : command.description();\n  var cmdDef = !defCmd ? '' : '=' + defCmd._name;\n\n  return ('\\nUsage: ' + command._name + ' [command' + cmdDef + '] [options]\\n\\n' + desc + '\\n\\nCommands:\\n' + indent(commandsSummary(command), 2) + '\\n\\n' + cmdHelp(defCmd) + '\\n').trim().replace(/^/gm, spaces || '');\n};\n\nfunction indent(str, n) {\n  return String(str || '').trim().replace(/^/gm, _lodash2['default'].repeat(' ', n));\n}\n\nfunction commandsSummary(program) {\n  var cmds = _lodash2['default'].compact(program.commands.map(function (cmd) {\n    var name = cmd._name;\n    if (name === '*') return;\n    var opts = cmd.options.length ? ' [options]' : '';\n    var args = cmd._args.map(function (arg) {\n      return humanReadableArgName(arg);\n    }).join(' ');\n\n    return [name + ' ' + opts + ' ' + args, cmd.description()];\n  }));\n\n  var cmdLColWidth = cmds.reduce(function (width, cmd) {\n    return Math.max(width, cmd[0].length);\n  }, 0);\n\n  return cmds.reduce(function (help, cmd) {\n    return '' + (help || '') + _lodash2['default'].padRight(cmd[0], cmdLColWidth) + ' ' + (cmd[1] || '') + '\\n';\n  }, '');\n}\n\nfunction cmdHelp(cmd) {\n  if (!cmd) return '';\n  return ('\\n\"' + cmd._name + '\" Options:\\n\\n' + indent(cmd.optionHelp(), 2) + '\\n').trim();\n}\n\nfunction humanReadableArgName(arg) {\n  var nameOutput = arg.name + (arg.variadic === true ? '...' : '');\n  return arg.required ? '<' + nameOutput + '>' : '[' + nameOutput + ']';\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvaGVscC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3NCQUFjLFFBQVE7Ozs7QUFFdEIsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFDMUMsTUFBSSxDQUFDLG9CQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUU7QUFDN0IsV0FBTyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUM7R0FDN0I7O0FBRUQsTUFBTSxNQUFNLEdBQUcsb0JBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsVUFBVSxHQUFHLEVBQUU7QUFDckQsV0FBTyxHQUFHLENBQUMsS0FBSyxLQUFLLE9BQU8sQ0FBQztHQUM5QixDQUFDLENBQUM7O0FBRUgsTUFBTSxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLEdBQUcsRUFBRSxHQUFHLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUNqRSxNQUFNLE1BQU0sR0FBRyxDQUFDLE1BQU0sR0FBRyxFQUFFLFNBQU8sTUFBTSxDQUFDLEtBQUssQUFBRSxDQUFDOztBQUVqRCxTQUFPLGVBRUEsT0FBTyxDQUFDLEtBQUssaUJBQVksTUFBTSx1QkFFdEMsSUFBSSx1QkFHSixNQUFNLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxZQUVuQyxPQUFPLENBQUMsTUFBTSxDQUFDLFNBRWIsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxNQUFNLElBQUksRUFBRSxDQUFDLENBQUM7Q0FDdkMsQ0FBQzs7QUFFRixTQUFTLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFO0FBQ3RCLFNBQU8sTUFBTSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLG9CQUFFLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNsRTs7QUFFRCxTQUFTLGVBQWUsQ0FBQyxPQUFPLEVBQUU7QUFDaEMsTUFBTSxJQUFJLEdBQUcsb0JBQUUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFVBQVUsR0FBRyxFQUFFO0FBQ3pELFFBQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7QUFDdkIsUUFBSSxJQUFJLEtBQUssR0FBRyxFQUFFLE9BQU87QUFDekIsUUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsWUFBWSxHQUFHLEVBQUUsQ0FBQztBQUNwRCxRQUFNLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsRUFBRTtBQUN4QyxhQUFPLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2xDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7O0FBRWIsV0FBTyxDQUNGLElBQUksU0FBSSxJQUFJLFNBQUksSUFBSSxFQUN2QixHQUFHLENBQUMsV0FBVyxFQUFFLENBQ2xCLENBQUM7R0FDSCxDQUFDLENBQUMsQ0FBQzs7QUFFSixNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsS0FBSyxFQUFFLEdBQUcsRUFBRTtBQUNyRCxXQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztHQUN2QyxFQUFFLENBQUMsQ0FBQyxDQUFDOztBQUVOLFNBQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLElBQUksRUFBRSxHQUFHLEVBQUU7QUFDdEMsaUJBQVUsSUFBSSxJQUFJLEVBQUUsQ0FBQSxHQUFHLG9CQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsWUFBWSxDQUFDLFVBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQSxRQUFLO0dBQzdFLEVBQUUsRUFBRSxDQUFDLENBQUM7Q0FDUjs7QUFFRCxTQUFTLE9BQU8sQ0FBQyxHQUFHLEVBQUU7QUFDcEIsTUFBSSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsQ0FBQztBQUNwQixTQUFPLFNBR04sR0FBRyxDQUFDLEtBQUssc0JBRVYsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUMsU0FHekIsSUFBSSxFQUFFLENBQUM7Q0FFVjs7QUFFRCxTQUFTLG9CQUFvQixDQUFDLEdBQUcsRUFBRTtBQUNqQyxNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxRQUFRLEtBQUssSUFBSSxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUEsQUFBQyxDQUFDO0FBQ25FLFNBQU8sR0FBRyxDQUFDLFFBQVEsR0FBRyxHQUFHLEdBQUcsVUFBVSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsVUFBVSxHQUFHLEdBQUcsQ0FBQztDQUN2RSIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY2xpL2hlbHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb21tYW5kLCBzcGFjZXMpIHtcbiAgaWYgKCFfLnNpemUoY29tbWFuZC5jb21tYW5kcykpIHtcbiAgICByZXR1cm4gY29tbWFuZC5vdXRwdXRIZWxwKCk7XG4gIH1cblxuICBjb25zdCBkZWZDbWQgPSBfLmZpbmQoY29tbWFuZC5jb21tYW5kcywgZnVuY3Rpb24gKGNtZCkge1xuICAgIHJldHVybiBjbWQuX25hbWUgPT09ICdzZXJ2ZSc7XG4gIH0pO1xuXG4gIGNvbnN0IGRlc2MgPSAhY29tbWFuZC5kZXNjcmlwdGlvbigpID8gJycgOiBjb21tYW5kLmRlc2NyaXB0aW9uKCk7XG4gIGNvbnN0IGNtZERlZiA9ICFkZWZDbWQgPyAnJyA6IGA9JHtkZWZDbWQuX25hbWV9YDtcblxuICByZXR1cm4gKFxuYFxuVXNhZ2U6ICR7Y29tbWFuZC5fbmFtZX0gW2NvbW1hbmQke2NtZERlZn1dIFtvcHRpb25zXVxuXG4ke2Rlc2N9XG5cbkNvbW1hbmRzOlxuJHtpbmRlbnQoY29tbWFuZHNTdW1tYXJ5KGNvbW1hbmQpLCAyKX1cblxuJHtjbWRIZWxwKGRlZkNtZCl9XG5gXG4gICkudHJpbSgpLnJlcGxhY2UoL14vZ20sIHNwYWNlcyB8fCAnJyk7XG59O1xuXG5mdW5jdGlvbiBpbmRlbnQoc3RyLCBuKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyIHx8ICcnKS50cmltKCkucmVwbGFjZSgvXi9nbSwgXy5yZXBlYXQoJyAnLCBuKSk7XG59XG5cbmZ1bmN0aW9uIGNvbW1hbmRzU3VtbWFyeShwcm9ncmFtKSB7XG4gIGNvbnN0IGNtZHMgPSBfLmNvbXBhY3QocHJvZ3JhbS5jb21tYW5kcy5tYXAoZnVuY3Rpb24gKGNtZCkge1xuICAgIGNvbnN0IG5hbWUgPSBjbWQuX25hbWU7XG4gICAgaWYgKG5hbWUgPT09ICcqJykgcmV0dXJuO1xuICAgIGNvbnN0IG9wdHMgPSBjbWQub3B0aW9ucy5sZW5ndGggPyAnIFtvcHRpb25zXScgOiAnJztcbiAgICBjb25zdCBhcmdzID0gY21kLl9hcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gaHVtYW5SZWFkYWJsZUFyZ05hbWUoYXJnKTtcbiAgICB9KS5qb2luKCcgJyk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgYCR7bmFtZX0gJHtvcHRzfSAke2FyZ3N9YCxcbiAgICAgIGNtZC5kZXNjcmlwdGlvbigpXG4gICAgXTtcbiAgfSkpO1xuXG4gIGNvbnN0IGNtZExDb2xXaWR0aCA9IGNtZHMucmVkdWNlKGZ1bmN0aW9uICh3aWR0aCwgY21kKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KHdpZHRoLCBjbWRbMF0ubGVuZ3RoKTtcbiAgfSwgMCk7XG5cbiAgcmV0dXJuIGNtZHMucmVkdWNlKGZ1bmN0aW9uIChoZWxwLCBjbWQpIHtcbiAgICByZXR1cm4gYCR7aGVscCB8fCAnJ30ke18ucGFkUmlnaHQoY21kWzBdLCBjbWRMQ29sV2lkdGgpfSAke2NtZFsxXSB8fCAnJ31cXG5gO1xuICB9LCAnJyk7XG59XG5cbmZ1bmN0aW9uIGNtZEhlbHAoY21kKSB7XG4gIGlmICghY21kKSByZXR1cm4gJyc7XG4gIHJldHVybiAoXG5cbmBcblwiJHtjbWQuX25hbWV9XCIgT3B0aW9uczpcblxuJHtpbmRlbnQoY21kLm9wdGlvbkhlbHAoKSwgMil9XG5gXG5cbiAgKS50cmltKCk7XG5cbn1cblxuZnVuY3Rpb24gaHVtYW5SZWFkYWJsZUFyZ05hbWUoYXJnKSB7XG4gIGNvbnN0IG5hbWVPdXRwdXQgPSBhcmcubmFtZSArIChhcmcudmFyaWFkaWMgPT09IHRydWUgPyAnLi4uJyA6ICcnKTtcbiAgcmV0dXJuIGFyZy5yZXF1aXJlZCA/ICc8JyArIG5hbWVPdXRwdXQgKyAnPicgOiAnWycgKyBuYW1lT3V0cHV0ICsgJ10nO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/help.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/cli/help.js",
      "sourcesContent": [
        "import _ from 'lodash';\n\nmodule.exports = function (command, spaces) {\n  if (!_.size(command.commands)) {\n    return command.outputHelp();\n  }\n\n  const defCmd = _.find(command.commands, function (cmd) {\n    return cmd._name === 'serve';\n  });\n\n  const desc = !command.description() ? '' : command.description();\n  const cmdDef = !defCmd ? '' : `=${defCmd._name}`;\n\n  return (\n`\nUsage: ${command._name} [command${cmdDef}] [options]\n\n${desc}\n\nCommands:\n${indent(commandsSummary(command), 2)}\n\n${cmdHelp(defCmd)}\n`\n  ).trim().replace(/^/gm, spaces || '');\n};\n\nfunction indent(str, n) {\n  return String(str || '').trim().replace(/^/gm, _.repeat(' ', n));\n}\n\nfunction commandsSummary(program) {\n  const cmds = _.compact(program.commands.map(function (cmd) {\n    const name = cmd._name;\n    if (name === '*') return;\n    const opts = cmd.options.length ? ' [options]' : '';\n    const args = cmd._args.map(function (arg) {\n      return humanReadableArgName(arg);\n    }).join(' ');\n\n    return [\n      `${name} ${opts} ${args}`,\n      cmd.description()\n    ];\n  }));\n\n  const cmdLColWidth = cmds.reduce(function (width, cmd) {\n    return Math.max(width, cmd[0].length);\n  }, 0);\n\n  return cmds.reduce(function (help, cmd) {\n    return `${help || ''}${_.padRight(cmd[0], cmdLColWidth)} ${cmd[1] || ''}\\n`;\n  }, '');\n}\n\nfunction cmdHelp(cmd) {\n  if (!cmd) return '';\n  return (\n\n`\n\"${cmd._name}\" Options:\n\n${indent(cmd.optionHelp(), 2)}\n`\n\n  ).trim();\n\n}\n\nfunction humanReadableArgName(arg) {\n  const nameOutput = arg.name + (arg.variadic === true ? '...' : '');\n  return arg.required ? '<' + nameOutput + '>' : '[' + nameOutput + ']';\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/color.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "ansicolors",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ansicolors"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _ansicolors = require('ansicolors');\n\nvar _ansicolors2 = _interopRequireDefault(_ansicolors);\n\nexports.green = _lodash2['default'].flow(_ansicolors2['default'].black, _ansicolors2['default'].bgGreen);\nexports.red = _lodash2['default'].flow(_ansicolors2['default'].white, _ansicolors2['default'].bgRed);\nexports.yellow = _lodash2['default'].flow(_ansicolors2['default'].black, _ansicolors2['default'].bgYellow);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvY29sb3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztzQkFDYyxRQUFROzs7OzBCQUNDLFlBQVk7Ozs7QUFFbkMsT0FBTyxDQUFDLEtBQUssR0FBRyxvQkFBRSxJQUFJLENBQUMsd0JBQVcsS0FBSyxFQUFFLHdCQUFXLE9BQU8sQ0FBQyxDQUFDO0FBQzdELE9BQU8sQ0FBQyxHQUFHLEdBQUcsb0JBQUUsSUFBSSxDQUFDLHdCQUFXLEtBQUssRUFBRSx3QkFBVyxLQUFLLENBQUMsQ0FBQztBQUN6RCxPQUFPLENBQUMsTUFBTSxHQUFHLG9CQUFFLElBQUksQ0FBQyx3QkFBVyxLQUFLLEVBQUUsd0JBQVcsUUFBUSxDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NsaS9jb2xvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBhbnNpY29sb3JzIGZyb20gJ2Fuc2ljb2xvcnMnO1xuXG5leHBvcnRzLmdyZWVuID0gXy5mbG93KGFuc2ljb2xvcnMuYmxhY2ssIGFuc2ljb2xvcnMuYmdHcmVlbik7XG5leHBvcnRzLnJlZCA9IF8uZmxvdyhhbnNpY29sb3JzLndoaXRlLCBhbnNpY29sb3JzLmJnUmVkKTtcbmV4cG9ydHMueWVsbG93ID0gXy5mbG93KGFuc2ljb2xvcnMuYmxhY2ssIGFuc2ljb2xvcnMuYmdZZWxsb3cpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/color.js"
      ],
      "names": [],
      "mappings": ";;;;sBACc,QAAQ;;;;0BACC,YAAY;;;;AAEnC,OAAO,CAAC,KAAK,GAAG,oBAAE,IAAI,CAAC,wBAAW,KAAK,EAAE,wBAAW,OAAO,CAAC,CAAC;AAC7D,OAAO,CAAC,GAAG,GAAG,oBAAE,IAAI,CAAC,wBAAW,KAAK,EAAE,wBAAW,KAAK,CAAC,CAAC;AACzD,OAAO,CAAC,MAAM,GAAG,oBAAE,IAAI,CAAC,wBAAW,KAAK,EAAE,wBAAW,QAAQ,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/cli/color.js",
      "sourcesContent": [
        "\nimport _ from 'lodash';\nimport ansicolors from 'ansicolors';\n\nexports.green = _.flow(ansicolors.black, ansicolors.bgGreen);\nexports.red = _.flow(ansicolors.white, ansicolors.bgRed);\nexports.yellow = _.flow(ansicolors.black, ansicolors.bgYellow);\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/serve/serve.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "statSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "statSync",
                "local": "statSync"
              }
            ]
          },
          {
            "source": "cluster",
            "imported": [
              "isWorker"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "isWorker",
                "local": "isWorker"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "fromRoot"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromRoot",
                "local": "fromRoot"
              }
            ]
          },
          {
            "source": "../../server/path",
            "imported": [
              "getConfig"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "getConfig",
                "local": "getConfig"
              }
            ]
          },
          {
            "source": "./read_yaml_config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "readYamlConfig"
              }
            ]
          },
          {
            "source": "../dev_ssl",
            "imported": [
              "DEV_SSL_CERT_PATH",
              "DEV_SSL_KEY_PATH"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "DEV_SSL_CERT_PATH",
                "local": "DEV_SSL_CERT_PATH"
              },
              {
                "kind": "named",
                "imported": "DEV_SSL_KEY_PATH",
                "local": "DEV_SSL_KEY_PATH"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _fs = require('fs');\n\nvar _cluster = require('cluster');\n\nvar _path = require('path');\n\nvar _utils = require('../../utils');\n\nvar _serverPath = require('../../server/path');\n\nvar _read_yaml_config = require('./read_yaml_config');\n\nvar _read_yaml_config2 = _interopRequireDefault(_read_yaml_config);\n\nvar _dev_ssl = require('../dev_ssl');\n\nvar canCluster = undefined;\ntry {\n  require.resolve('../cluster/cluster_manager');\n  canCluster = true;\n} catch (e) {\n  canCluster = false;\n}\n\nvar pathCollector = function pathCollector() {\n  var paths = [];\n  return function (path) {\n    paths.push((0, _path.resolve)(process.cwd(), path));\n    return paths;\n  };\n};\n\nvar configPathCollector = pathCollector();\nvar pluginDirCollector = pathCollector();\nvar pluginPathCollector = pathCollector();\n\nfunction readServerSettings(opts, extraCliOptions) {\n  var settings = (0, _read_yaml_config2['default'])(opts.config);\n  var set = _lodash2['default'].partial(_lodash2['default'].set, settings);\n  var get = _lodash2['default'].partial(_lodash2['default'].get, settings);\n  var has = _lodash2['default'].partial(_lodash2['default'].has, settings);\n  var merge = _lodash2['default'].partial(_lodash2['default'].merge, settings);\n\n  if (opts.dev) {\n    set('env', 'development');\n    set('optimize.lazy', true);\n\n    if (opts.ssl) {\n      set('server.ssl.enabled', true);\n    }\n\n    if (opts.ssl && !has('server.ssl.certificate') && !has('server.ssl.key')) {\n      set('server.ssl.certificate', _dev_ssl.DEV_SSL_CERT_PATH);\n      set('server.ssl.key', _dev_ssl.DEV_SSL_KEY_PATH);\n    }\n  }\n\n  if (opts.elasticsearch) set('elasticsearch.url', opts.elasticsearch);\n  if (opts.port) set('server.port', opts.port);\n  if (opts.host) set('server.host', opts.host);\n  if (opts.quiet) set('logging.quiet', true);\n  if (opts.silent) set('logging.silent', true);\n  if (opts.verbose) set('logging.verbose', true);\n  if (opts.logFile) set('logging.dest', opts.logFile);\n\n  set('plugins.scanDirs', _lodash2['default'].compact([].concat(get('plugins.scanDirs'), opts.pluginDir)));\n\n  set('plugins.paths', _lodash2['default'].compact([].concat(get('plugins.paths'), opts.pluginPath)));\n\n  merge(extraCliOptions);\n\n  return settings;\n}\n\nmodule.exports = function (program) {\n  var command = program.command('serve');\n\n  command.description('Run the kibana server').collectUnknownOptions().option('-e, --elasticsearch <uri>', 'Elasticsearch instance').option('-c, --config <path>', 'Path to the config file, can be changed with the CONFIG_PATH environment variable as well. ' + 'Use multiple --config args to include multiple config files.', configPathCollector, [(0, _serverPath.getConfig)()]).option('-p, --port <port>', 'The port to bind to', parseInt).option('-q, --quiet', 'Prevent all logging except errors').option('-Q, --silent', 'Prevent all logging').option('--verbose', 'Turns on verbose logging').option('-H, --host <host>', 'The host to bind to').option('-l, --log-file <path>', 'The file to log to').option('--plugin-dir <path>', 'A path to scan for plugins, this can be specified multiple ' + 'times to specify multiple directories', pluginDirCollector, [(0, _utils.fromRoot)('plugins'), (0, _utils.fromRoot)('src/core_plugins')]).option('--plugin-path <path>', 'A path to a plugin which should be included by the server, ' + 'this can be specified multiple times to specify multiple paths', pluginPathCollector, []).option('--plugins <path>', 'an alias for --plugin-dir', pluginDirCollector);\n\n  if (canCluster) {\n    command.option('--dev', 'Run the server with development mode defaults').option('--no-ssl', 'Don\\'t run the dev server using HTTPS').option('--no-base-path', 'Don\\'t put a proxy in front of the dev server, which adds a random basePath').option('--no-watch', 'Prevents automatic restarts of the server in --dev mode');\n  }\n\n  command.action(_asyncToGenerator(function* (opts) {\n    var _this = this;\n\n    if (opts.dev) {\n      try {\n        var kbnDevConfig = (0, _utils.fromRoot)('config/kibana.dev.yml');\n        if ((0, _fs.statSync)(kbnDevConfig).isFile()) {\n          opts.config.push(kbnDevConfig);\n        }\n      } catch (err) {\n        // ignore, kibana.dev.yml does not exist\n      }\n    }\n\n    var getCurrentSettings = function getCurrentSettings() {\n      return readServerSettings(opts, _this.getUnknownOptions());\n    };\n    var settings = getCurrentSettings();\n\n    if (canCluster && opts.dev && !_cluster.isWorker) {\n      // stop processing the action and handoff to cluster manager\n      var ClusterManager = require('../cluster/cluster_manager');\n      new ClusterManager(opts, settings);\n      return;\n    }\n\n    var kbnServer = {};\n    var KbnServer = require('../../server/kbn_server');\n    try {\n      kbnServer = new KbnServer(settings);\n      yield kbnServer.ready();\n    } catch (err) {\n      var _kbnServer = kbnServer;\n      var server = _kbnServer.server;\n\n      if (err.code === 'EADDRINUSE') {\n        logFatal('Port ' + err.port + ' is already in use. Another instance of Kibana may be running!', server);\n      } else {\n        logFatal(err, server);\n      }\n\n      kbnServer.close();\n      process.exit(1); // eslint-disable-line no-process-exit\n    }\n\n    process.on('SIGHUP', function reloadConfig() {\n      var settings = getCurrentSettings();\n      kbnServer.server.log(['info', 'config'], 'Reloading logging configuration due to SIGHUP.');\n      kbnServer.applyLoggingConfiguration(settings);\n      kbnServer.server.log(['info', 'config'], 'Reloaded logging configuration due to SIGHUP.');\n    });\n\n    return kbnServer;\n  }));\n};\n\nfunction logFatal(message, server) {\n  if (server) {\n    server.log(['fatal'], message);\n  }\n  console.error('FATAL', message);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvc2VydmUvc2VydmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O3NCQUFjLFFBQVE7Ozs7a0JBQ0csSUFBSTs7dUJBQ0osU0FBUzs7b0JBQ1YsTUFBTTs7cUJBQ0wsYUFBYTs7MEJBQ1osbUJBQW1COztnQ0FDbEIsb0JBQW9COzs7O3VCQUVLLFlBQVk7O0FBRWhFLElBQUksVUFBVSxZQUFBLENBQUM7QUFDZixJQUFJO0FBQ0YsU0FBTyxDQUFDLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0FBQzlDLFlBQVUsR0FBRyxJQUFJLENBQUM7Q0FDbkIsQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUNWLFlBQVUsR0FBRyxLQUFLLENBQUM7Q0FDcEI7O0FBRUQsSUFBTSxhQUFhLEdBQUcsU0FBaEIsYUFBYSxHQUFlO0FBQ2hDLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNqQixTQUFPLFVBQVUsSUFBSSxFQUFFO0FBQ3JCLFNBQUssQ0FBQyxJQUFJLENBQUMsbUJBQVEsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDekMsV0FBTyxLQUFLLENBQUM7R0FDZCxDQUFDO0NBQ0gsQ0FBQzs7QUFFRixJQUFNLG1CQUFtQixHQUFHLGFBQWEsRUFBRSxDQUFDO0FBQzVDLElBQU0sa0JBQWtCLEdBQUcsYUFBYSxFQUFFLENBQUM7QUFDM0MsSUFBTSxtQkFBbUIsR0FBRyxhQUFhLEVBQUUsQ0FBQzs7QUFFNUMsU0FBUyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsZUFBZSxFQUFFO0FBQ2pELE1BQU0sUUFBUSxHQUFHLG1DQUFlLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM3QyxNQUFNLEdBQUcsR0FBRyxvQkFBRSxPQUFPLENBQUMsb0JBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZDLE1BQU0sR0FBRyxHQUFHLG9CQUFFLE9BQU8sQ0FBQyxv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QUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxFQUFFLCtDQUErQyxDQUFDLENBQUM7S0FDM0YsQ0FBQyxDQUFDOztBQUVILFdBQU8sU0FBUyxDQUFDO0dBQ2xCLEVBQUMsQ0FBQztDQUNKLENBQUM7O0FBRUYsU0FBUyxRQUFRLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRTtBQUNqQyxNQUFJLE1BQU0sRUFBRTtBQUNWLFVBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztHQUNoQztBQUNELFNBQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0NBQ2pDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvc2VydmUvc2VydmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgc3RhdFN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBpc1dvcmtlciB9IGZyb20gJ2NsdXN0ZXInO1xuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgZnJvbVJvb3QgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBnZXRDb25maWcgfSBmcm9tICcuLi8uLi9zZXJ2ZXIvcGF0aCc7XG5pbXBvcnQgcmVhZFlhbWxDb25maWcgZnJvbSAnLi9yZWFkX3lhbWxfY29uZmlnJztcblxuaW1wb3J0IHsgREVWX1NTTF9DRVJUX1BBVEgsIERFVl9TU0xfS0VZX1BBVEggfSBmcm9tICcuLi9kZXZfc3NsJztcblxubGV0IGNhbkNsdXN0ZXI7XG50cnkge1xuICByZXF1aXJlLnJlc29sdmUoJy4uL2NsdXN0ZXIvY2x1c3Rlcl9tYW5hZ2VyJyk7XG4gIGNhbkNsdXN0ZXIgPSB0cnVlO1xufSBjYXRjaCAoZSkge1xuICBjYW5DbHVzdGVyID0gZmFsc2U7XG59XG5cbmNvbnN0IHBhdGhDb2xsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHBhdGhzID0gW107XG4gIHJldHVybiBmdW5jdGlvbiAocGF0aCkge1xuICAgIHBhdGhzLnB1c2gocmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCBwYXRoKSk7XG4gICAgcmV0dXJuIHBhdGhzO1xuICB9O1xufTtcblxuY29uc3QgY29uZmlnUGF0aENvbGxlY3RvciA9IHBhdGhDb2xsZWN0b3IoKTtcbmNvbnN0IHBsdWdpbkRpckNvbGxlY3RvciA9IHBhdGhDb2xsZWN0b3IoKTtcbmNvbnN0IHBsdWdpblBhdGhDb2xsZWN0b3IgPSBwYXRoQ29sbGVjdG9yKCk7XG5cbmZ1bmN0aW9uIHJlYWRTZXJ2ZXJTZXR0aW5ncyhvcHRzLCBleHRyYUNsaU9wdGlvbnMpIHtcbiAgY29uc3Qgc2V0dGluZ3MgPSByZWFkWWFtbENvbmZpZyhvcHRzLmNvbmZpZyk7XG4gIGNvbnN0IHNldCA9IF8ucGFydGlhbChfLnNldCwgc2V0dGluZ3MpO1xuICBjb25zdCBnZXQgPSBfLnBhcnRpYWwoXy5nZXQsIHNldHRpbmdzKTtcbiAgY29uc3QgaGFzID0gXy5wYXJ0aWFsKF8uaGFzLCBzZXR0aW5ncyk7XG4gIGNvbnN0IG1lcmdlID0gXy5wYXJ0aWFsKF8ubWVyZ2UsIHNldHRpbmdzKTtcblxuICBpZiAob3B0cy5kZXYpIHtcbiAgICBzZXQoJ2VudicsICdkZXZlbG9wbWVudCcpO1xuICAgIHNldCgnb3B0aW1pemUubGF6eScsIHRydWUpO1xuXG4gICAgaWYgKG9wdHMuc3NsKSB7XG4gICAgICBzZXQoJ3NlcnZlci5zc2wuZW5hYmxlZCcsIHRydWUpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnNzbCAmJiAhaGFzKCdzZXJ2ZXIuc3NsLmNlcnRpZmljYXRlJykgJiYgIWhhcygnc2VydmVyLnNzbC5rZXknKSkge1xuICAgICAgc2V0KCdzZXJ2ZXIuc3NsLmNlcnRpZmljYXRlJywgREVWX1NTTF9DRVJUX1BBVEgpO1xuICAgICAgc2V0KCdzZXJ2ZXIuc3NsLmtleScsIERFVl9TU0xfS0VZX1BBVEgpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvcHRzLmVsYXN0aWNzZWFyY2gpIHNldCgnZWxhc3RpY3NlYXJjaC51cmwnLCBvcHRzLmVsYXN0aWNzZWFyY2gpO1xuICBpZiAob3B0cy5wb3J0KSBzZXQoJ3NlcnZlci5wb3J0Jywgb3B0cy5wb3J0KTtcbiAgaWYgKG9wdHMuaG9zdCkgc2V0KCdzZXJ2ZXIuaG9zdCcsIG9wdHMuaG9zdCk7XG4gIGlmIChvcHRzLnF1aWV0KSBzZXQoJ2xvZ2dpbmcucXVpZXQnLCB0cnVlKTtcbiAgaWYgKG9wdHMuc2lsZW50KSBzZXQoJ2xvZ2dpbmcuc2lsZW50JywgdHJ1ZSk7XG4gIGlmIChvcHRzLnZlcmJvc2UpIHNldCgnbG9nZ2luZy52ZXJib3NlJywgdHJ1ZSk7XG4gIGlmIChvcHRzLmxvZ0ZpbGUpIHNldCgnbG9nZ2luZy5kZXN0Jywgb3B0cy5sb2dGaWxlKTtcblxuICBzZXQoJ3BsdWdpbnMuc2NhbkRpcnMnLCBfLmNvbXBhY3QoW10uY29uY2F0KFxuICAgIGdldCgncGx1Z2lucy5zY2FuRGlycycpLFxuICAgIG9wdHMucGx1Z2luRGlyXG4gICkpKTtcblxuICBzZXQoJ3BsdWdpbnMucGF0aHMnLCBfLmNvbXBhY3QoW10uY29uY2F0KFxuICAgIGdldCgncGx1Z2lucy5wYXRocycpLFxuICAgIG9wdHMucGx1Z2luUGF0aFxuICApKSk7XG5cbiAgbWVyZ2UoZXh0cmFDbGlPcHRpb25zKTtcblxuICByZXR1cm4gc2V0dGluZ3M7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHByb2dyYW0pIHtcbiAgY29uc3QgY29tbWFuZCA9IHByb2dyYW0uY29tbWFuZCgnc2VydmUnKTtcblxuICBjb21tYW5kXG4gIC5kZXNjcmlwdGlvbignUnVuIHRoZSBraWJhbmEgc2VydmVyJylcbiAgLmNvbGxlY3RVbmtub3duT3B0aW9ucygpXG4gIC5vcHRpb24oJy1lLCAtLWVsYXN0aWNzZWFyY2ggPHVyaT4nLCAnRWxhc3RpY3NlYXJjaCBpbnN0YW5jZScpXG4gIC5vcHRpb24oXG4gICAgJy1jLCAtLWNvbmZpZyA8cGF0aD4nLFxuICAgICdQYXRoIHRvIHRoZSBjb25maWcgZmlsZSwgY2FuIGJlIGNoYW5nZWQgd2l0aCB0aGUgQ09ORklHX1BBVEggZW52aXJvbm1lbnQgdmFyaWFibGUgYXMgd2VsbC4gJyArXG4gICAgJ1VzZSBtdWx0aXBsZSAtLWNvbmZpZyBhcmdzIHRvIGluY2x1ZGUgbXVsdGlwbGUgY29uZmlnIGZpbGVzLicsXG4gICAgY29uZmlnUGF0aENvbGxlY3RvcixcbiAgICBbIGdldENvbmZpZygpIF1cbiAgKVxuICAub3B0aW9uKCctcCwgLS1wb3J0IDxwb3J0PicsICdUaGUgcG9ydCB0byBiaW5kIHRvJywgcGFyc2VJbnQpXG4gIC5vcHRpb24oJy1xLCAtLXF1aWV0JywgJ1ByZXZlbnQgYWxsIGxvZ2dpbmcgZXhjZXB0IGVycm9ycycpXG4gIC5vcHRpb24oJy1RLCAtLXNpbGVudCcsICdQcmV2ZW50IGFsbCBsb2dnaW5nJylcbiAgLm9wdGlvbignLS12ZXJib3NlJywgJ1R1cm5zIG9uIHZlcmJvc2UgbG9nZ2luZycpXG4gIC5vcHRpb24oJy1ILCAtLWhvc3QgPGhvc3Q+JywgJ1RoZSBob3N0IHRvIGJpbmQgdG8nKVxuICAub3B0aW9uKCctbCwgLS1sb2ctZmlsZSA8cGF0aD4nLCAnVGhlIGZpbGUgdG8gbG9nIHRvJylcbiAgLm9wdGlvbihcbiAgICAnLS1wbHVnaW4tZGlyIDxwYXRoPicsXG4gICAgJ0EgcGF0aCB0byBzY2FuIGZvciBwbHVnaW5zLCB0aGlzIGNhbiBiZSBzcGVjaWZpZWQgbXVsdGlwbGUgJyArXG4gICAgJ3RpbWVzIHRvIHNwZWNpZnkgbXVsdGlwbGUgZGlyZWN0b3JpZXMnLFxuICAgIHBsdWdpbkRpckNvbGxlY3RvcixcbiAgICBbXG4gICAgICBmcm9tUm9vdCgncGx1Z2lucycpLFxuICAgICAgZnJvbVJvb3QoJ3NyYy9jb3JlX3BsdWdpbnMnKVxuICAgIF1cbiAgKVxuICAub3B0aW9uKFxuICAgICctLXBsdWdpbi1wYXRoIDxwYXRoPicsXG4gICAgJ0EgcGF0aCB0byBhIHBsdWdpbiB3aGljaCBzaG91bGQgYmUgaW5jbHVkZWQgYnkgdGhlIHNlcnZlciwgJyArXG4gICAgJ3RoaXMgY2FuIGJlIHNwZWNpZmllZCBtdWx0aXBsZSB0aW1lcyB0byBzcGVjaWZ5IG11bHRpcGxlIHBhdGhzJyxcbiAgICBwbHVnaW5QYXRoQ29sbGVjdG9yLFxuICAgIFtdXG4gIClcbiAgLm9wdGlvbignLS1wbHVnaW5zIDxwYXRoPicsICdhbiBhbGlhcyBmb3IgLS1wbHVnaW4tZGlyJywgcGx1Z2luRGlyQ29sbGVjdG9yKTtcblxuICBpZiAoY2FuQ2x1c3Rlcikge1xuICAgIGNvbW1hbmRcbiAgICAub3B0aW9uKCctLWRldicsICdSdW4gdGhlIHNlcnZlciB3aXRoIGRldmVsb3BtZW50IG1vZGUgZGVmYXVsdHMnKVxuICAgIC5vcHRpb24oJy0tbm8tc3NsJywgJ0RvblxcJ3QgcnVuIHRoZSBkZXYgc2VydmVyIHVzaW5nIEhUVFBTJylcbiAgICAub3B0aW9uKCctLW5vLWJhc2UtcGF0aCcsICdEb25cXCd0IHB1dCBhIHByb3h5IGluIGZyb250IG9mIHRoZSBkZXYgc2VydmVyLCB3aGljaCBhZGRzIGEgcmFuZG9tIGJhc2VQYXRoJylcbiAgICAub3B0aW9uKCctLW5vLXdhdGNoJywgJ1ByZXZlbnRzIGF1dG9tYXRpYyByZXN0YXJ0cyBvZiB0aGUgc2VydmVyIGluIC0tZGV2IG1vZGUnKTtcbiAgfVxuXG4gIGNvbW1hbmRcbiAgLmFjdGlvbihhc3luYyBmdW5jdGlvbiAob3B0cykge1xuICAgIGlmIChvcHRzLmRldikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qga2JuRGV2Q29uZmlnID0gZnJvbVJvb3QoJ2NvbmZpZy9raWJhbmEuZGV2LnltbCcpO1xuICAgICAgICBpZiAoc3RhdFN5bmMoa2JuRGV2Q29uZmlnKS5pc0ZpbGUoKSkge1xuICAgICAgICAgIG9wdHMuY29uZmlnLnB1c2goa2JuRGV2Q29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGlnbm9yZSwga2liYW5hLmRldi55bWwgZG9lcyBub3QgZXhpc3RcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBnZXRDdXJyZW50U2V0dGluZ3MgPSAoKSA9PiByZWFkU2VydmVyU2V0dGluZ3Mob3B0cywgdGhpcy5nZXRVbmtub3duT3B0aW9ucygpKTtcbiAgICBjb25zdCBzZXR0aW5ncyA9IGdldEN1cnJlbnRTZXR0aW5ncygpO1xuXG4gICAgaWYgKGNhbkNsdXN0ZXIgJiYgb3B0cy5kZXYgJiYgIWlzV29ya2VyKSB7XG4gICAgICAvLyBzdG9wIHByb2Nlc3NpbmcgdGhlIGFjdGlvbiBhbmQgaGFuZG9mZiB0byBjbHVzdGVyIG1hbmFnZXJcbiAgICAgIGNvbnN0IENsdXN0ZXJNYW5hZ2VyID0gcmVxdWlyZSgnLi4vY2x1c3Rlci9jbHVzdGVyX21hbmFnZXInKTtcbiAgICAgIG5ldyBDbHVzdGVyTWFuYWdlcihvcHRzLCBzZXR0aW5ncyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGtiblNlcnZlciA9IHt9O1xuICAgIGNvbnN0IEtiblNlcnZlciA9IHJlcXVpcmUoJy4uLy4uL3NlcnZlci9rYm5fc2VydmVyJyk7XG4gICAgdHJ5IHtcbiAgICAgIGtiblNlcnZlciA9IG5ldyBLYm5TZXJ2ZXIoc2V0dGluZ3MpO1xuICAgICAgYXdhaXQga2JuU2VydmVyLnJlYWR5KCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IHsgc2VydmVyIH0gPSBrYm5TZXJ2ZXI7XG5cbiAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VBRERSSU5VU0UnKSB7XG4gICAgICAgIGxvZ0ZhdGFsKGBQb3J0ICR7ZXJyLnBvcnR9IGlzIGFscmVhZHkgaW4gdXNlLiBBbm90aGVyIGluc3RhbmNlIG9mIEtpYmFuYSBtYXkgYmUgcnVubmluZyFgLCBzZXJ2ZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nRmF0YWwoZXJyLCBzZXJ2ZXIpO1xuICAgICAgfVxuXG4gICAgICBrYm5TZXJ2ZXIuY2xvc2UoKTtcbiAgICAgIHByb2Nlc3MuZXhpdCgxKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm9jZXNzLWV4aXRcbiAgICB9XG5cbiAgICBwcm9jZXNzLm9uKCdTSUdIVVAnLCBmdW5jdGlvbiByZWxvYWRDb25maWcoKSB7XG4gICAgICBjb25zdCBzZXR0aW5ncyA9IGdldEN1cnJlbnRTZXR0aW5ncygpO1xuICAgICAga2JuU2VydmVyLnNlcnZlci5sb2coWydpbmZvJywgJ2NvbmZpZyddLCAnUmVsb2FkaW5nIGxvZ2dpbmcgY29uZmlndXJhdGlvbiBkdWUgdG8gU0lHSFVQLicpO1xuICAgICAga2JuU2VydmVyLmFwcGx5TG9nZ2luZ0NvbmZpZ3VyYXRpb24oc2V0dGluZ3MpO1xuICAgICAga2JuU2VydmVyLnNlcnZlci5sb2coWydpbmZvJywgJ2NvbmZpZyddLCAnUmVsb2FkZWQgbG9nZ2luZyBjb25maWd1cmF0aW9uIGR1ZSB0byBTSUdIVVAuJyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ga2JuU2VydmVyO1xuICB9KTtcbn07XG5cbmZ1bmN0aW9uIGxvZ0ZhdGFsKG1lc3NhZ2UsIHNlcnZlcikge1xuICBpZiAoc2VydmVyKSB7XG4gICAgc2VydmVyLmxvZyhbJ2ZhdGFsJ10sIG1lc3NhZ2UpO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IoJ0ZBVEFMJywgbWVzc2FnZSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/serve/serve.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/cli/serve/serve.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport { statSync } from 'fs';\nimport { isWorker } from 'cluster';\nimport { resolve } from 'path';\nimport { fromRoot } from '../../utils';\nimport { getConfig } from '../../server/path';\nimport readYamlConfig from './read_yaml_config';\n\nimport { DEV_SSL_CERT_PATH, DEV_SSL_KEY_PATH } from '../dev_ssl';\n\nlet canCluster;\ntry {\n  require.resolve('../cluster/cluster_manager');\n  canCluster = true;\n} catch (e) {\n  canCluster = false;\n}\n\nconst pathCollector = function () {\n  const paths = [];\n  return function (path) {\n    paths.push(resolve(process.cwd(), path));\n    return paths;\n  };\n};\n\nconst configPathCollector = pathCollector();\nconst pluginDirCollector = pathCollector();\nconst pluginPathCollector = pathCollector();\n\nfunction readServerSettings(opts, extraCliOptions) {\n  const settings = readYamlConfig(opts.config);\n  const set = _.partial(_.set, settings);\n  const get = _.partial(_.get, settings);\n  const has = _.partial(_.has, settings);\n  const merge = _.partial(_.merge, settings);\n\n  if (opts.dev) {\n    set('env', 'development');\n    set('optimize.lazy', true);\n\n    if (opts.ssl) {\n      set('server.ssl.enabled', true);\n    }\n\n    if (opts.ssl && !has('server.ssl.certificate') && !has('server.ssl.key')) {\n      set('server.ssl.certificate', DEV_SSL_CERT_PATH);\n      set('server.ssl.key', DEV_SSL_KEY_PATH);\n    }\n  }\n\n  if (opts.elasticsearch) set('elasticsearch.url', opts.elasticsearch);\n  if (opts.port) set('server.port', opts.port);\n  if (opts.host) set('server.host', opts.host);\n  if (opts.quiet) set('logging.quiet', true);\n  if (opts.silent) set('logging.silent', true);\n  if (opts.verbose) set('logging.verbose', true);\n  if (opts.logFile) set('logging.dest', opts.logFile);\n\n  set('plugins.scanDirs', _.compact([].concat(\n    get('plugins.scanDirs'),\n    opts.pluginDir\n  )));\n\n  set('plugins.paths', _.compact([].concat(\n    get('plugins.paths'),\n    opts.pluginPath\n  )));\n\n  merge(extraCliOptions);\n\n  return settings;\n}\n\nmodule.exports = function (program) {\n  const command = program.command('serve');\n\n  command\n  .description('Run the kibana server')\n  .collectUnknownOptions()\n  .option('-e, --elasticsearch <uri>', 'Elasticsearch instance')\n  .option(\n    '-c, --config <path>',\n    'Path to the config file, can be changed with the CONFIG_PATH environment variable as well. ' +\n    'Use multiple --config args to include multiple config files.',\n    configPathCollector,\n    [ getConfig() ]\n  )\n  .option('-p, --port <port>', 'The port to bind to', parseInt)\n  .option('-q, --quiet', 'Prevent all logging except errors')\n  .option('-Q, --silent', 'Prevent all logging')\n  .option('--verbose', 'Turns on verbose logging')\n  .option('-H, --host <host>', 'The host to bind to')\n  .option('-l, --log-file <path>', 'The file to log to')\n  .option(\n    '--plugin-dir <path>',\n    'A path to scan for plugins, this can be specified multiple ' +\n    'times to specify multiple directories',\n    pluginDirCollector,\n    [\n      fromRoot('plugins'),\n      fromRoot('src/core_plugins')\n    ]\n  )\n  .option(\n    '--plugin-path <path>',\n    'A path to a plugin which should be included by the server, ' +\n    'this can be specified multiple times to specify multiple paths',\n    pluginPathCollector,\n    []\n  )\n  .option('--plugins <path>', 'an alias for --plugin-dir', pluginDirCollector);\n\n  if (canCluster) {\n    command\n    .option('--dev', 'Run the server with development mode defaults')\n    .option('--no-ssl', 'Don\\'t run the dev server using HTTPS')\n    .option('--no-base-path', 'Don\\'t put a proxy in front of the dev server, which adds a random basePath')\n    .option('--no-watch', 'Prevents automatic restarts of the server in --dev mode');\n  }\n\n  command\n  .action(async function (opts) {\n    if (opts.dev) {\n      try {\n        const kbnDevConfig = fromRoot('config/kibana.dev.yml');\n        if (statSync(kbnDevConfig).isFile()) {\n          opts.config.push(kbnDevConfig);\n        }\n      } catch (err) {\n        // ignore, kibana.dev.yml does not exist\n      }\n    }\n\n    const getCurrentSettings = () => readServerSettings(opts, this.getUnknownOptions());\n    const settings = getCurrentSettings();\n\n    if (canCluster && opts.dev && !isWorker) {\n      // stop processing the action and handoff to cluster manager\n      const ClusterManager = require('../cluster/cluster_manager');\n      new ClusterManager(opts, settings);\n      return;\n    }\n\n    let kbnServer = {};\n    const KbnServer = require('../../server/kbn_server');\n    try {\n      kbnServer = new KbnServer(settings);\n      await kbnServer.ready();\n    }\n    catch (err) {\n      const { server } = kbnServer;\n\n      if (err.code === 'EADDRINUSE') {\n        logFatal(`Port ${err.port} is already in use. Another instance of Kibana may be running!`, server);\n      } else {\n        logFatal(err, server);\n      }\n\n      kbnServer.close();\n      process.exit(1); // eslint-disable-line no-process-exit\n    }\n\n    process.on('SIGHUP', function reloadConfig() {\n      const settings = getCurrentSettings();\n      kbnServer.server.log(['info', 'config'], 'Reloading logging configuration due to SIGHUP.');\n      kbnServer.applyLoggingConfiguration(settings);\n      kbnServer.server.log(['info', 'config'], 'Reloaded logging configuration due to SIGHUP.');\n    });\n\n    return kbnServer;\n  });\n};\n\nfunction logFatal(message, server) {\n  if (server) {\n    server.log(['fatal'], message);\n  }\n  console.error('FATAL', message);\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/utils/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "Binder",
            "BinderFor",
            "deepCloneWithBuffers",
            "fromRoot",
            "pkg",
            "unset",
            "encodeQueryComponent"
          ],
          "specifiers": [
            {
              "kind": "external",
              "local": "Binder",
              "exported": "Binder",
              "source": "./binder"
            },
            {
              "kind": "external",
              "local": "BinderFor",
              "exported": "BinderFor",
              "source": "./binder_for"
            },
            {
              "kind": "external",
              "local": "deepCloneWithBuffers",
              "exported": "deepCloneWithBuffers",
              "source": "./deep_clone_with_buffers"
            },
            {
              "kind": "external",
              "local": "fromRoot",
              "exported": "fromRoot",
              "source": "./from_root"
            },
            {
              "kind": "external",
              "local": "pkg",
              "exported": "pkg",
              "source": "./package_json"
            },
            {
              "kind": "external",
              "local": "unset",
              "exported": "unset",
              "source": "./unset"
            },
            {
              "kind": "external",
              "local": "encodeQueryComponent",
              "exported": "encodeQueryComponent",
              "source": "./encode_query_component"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _binder = require('./binder');\n\nvar _binder2 = _interopRequireDefault(_binder);\n\nexports.Binder = _binder2['default'];\n\nvar _binder_for = require('./binder_for');\n\nvar _binder_for2 = _interopRequireDefault(_binder_for);\n\nexports.BinderFor = _binder_for2['default'];\n\nvar _deep_clone_with_buffers = require('./deep_clone_with_buffers');\n\nvar _deep_clone_with_buffers2 = _interopRequireDefault(_deep_clone_with_buffers);\n\nexports.deepCloneWithBuffers = _deep_clone_with_buffers2['default'];\n\nvar _from_root = require('./from_root');\n\nvar _from_root2 = _interopRequireDefault(_from_root);\n\nexports.fromRoot = _from_root2['default'];\n\nvar _package_json = require('./package_json');\n\nvar _package_json2 = _interopRequireDefault(_package_json);\n\nexports.pkg = _package_json2['default'];\n\nvar _unset2 = require('./unset');\n\nvar _unset3 = _interopRequireDefault(_unset2);\n\nexports.unset = _unset3['default'];\n\nvar _encode_query_component = require('./encode_query_component');\n\nObject.defineProperty(exports, 'encodeQueryComponent', {\n  enumerable: true,\n  get: function get() {\n    return _encode_query_component.encodeQueryComponent;\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztzQkFBbUIsVUFBVTs7OztRQUF0QixNQUFNOzswQkFDUyxjQUFjOzs7O1FBQTdCLFNBQVM7O3VDQUNpQiwyQkFBMkI7Ozs7UUFBckQsb0JBQW9COzt5QkFDTixhQUFhOzs7O1FBQTNCLFFBQVE7OzRCQUNDLGdCQUFnQjs7OztRQUF6QixHQUFHOztzQkFDUSxTQUFTOzs7O1FBQXBCLEtBQUs7O3NDQUV5QiwwQkFBMEI7Ozs7O21DQUF0RCxvQkFBb0IiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3V0aWxzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IEJpbmRlciBmcm9tICcuL2JpbmRlcic7XG5leHBvcnQgQmluZGVyRm9yIGZyb20gJy4vYmluZGVyX2Zvcic7XG5leHBvcnQgZGVlcENsb25lV2l0aEJ1ZmZlcnMgZnJvbSAnLi9kZWVwX2Nsb25lX3dpdGhfYnVmZmVycyc7XG5leHBvcnQgZnJvbVJvb3QgZnJvbSAnLi9mcm9tX3Jvb3QnO1xuZXhwb3J0IHBrZyBmcm9tICcuL3BhY2thZ2VfanNvbic7XG5leHBvcnQgdW5zZXQgZnJvbSAnLi91bnNldCc7XG5cbmV4cG9ydCB7IGVuY29kZVF1ZXJ5Q29tcG9uZW50IH0gZnJvbSAnLi9lbmNvZGVfcXVlcnlfY29tcG9uZW50JztcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/utils/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;sBAAmB,UAAU;;;;QAAtB,MAAM;;0BACS,cAAc;;;;QAA7B,SAAS;;uCACiB,2BAA2B;;;;QAArD,oBAAoB;;yBACN,aAAa;;;;QAA3B,QAAQ;;4BACC,gBAAgB;;;;QAAzB,GAAG;;sBACQ,SAAS;;;;QAApB,KAAK;;sCAEyB,0BAA0B;;;;;mCAAtD,oBAAoB",
      "file": "/Users/osagiefo/kibana-aws/src/utils/index.js",
      "sourcesContent": [
        "export Binder from './binder';\nexport BinderFor from './binder_for';\nexport deepCloneWithBuffers from './deep_clone_with_buffers';\nexport fromRoot from './from_root';\nexport pkg from './package_json';\nexport unset from './unset';\n\nexport { encodeQueryComponent } from './encode_query_component';\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/utils/binder.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "Binder"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "Binder",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Binder = (function () {\n  function Binder() {\n    _classCallCheck(this, Binder);\n\n    this.disposal = [];\n  }\n\n  _createClass(Binder, [{\n    key: \"on\",\n    value: function on(emitter) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var on = emitter.on || emitter.addListener;\n      var off = emitter.off || emitter.removeListener;\n\n      on.apply(emitter, args);\n      this.disposal.push(function () {\n        return off.apply(emitter, args);\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var destroyers = this.disposal;\n      this.disposal = [];\n      destroyers.forEach(function (fn) {\n        return fn();\n      });\n    }\n  }]);\n\n  return Binder;\n})();\n\nexports[\"default\"] = Binder;\nmodule.exports = exports[\"default\"];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9iaW5kZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQixNQUFNO0FBQ2QsV0FEUSxNQUFNLEdBQ1g7MEJBREssTUFBTTs7QUFFdkIsUUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7R0FDcEI7O2VBSGtCLE1BQU07O1dBS3ZCLFlBQUMsT0FBTyxFQUFXO3dDQUFOLElBQUk7QUFBSixZQUFJOzs7QUFDakIsVUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUUsSUFBSSxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQzdDLFVBQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLElBQUksT0FBTyxDQUFDLGNBQWMsQ0FBQzs7QUFFbEQsUUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDeEIsVUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7ZUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUM7T0FBQSxDQUFDLENBQUM7S0FDcEQ7OztXQUVNLG1CQUFHO0FBQ1IsVUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztBQUNqQyxVQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztBQUNuQixnQkFBVSxDQUFDLE9BQU8sQ0FBQyxVQUFBLEVBQUU7ZUFBSSxFQUFFLEVBQUU7T0FBQSxDQUFDLENBQUM7S0FDaEM7OztTQWpCa0IsTUFBTTs7O3FCQUFOLE1BQU0iLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3V0aWxzL2JpbmRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpbmRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGlzcG9zYWwgPSBbXTtcbiAgfVxuXG4gIG9uKGVtaXR0ZXIsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBvbiA9IGVtaXR0ZXIub24gfHwgZW1pdHRlci5hZGRMaXN0ZW5lcjtcbiAgICBjb25zdCBvZmYgPSBlbWl0dGVyLm9mZiB8fCBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyO1xuXG4gICAgb24uYXBwbHkoZW1pdHRlciwgYXJncyk7XG4gICAgdGhpcy5kaXNwb3NhbC5wdXNoKCgpID0+IG9mZi5hcHBseShlbWl0dGVyLCBhcmdzKSk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIGNvbnN0IGRlc3Ryb3llcnMgPSB0aGlzLmRpc3Bvc2FsO1xuICAgIHRoaXMuZGlzcG9zYWwgPSBbXTtcbiAgICBkZXN0cm95ZXJzLmZvckVhY2goZm4gPT4gZm4oKSk7XG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/utils/binder.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;IAAqB,MAAM;AACd,WADQ,MAAM,GACX;0BADK,MAAM;;AAEvB,QAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;GACpB;;eAHkB,MAAM;;WAKvB,YAAC,OAAO,EAAW;wCAAN,IAAI;AAAJ,YAAI;;;AACjB,UAAM,EAAE,GAAG,OAAO,CAAC,EAAE,IAAI,OAAO,CAAC,WAAW,CAAC;AAC7C,UAAM,GAAG,GAAG,OAAO,CAAC,GAAG,IAAI,OAAO,CAAC,cAAc,CAAC;;AAElD,QAAE,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;AACxB,UAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;eAAM,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC;OAAA,CAAC,CAAC;KACpD;;;WAEM,mBAAG;AACR,UAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC;AACjC,UAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;AACnB,gBAAU,CAAC,OAAO,CAAC,UAAA,EAAE;eAAI,EAAE,EAAE;OAAA,CAAC,CAAC;KAChC;;;SAjBkB,MAAM;;;qBAAN,MAAM",
      "file": "/Users/osagiefo/kibana-aws/src/utils/binder.js",
      "sourcesContent": [
        "export default class Binder {\n  constructor() {\n    this.disposal = [];\n  }\n\n  on(emitter, ...args) {\n    const on = emitter.on || emitter.addListener;\n    const off = emitter.off || emitter.removeListener;\n\n    on.apply(emitter, args);\n    this.disposal.push(() => off.apply(emitter, args));\n  }\n\n  destroy() {\n    const destroyers = this.disposal;\n    this.disposal = [];\n    destroyers.forEach(fn => fn());\n  }\n}\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/utils/binder_for.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./",
            "imported": [
              "Binder"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Binder",
                "local": "Binder"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "BinderFor"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "BinderFor",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _ = require('./');\n\nvar BinderFor = (function (_Binder) {\n  _inherits(BinderFor, _Binder);\n\n  function BinderFor(emitter) {\n    _classCallCheck(this, BinderFor);\n\n    _get(Object.getPrototypeOf(BinderFor.prototype), 'constructor', this).call(this);\n    this.emitter = emitter;\n  }\n\n  _createClass(BinderFor, [{\n    key: 'on',\n    value: function on() {\n      var _get2;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      (_get2 = _get(Object.getPrototypeOf(BinderFor.prototype), 'on', this)).call.apply(_get2, [this, this.emitter].concat(args));\n    }\n  }]);\n\n  return BinderFor;\n})(_.Binder);\n\nexports['default'] = BinderFor;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9iaW5kZXJfZm9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O2dCQUF1QixJQUFJOztJQUVOLFNBQVM7WUFBVCxTQUFTOztBQUNqQixXQURRLFNBQVMsQ0FDaEIsT0FBTyxFQUFFOzBCQURGLFNBQVM7O0FBRTFCLCtCQUZpQixTQUFTLDZDQUVsQjtBQUNSLFFBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0dBQ3hCOztlQUprQixTQUFTOztXQU0xQixjQUFVOzs7d0NBQU4sSUFBSTtBQUFKLFlBQUk7OztBQUNSLDBDQVBpQixTQUFTLG1EQU9qQixJQUFJLENBQUMsT0FBTyxTQUFLLElBQUksR0FBRTtLQUNqQzs7O1NBUmtCLFNBQVM7OztxQkFBVCxTQUFTIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9iaW5kZXJfZm9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmluZGVyIH0gZnJvbSAnLi8nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaW5kZXJGb3IgZXh0ZW5kcyBCaW5kZXIge1xuICBjb25zdHJ1Y3RvcihlbWl0dGVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmVtaXR0ZXIgPSBlbWl0dGVyO1xuICB9XG5cbiAgb24oLi4uYXJncykge1xuICAgIHN1cGVyLm9uKHRoaXMuZW1pdHRlciwgLi4uYXJncyk7XG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/utils/binder_for.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;gBAAuB,IAAI;;IAEN,SAAS;YAAT,SAAS;;AACjB,WADQ,SAAS,CAChB,OAAO,EAAE;0BADF,SAAS;;AAE1B,+BAFiB,SAAS,6CAElB;AACR,QAAI,CAAC,OAAO,GAAG,OAAO,CAAC;GACxB;;eAJkB,SAAS;;WAM1B,cAAU;;;wCAAN,IAAI;AAAJ,YAAI;;;AACR,0CAPiB,SAAS,mDAOjB,IAAI,CAAC,OAAO,SAAK,IAAI,GAAE;KACjC;;;SARkB,SAAS;;;qBAAT,SAAS",
      "file": "/Users/osagiefo/kibana-aws/src/utils/binder_for.js",
      "sourcesContent": [
        "import { Binder } from './';\n\nexport default class BinderFor extends Binder {\n  constructor(emitter) {\n    super();\n    this.emitter = emitter;\n  }\n\n  on(...args) {\n    super.on(this.emitter, ...args);\n  }\n}\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/utils/deep_clone_with_buffers.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "cloneDeep"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "cloneDeep",
                "local": "cloneDeep"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _lodash = require('lodash');\n\nfunction cloneBuffersCustomizer(val) {\n  if (Buffer.isBuffer(val)) {\n    return new Buffer(val);\n  }\n}\n\nexports['default'] = function (vals) {\n  return (0, _lodash.cloneDeep)(vals, cloneBuffersCustomizer);\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9kZWVwX2Nsb25lX3dpdGhfYnVmZmVycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7c0JBQTBCLFFBQVE7O0FBRWxDLFNBQVMsc0JBQXNCLENBQUMsR0FBRyxFQUFFO0FBQ25DLE1BQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN4QixXQUFPLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0dBQ3hCO0NBQ0Y7O3FCQUVjLFVBQVUsSUFBSSxFQUFFO0FBQzdCLFNBQU8sdUJBQVUsSUFBSSxFQUFFLHNCQUFzQixDQUFDLENBQUM7Q0FDaEQiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3V0aWxzL2RlZXBfY2xvbmVfd2l0aF9idWZmZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAnbG9kYXNoJztcblxuZnVuY3Rpb24gY2xvbmVCdWZmZXJzQ3VzdG9taXplcih2YWwpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIodmFsKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAodmFscykge1xuICByZXR1cm4gY2xvbmVEZWVwKHZhbHMsIGNsb25lQnVmZmVyc0N1c3RvbWl6ZXIpO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/utils/deep_clone_with_buffers.js"
      ],
      "names": [],
      "mappings": ";;;;;;sBAA0B,QAAQ;;AAElC,SAAS,sBAAsB,CAAC,GAAG,EAAE;AACnC,MAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AACxB,WAAO,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC;GACxB;CACF;;qBAEc,UAAU,IAAI,EAAE;AAC7B,SAAO,uBAAU,IAAI,EAAE,sBAAsB,CAAC,CAAC;CAChD",
      "file": "/Users/osagiefo/kibana-aws/src/utils/deep_clone_with_buffers.js",
      "sourcesContent": [
        "import { cloneDeep } from 'lodash';\n\nfunction cloneBuffersCustomizer(val) {\n  if (Buffer.isBuffer(val)) {\n    return new Buffer(val);\n  }\n}\n\nexport default function (vals) {\n  return cloneDeep(vals, cloneBuffersCustomizer);\n}\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/utils/from_root.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./package_json",
            "imported": [
              "__dirname"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "__dirname",
                "local": "root"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "join",
              "dirname",
              "normalize"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "join",
                "local": "join"
              },
              {
                "kind": "named",
                "imported": "dirname",
                "local": "dirname"
              },
              {
                "kind": "named",
                "imported": "normalize",
                "local": "normalize"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _package_json = require('./package_json');\n\nvar _path = require('path');\n\nmodule.exports = _lodash2['default'].flow(_lodash2['default'].partial(_path.join, _package_json.__dirname), _path.normalize);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9mcm9tX3Jvb3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztzQkFBYyxRQUFROzs7OzRCQUNZLGdCQUFnQjs7b0JBQ1QsTUFBTTs7QUFFL0MsTUFBTSxDQUFDLE9BQU8sR0FBRyxvQkFBRSxJQUFJLENBQUMsb0JBQUUsT0FBTyxxQ0FBWSxrQkFBWSxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9mcm9tX3Jvb3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgX19kaXJuYW1lIGFzIHJvb3QgfSBmcm9tICcuL3BhY2thZ2VfanNvbic7XG5pbXBvcnQgeyBqb2luLCBkaXJuYW1lLCBub3JtYWxpemUgfSBmcm9tICdwYXRoJztcblxubW9kdWxlLmV4cG9ydHMgPSBfLmZsb3coXy5wYXJ0aWFsKGpvaW4sIHJvb3QpLCBub3JtYWxpemUpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/utils/from_root.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;4BACY,gBAAgB;;oBACT,MAAM;;AAE/C,MAAM,CAAC,OAAO,GAAG,oBAAE,IAAI,CAAC,oBAAE,OAAO,qCAAY,kBAAY,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/utils/from_root.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport { __dirname as root } from './package_json';\nimport { join, dirname, normalize } from 'path';\n\nmodule.exports = _.flow(_.partial(join, root), normalize);\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/utils/unset.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "lodash/internal/toPath",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "toPath"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodashInternalToPath = require('lodash/internal/toPath');\n\nvar _lodashInternalToPath2 = _interopRequireDefault(_lodashInternalToPath);\n\nmodule.exports = function unset(object, rawPath) {\n  if (!object) return;\n  var path = (0, _lodashInternalToPath2['default'])(rawPath);\n\n  switch (path.length) {\n    case 0:\n      return;\n\n    case 1:\n      delete object[rawPath];\n      break;\n\n    default:\n      var leaf = path.pop();\n      var parentPath = path.slice();\n      var parent = _lodash2['default'].get(object, parentPath);\n      unset(parent, leaf);\n      if (!_lodash2['default'].size(parent)) {\n        unset(object, parentPath);\n      }\n      break;\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy91bnNldC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3NCQUFjLFFBQVE7Ozs7b0NBQ0gsd0JBQXdCOzs7O0FBRTNDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsU0FBUyxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRTtBQUMvQyxNQUFJLENBQUMsTUFBTSxFQUFFLE9BQU87QUFDcEIsTUFBTSxJQUFJLEdBQUcsdUNBQU8sT0FBTyxDQUFDLENBQUM7O0FBRTdCLFVBQVEsSUFBSSxDQUFDLE1BQU07QUFDakIsU0FBSyxDQUFDO0FBQ0osYUFBTzs7QUFBQSxBQUVULFNBQUssQ0FBQztBQUNKLGFBQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3ZCLFlBQU07O0FBQUEsQUFFUjtBQUNFLFVBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUN4QixVQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDaEMsVUFBTSxNQUFNLEdBQUcsb0JBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztBQUN6QyxXQUFLLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3BCLFVBQUksQ0FBQyxvQkFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDbkIsYUFBSyxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztPQUMzQjtBQUNELFlBQU07QUFBQSxHQUNUO0NBQ0YsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvdXRpbHMvdW5zZXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHRvUGF0aCBmcm9tICdsb2Rhc2gvaW50ZXJuYWwvdG9QYXRoJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB1bnNldChvYmplY3QsIHJhd1BhdGgpIHtcbiAgaWYgKCFvYmplY3QpIHJldHVybjtcbiAgY29uc3QgcGF0aCA9IHRvUGF0aChyYXdQYXRoKTtcblxuICBzd2l0Y2ggKHBhdGgubGVuZ3RoKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuO1xuXG4gICAgY2FzZSAxOlxuICAgICAgZGVsZXRlIG9iamVjdFtyYXdQYXRoXTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnN0IGxlYWYgPSBwYXRoLnBvcCgpO1xuICAgICAgY29uc3QgcGFyZW50UGF0aCA9IHBhdGguc2xpY2UoKTtcbiAgICAgIGNvbnN0IHBhcmVudCA9IF8uZ2V0KG9iamVjdCwgcGFyZW50UGF0aCk7XG4gICAgICB1bnNldChwYXJlbnQsIGxlYWYpO1xuICAgICAgaWYgKCFfLnNpemUocGFyZW50KSkge1xuICAgICAgICB1bnNldChvYmplY3QsIHBhcmVudFBhdGgpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cbn07Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/utils/unset.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;oCACH,wBAAwB;;;;AAE3C,MAAM,CAAC,OAAO,GAAG,SAAS,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE;AAC/C,MAAI,CAAC,MAAM,EAAE,OAAO;AACpB,MAAM,IAAI,GAAG,uCAAO,OAAO,CAAC,CAAC;;AAE7B,UAAQ,IAAI,CAAC,MAAM;AACjB,SAAK,CAAC;AACJ,aAAO;;AAAA,AAET,SAAK,CAAC;AACJ,aAAO,MAAM,CAAC,OAAO,CAAC,CAAC;AACvB,YAAM;;AAAA,AAER;AACE,UAAM,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;AACxB,UAAM,UAAU,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;AAChC,UAAM,MAAM,GAAG,oBAAE,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;AACzC,WAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AACpB,UAAI,CAAC,oBAAE,IAAI,CAAC,MAAM,CAAC,EAAE;AACnB,aAAK,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;OAC3B;AACD,YAAM;AAAA,GACT;CACF,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/utils/unset.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport toPath from 'lodash/internal/toPath';\n\nmodule.exports = function unset(object, rawPath) {\n  if (!object) return;\n  const path = toPath(rawPath);\n\n  switch (path.length) {\n    case 0:\n      return;\n\n    case 1:\n      delete object[rawPath];\n      break;\n\n    default:\n      const leaf = path.pop();\n      const parentPath = path.slice();\n      const parent = _.get(object, parentPath);\n      unset(parent, leaf);\n      if (!_.size(parent)) {\n        unset(object, parentPath);\n      }\n      break;\n  }\n};"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/utils/encode_query_component.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "encodeQueryComponent",
            "val",
            "pctEncodeSpaces"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "encodeQueryComponent",
              "exported": "encodeQueryComponent"
            },
            {
              "kind": "local",
              "local": "val",
              "exported": "val"
            },
            {
              "kind": "local",
              "local": "pctEncodeSpaces",
              "exported": "pctEncodeSpaces"
            }
          ]
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/**\n * This method is intended for encoding *key* or *value* parts of query component. We need a custom\n * method because encodeURIComponent is too aggressive and encodes stuff that doesn't have to be\n * encoded per http://tools.ietf.org/html/rfc3986:\n *    query         = *( pchar / \"/\" / \"?\" )\n *    pchar         = unreserved / pct-encoded / sub-delims / \":\" / \"@\"\n *    unreserved    = ALPHA / DIGIT / \"-\" / \".\" / \"_\" / \"~\"\n *    pct-encoded   = \"%\" HEXDIG HEXDIG\n *    sub-delims    = \"!\" / \"$\" / \"&\" / \"'\" / \"(\" / \")\"\n *                     / \"*\" / \"+\" / \",\" / \";\" / \"=\"\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.encodeQueryComponent = encodeQueryComponent;\n\nfunction encodeQueryComponent(val) {\n  var pctEncodeSpaces = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n  return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, pctEncodeSpaces ? '%20' : '+');\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9lbmNvZGVfcXVlcnlfY29tcG9uZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVdPLFNBQVMsb0JBQW9CLENBQUMsR0FBRyxFQUEyQjtNQUF6QixlQUFlLHlEQUFHLEtBQUs7O0FBQy9ELFNBQU8sa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQzNCLE9BQU8sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQ3JCLE9BQU8sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQ3JCLE9BQU8sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQ3BCLE9BQU8sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQ3JCLE9BQU8sQ0FBQyxNQUFNLEVBQUcsZUFBZSxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUUsQ0FBQztDQUNyRCIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvdXRpbHMvZW5jb2RlX3F1ZXJ5X2NvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBtZXRob2QgaXMgaW50ZW5kZWQgZm9yIGVuY29kaW5nICprZXkqIG9yICp2YWx1ZSogcGFydHMgb2YgcXVlcnkgY29tcG9uZW50LiBXZSBuZWVkIGEgY3VzdG9tXG4gKiBtZXRob2QgYmVjYXVzZSBlbmNvZGVVUklDb21wb25lbnQgaXMgdG9vIGFnZ3Jlc3NpdmUgYW5kIGVuY29kZXMgc3R1ZmYgdGhhdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAqIGVuY29kZWQgcGVyIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODY6XG4gKiAgICBxdWVyeSAgICAgICAgID0gKiggcGNoYXIgLyBcIi9cIiAvIFwiP1wiIClcbiAqICAgIHBjaGFyICAgICAgICAgPSB1bnJlc2VydmVkIC8gcGN0LWVuY29kZWQgLyBzdWItZGVsaW1zIC8gXCI6XCIgLyBcIkBcIlxuICogICAgdW5yZXNlcnZlZCAgICA9IEFMUEhBIC8gRElHSVQgLyBcIi1cIiAvIFwiLlwiIC8gXCJfXCIgLyBcIn5cIlxuICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcbiAqICAgIHN1Yi1kZWxpbXMgICAgPSBcIiFcIiAvIFwiJFwiIC8gXCImXCIgLyBcIidcIiAvIFwiKFwiIC8gXCIpXCJcbiAqICAgICAgICAgICAgICAgICAgICAgLyBcIipcIiAvIFwiK1wiIC8gXCIsXCIgLyBcIjtcIiAvIFwiPVwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVRdWVyeUNvbXBvbmVudCh2YWwsIHBjdEVuY29kZVNwYWNlcyA9IGZhbHNlKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKVxuICAgIC5yZXBsYWNlKC8lNDAvZ2ksICdAJylcbiAgICAucmVwbGFjZSgvJTNBL2dpLCAnOicpXG4gICAgLnJlcGxhY2UoLyUyNC9nLCAnJCcpXG4gICAgLnJlcGxhY2UoLyUyQy9naSwgJywnKVxuICAgIC5yZXBsYWNlKC8lMjAvZywgKHBjdEVuY29kZVNwYWNlcyA/ICclMjAnIDogJysnKSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/utils/encode_query_component.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;AAWO,SAAS,oBAAoB,CAAC,GAAG,EAA2B;MAAzB,eAAe,yDAAG,KAAK;;AAC/D,SAAO,kBAAkB,CAAC,GAAG,CAAC,CAC3B,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CACrB,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CACrB,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CACpB,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CACrB,OAAO,CAAC,MAAM,EAAG,eAAe,GAAG,KAAK,GAAG,GAAG,CAAE,CAAC;CACrD",
      "file": "/Users/osagiefo/kibana-aws/src/utils/encode_query_component.js",
      "sourcesContent": [
        "/**\n * This method is intended for encoding *key* or *value* parts of query component. We need a custom\n * method because encodeURIComponent is too aggressive and encodes stuff that doesn't have to be\n * encoded per http://tools.ietf.org/html/rfc3986:\n *    query         = *( pchar / \"/\" / \"?\" )\n *    pchar         = unreserved / pct-encoded / sub-delims / \":\" / \"@\"\n *    unreserved    = ALPHA / DIGIT / \"-\" / \".\" / \"_\" / \"~\"\n *    pct-encoded   = \"%\" HEXDIG HEXDIG\n *    sub-delims    = \"!\" / \"$\" / \"&\" / \"'\" / \"(\" / \")\"\n *                     / \"*\" / \"+\" / \",\" / \";\" / \"=\"\n */\nexport function encodeQueryComponent(val, pctEncodeSpaces = false) {\n  return encodeURIComponent(val)\n    .replace(/%40/gi, '@')\n    .replace(/%3A/gi, ':')\n    .replace(/%24/g, '$')\n    .replace(/%2C/gi, ',')\n    .replace(/%20/g, (pctEncodeSpaces ? '%20' : '+'));\n}\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/path/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "fs",
            "imported": [
              "accessSync",
              "R_OK"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "accessSync",
                "local": "accessSync"
              },
              {
                "kind": "named",
                "imported": "R_OK",
                "local": "R_OK"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "find"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "find",
                "local": "find"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "fromRoot"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromRoot",
                "local": "fromRoot"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _fs = require('fs');\n\nvar _lodash = require('lodash');\n\nvar _utils = require('../../utils');\n\nvar CONFIG_PATHS = [process.env.CONFIG_PATH, (0, _utils.fromRoot)('config/kibana.yml'), '/etc/kibana/kibana.yml'].filter(Boolean);\n\nvar DATA_PATHS = [process.env.DATA_PATH, (0, _utils.fromRoot)('data'), '/var/lib/kibana'].filter(Boolean);\n\nfunction findFile(paths) {\n  var availablePath = (0, _lodash.find)(paths, function (configPath) {\n    try {\n      (0, _fs.accessSync)(configPath, _fs.R_OK);\n      return true;\n    } catch (e) {\n      //Check the next path\n    }\n  });\n  return availablePath || paths[0];\n}\n\nexports['default'] = {\n  getConfig: function getConfig() {\n    return findFile(CONFIG_PATHS);\n  },\n  getData: function getData() {\n    return findFile(DATA_PATHS);\n  }\n};\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGF0aC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBQWlDLElBQUk7O3NCQUNoQixRQUFROztxQkFDSixhQUFhOztBQUV0QyxJQUFNLFlBQVksR0FBRyxDQUNuQixPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFDdkIscUJBQVMsbUJBQW1CLENBQUMsRUFDN0Isd0JBQXdCLENBQ3pCLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDOztBQUVsQixJQUFNLFVBQVUsR0FBRyxDQUNqQixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFDckIscUJBQVMsTUFBTSxDQUFDLEVBQ2hCLGlCQUFpQixDQUNsQixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQzs7QUFFbEIsU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFO0FBQ3ZCLE1BQU0sYUFBYSxHQUFHLGtCQUFLLEtBQUssRUFBRSxVQUFBLFVBQVUsRUFBSTtBQUM5QyxRQUFJO0FBQ0YsMEJBQVcsVUFBVSxXQUFPLENBQUM7QUFDN0IsYUFBTyxJQUFJLENBQUM7S0FDYixDQUFDLE9BQU8sQ0FBQyxFQUFFOztLQUVYO0dBQ0YsQ0FBQyxDQUFDO0FBQ0gsU0FBTyxhQUFhLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ2xDOztxQkFFYztBQUNiLFdBQVMsRUFBRTtXQUFNLFFBQVEsQ0FBQyxZQUFZLENBQUM7R0FBQTtBQUN2QyxTQUFPLEVBQUU7V0FBTSxRQUFRLENBQUMsVUFBVSxDQUFDO0dBQUE7Q0FDcEMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9wYXRoL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWNjZXNzU3luYywgUl9PSyB9IGZyb20gJ2ZzJztcbmltcG9ydCB7IGZpbmQgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgZnJvbVJvb3QgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmNvbnN0IENPTkZJR19QQVRIUyA9IFtcbiAgcHJvY2Vzcy5lbnYuQ09ORklHX1BBVEgsXG4gIGZyb21Sb290KCdjb25maWcva2liYW5hLnltbCcpLFxuICAnL2V0Yy9raWJhbmEva2liYW5hLnltbCdcbl0uZmlsdGVyKEJvb2xlYW4pO1xuXG5jb25zdCBEQVRBX1BBVEhTID0gW1xuICBwcm9jZXNzLmVudi5EQVRBX1BBVEgsXG4gIGZyb21Sb290KCdkYXRhJyksXG4gICcvdmFyL2xpYi9raWJhbmEnXG5dLmZpbHRlcihCb29sZWFuKTtcblxuZnVuY3Rpb24gZmluZEZpbGUocGF0aHMpIHtcbiAgY29uc3QgYXZhaWxhYmxlUGF0aCA9IGZpbmQocGF0aHMsIGNvbmZpZ1BhdGggPT4ge1xuICAgIHRyeSB7XG4gICAgICBhY2Nlc3NTeW5jKGNvbmZpZ1BhdGgsIFJfT0spO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy9DaGVjayB0aGUgbmV4dCBwYXRoXG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGF2YWlsYWJsZVBhdGggfHwgcGF0aHNbMF07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2V0Q29uZmlnOiAoKSA9PiBmaW5kRmlsZShDT05GSUdfUEFUSFMpLFxuICBnZXREYXRhOiAoKSA9PiBmaW5kRmlsZShEQVRBX1BBVEhTKVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/path/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;kBAAiC,IAAI;;sBAChB,QAAQ;;qBACJ,aAAa;;AAEtC,IAAM,YAAY,GAAG,CACnB,OAAO,CAAC,GAAG,CAAC,WAAW,EACvB,qBAAS,mBAAmB,CAAC,EAC7B,wBAAwB,CACzB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;AAElB,IAAM,UAAU,GAAG,CACjB,OAAO,CAAC,GAAG,CAAC,SAAS,EACrB,qBAAS,MAAM,CAAC,EAChB,iBAAiB,CAClB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;AAElB,SAAS,QAAQ,CAAC,KAAK,EAAE;AACvB,MAAM,aAAa,GAAG,kBAAK,KAAK,EAAE,UAAA,UAAU,EAAI;AAC9C,QAAI;AACF,0BAAW,UAAU,WAAO,CAAC;AAC7B,aAAO,IAAI,CAAC;KACb,CAAC,OAAO,CAAC,EAAE;;KAEX;GACF,CAAC,CAAC;AACH,SAAO,aAAa,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;CAClC;;qBAEc;AACb,WAAS,EAAE;WAAM,QAAQ,CAAC,YAAY,CAAC;GAAA;AACvC,SAAO,EAAE;WAAM,QAAQ,CAAC,UAAU,CAAC;GAAA;CACpC",
      "file": "/Users/osagiefo/kibana-aws/src/server/path/index.js",
      "sourcesContent": [
        "import { accessSync, R_OK } from 'fs';\nimport { find } from 'lodash';\nimport { fromRoot } from '../../utils';\n\nconst CONFIG_PATHS = [\n  process.env.CONFIG_PATH,\n  fromRoot('config/kibana.yml'),\n  '/etc/kibana/kibana.yml'\n].filter(Boolean);\n\nconst DATA_PATHS = [\n  process.env.DATA_PATH,\n  fromRoot('data'),\n  '/var/lib/kibana'\n].filter(Boolean);\n\nfunction findFile(paths) {\n  const availablePath = find(paths, configPath => {\n    try {\n      accessSync(configPath, R_OK);\n      return true;\n    } catch (e) {\n      //Check the next path\n    }\n  });\n  return availablePath || paths[0];\n}\n\nexport default {\n  getConfig: () => findFile(CONFIG_PATHS),\n  getData: () => findFile(DATA_PATHS)\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/serve/read_yaml_config.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "isArray",
              "isPlainObject",
              "forOwn",
              "set",
              "transform"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "isArray",
                "local": "isArray"
              },
              {
                "kind": "named",
                "imported": "isPlainObject",
                "local": "isPlainObject"
              },
              {
                "kind": "named",
                "imported": "forOwn",
                "local": "forOwn"
              },
              {
                "kind": "named",
                "imported": "set",
                "local": "set"
              },
              {
                "kind": "named",
                "imported": "transform",
                "local": "transform"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "readFileSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readFileSync",
                "local": "read"
              }
            ]
          },
          {
            "source": "js-yaml",
            "imported": [
              "safeLoad"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "safeLoad",
                "local": "safeLoad"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "fromRoot"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromRoot",
                "local": "fromRoot"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "merge",
            "sources"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "merge",
              "exported": "merge"
            },
            {
              "kind": "local",
              "local": "sources",
              "exported": "sources"
            }
          ]
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.merge = merge;\n\nvar _lodash = require('lodash');\n\nvar _fs = require('fs');\n\nvar _jsYaml = require('js-yaml');\n\nvar _utils = require('../../utils');\n\nfunction merge(sources) {\n  return (0, _lodash.transform)(sources, function (merged, source) {\n    (0, _lodash.forOwn)(source, function apply(val, key) {\n      if ((0, _lodash.isPlainObject)(val)) {\n        (0, _lodash.forOwn)(val, function (subVal, subKey) {\n          apply(subVal, key + '.' + subKey);\n        });\n        return;\n      }\n\n      if ((0, _lodash.isArray)(val)) {\n        (0, _lodash.set)(merged, key, []);\n        val.forEach(function (subVal, i) {\n          return apply(subVal, key + '.' + i);\n        });\n        return;\n      }\n\n      (0, _lodash.set)(merged, key, val);\n    });\n  }, {});\n}\n\nexports['default'] = function (paths) {\n  var files = [].concat(paths || []);\n  var yamls = files.map(function (path) {\n    return (0, _jsYaml.safeLoad)((0, _fs.readFileSync)(path, 'utf8'));\n  });\n  return merge(yamls);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvc2VydmUvcmVhZF95YW1sX2NvbmZpZy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3NCQUErRCxRQUFROztrQkFDbEMsSUFBSTs7c0JBQ2hCLFNBQVM7O3FCQUdULGFBQWE7O0FBRS9CLFNBQVMsS0FBSyxDQUFDLE9BQU8sRUFBRTtBQUM3QixTQUFPLHVCQUFVLE9BQU8sRUFBRSxVQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUs7QUFDNUMsd0JBQU8sTUFBTSxFQUFFLFNBQVMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUU7QUFDdEMsVUFBSSwyQkFBYyxHQUFHLENBQUMsRUFBRTtBQUN0Qiw0QkFBTyxHQUFHLEVBQUUsVUFBVSxNQUFNLEVBQUUsTUFBTSxFQUFFO0FBQ3BDLGVBQUssQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUMsQ0FBQztTQUNuQyxDQUFDLENBQUM7QUFDSCxlQUFPO09BQ1I7O0FBRUQsVUFBSSxxQkFBUSxHQUFHLENBQUMsRUFBRTtBQUNoQix5QkFBSSxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3JCLFdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBQyxNQUFNLEVBQUUsQ0FBQztpQkFBSyxLQUFLLENBQUMsTUFBTSxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1NBQUEsQ0FBQyxDQUFDO0FBQ3pELGVBQU87T0FDUjs7QUFFRCx1QkFBSSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQ3ZCLENBQUMsQ0FBQztHQUNKLEVBQUUsRUFBRSxDQUFDLENBQUM7Q0FDUjs7cUJBRWMsVUFBVSxLQUFLLEVBQUU7QUFDOUIsTUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDLENBQUM7QUFDckMsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLElBQUk7V0FBSSxzQkFBUyxzQkFBSyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7R0FBQSxDQUFDLENBQUM7QUFDOUQsU0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7Q0FDckIiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NsaS9zZXJ2ZS9yZWFkX3lhbWxfY29uZmlnLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNBcnJheSwgaXNQbGFpbk9iamVjdCwgZm9yT3duLCBzZXQsIHRyYW5zZm9ybSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgYXMgcmVhZCB9IGZyb20gJ2ZzJztcbmltcG9ydCB7IHNhZmVMb2FkIH0gZnJvbSAnanMteWFtbCc7XG5cblxuaW1wb3J0IHsgZnJvbVJvb3QgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShzb3VyY2VzKSB7XG4gIHJldHVybiB0cmFuc2Zvcm0oc291cmNlcywgKG1lcmdlZCwgc291cmNlKSA9PiB7XG4gICAgZm9yT3duKHNvdXJjZSwgZnVuY3Rpb24gYXBwbHkodmFsLCBrZXkpIHtcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgZm9yT3duKHZhbCwgZnVuY3Rpb24gKHN1YlZhbCwgc3ViS2V5KSB7XG4gICAgICAgICAgYXBwbHkoc3ViVmFsLCBrZXkgKyAnLicgKyBzdWJLZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIHNldChtZXJnZWQsIGtleSwgW10pO1xuICAgICAgICB2YWwuZm9yRWFjaCgoc3ViVmFsLCBpKSA9PiBhcHBseShzdWJWYWwsIGtleSArICcuJyArIGkpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZXQobWVyZ2VkLCBrZXksIHZhbCk7XG4gICAgfSk7XG4gIH0sIHt9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBhdGhzKSB7XG4gIGNvbnN0IGZpbGVzID0gW10uY29uY2F0KHBhdGhzIHx8IFtdKTtcbiAgY29uc3QgeWFtbHMgPSBmaWxlcy5tYXAocGF0aCA9PiBzYWZlTG9hZChyZWFkKHBhdGgsICd1dGY4JykpKTtcbiAgcmV0dXJuIG1lcmdlKHlhbWxzKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/serve/read_yaml_config.js"
      ],
      "names": [],
      "mappings": ";;;;;;;sBAA+D,QAAQ;;kBAClC,IAAI;;sBAChB,SAAS;;qBAGT,aAAa;;AAE/B,SAAS,KAAK,CAAC,OAAO,EAAE;AAC7B,SAAO,uBAAU,OAAO,EAAE,UAAC,MAAM,EAAE,MAAM,EAAK;AAC5C,wBAAO,MAAM,EAAE,SAAS,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE;AACtC,UAAI,2BAAc,GAAG,CAAC,EAAE;AACtB,4BAAO,GAAG,EAAE,UAAU,MAAM,EAAE,MAAM,EAAE;AACpC,eAAK,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC;SACnC,CAAC,CAAC;AACH,eAAO;OACR;;AAED,UAAI,qBAAQ,GAAG,CAAC,EAAE;AAChB,yBAAI,MAAM,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;AACrB,WAAG,CAAC,OAAO,CAAC,UAAC,MAAM,EAAE,CAAC;iBAAK,KAAK,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;SAAA,CAAC,CAAC;AACzD,eAAO;OACR;;AAED,uBAAI,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;KACvB,CAAC,CAAC;GACJ,EAAE,EAAE,CAAC,CAAC;CACR;;qBAEc,UAAU,KAAK,EAAE;AAC9B,MAAM,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;AACrC,MAAM,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,UAAA,IAAI;WAAI,sBAAS,sBAAK,IAAI,EAAE,MAAM,CAAC,CAAC;GAAA,CAAC,CAAC;AAC9D,SAAO,KAAK,CAAC,KAAK,CAAC,CAAC;CACrB",
      "file": "/Users/osagiefo/kibana-aws/src/cli/serve/read_yaml_config.js",
      "sourcesContent": [
        "import { isArray, isPlainObject, forOwn, set, transform } from 'lodash';\nimport { readFileSync as read } from 'fs';\nimport { safeLoad } from 'js-yaml';\n\n\nimport { fromRoot } from '../../utils';\n\nexport function merge(sources) {\n  return transform(sources, (merged, source) => {\n    forOwn(source, function apply(val, key) {\n      if (isPlainObject(val)) {\n        forOwn(val, function (subVal, subKey) {\n          apply(subVal, key + '.' + subKey);\n        });\n        return;\n      }\n\n      if (isArray(val)) {\n        set(merged, key, []);\n        val.forEach((subVal, i) => apply(subVal, key + '.' + i));\n        return;\n      }\n\n      set(merged, key, val);\n    });\n  }, {});\n}\n\nexport default function (paths) {\n  const files = [].concat(paths || []);\n  const yamls = files.map(path => safeLoad(read(path, 'utf8')));\n  return merge(yamls);\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/dev_ssl.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "DEV_SSL_CERT_PATH",
            "DEV_SSL_KEY_PATH"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "DEV_SSL_CERT_PATH",
              "exported": "DEV_SSL_CERT_PATH"
            },
            {
              "kind": "local",
              "local": "DEV_SSL_KEY_PATH",
              "exported": "DEV_SSL_KEY_PATH"
            }
          ]
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _path = require('path');\n\nvar DEV_SSL_CERT_PATH = (0, _path.resolve)(__dirname, '../../test/dev_certs/server.crt');\nexports.DEV_SSL_CERT_PATH = DEV_SSL_CERT_PATH;\nvar DEV_SSL_KEY_PATH = (0, _path.resolve)(__dirname, '../../test/dev_certs/server.key');\nexports.DEV_SSL_KEY_PATH = DEV_SSL_KEY_PATH;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvZGV2X3NzbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7b0JBQXdCLE1BQU07O0FBQ3ZCLElBQU0saUJBQWlCLEdBQUcsbUJBQVEsU0FBUyxFQUFFLGlDQUFpQyxDQUFDLENBQUM7O0FBQ2hGLElBQU0sZ0JBQWdCLEdBQUcsbUJBQVEsU0FBUyxFQUFFLGlDQUFpQyxDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NsaS9kZXZfc3NsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuZXhwb3J0IGNvbnN0IERFVl9TU0xfQ0VSVF9QQVRIID0gcmVzb2x2ZShfX2Rpcm5hbWUsICcuLi8uLi90ZXN0L2Rldl9jZXJ0cy9zZXJ2ZXIuY3J0Jyk7XG5leHBvcnQgY29uc3QgREVWX1NTTF9LRVlfUEFUSCA9IHJlc29sdmUoX19kaXJuYW1lLCAnLi4vLi4vdGVzdC9kZXZfY2VydHMvc2VydmVyLmtleScpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/dev_ssl.js"
      ],
      "names": [],
      "mappings": ";;;;;;oBAAwB,MAAM;;AACvB,IAAM,iBAAiB,GAAG,mBAAQ,SAAS,EAAE,iCAAiC,CAAC,CAAC;;AAChF,IAAM,gBAAgB,GAAG,mBAAQ,SAAS,EAAE,iCAAiC,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/cli/dev_ssl.js",
      "sourcesContent": [
        "import { resolve } from 'path';\nexport const DEV_SSL_CERT_PATH = resolve(__dirname, '../../test/dev_certs/server.crt');\nexport const DEV_SSL_KEY_PATH = resolve(__dirname, '../../test/dev_certs/server.key');\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/cluster/cluster_manager.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "cluster",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "cluster"
              }
            ]
          },
          {
            "source": "hapi",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Hapi"
              }
            ]
          },
          {
            "source": "../log",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Log"
              }
            ]
          },
          {
            "source": "./worker",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Worker"
              }
            ]
          },
          {
            "source": "./base_path_proxy",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "BasePathProxy"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "to-consumable-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _cluster = require('cluster');\n\nvar _cluster2 = _interopRequireDefault(_cluster);\n\nvar _hapi = require('hapi');\n\nvar _hapi2 = _interopRequireDefault(_hapi);\n\nvar _log = require('../log');\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar _worker = require('./worker');\n\nvar _worker2 = _interopRequireDefault(_worker);\n\nvar _base_path_proxy = require('./base_path_proxy');\n\nvar _base_path_proxy2 = _interopRequireDefault(_base_path_proxy);\n\nvar _require = require('path');\n\nvar join = _require.join;\nvar resolve = _require.resolve;\n\nvar _require2 = require('url');\n\nvar formatUrl = _require2.format;\n\nvar _require3 = require('lodash');\n\nvar debounce = _require3.debounce;\nvar compact = _require3.compact;\nvar get = _require3.get;\nvar invoke = _require3.invoke;\nvar bindAll = _require3.bindAll;\nvar once = _require3.once;\nvar sample = _require3.sample;\nvar uniq = _require3.uniq;\n\nprocess.env.kbnWorkerType = 'managr';\n\nmodule.exports = (function () {\n  function ClusterManager() {\n    var _this = this;\n\n    var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var settings = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, ClusterManager);\n\n    this.log = new _log2['default'](opts.quiet, opts.silent);\n    this.addedCount = 0;\n\n    var serverArgv = [];\n    var optimizerArgv = ['--plugins.initialize=false', '--uiSettings.enabled=false', '--server.autoListen=false'];\n\n    if (opts.basePath) {\n      this.basePathProxy = new _base_path_proxy2['default'](this, settings);\n\n      optimizerArgv.push('--server.basePath=' + this.basePathProxy.basePath);\n\n      serverArgv.push('--server.port=' + this.basePathProxy.targetPort, '--server.basePath=' + this.basePathProxy.basePath);\n    }\n\n    this.workers = [this.optimizer = new _worker2['default']({\n      type: 'optmzr',\n      title: 'optimizer',\n      log: this.log,\n      argv: optimizerArgv,\n      watch: false\n    }), this.server = new _worker2['default']({\n      type: 'server',\n      log: this.log,\n      argv: serverArgv\n    })];\n\n    // broker messages between workers\n    this.workers.forEach(function (worker) {\n      worker.on('broadcast', function (msg) {\n        _this.workers.forEach(function (to) {\n          if (to !== worker && to.online) {\n            to.fork.send(msg);\n          }\n        });\n      });\n    });\n\n    bindAll(this, 'onWatcherAdd', 'onWatcherError', 'onWatcherChange');\n\n    if (opts.watch) {\n      this.setupWatching([].concat(_toConsumableArray(settings.plugins.paths), _toConsumableArray(settings.plugins.scanDirs)));\n    } else this.startCluster();\n  }\n\n  _createClass(ClusterManager, [{\n    key: 'startCluster',\n    value: function startCluster() {\n      this.setupManualRestart();\n      invoke(this.workers, 'start');\n      if (this.basePathProxy) {\n        this.basePathProxy.listen();\n      }\n    }\n  }, {\n    key: 'setupWatching',\n    value: function setupWatching(extraPaths) {\n      var _this2 = this;\n\n      var chokidar = require('chokidar');\n      var fromRoot = require('../../utils/from_root');\n\n      var watchPaths = [fromRoot('src/core_plugins'), fromRoot('src/server'), fromRoot('src/ui'), fromRoot('src/utils'), fromRoot('config')].concat(_toConsumableArray(extraPaths)).map(function (path) {\n        return resolve(path);\n      });\n\n      this.watcher = chokidar.watch(uniq(watchPaths), {\n        cwd: fromRoot('.'),\n        ignored: /[\\\\\\/](\\..*|node_modules|bower_components|public|__tests__|coverage)[\\\\\\/]/\n      });\n\n      this.watcher.on('add', this.onWatcherAdd);\n      this.watcher.on('error', this.onWatcherError);\n\n      this.watcher.on('ready', once(function () {\n        // start sending changes to workers\n        _this2.watcher.removeListener('add', _this2.onWatcherAdd);\n        _this2.watcher.on('all', _this2.onWatcherChange);\n\n        _this2.log.good('watching for changes', '(' + _this2.addedCount + ' files)');\n        _this2.startCluster();\n      }));\n    }\n  }, {\n    key: 'setupManualRestart',\n    value: function setupManualRestart() {\n      var _this3 = this;\n\n      var readline = require('readline');\n      var rl = readline.createInterface(process.stdin, process.stdout);\n\n      var nls = 0;\n      var clear = function clear() {\n        return nls = 0;\n      };\n      var clearSoon = debounce(clear, 2000);\n\n      rl.setPrompt('');\n      rl.prompt();\n\n      rl.on('line', function (line) {\n        nls = nls + 1;\n\n        if (nls >= 2) {\n          clearSoon.cancel();\n          clear();\n          _this3.server.start();\n        } else {\n          clearSoon();\n        }\n\n        rl.prompt();\n      });\n\n      rl.on('SIGINT', function () {\n        rl.pause();\n        process.kill(process.pid, 'SIGINT');\n      });\n    }\n  }, {\n    key: 'onWatcherAdd',\n    value: function onWatcherAdd() {\n      this.addedCount += 1;\n    }\n  }, {\n    key: 'onWatcherChange',\n    value: function onWatcherChange(e, path) {\n      invoke(this.workers, 'onChange', path);\n    }\n  }, {\n    key: 'onWatcherError',\n    value: function onWatcherError(err) {\n      this.log.bad('failed to watch files!\\n', err.stack);\n      process.exit(1); // eslint-disable-line no-process-exit\n    }\n  }]);\n\n  return ClusterManager;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvY2x1c3Rlci9jbHVzdGVyX21hbmFnZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozt1QkFBb0IsU0FBUzs7OztvQkFHWixNQUFNOzs7O21CQUdQLFFBQVE7Ozs7c0JBQ0wsVUFBVTs7OzsrQkFDSCxtQkFBbUI7Ozs7ZUFQbkIsT0FBTyxDQUFDLE1BQU0sQ0FBQzs7SUFBakMsSUFBSSxZQUFKLElBQUk7SUFBRSxPQUFPLFlBQVAsT0FBTzs7Z0JBQ1MsT0FBTyxDQUFDLEtBQUssQ0FBQzs7SUFBNUIsU0FBUyxhQUFqQixNQUFNOztnQkFFMEQsT0FBTyxDQUFDLFFBQVEsQ0FBQzs7SUFBakYsUUFBUSxhQUFSLFFBQVE7SUFBRSxPQUFPLGFBQVAsT0FBTztJQUFFLEdBQUcsYUFBSCxHQUFHO0lBQUUsTUFBTSxhQUFOLE1BQU07SUFBRSxPQUFPLGFBQVAsT0FBTztJQUFFLElBQUksYUFBSixJQUFJO0lBQUUsTUFBTSxhQUFOLE1BQU07SUFBRSxJQUFJLGFBQUosSUFBSTs7QUFNbkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDOztBQUVyQyxNQUFNLENBQUMsT0FBTztBQUNELFdBRFUsY0FBYyxHQUNHOzs7UUFBMUIsSUFBSSx5REFBRyxFQUFFO1FBQUUsUUFBUSx5REFBRyxFQUFFOzswQkFEZixjQUFjOztBQUVqQyxRQUFJLENBQUMsR0FBRyxHQUFHLHFCQUFRLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzVDLFFBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDOztBQUVwQixRQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDdEIsUUFBTSxhQUFhLEdBQUcsQ0FDcEIsNEJBQTRCLEVBQzVCLDRCQUE0QixFQUM1QiwyQkFBMkIsQ0FDNUIsQ0FBQzs7QUFFRixRQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7QUFDakIsVUFBSSxDQUFDLGFBQWEsR0FBRyxpQ0FBa0IsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDOztBQUV2RCxtQkFBYSxDQUFDLElBQUksd0JBQ0ssSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQ2pELENBQUM7O0FBRUYsZ0JBQVUsQ0FBQyxJQUFJLG9CQUNJLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSx5QkFDekIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQ2pELENBQUM7S0FDSDs7QUFFRCxRQUFJLENBQUMsT0FBTyxHQUFHLENBQ2IsSUFBSSxDQUFDLFNBQVMsR0FBRyx3QkFBVztBQUMxQixVQUFJLEVBQUUsUUFBUTtBQUNkLFdBQUssRUFBRSxXQUFXO0FBQ2xCLFNBQUcsRUFBRSxJQUFJLENBQUMsR0FBRztBQUNiLFVBQUksRUFBRSxhQUFhO0FBQ25CLFdBQUssRUFBRSxLQUFLO0tBQ2IsQ0FBQyxFQUVGLElBQUksQ0FBQyxNQUFNLEdBQUcsd0JBQVc7QUFDdkIsVUFBSSxFQUFFLFFBQVE7QUFDZCxTQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7QUFDYixVQUFJLEVBQUUsVUFBVTtLQUNqQixDQUFDLENBQ0gsQ0FBQzs7O0FBR0YsUUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBQyxNQUFNLEVBQUs7QUFDL0IsWUFBTSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsVUFBQyxHQUFHLEVBQUs7QUFDOUIsY0FBSyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQUMsRUFBRSxFQUFLO0FBQzNCLGNBQUksRUFBRSxLQUFLLE1BQU0sSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFO0FBQzlCLGNBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1dBQ25CO1NBQ0YsQ0FBQyxDQUFDO09BQ0osQ0FBQyxDQUFDO0tBQ0osQ0FBQyxDQUFDOztBQUVILFdBQU8sQ0FBQyxJQUFJLEVBQUUsY0FBYyxFQUFFLGdCQUFnQixFQUFFLGlCQUFpQixDQUFDLENBQUM7O0FBRW5FLFFBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtBQUNkLFVBQUksQ0FBQyxhQUFhLDhCQUNiLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxzQkFDdEIsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQzVCLENBQUM7S0FDSixNQUVJLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztHQUMxQjs7ZUE5RG9CLGNBQWM7O1dBZ0V2Qix3QkFBRztBQUNiLFVBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO0FBQzFCLFlBQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQzlCLFVBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtBQUN0QixZQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDO09BQzdCO0tBQ0Y7OztXQUVZLHVCQUFDLFVBQVUsRUFBRTs7O0FBQ3hCLFVBQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNyQyxVQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQzs7QUFFbEQsVUFBTSxVQUFVLEdBQUcsQ0FDakIsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEVBQzVCLFFBQVEsQ0FBQyxZQUFZLENBQUMsRUFDdEIsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUNsQixRQUFRLENBQUMsV0FBVyxDQUFDLEVBQ3JCLFFBQVEsQ0FBQyxRQUFRLENBQUMsNEJBQ2YsVUFBVSxHQUNiLEdBQUcsQ0FBQyxVQUFBLElBQUk7ZUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDO09BQUEsQ0FBQyxDQUFDOztBQUU3QixVQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQzlDLFdBQUcsRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDO0FBQ2xCLGVBQU8sRUFBRSw0RUFBNEU7T0FDdEYsQ0FBQyxDQUFDOztBQUVILFVBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDMUMsVUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQzs7QUFFOUMsVUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxZQUFNOztBQUVsQyxlQUFLLE9BQU8sQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLE9BQUssWUFBWSxDQUFDLENBQUM7QUFDdEQsZUFBSyxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxPQUFLLGVBQWUsQ0FBQyxDQUFDOztBQUU3QyxlQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsc0JBQXNCLFFBQU0sT0FBSyxVQUFVLGFBQVUsQ0FBQztBQUNwRSxlQUFLLFlBQVksRUFBRSxDQUFDO09BQ3JCLENBQUMsQ0FBQyxDQUFDO0tBQ0w7OztXQUVpQiw4QkFBRzs7O0FBQ25CLFVBQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNyQyxVQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztBQUVuRSxVQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFDWixVQUFNLEtBQUssR0FBRyxTQUFSLEtBQUs7ZUFBUyxHQUFHLEdBQUcsQ0FBQztPQUFBLENBQUM7QUFDNUIsVUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQzs7QUFFeEMsUUFBRSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNqQixRQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7O0FBRVosUUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsVUFBQSxJQUFJLEVBQUk7QUFDcEIsV0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7O0FBRWQsWUFBSSxHQUFHLElBQUksQ0FBQyxFQUFFO0FBQ1osbUJBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNuQixlQUFLLEVBQUUsQ0FBQztBQUNSLGlCQUFLLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUNyQixNQUFNO0FBQ0wsbUJBQVMsRUFBRSxDQUFDO1NBQ2I7O0FBRUQsVUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO09BQ2IsQ0FBQyxDQUFDOztBQUVILFFBQUUsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFlBQU07QUFDcEIsVUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ1gsZUFBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDO09BQ3JDLENBQUMsQ0FBQztLQUNKOzs7V0FFVyx3QkFBRztBQUNiLFVBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDO0tBQ3RCOzs7V0FFYyx5QkFBQyxDQUFDLEVBQUUsSUFBSSxFQUFFO0FBQ3ZCLFlBQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUN4Qzs7O1dBRWEsd0JBQUMsR0FBRyxFQUFFO0FBQ2xCLFVBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLDBCQUEwQixFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNwRCxhQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ2pCOzs7U0FqSm9CLGNBQWM7SUFrSnBDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NsaS9jbHVzdGVyL2NsdXN0ZXJfbWFuYWdlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbHVzdGVyIGZyb20gJ2NsdXN0ZXInO1xuY29uc3QgeyBqb2luLCByZXNvbHZlIH0gPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCB7IGZvcm1hdDogZm9ybWF0VXJsIH0gPSByZXF1aXJlKCd1cmwnKTtcbmltcG9ydCBIYXBpIGZyb20gJ2hhcGknO1xuY29uc3QgeyBkZWJvdW5jZSwgY29tcGFjdCwgZ2V0LCBpbnZva2UsIGJpbmRBbGwsIG9uY2UsIHNhbXBsZSwgdW5pcSB9ID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vbG9nJztcbmltcG9ydCBXb3JrZXIgZnJvbSAnLi93b3JrZXInO1xuaW1wb3J0IEJhc2VQYXRoUHJveHkgZnJvbSAnLi9iYXNlX3BhdGhfcHJveHknO1xuXG5wcm9jZXNzLmVudi5rYm5Xb3JrZXJUeXBlID0gJ21hbmFncic7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgQ2x1c3Rlck1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihvcHRzID0ge30sIHNldHRpbmdzID0ge30pIHtcbiAgICB0aGlzLmxvZyA9IG5ldyBMb2cob3B0cy5xdWlldCwgb3B0cy5zaWxlbnQpO1xuICAgIHRoaXMuYWRkZWRDb3VudCA9IDA7XG5cbiAgICBjb25zdCBzZXJ2ZXJBcmd2ID0gW107XG4gICAgY29uc3Qgb3B0aW1pemVyQXJndiA9IFtcbiAgICAgICctLXBsdWdpbnMuaW5pdGlhbGl6ZT1mYWxzZScsXG4gICAgICAnLS11aVNldHRpbmdzLmVuYWJsZWQ9ZmFsc2UnLFxuICAgICAgJy0tc2VydmVyLmF1dG9MaXN0ZW49ZmFsc2UnLFxuICAgIF07XG5cbiAgICBpZiAob3B0cy5iYXNlUGF0aCkge1xuICAgICAgdGhpcy5iYXNlUGF0aFByb3h5ID0gbmV3IEJhc2VQYXRoUHJveHkodGhpcywgc2V0dGluZ3MpO1xuXG4gICAgICBvcHRpbWl6ZXJBcmd2LnB1c2goXG4gICAgICAgIGAtLXNlcnZlci5iYXNlUGF0aD0ke3RoaXMuYmFzZVBhdGhQcm94eS5iYXNlUGF0aH1gXG4gICAgICApO1xuXG4gICAgICBzZXJ2ZXJBcmd2LnB1c2goXG4gICAgICAgIGAtLXNlcnZlci5wb3J0PSR7dGhpcy5iYXNlUGF0aFByb3h5LnRhcmdldFBvcnR9YCxcbiAgICAgICAgYC0tc2VydmVyLmJhc2VQYXRoPSR7dGhpcy5iYXNlUGF0aFByb3h5LmJhc2VQYXRofWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy53b3JrZXJzID0gW1xuICAgICAgdGhpcy5vcHRpbWl6ZXIgPSBuZXcgV29ya2VyKHtcbiAgICAgICAgdHlwZTogJ29wdG16cicsXG4gICAgICAgIHRpdGxlOiAnb3B0aW1pemVyJyxcbiAgICAgICAgbG9nOiB0aGlzLmxvZyxcbiAgICAgICAgYXJndjogb3B0aW1pemVyQXJndixcbiAgICAgICAgd2F0Y2g6IGZhbHNlXG4gICAgICB9KSxcblxuICAgICAgdGhpcy5zZXJ2ZXIgPSBuZXcgV29ya2VyKHtcbiAgICAgICAgdHlwZTogJ3NlcnZlcicsXG4gICAgICAgIGxvZzogdGhpcy5sb2csXG4gICAgICAgIGFyZ3Y6IHNlcnZlckFyZ3ZcbiAgICAgIH0pXG4gICAgXTtcblxuICAgIC8vIGJyb2tlciBtZXNzYWdlcyBiZXR3ZWVuIHdvcmtlcnNcbiAgICB0aGlzLndvcmtlcnMuZm9yRWFjaCgod29ya2VyKSA9PiB7XG4gICAgICB3b3JrZXIub24oJ2Jyb2FkY2FzdCcsIChtc2cpID0+IHtcbiAgICAgICAgdGhpcy53b3JrZXJzLmZvckVhY2goKHRvKSA9PiB7XG4gICAgICAgICAgaWYgKHRvICE9PSB3b3JrZXIgJiYgdG8ub25saW5lKSB7XG4gICAgICAgICAgICB0by5mb3JrLnNlbmQobXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBiaW5kQWxsKHRoaXMsICdvbldhdGNoZXJBZGQnLCAnb25XYXRjaGVyRXJyb3InLCAnb25XYXRjaGVyQ2hhbmdlJyk7XG5cbiAgICBpZiAob3B0cy53YXRjaCkge1xuICAgICAgdGhpcy5zZXR1cFdhdGNoaW5nKFtcbiAgICAgICAgLi4uc2V0dGluZ3MucGx1Z2lucy5wYXRocyxcbiAgICAgICAgLi4uc2V0dGluZ3MucGx1Z2lucy5zY2FuRGlyc1xuICAgICAgXSk7XG4gICAgfVxuXG4gICAgZWxzZSB0aGlzLnN0YXJ0Q2x1c3RlcigpO1xuICB9XG5cbiAgc3RhcnRDbHVzdGVyKCkge1xuICAgIHRoaXMuc2V0dXBNYW51YWxSZXN0YXJ0KCk7XG4gICAgaW52b2tlKHRoaXMud29ya2VycywgJ3N0YXJ0Jyk7XG4gICAgaWYgKHRoaXMuYmFzZVBhdGhQcm94eSkge1xuICAgICAgdGhpcy5iYXNlUGF0aFByb3h5Lmxpc3RlbigpO1xuICAgIH1cbiAgfVxuXG4gIHNldHVwV2F0Y2hpbmcoZXh0cmFQYXRocykge1xuICAgIGNvbnN0IGNob2tpZGFyID0gcmVxdWlyZSgnY2hva2lkYXInKTtcbiAgICBjb25zdCBmcm9tUm9vdCA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2Zyb21fcm9vdCcpO1xuXG4gICAgY29uc3Qgd2F0Y2hQYXRocyA9IFtcbiAgICAgIGZyb21Sb290KCdzcmMvY29yZV9wbHVnaW5zJyksXG4gICAgICBmcm9tUm9vdCgnc3JjL3NlcnZlcicpLFxuICAgICAgZnJvbVJvb3QoJ3NyYy91aScpLFxuICAgICAgZnJvbVJvb3QoJ3NyYy91dGlscycpLFxuICAgICAgZnJvbVJvb3QoJ2NvbmZpZycpLFxuICAgICAgLi4uZXh0cmFQYXRoc1xuICAgIF0ubWFwKHBhdGggPT4gcmVzb2x2ZShwYXRoKSk7XG5cbiAgICB0aGlzLndhdGNoZXIgPSBjaG9raWRhci53YXRjaCh1bmlxKHdhdGNoUGF0aHMpLCB7XG4gICAgICBjd2Q6IGZyb21Sb290KCcuJyksXG4gICAgICBpZ25vcmVkOiAvW1xcXFxcXC9dKFxcLi4qfG5vZGVfbW9kdWxlc3xib3dlcl9jb21wb25lbnRzfHB1YmxpY3xfX3Rlc3RzX198Y292ZXJhZ2UpW1xcXFxcXC9dL1xuICAgIH0pO1xuXG4gICAgdGhpcy53YXRjaGVyLm9uKCdhZGQnLCB0aGlzLm9uV2F0Y2hlckFkZCk7XG4gICAgdGhpcy53YXRjaGVyLm9uKCdlcnJvcicsIHRoaXMub25XYXRjaGVyRXJyb3IpO1xuXG4gICAgdGhpcy53YXRjaGVyLm9uKCdyZWFkeScsIG9uY2UoKCkgPT4ge1xuICAgICAgLy8gc3RhcnQgc2VuZGluZyBjaGFuZ2VzIHRvIHdvcmtlcnNcbiAgICAgIHRoaXMud2F0Y2hlci5yZW1vdmVMaXN0ZW5lcignYWRkJywgdGhpcy5vbldhdGNoZXJBZGQpO1xuICAgICAgdGhpcy53YXRjaGVyLm9uKCdhbGwnLCB0aGlzLm9uV2F0Y2hlckNoYW5nZSk7XG5cbiAgICAgIHRoaXMubG9nLmdvb2QoJ3dhdGNoaW5nIGZvciBjaGFuZ2VzJywgYCgke3RoaXMuYWRkZWRDb3VudH0gZmlsZXMpYCk7XG4gICAgICB0aGlzLnN0YXJ0Q2x1c3RlcigpO1xuICAgIH0pKTtcbiAgfVxuXG4gIHNldHVwTWFudWFsUmVzdGFydCgpIHtcbiAgICBjb25zdCByZWFkbGluZSA9IHJlcXVpcmUoJ3JlYWRsaW5lJyk7XG4gICAgY29uc3QgcmwgPSByZWFkbGluZS5jcmVhdGVJbnRlcmZhY2UocHJvY2Vzcy5zdGRpbiwgcHJvY2Vzcy5zdGRvdXQpO1xuXG4gICAgbGV0IG5scyA9IDA7XG4gICAgY29uc3QgY2xlYXIgPSAoKSA9PiBubHMgPSAwO1xuICAgIGNvbnN0IGNsZWFyU29vbiA9IGRlYm91bmNlKGNsZWFyLCAyMDAwKTtcblxuICAgIHJsLnNldFByb21wdCgnJyk7XG4gICAgcmwucHJvbXB0KCk7XG5cbiAgICBybC5vbignbGluZScsIGxpbmUgPT4ge1xuICAgICAgbmxzID0gbmxzICsgMTtcblxuICAgICAgaWYgKG5scyA+PSAyKSB7XG4gICAgICAgIGNsZWFyU29vbi5jYW5jZWwoKTtcbiAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zZXJ2ZXIuc3RhcnQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsZWFyU29vbigpO1xuICAgICAgfVxuXG4gICAgICBybC5wcm9tcHQoKTtcbiAgICB9KTtcblxuICAgIHJsLm9uKCdTSUdJTlQnLCAoKSA9PiB7XG4gICAgICBybC5wYXVzZSgpO1xuICAgICAgcHJvY2Vzcy5raWxsKHByb2Nlc3MucGlkLCAnU0lHSU5UJyk7XG4gICAgfSk7XG4gIH1cblxuICBvbldhdGNoZXJBZGQoKSB7XG4gICAgdGhpcy5hZGRlZENvdW50ICs9IDE7XG4gIH1cblxuICBvbldhdGNoZXJDaGFuZ2UoZSwgcGF0aCkge1xuICAgIGludm9rZSh0aGlzLndvcmtlcnMsICdvbkNoYW5nZScsIHBhdGgpO1xuICB9XG5cbiAgb25XYXRjaGVyRXJyb3IoZXJyKSB7XG4gICAgdGhpcy5sb2cuYmFkKCdmYWlsZWQgdG8gd2F0Y2ggZmlsZXMhXFxuJywgZXJyLnN0YWNrKTtcbiAgICBwcm9jZXNzLmV4aXQoMSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvY2Vzcy1leGl0XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/cluster/cluster_manager.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/cli/cluster/cluster_manager.js",
      "sourcesContent": [
        "import cluster from 'cluster';\nconst { join, resolve } = require('path');\nconst { format: formatUrl } = require('url');\nimport Hapi from 'hapi';\nconst { debounce, compact, get, invoke, bindAll, once, sample, uniq } = require('lodash');\n\nimport Log from '../log';\nimport Worker from './worker';\nimport BasePathProxy from './base_path_proxy';\n\nprocess.env.kbnWorkerType = 'managr';\n\nmodule.exports = class ClusterManager {\n  constructor(opts = {}, settings = {}) {\n    this.log = new Log(opts.quiet, opts.silent);\n    this.addedCount = 0;\n\n    const serverArgv = [];\n    const optimizerArgv = [\n      '--plugins.initialize=false',\n      '--uiSettings.enabled=false',\n      '--server.autoListen=false',\n    ];\n\n    if (opts.basePath) {\n      this.basePathProxy = new BasePathProxy(this, settings);\n\n      optimizerArgv.push(\n        `--server.basePath=${this.basePathProxy.basePath}`\n      );\n\n      serverArgv.push(\n        `--server.port=${this.basePathProxy.targetPort}`,\n        `--server.basePath=${this.basePathProxy.basePath}`\n      );\n    }\n\n    this.workers = [\n      this.optimizer = new Worker({\n        type: 'optmzr',\n        title: 'optimizer',\n        log: this.log,\n        argv: optimizerArgv,\n        watch: false\n      }),\n\n      this.server = new Worker({\n        type: 'server',\n        log: this.log,\n        argv: serverArgv\n      })\n    ];\n\n    // broker messages between workers\n    this.workers.forEach((worker) => {\n      worker.on('broadcast', (msg) => {\n        this.workers.forEach((to) => {\n          if (to !== worker && to.online) {\n            to.fork.send(msg);\n          }\n        });\n      });\n    });\n\n    bindAll(this, 'onWatcherAdd', 'onWatcherError', 'onWatcherChange');\n\n    if (opts.watch) {\n      this.setupWatching([\n        ...settings.plugins.paths,\n        ...settings.plugins.scanDirs\n      ]);\n    }\n\n    else this.startCluster();\n  }\n\n  startCluster() {\n    this.setupManualRestart();\n    invoke(this.workers, 'start');\n    if (this.basePathProxy) {\n      this.basePathProxy.listen();\n    }\n  }\n\n  setupWatching(extraPaths) {\n    const chokidar = require('chokidar');\n    const fromRoot = require('../../utils/from_root');\n\n    const watchPaths = [\n      fromRoot('src/core_plugins'),\n      fromRoot('src/server'),\n      fromRoot('src/ui'),\n      fromRoot('src/utils'),\n      fromRoot('config'),\n      ...extraPaths\n    ].map(path => resolve(path));\n\n    this.watcher = chokidar.watch(uniq(watchPaths), {\n      cwd: fromRoot('.'),\n      ignored: /[\\\\\\/](\\..*|node_modules|bower_components|public|__tests__|coverage)[\\\\\\/]/\n    });\n\n    this.watcher.on('add', this.onWatcherAdd);\n    this.watcher.on('error', this.onWatcherError);\n\n    this.watcher.on('ready', once(() => {\n      // start sending changes to workers\n      this.watcher.removeListener('add', this.onWatcherAdd);\n      this.watcher.on('all', this.onWatcherChange);\n\n      this.log.good('watching for changes', `(${this.addedCount} files)`);\n      this.startCluster();\n    }));\n  }\n\n  setupManualRestart() {\n    const readline = require('readline');\n    const rl = readline.createInterface(process.stdin, process.stdout);\n\n    let nls = 0;\n    const clear = () => nls = 0;\n    const clearSoon = debounce(clear, 2000);\n\n    rl.setPrompt('');\n    rl.prompt();\n\n    rl.on('line', line => {\n      nls = nls + 1;\n\n      if (nls >= 2) {\n        clearSoon.cancel();\n        clear();\n        this.server.start();\n      } else {\n        clearSoon();\n      }\n\n      rl.prompt();\n    });\n\n    rl.on('SIGINT', () => {\n      rl.pause();\n      process.kill(process.pid, 'SIGINT');\n    });\n  }\n\n  onWatcherAdd() {\n    this.addedCount += 1;\n  }\n\n  onWatcherChange(e, path) {\n    invoke(this.workers, 'onChange', path);\n  }\n\n  onWatcherError(err) {\n    this.log.bad('failed to watch files!\\n', err.stack);\n    process.exit(1); // eslint-disable-line no-process-exit\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/log.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "ansicolors",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ansicolors"
              }
            ]
          },
          {
            "source": "./color",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "color"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _ansicolors = require('ansicolors');\n\nvar _ansicolors2 = _interopRequireDefault(_ansicolors);\n\nvar _color = require('./color');\n\nvar _color2 = _interopRequireDefault(_color);\n\nvar log = _lodash2['default'].restParam(function (color, label, rest1) {\n  console.log.apply(console, [color(' ' + _lodash2['default'].trim(label) + ' ')].concat(rest1));\n});\n\nmodule.exports = function Log(quiet, silent) {\n  _classCallCheck(this, Log);\n\n  this.good = quiet || silent ? _lodash2['default'].noop : _lodash2['default'].partial(log, _color2['default'].green);\n  this.warn = quiet || silent ? _lodash2['default'].noop : _lodash2['default'].partial(log, _color2['default'].yellow);\n  this.bad = silent ? _lodash2['default'].noop : _lodash2['default'].partial(log, _color2['default'].red);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztzQkFBYyxRQUFROzs7OzBCQUNDLFlBQVk7Ozs7cUJBTWpCLFNBQVM7Ozs7QUFKM0IsSUFBTSxHQUFHLEdBQUcsb0JBQUUsU0FBUyxDQUFDLFVBQVUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDckQsU0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxPQUFLLG9CQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDekUsQ0FBQyxDQUFDOztBQUlILE1BQU0sQ0FBQyxPQUFPLEdBQ0QsU0FEVSxHQUFHLENBQ1osS0FBSyxFQUFFLE1BQU0sRUFBRTt3QkFETixHQUFHOztBQUV0QixNQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssSUFBSSxNQUFNLEdBQUcsb0JBQUUsSUFBSSxHQUFHLG9CQUFFLE9BQU8sQ0FBQyxHQUFHLEVBQUUsbUJBQU0sS0FBSyxDQUFDLENBQUM7QUFDbkUsTUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLElBQUksTUFBTSxHQUFHLG9CQUFFLElBQUksR0FBRyxvQkFBRSxPQUFPLENBQUMsR0FBRyxFQUFFLG1CQUFNLE1BQU0sQ0FBQyxDQUFDO0FBQ3BFLE1BQUksQ0FBQyxHQUFHLEdBQUcsTUFBTSxHQUFHLG9CQUFFLElBQUksR0FBRyxvQkFBRSxPQUFPLENBQUMsR0FBRyxFQUFFLG1CQUFNLEdBQUcsQ0FBQyxDQUFDO0NBQ3hELEFBQ0YsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY2xpL2xvZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgYW5zaWNvbG9ycyBmcm9tICdhbnNpY29sb3JzJztcblxuY29uc3QgbG9nID0gXy5yZXN0UGFyYW0oZnVuY3Rpb24gKGNvbG9yLCBsYWJlbCwgcmVzdDEpIHtcbiAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgW2NvbG9yKGAgJHtfLnRyaW0obGFiZWwpfSBgKV0uY29uY2F0KHJlc3QxKSk7XG59KTtcblxuaW1wb3J0IGNvbG9yIGZyb20gJy4vY29sb3InO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIExvZyB7XG4gIGNvbnN0cnVjdG9yKHF1aWV0LCBzaWxlbnQpIHtcbiAgICB0aGlzLmdvb2QgPSBxdWlldCB8fCBzaWxlbnQgPyBfLm5vb3AgOiBfLnBhcnRpYWwobG9nLCBjb2xvci5ncmVlbik7XG4gICAgdGhpcy53YXJuID0gcXVpZXQgfHwgc2lsZW50ID8gXy5ub29wIDogXy5wYXJ0aWFsKGxvZywgY29sb3IueWVsbG93KTtcbiAgICB0aGlzLmJhZCA9IHNpbGVudCA/IF8ubm9vcCA6IF8ucGFydGlhbChsb2csIGNvbG9yLnJlZCk7XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/log.js"
      ],
      "names": [],
      "mappings": ";;;;;;sBAAc,QAAQ;;;;0BACC,YAAY;;;;qBAMjB,SAAS;;;;AAJ3B,IAAM,GAAG,GAAG,oBAAE,SAAS,CAAC,UAAU,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE;AACrD,SAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,OAAK,oBAAE,IAAI,CAAC,KAAK,CAAC,OAAI,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;CACzE,CAAC,CAAC;;AAIH,MAAM,CAAC,OAAO,GACD,SADU,GAAG,CACZ,KAAK,EAAE,MAAM,EAAE;wBADN,GAAG;;AAEtB,MAAI,CAAC,IAAI,GAAG,KAAK,IAAI,MAAM,GAAG,oBAAE,IAAI,GAAG,oBAAE,OAAO,CAAC,GAAG,EAAE,mBAAM,KAAK,CAAC,CAAC;AACnE,MAAI,CAAC,IAAI,GAAG,KAAK,IAAI,MAAM,GAAG,oBAAE,IAAI,GAAG,oBAAE,OAAO,CAAC,GAAG,EAAE,mBAAM,MAAM,CAAC,CAAC;AACpE,MAAI,CAAC,GAAG,GAAG,MAAM,GAAG,oBAAE,IAAI,GAAG,oBAAE,OAAO,CAAC,GAAG,EAAE,mBAAM,GAAG,CAAC,CAAC;CACxD,AACF,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/cli/log.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport ansicolors from 'ansicolors';\n\nconst log = _.restParam(function (color, label, rest1) {\n  console.log.apply(console, [color(` ${_.trim(label)} `)].concat(rest1));\n});\n\nimport color from './color';\n\nmodule.exports = class Log {\n  constructor(quiet, silent) {\n    this.good = quiet || silent ? _.noop : _.partial(log, color.green);\n    this.warn = quiet || silent ? _.noop : _.partial(log, color.yellow);\n    this.bad = silent ? _.noop : _.partial(log, color.red);\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/cluster/worker.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "cluster",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "cluster"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          },
          {
            "source": "events",
            "imported": [
              "EventEmitter"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "EventEmitter",
                "local": "EventEmitter"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "BinderFor",
              "fromRoot"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "BinderFor",
                "local": "BinderFor"
              },
              {
                "kind": "named",
                "imported": "fromRoot",
                "local": "fromRoot"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "async-to-generator",
        "to-consumable-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _cluster = require('cluster');\n\nvar _cluster2 = _interopRequireDefault(_cluster);\n\nvar _path = require('path');\n\nvar _events = require('events');\n\nvar _utils = require('../../utils');\n\nvar cliPath = (0, _utils.fromRoot)('src/cli');\nvar baseArgs = _lodash2['default'].difference(process.argv.slice(2), ['--no-watch']);\nvar baseArgv = [process.execPath, cliPath].concat(baseArgs);\n\n_cluster2['default'].setupMaster({\n  exec: cliPath,\n  silent: false\n});\n\nvar dead = function dead(fork) {\n  return fork.isDead() || fork.killed;\n};\n\nmodule.exports = (function (_EventEmitter) {\n  _inherits(Worker, _EventEmitter);\n\n  function Worker(opts) {\n    _classCallCheck(this, Worker);\n\n    opts = opts || {};\n    _get(Object.getPrototypeOf(Worker.prototype), 'constructor', this).call(this);\n\n    this.log = opts.log;\n    this.type = opts.type;\n    this.title = opts.title || opts.type;\n    this.watch = opts.watch !== false;\n    this.startCount = 0;\n\n    // status flags\n    this.online = false; // the fork can accept messages\n    this.listening = false; // the fork is listening for connections\n    this.crashed = false; // the fork crashed\n\n    this.changes = [];\n\n    this.forkBinder = null; // defined when the fork is\n    this.clusterBinder = new _utils.BinderFor(_cluster2['default']);\n    this.processBinder = new _utils.BinderFor(process);\n\n    var argv = _lodash2['default'].union(baseArgv, opts.argv || []);\n    this.env = {\n      kbnWorkerType: this.type,\n      kbnWorkerArgv: JSON.stringify(argv)\n    };\n  }\n\n  _createClass(Worker, [{\n    key: 'onExit',\n    value: function onExit(fork, code) {\n      if (this.fork !== fork) return;\n\n      // we have our fork's exit, so stop listening for others\n      this.clusterBinder.destroy();\n\n      // our fork is gone, clear our ref so we don't try to talk to it anymore\n      this.fork = null;\n      this.forkBinder = null;\n\n      this.online = false;\n      this.listening = false;\n      this.emit('fork:exit');\n      this.crashed = code > 0;\n\n      if (this.crashed) {\n        this.emit('crashed');\n        this.log.bad(this.title + ' crashed', 'with status code', code);\n        if (!this.watch) process.exit(code);\n      } else {\n        // restart after graceful shutdowns\n        this.start();\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(path) {\n      if (!this.watch) return;\n      this.changes.push(path);\n      this.start();\n    }\n  }, {\n    key: 'shutdown',\n    value: _asyncToGenerator(function* () {\n      var _this = this;\n\n      if (this.fork && !dead(this.fork)) {\n        // kill the fork\n        this.fork.process.kill();\n        this.fork.killed = true;\n\n        // stop listening to the fork, it's just going to die\n        this.forkBinder.destroy();\n\n        // we don't need to react to process.exit anymore\n        this.processBinder.destroy();\n\n        // wait until the cluster reports this fork has exitted, then resolve\n        yield new Promise(function (resolve) {\n          return _this.once('fork:exit', resolve);\n        });\n      }\n    })\n  }, {\n    key: 'parseIncomingMessage',\n    value: function parseIncomingMessage(msg) {\n      if (!_lodash2['default'].isArray(msg)) return;\n      this.onMessage.apply(this, _toConsumableArray(msg));\n    }\n  }, {\n    key: 'onMessage',\n    value: function onMessage(type, data) {\n      switch (type) {\n        case 'WORKER_BROADCAST':\n          this.emit('broadcast', data);\n          break;\n        case 'WORKER_LISTENING':\n          this.listening = true;\n          this.emit('listening');\n          break;\n      }\n    }\n  }, {\n    key: 'onOnline',\n    value: function onOnline() {\n      this.online = true;\n      this.emit('fork:online');\n      this.crashed = false;\n    }\n  }, {\n    key: 'onDisconnect',\n    value: function onDisconnect() {\n      this.online = false;\n      this.listening = false;\n    }\n  }, {\n    key: 'flushChangeBuffer',\n    value: function flushChangeBuffer() {\n      var files = _lodash2['default'].unique(this.changes.splice(0));\n      var prefix = files.length > 1 ? '\\n - ' : '';\n      return files.reduce(function (list, file) {\n        return '' + (list || '') + prefix + '\"' + file + '\"';\n      }, '');\n    }\n  }, {\n    key: 'start',\n    value: _asyncToGenerator(function* () {\n      var _this2 = this;\n\n      if (this.fork) {\n        // once \"exit\" event is received with 0 status, start() is called again\n        this.shutdown();\n        yield new Promise(function (cb) {\n          return _this2.once('online', cb);\n        });\n        return;\n      }\n\n      if (this.changes.length) {\n        this.log.warn('restarting ' + this.title, 'due to changes in ' + this.flushChangeBuffer());\n      } else if (this.startCount++) {\n        this.log.warn('restarting ' + this.title + '...');\n      }\n\n      this.fork = _cluster2['default'].fork(this.env);\n      this.forkBinder = new _utils.BinderFor(this.fork);\n\n      // when the fork sends a message, comes online, or looses it's connection, then react\n      this.forkBinder.on('message', function (msg) {\n        return _this2.parseIncomingMessage(msg);\n      });\n      this.forkBinder.on('online', function () {\n        return _this2.onOnline();\n      });\n      this.forkBinder.on('disconnect', function () {\n        return _this2.onDisconnect();\n      });\n\n      // when the cluster says a fork has exitted, check if it is ours\n      this.clusterBinder.on('exit', function (fork, code) {\n        return _this2.onExit(fork, code);\n      });\n\n      // when the process exits, make sure we kill our workers\n      this.processBinder.on('exit', function () {\n        return _this2.shutdown();\n      });\n\n      // wait for the fork to report it is online before resolving\n      yield new Promise(function (cb) {\n        return _this2.once('fork:online', cb);\n      });\n    })\n  }]);\n\n  return Worker;\n})(_events.EventEmitter);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvY2x1c3Rlci93b3JrZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztzQkFBYyxRQUFROzs7O3VCQUNGLFNBQVM7Ozs7b0JBQ0wsTUFBTTs7c0JBQ0QsUUFBUTs7cUJBRUQsYUFBYTs7QUFFakQsSUFBTSxPQUFPLEdBQUcscUJBQVMsU0FBUyxDQUFDLENBQUM7QUFDcEMsSUFBTSxRQUFRLEdBQUcsb0JBQUUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztBQUNyRSxJQUFNLFFBQVEsR0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUU5RCxxQkFBUSxXQUFXLENBQUM7QUFDbEIsTUFBSSxFQUFFLE9BQU87QUFDYixRQUFNLEVBQUUsS0FBSztDQUNkLENBQUMsQ0FBQzs7QUFFSCxJQUFNLElBQUksR0FBRyxTQUFQLElBQUksQ0FBRyxJQUFJLEVBQUk7QUFDbkIsU0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQztDQUNyQyxDQUFDOztBQUVGLE1BQU0sQ0FBQyxPQUFPO1lBQVMsTUFBTTs7QUFDaEIsV0FEVSxNQUFNLENBQ2YsSUFBSSxFQUFFOzBCQURHLE1BQU07O0FBRXpCLFFBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0FBQ2xCLCtCQUhtQixNQUFNLDZDQUdqQjs7QUFFUixRQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7QUFDcEIsUUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0FBQ3RCLFFBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsSUFBSSxD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O09BQUEsQ0FBQyxDQUFDOzs7QUFHdkUsVUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFO2VBQU0sT0FBSyxRQUFRLEVBQUU7T0FBQSxDQUFDLENBQUM7OztBQUdyRCxZQUFNLElBQUksT0FBTyxDQUFDLFVBQUEsRUFBRTtlQUFJLE9BQUssSUFBSSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUM7T0FBQSxDQUFDLENBQUM7S0FDdkQ7OztTQWhKb0IsTUFBTTt3QkFpSjVCLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NsaS9jbHVzdGVyL3dvcmtlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgY2x1c3RlciBmcm9tICdjbHVzdGVyJztcbmltcG9ydCB7IHJlc29sdmUgfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5cbmltcG9ydCB7IEJpbmRlckZvciwgZnJvbVJvb3QgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmNvbnN0IGNsaVBhdGggPSBmcm9tUm9vdCgnc3JjL2NsaScpO1xuY29uc3QgYmFzZUFyZ3MgPSBfLmRpZmZlcmVuY2UocHJvY2Vzcy5hcmd2LnNsaWNlKDIpLCBbJy0tbm8td2F0Y2gnXSk7XG5jb25zdCBiYXNlQXJndiA9IFtwcm9jZXNzLmV4ZWNQYXRoLCBjbGlQYXRoXS5jb25jYXQoYmFzZUFyZ3MpO1xuXG5jbHVzdGVyLnNldHVwTWFzdGVyKHtcbiAgZXhlYzogY2xpUGF0aCxcbiAgc2lsZW50OiBmYWxzZVxufSk7XG5cbmNvbnN0IGRlYWQgPSBmb3JrID0+IHtcbiAgcmV0dXJuIGZvcmsuaXNEZWFkKCkgfHwgZm9yay5raWxsZWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFdvcmtlciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5sb2cgPSBvcHRzLmxvZztcbiAgICB0aGlzLnR5cGUgPSBvcHRzLnR5cGU7XG4gICAgdGhpcy50aXRsZSA9IG9wdHMudGl0bGUgfHwgb3B0cy50eXBlO1xuICAgIHRoaXMud2F0Y2ggPSAob3B0cy53YXRjaCAhPT0gZmFsc2UpO1xuICAgIHRoaXMuc3RhcnRDb3VudCA9IDA7XG5cbiAgICAvLyBzdGF0dXMgZmxhZ3NcbiAgICB0aGlzLm9ubGluZSA9IGZhbHNlOyAvLyB0aGUgZm9yayBjYW4gYWNjZXB0IG1lc3NhZ2VzXG4gICAgdGhpcy5saXN0ZW5pbmcgPSBmYWxzZTsgLy8gdGhlIGZvcmsgaXMgbGlzdGVuaW5nIGZvciBjb25uZWN0aW9uc1xuICAgIHRoaXMuY3Jhc2hlZCA9IGZhbHNlOyAvLyB0aGUgZm9yayBjcmFzaGVkXG5cbiAgICB0aGlzLmNoYW5nZXMgPSBbXTtcblxuICAgIHRoaXMuZm9ya0JpbmRlciA9IG51bGw7IC8vIGRlZmluZWQgd2hlbiB0aGUgZm9yayBpc1xuICAgIHRoaXMuY2x1c3RlckJpbmRlciA9IG5ldyBCaW5kZXJGb3IoY2x1c3Rlcik7XG4gICAgdGhpcy5wcm9jZXNzQmluZGVyID0gbmV3IEJpbmRlckZvcihwcm9jZXNzKTtcblxuICAgIGNvbnN0IGFyZ3YgPSBfLnVuaW9uKGJhc2VBcmd2LCBvcHRzLmFyZ3YgfHwgW10pO1xuICAgIHRoaXMuZW52ID0ge1xuICAgICAga2JuV29ya2VyVHlwZTogdGhpcy50eXBlLFxuICAgICAga2JuV29ya2VyQXJndjogSlNPTi5zdHJpbmdpZnkoYXJndilcbiAgICB9O1xuICB9XG5cbiAgb25FeGl0KGZvcmssIGNvZGUpIHtcbiAgICBpZiAodGhpcy5mb3JrICE9PSBmb3JrKSByZXR1cm47XG5cbiAgICAvLyB3ZSBoYXZlIG91ciBmb3JrJ3MgZXhpdCwgc28gc3RvcCBsaXN0ZW5pbmcgZm9yIG90aGVyc1xuICAgIHRoaXMuY2x1c3RlckJpbmRlci5kZXN0cm95KCk7XG5cbiAgICAvLyBvdXIgZm9yayBpcyBnb25lLCBjbGVhciBvdXIgcmVmIHNvIHdlIGRvbid0IHRyeSB0byB0YWxrIHRvIGl0IGFueW1vcmVcbiAgICB0aGlzLmZvcmsgPSBudWxsO1xuICAgIHRoaXMuZm9ya0JpbmRlciA9IG51bGw7XG5cbiAgICB0aGlzLm9ubGluZSA9IGZhbHNlO1xuICAgIHRoaXMubGlzdGVuaW5nID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0KCdmb3JrOmV4aXQnKTtcbiAgICB0aGlzLmNyYXNoZWQgPSBjb2RlID4gMDtcblxuICAgIGlmICh0aGlzLmNyYXNoZWQpIHtcbiAgICAgIHRoaXMuZW1pdCgnY3Jhc2hlZCcpO1xuICAgICAgdGhpcy5sb2cuYmFkKGAke3RoaXMudGl0bGV9IGNyYXNoZWRgLCAnd2l0aCBzdGF0dXMgY29kZScsIGNvZGUpO1xuICAgICAgaWYgKCF0aGlzLndhdGNoKSBwcm9jZXNzLmV4aXQoY29kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJlc3RhcnQgYWZ0ZXIgZ3JhY2VmdWwgc2h1dGRvd25zXG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UocGF0aCkge1xuICAgIGlmICghdGhpcy53YXRjaCkgcmV0dXJuO1xuICAgIHRoaXMuY2hhbmdlcy5wdXNoKHBhdGgpO1xuICAgIHRoaXMuc3RhcnQoKTtcbiAgfVxuXG4gIGFzeW5jIHNodXRkb3duKCkge1xuICAgIGlmICh0aGlzLmZvcmsgJiYgIWRlYWQodGhpcy5mb3JrKSkge1xuICAgICAgLy8ga2lsbCB0aGUgZm9ya1xuICAgICAgdGhpcy5mb3JrLnByb2Nlc3Mua2lsbCgpO1xuICAgICAgdGhpcy5mb3JrLmtpbGxlZCA9IHRydWU7XG5cbiAgICAgIC8vIHN0b3AgbGlzdGVuaW5nIHRvIHRoZSBmb3JrLCBpdCdzIGp1c3QgZ29pbmcgdG8gZGllXG4gICAgICB0aGlzLmZvcmtCaW5kZXIuZGVzdHJveSgpO1xuXG4gICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJlYWN0IHRvIHByb2Nlc3MuZXhpdCBhbnltb3JlXG4gICAgICB0aGlzLnByb2Nlc3NCaW5kZXIuZGVzdHJveSgpO1xuXG4gICAgICAvLyB3YWl0IHVudGlsIHRoZSBjbHVzdGVyIHJlcG9ydHMgdGhpcyBmb3JrIGhhcyBleGl0dGVkLCB0aGVuIHJlc29sdmVcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gdGhpcy5vbmNlKCdmb3JrOmV4aXQnLCByZXNvbHZlKSk7XG4gICAgfVxuICB9XG5cbiAgcGFyc2VJbmNvbWluZ01lc3NhZ2UobXNnKSB7XG4gICAgaWYgKCFfLmlzQXJyYXkobXNnKSkgcmV0dXJuO1xuICAgIHRoaXMub25NZXNzYWdlKC4uLm1zZyk7XG4gIH1cblxuICBvbk1lc3NhZ2UodHlwZSwgZGF0YSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnV09SS0VSX0JST0FEQ0FTVCc6XG4gICAgICAgIHRoaXMuZW1pdCgnYnJvYWRjYXN0JywgZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnV09SS0VSX0xJU1RFTklORyc6XG4gICAgICAgIHRoaXMubGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbWl0KCdsaXN0ZW5pbmcnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgb25PbmxpbmUoKSB7XG4gICAgdGhpcy5vbmxpbmUgPSB0cnVlO1xuICAgIHRoaXMuZW1pdCgnZm9yazpvbmxpbmUnKTtcbiAgICB0aGlzLmNyYXNoZWQgPSBmYWxzZTtcbiAgfVxuXG4gIG9uRGlzY29ubmVjdCgpIHtcbiAgICB0aGlzLm9ubGluZSA9IGZhbHNlO1xuICAgIHRoaXMubGlzdGVuaW5nID0gZmFsc2U7XG4gIH1cblxuICBmbHVzaENoYW5nZUJ1ZmZlcigpIHtcbiAgICBjb25zdCBmaWxlcyA9IF8udW5pcXVlKHRoaXMuY2hhbmdlcy5zcGxpY2UoMCkpO1xuICAgIGNvbnN0IHByZWZpeCA9IGZpbGVzLmxlbmd0aCA+IDEgPyAnXFxuIC0gJyA6ICcnO1xuICAgIHJldHVybiBmaWxlcy5yZWR1Y2UoZnVuY3Rpb24gKGxpc3QsIGZpbGUpIHtcbiAgICAgIHJldHVybiBgJHtsaXN0IHx8ICcnfSR7cHJlZml4fVwiJHtmaWxlfVwiYDtcbiAgICB9LCAnJyk7XG4gIH1cblxuICBhc3luYyBzdGFydCgpIHtcbiAgICBpZiAodGhpcy5mb3JrKSB7XG4gICAgICAvLyBvbmNlIFwiZXhpdFwiIGV2ZW50IGlzIHJlY2VpdmVkIHdpdGggMCBzdGF0dXMsIHN0YXJ0KCkgaXMgY2FsbGVkIGFnYWluXG4gICAgICB0aGlzLnNodXRkb3duKCk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShjYiA9PiB0aGlzLm9uY2UoJ29ubGluZScsIGNiKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMubG9nLndhcm4oYHJlc3RhcnRpbmcgJHt0aGlzLnRpdGxlfWAsIGBkdWUgdG8gY2hhbmdlcyBpbiAke3RoaXMuZmx1c2hDaGFuZ2VCdWZmZXIoKX1gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5zdGFydENvdW50KyspIHtcbiAgICAgIHRoaXMubG9nLndhcm4oYHJlc3RhcnRpbmcgJHt0aGlzLnRpdGxlfS4uLmApO1xuICAgIH1cblxuICAgIHRoaXMuZm9yayA9IGNsdXN0ZXIuZm9yayh0aGlzLmVudik7XG4gICAgdGhpcy5mb3JrQmluZGVyID0gbmV3IEJpbmRlckZvcih0aGlzLmZvcmspO1xuXG4gICAgLy8gd2hlbiB0aGUgZm9yayBzZW5kcyBhIG1lc3NhZ2UsIGNvbWVzIG9ubGluZSwgb3IgbG9vc2VzIGl0J3MgY29ubmVjdGlvbiwgdGhlbiByZWFjdFxuICAgIHRoaXMuZm9ya0JpbmRlci5vbignbWVzc2FnZScsIG1zZyA9PiB0aGlzLnBhcnNlSW5jb21pbmdNZXNzYWdlKG1zZykpO1xuICAgIHRoaXMuZm9ya0JpbmRlci5vbignb25saW5lJywgKCkgPT4gdGhpcy5vbk9ubGluZSgpKTtcbiAgICB0aGlzLmZvcmtCaW5kZXIub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB0aGlzLm9uRGlzY29ubmVjdCgpKTtcblxuICAgIC8vIHdoZW4gdGhlIGNsdXN0ZXIgc2F5cyBhIGZvcmsgaGFzIGV4aXR0ZWQsIGNoZWNrIGlmIGl0IGlzIG91cnNcbiAgICB0aGlzLmNsdXN0ZXJCaW5kZXIub24oJ2V4aXQnLCAoZm9yaywgY29kZSkgPT4gdGhpcy5vbkV4aXQoZm9yaywgY29kZSkpO1xuXG4gICAgLy8gd2hlbiB0aGUgcHJvY2VzcyBleGl0cywgbWFrZSBzdXJlIHdlIGtpbGwgb3VyIHdvcmtlcnNcbiAgICB0aGlzLnByb2Nlc3NCaW5kZXIub24oJ2V4aXQnLCAoKSA9PiB0aGlzLnNodXRkb3duKCkpO1xuXG4gICAgLy8gd2FpdCBmb3IgdGhlIGZvcmsgdG8gcmVwb3J0IGl0IGlzIG9ubGluZSBiZWZvcmUgcmVzb2x2aW5nXG4gICAgYXdhaXQgbmV3IFByb21pc2UoY2IgPT4gdGhpcy5vbmNlKCdmb3JrOm9ubGluZScsIGNiKSk7XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/cluster/worker.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/cli/cluster/worker.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport cluster from 'cluster';\nimport { resolve } from 'path';\nimport { EventEmitter } from 'events';\n\nimport { BinderFor, fromRoot } from '../../utils';\n\nconst cliPath = fromRoot('src/cli');\nconst baseArgs = _.difference(process.argv.slice(2), ['--no-watch']);\nconst baseArgv = [process.execPath, cliPath].concat(baseArgs);\n\ncluster.setupMaster({\n  exec: cliPath,\n  silent: false\n});\n\nconst dead = fork => {\n  return fork.isDead() || fork.killed;\n};\n\nmodule.exports = class Worker extends EventEmitter {\n  constructor(opts) {\n    opts = opts || {};\n    super();\n\n    this.log = opts.log;\n    this.type = opts.type;\n    this.title = opts.title || opts.type;\n    this.watch = (opts.watch !== false);\n    this.startCount = 0;\n\n    // status flags\n    this.online = false; // the fork can accept messages\n    this.listening = false; // the fork is listening for connections\n    this.crashed = false; // the fork crashed\n\n    this.changes = [];\n\n    this.forkBinder = null; // defined when the fork is\n    this.clusterBinder = new BinderFor(cluster);\n    this.processBinder = new BinderFor(process);\n\n    const argv = _.union(baseArgv, opts.argv || []);\n    this.env = {\n      kbnWorkerType: this.type,\n      kbnWorkerArgv: JSON.stringify(argv)\n    };\n  }\n\n  onExit(fork, code) {\n    if (this.fork !== fork) return;\n\n    // we have our fork's exit, so stop listening for others\n    this.clusterBinder.destroy();\n\n    // our fork is gone, clear our ref so we don't try to talk to it anymore\n    this.fork = null;\n    this.forkBinder = null;\n\n    this.online = false;\n    this.listening = false;\n    this.emit('fork:exit');\n    this.crashed = code > 0;\n\n    if (this.crashed) {\n      this.emit('crashed');\n      this.log.bad(`${this.title} crashed`, 'with status code', code);\n      if (!this.watch) process.exit(code);\n    } else {\n      // restart after graceful shutdowns\n      this.start();\n    }\n  }\n\n  onChange(path) {\n    if (!this.watch) return;\n    this.changes.push(path);\n    this.start();\n  }\n\n  async shutdown() {\n    if (this.fork && !dead(this.fork)) {\n      // kill the fork\n      this.fork.process.kill();\n      this.fork.killed = true;\n\n      // stop listening to the fork, it's just going to die\n      this.forkBinder.destroy();\n\n      // we don't need to react to process.exit anymore\n      this.processBinder.destroy();\n\n      // wait until the cluster reports this fork has exitted, then resolve\n      await new Promise(resolve => this.once('fork:exit', resolve));\n    }\n  }\n\n  parseIncomingMessage(msg) {\n    if (!_.isArray(msg)) return;\n    this.onMessage(...msg);\n  }\n\n  onMessage(type, data) {\n    switch (type) {\n      case 'WORKER_BROADCAST':\n        this.emit('broadcast', data);\n        break;\n      case 'WORKER_LISTENING':\n        this.listening = true;\n        this.emit('listening');\n        break;\n    }\n  }\n\n  onOnline() {\n    this.online = true;\n    this.emit('fork:online');\n    this.crashed = false;\n  }\n\n  onDisconnect() {\n    this.online = false;\n    this.listening = false;\n  }\n\n  flushChangeBuffer() {\n    const files = _.unique(this.changes.splice(0));\n    const prefix = files.length > 1 ? '\\n - ' : '';\n    return files.reduce(function (list, file) {\n      return `${list || ''}${prefix}\"${file}\"`;\n    }, '');\n  }\n\n  async start() {\n    if (this.fork) {\n      // once \"exit\" event is received with 0 status, start() is called again\n      this.shutdown();\n      await new Promise(cb => this.once('online', cb));\n      return;\n    }\n\n    if (this.changes.length) {\n      this.log.warn(`restarting ${this.title}`, `due to changes in ${this.flushChangeBuffer()}`);\n    }\n    else if (this.startCount++) {\n      this.log.warn(`restarting ${this.title}...`);\n    }\n\n    this.fork = cluster.fork(this.env);\n    this.forkBinder = new BinderFor(this.fork);\n\n    // when the fork sends a message, comes online, or looses it's connection, then react\n    this.forkBinder.on('message', msg => this.parseIncomingMessage(msg));\n    this.forkBinder.on('online', () => this.onOnline());\n    this.forkBinder.on('disconnect', () => this.onDisconnect());\n\n    // when the cluster says a fork has exitted, check if it is ours\n    this.clusterBinder.on('exit', (fork, code) => this.onExit(fork, code));\n\n    // when the process exits, make sure we kill our workers\n    this.processBinder.on('exit', () => this.shutdown());\n\n    // wait for the fork to report it is online before resolving\n    await new Promise(cb => this.once('fork:online', cb));\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/cli/cluster/base_path_proxy.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "hapi",
            "imported": [
              "Server"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Server",
                "local": "Server"
              }
            ]
          },
          {
            "source": "boom",
            "imported": [
              "notFound"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "notFound",
                "local": "notFound"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "map",
              "merge",
              "sample"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "map",
                "local": "map"
              },
              {
                "kind": "named",
                "imported": "merge",
                "local": "merge"
              },
              {
                "kind": "named",
                "imported": "sample",
                "local": "sample"
              }
            ]
          },
          {
            "source": "url",
            "imported": [
              "format"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "format",
                "local": "formatUrl"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "map",
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "map",
                "local": "promiseMap"
              },
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          },
          {
            "source": "https",
            "imported": [
              "Agent"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Agent",
                "local": "HttpsAgent"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "readFileSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readFileSync",
                "local": "readFileSync"
              }
            ]
          },
          {
            "source": "../../server/config/config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Config"
              }
            ]
          },
          {
            "source": "../../server/http/setup_connection",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "setupConnection"
              }
            ]
          },
          {
            "source": "../../server/http/register_hapi_plugins",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "registerHapiPlugins"
              }
            ]
          },
          {
            "source": "../../server/logging",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "setupLogging"
              }
            ]
          },
          {
            "source": "../../server/config/transform_deprecations",
            "imported": [
              "transformDeprecations"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "transformDeprecations",
                "local": "transformDeprecations"
              }
            ]
          },
          {
            "source": "../dev_ssl",
            "imported": [
              "DEV_SSL_CERT_PATH"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "DEV_SSL_CERT_PATH",
                "local": "DEV_SSL_CERT_PATH"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "BasePathProxy"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "BasePathProxy",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _hapi = require('hapi');\n\nvar _boom = require('boom');\n\nvar _lodash = require('lodash');\n\nvar _url = require('url');\n\nvar _bluebird = require('bluebird');\n\nvar _https = require('https');\n\nvar _fs = require('fs');\n\nvar _serverConfigConfig = require('../../server/config/config');\n\nvar _serverConfigConfig2 = _interopRequireDefault(_serverConfigConfig);\n\nvar _serverHttpSetup_connection = require('../../server/http/setup_connection');\n\nvar _serverHttpSetup_connection2 = _interopRequireDefault(_serverHttpSetup_connection);\n\nvar _serverHttpRegister_hapi_plugins = require('../../server/http/register_hapi_plugins');\n\nvar _serverHttpRegister_hapi_plugins2 = _interopRequireDefault(_serverHttpRegister_hapi_plugins);\n\nvar _serverLogging = require('../../server/logging');\n\nvar _serverLogging2 = _interopRequireDefault(_serverLogging);\n\nvar _serverConfigTransform_deprecations = require('../../server/config/transform_deprecations');\n\nvar _dev_ssl = require('../dev_ssl');\n\nvar alphabet = 'abcdefghijklmnopqrztuvwxyz'.split('');\n\nvar BasePathProxy = (function () {\n  function BasePathProxy(clusterManager, userSettings) {\n    _classCallCheck(this, BasePathProxy);\n\n    this.clusterManager = clusterManager;\n    this.server = new _hapi.Server();\n\n    var settings = (0, _serverConfigTransform_deprecations.transformDeprecations)(userSettings);\n    var config = _serverConfigConfig2['default'].withDefaultSchema(settings);\n\n    this.targetPort = config.get('dev.basePathProxyTarget');\n    this.basePath = config.get('server.basePath');\n\n    var sslEnabled = config.get('server.ssl.enabled');\n    if (sslEnabled) {\n      this.proxyAgent = new _https.Agent({\n        key: (0, _fs.readFileSync)(config.get('server.ssl.key')),\n        passphrase: config.get('server.ssl.keyPassphrase'),\n        cert: (0, _fs.readFileSync)(config.get('server.ssl.certificate')),\n        ca: (0, _lodash.map)(config.get('server.ssl.certificateAuthorities'), _fs.readFileSync),\n        rejectUnauthorized: false\n      });\n    }\n\n    if (!this.basePath) {\n      this.basePath = '/' + (0, _lodash.sample)(alphabet, 3).join('');\n      config.set('server.basePath', this.basePath);\n    }\n\n    var ONE_GIGABYTE = 1024 * 1024 * 1024;\n    config.set('server.maxPayloadBytes', ONE_GIGABYTE);\n\n    (0, _serverLogging2['default'])(null, this.server, config);\n    (0, _serverHttpSetup_connection2['default'])(null, this.server, config);\n    (0, _serverHttpRegister_hapi_plugins2['default'])(null, this.server, config);\n\n    this.setupRoutes();\n  }\n\n  _createClass(BasePathProxy, [{\n    key: 'setupRoutes',\n    value: function setupRoutes() {\n      var clusterManager = this.clusterManager;\n      var server = this.server;\n      var basePath = this.basePath;\n      var targetPort = this.targetPort;\n\n      server.route({\n        method: 'GET',\n        path: '/',\n        handler: function handler(req, reply) {\n          return reply.redirect(basePath);\n        }\n      });\n\n      server.route({\n        method: '*',\n        path: basePath + '/{kbnPath*}',\n        config: {\n          pre: [function (req, reply) {\n            (0, _bluebird.map)(clusterManager.workers, function (worker) {\n              if (worker.type === 'server' && !worker.listening && !worker.crashed) {\n                return (0, _bluebird.fromNode)(function (cb) {\n                  var done = function done() {\n                    worker.removeListener('listening', done);\n                    worker.removeListener('crashed', done);\n                    cb();\n                  };\n\n                  worker.on('listening', done);\n                  worker.on('crashed', done);\n                });\n              }\n            })['return'](undefined).nodeify(reply);\n          }]\n        },\n        handler: {\n          proxy: {\n            passThrough: true,\n            xforward: true,\n            agent: this.proxyAgent,\n            mapUri: function mapUri(req, callback) {\n              callback(null, (0, _url.format)({\n                protocol: server.info.protocol,\n                hostname: server.info.host,\n                port: targetPort,\n                pathname: req.params.kbnPath,\n                query: req.query\n              }));\n            }\n          }\n        }\n      });\n\n      server.route({\n        method: '*',\n        path: '/{oldBasePath}/{kbnPath*}',\n        handler: function handler(req, reply) {\n          var _req$params = req.params;\n          var oldBasePath = _req$params.oldBasePath;\n          var _req$params$kbnPath = _req$params.kbnPath;\n          var kbnPath = _req$params$kbnPath === undefined ? '' : _req$params$kbnPath;\n\n          var isGet = req.method === 'get';\n          var isBasePath = oldBasePath.length === 3;\n          var isApp = kbnPath.slice(0, 4) === 'app/';\n\n          if (isGet && isBasePath && isApp) {\n            return reply.redirect(basePath + '/' + kbnPath);\n          }\n\n          return reply((0, _boom.notFound)());\n        }\n      });\n    }\n  }, {\n    key: 'listen',\n    value: _asyncToGenerator(function* () {\n      var _this = this;\n\n      yield (0, _bluebird.fromNode)(function (cb) {\n        return _this.server.start(cb);\n      });\n      this.server.log(['listening', 'info'], 'basePath Proxy running at ' + this.server.info.uri + this.basePath);\n    })\n  }]);\n\n  return BasePathProxy;\n})();\n\nexports['default'] = BasePathProxy;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jbGkvY2x1c3Rlci9iYXNlX3BhdGhfcHJveHkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7b0JBQXVCLE1BQU07O29CQUNKLE1BQU07O3NCQUNJLFFBQVE7O21CQUNQLEtBQUs7O3dCQUNHLFVBQVU7O3FCQUNsQixPQUFPOztrQkFDZCxJQUFJOztrQ0FFZCw0QkFBNEI7Ozs7MENBQ25CLG9DQUFvQzs7OzsrQ0FDaEMseUNBQXlDOzs7OzZCQUNoRCxzQkFBc0I7Ozs7a0RBQ1QsNENBQTRDOzt1QkFDaEQsWUFBWTs7QUFFOUMsSUFBTSxRQUFRLEdBQUcsNEJBQTRCLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDOztJQUVuQyxhQUFhO0FBQ3JCLFdBRFEsYUFBYSxDQUNwQixjQUFjLEVBQUUsWUFBWSxFQUFFOzBCQUR2QixhQUFhOztBQUU5QixRQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztBQUNyQyxRQUFJLENBQUMsTUFBTSxHQUFHLGtCQUFZLENBQUM7O0FBRTNCLFFBQU0sUUFBUSxHQUFHLCtEQUFzQixZQUFZLENBQUMsQ0FBQztBQUNyRCxRQUFNLE1BQU0sR0FBRyxnQ0FBTyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFbEQsUUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUM7QUFDeEQsUUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7O0FBRTlDLFFBQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsQ0FBQztBQUNwRCxRQUFJLFVBQVUsRUFBRTtBQUNkLFVBQUksQ0FBQyxVQUFVLEdBQUcsaUJBQWU7QUFDL0IsV0FBRyxFQUFFLHNCQUFhLE1BQU0sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztB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VUFBQSxFQUFFO2VBQUksTUFBSyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztPQUFBLENBQUMsQ0FBQztBQUM1QyxVQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsaUNBQStCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFHLENBQUM7S0FDN0c7OztTQWpIa0IsYUFBYTs7O3FCQUFiLGFBQWEiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NsaS9jbHVzdGVyL2Jhc2VfcGF0aF9wcm94eS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlcnZlciB9IGZyb20gJ2hhcGknO1xuaW1wb3J0IHsgbm90Rm91bmQgfSBmcm9tICdib29tJztcbmltcG9ydCB7IG1hcCwgbWVyZ2UsIHNhbXBsZSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0VXJsIH0gZnJvbSAndXJsJztcbmltcG9ydCB7IG1hcCBhcyBwcm9taXNlTWFwLCBmcm9tTm9kZSB9IGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCB7IEFnZW50IGFzIEh0dHBzQWdlbnQgfSBmcm9tICdodHRwcyc7XG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5cbmltcG9ydCBDb25maWcgZnJvbSAnLi4vLi4vc2VydmVyL2NvbmZpZy9jb25maWcnO1xuaW1wb3J0IHNldHVwQ29ubmVjdGlvbiBmcm9tICcuLi8uLi9zZXJ2ZXIvaHR0cC9zZXR1cF9jb25uZWN0aW9uJztcbmltcG9ydCByZWdpc3RlckhhcGlQbHVnaW5zIGZyb20gJy4uLy4uL3NlcnZlci9odHRwL3JlZ2lzdGVyX2hhcGlfcGx1Z2lucyc7XG5pbXBvcnQgc2V0dXBMb2dnaW5nIGZyb20gJy4uLy4uL3NlcnZlci9sb2dnaW5nJztcbmltcG9ydCB7IHRyYW5zZm9ybURlcHJlY2F0aW9ucyB9IGZyb20gJy4uLy4uL3NlcnZlci9jb25maWcvdHJhbnNmb3JtX2RlcHJlY2F0aW9ucyc7XG5pbXBvcnQgeyBERVZfU1NMX0NFUlRfUEFUSCB9IGZyb20gJy4uL2Rldl9zc2wnO1xuXG5jb25zdCBhbHBoYWJldCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJ6dHV2d3h5eicuc3BsaXQoJycpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlUGF0aFByb3h5IHtcbiAgY29uc3RydWN0b3IoY2x1c3Rlck1hbmFnZXIsIHVzZXJTZXR0aW5ncykge1xuICAgIHRoaXMuY2x1c3Rlck1hbmFnZXIgPSBjbHVzdGVyTWFuYWdlcjtcbiAgICB0aGlzLnNlcnZlciA9IG5ldyBTZXJ2ZXIoKTtcblxuICAgIGNvbnN0IHNldHRpbmdzID0gdHJhbnNmb3JtRGVwcmVjYXRpb25zKHVzZXJTZXR0aW5ncyk7XG4gICAgY29uc3QgY29uZmlnID0gQ29uZmlnLndpdGhEZWZhdWx0U2NoZW1hKHNldHRpbmdzKTtcblxuICAgIHRoaXMudGFyZ2V0UG9ydCA9IGNvbmZpZy5nZXQoJ2Rldi5iYXNlUGF0aFByb3h5VGFyZ2V0Jyk7XG4gICAgdGhpcy5iYXNlUGF0aCA9IGNvbmZpZy5nZXQoJ3NlcnZlci5iYXNlUGF0aCcpO1xuXG4gICAgY29uc3Qgc3NsRW5hYmxlZCA9IGNvbmZpZy5nZXQoJ3NlcnZlci5zc2wuZW5hYmxlZCcpO1xuICAgIGlmIChzc2xFbmFibGVkKSB7XG4gICAgICB0aGlzLnByb3h5QWdlbnQgPSBuZXcgSHR0cHNBZ2VudCh7XG4gICAgICAgIGtleTogcmVhZEZpbGVTeW5jKGNvbmZpZy5nZXQoJ3NlcnZlci5zc2wua2V5JykpLFxuICAgICAgICBwYXNzcGhyYXNlOiBjb25maWcuZ2V0KCdzZXJ2ZXIuc3NsLmtleVBhc3NwaHJhc2UnKSxcbiAgICAgICAgY2VydDogcmVhZEZpbGVTeW5jKGNvbmZpZy5nZXQoJ3NlcnZlci5zc2wuY2VydGlmaWNhdGUnKSksXG4gICAgICAgIGNhOiBtYXAoY29uZmlnLmdldCgnc2VydmVyLnNzbC5jZXJ0aWZpY2F0ZUF1dGhvcml0aWVzJyksIHJlYWRGaWxlU3luYyksXG4gICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5iYXNlUGF0aCkge1xuICAgICAgdGhpcy5iYXNlUGF0aCA9IGAvJHtzYW1wbGUoYWxwaGFiZXQsIDMpLmpvaW4oJycpfWA7XG4gICAgICBjb25maWcuc2V0KCdzZXJ2ZXIuYmFzZVBhdGgnLCB0aGlzLmJhc2VQYXRoKTtcbiAgICB9XG5cbiAgICBjb25zdCBPTkVfR0lHQUJZVEUgPSAxMDI0ICogMTAyNCAqIDEwMjQ7XG4gICAgY29uZmlnLnNldCgnc2VydmVyLm1heFBheWxvYWRCeXRlcycsIE9ORV9HSUdBQllURSk7XG5cbiAgICBzZXR1cExvZ2dpbmcobnVsbCwgdGhpcy5zZXJ2ZXIsIGNvbmZpZyk7XG4gICAgc2V0dXBDb25uZWN0aW9uKG51bGwsIHRoaXMuc2VydmVyLCBjb25maWcpO1xuICAgIHJlZ2lzdGVySGFwaVBsdWdpbnMobnVsbCwgdGhpcy5zZXJ2ZXIsIGNvbmZpZyk7XG5cbiAgICB0aGlzLnNldHVwUm91dGVzKCk7XG4gIH1cblxuICBzZXR1cFJvdXRlcygpIHtcbiAgICBjb25zdCB7IGNsdXN0ZXJNYW5hZ2VyLCBzZXJ2ZXIsIGJhc2VQYXRoLCB0YXJnZXRQb3J0IH0gPSB0aGlzO1xuXG4gICAgc2VydmVyLnJvdXRlKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXRoOiAnLycsXG4gICAgICBoYW5kbGVyKHJlcSwgcmVwbHkpIHtcbiAgICAgICAgcmV0dXJuIHJlcGx5LnJlZGlyZWN0KGJhc2VQYXRoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNlcnZlci5yb3V0ZSh7XG4gICAgICBtZXRob2Q6ICcqJyxcbiAgICAgIHBhdGg6IGAke2Jhc2VQYXRofS97a2JuUGF0aCp9YCxcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICBwcmU6IFtcbiAgICAgICAgICAocmVxLCByZXBseSkgPT4ge1xuICAgICAgICAgICAgcHJvbWlzZU1hcChjbHVzdGVyTWFuYWdlci53b3JrZXJzLCB3b3JrZXIgPT4ge1xuICAgICAgICAgICAgICBpZiAod29ya2VyLnR5cGUgPT09ICdzZXJ2ZXInICYmICF3b3JrZXIubGlzdGVuaW5nICYmICF3b3JrZXIuY3Jhc2hlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tTm9kZShjYiA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBkb25lID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXIucmVtb3ZlTGlzdGVuZXIoJ2xpc3RlbmluZycsIGRvbmUpO1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXIucmVtb3ZlTGlzdGVuZXIoJ2NyYXNoZWQnLCBkb25lKTtcbiAgICAgICAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgIHdvcmtlci5vbignbGlzdGVuaW5nJywgZG9uZSk7XG4gICAgICAgICAgICAgICAgICB3b3JrZXIub24oJ2NyYXNoZWQnLCBkb25lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXR1cm4odW5kZWZpbmVkKVxuICAgICAgICAgICAgLm5vZGVpZnkocmVwbHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICBoYW5kbGVyOiB7XG4gICAgICAgIHByb3h5OiB7XG4gICAgICAgICAgcGFzc1Rocm91Z2g6IHRydWUsXG4gICAgICAgICAgeGZvcndhcmQ6IHRydWUsXG4gICAgICAgICAgYWdlbnQ6IHRoaXMucHJveHlBZ2VudCxcbiAgICAgICAgICBtYXBVcmkocmVxLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgZm9ybWF0VXJsKHtcbiAgICAgICAgICAgICAgcHJvdG9jb2w6IHNlcnZlci5pbmZvLnByb3RvY29sLFxuICAgICAgICAgICAgICBob3N0bmFtZTogc2VydmVyLmluZm8uaG9zdCxcbiAgICAgICAgICAgICAgcG9ydDogdGFyZ2V0UG9ydCxcbiAgICAgICAgICAgICAgcGF0aG5hbWU6IHJlcS5wYXJhbXMua2JuUGF0aCxcbiAgICAgICAgICAgICAgcXVlcnk6IHJlcS5xdWVyeSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNlcnZlci5yb3V0ZSh7XG4gICAgICBtZXRob2Q6ICcqJyxcbiAgICAgIHBhdGg6IGAve29sZEJhc2VQYXRofS97a2JuUGF0aCp9YCxcbiAgICAgIGhhbmRsZXIocmVxLCByZXBseSkge1xuICAgICAgICBjb25zdCB7IG9sZEJhc2VQYXRoLCBrYm5QYXRoID0gJycgfSA9IHJlcS5wYXJhbXM7XG5cbiAgICAgICAgY29uc3QgaXNHZXQgPSByZXEubWV0aG9kID09PSAnZ2V0JztcbiAgICAgICAgY29uc3QgaXNCYXNlUGF0aCA9IG9sZEJhc2VQYXRoLmxlbmd0aCA9PT0gMztcbiAgICAgICAgY29uc3QgaXNBcHAgPSBrYm5QYXRoLnNsaWNlKDAsIDQpID09PSAnYXBwLyc7XG5cbiAgICAgICAgaWYgKGlzR2V0ICYmIGlzQmFzZVBhdGggJiYgaXNBcHApIHtcbiAgICAgICAgICByZXR1cm4gcmVwbHkucmVkaXJlY3QoYCR7YmFzZVBhdGh9LyR7a2JuUGF0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXBseShub3RGb3VuZCgpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RlbigpIHtcbiAgICBhd2FpdCBmcm9tTm9kZShjYiA9PiB0aGlzLnNlcnZlci5zdGFydChjYikpO1xuICAgIHRoaXMuc2VydmVyLmxvZyhbJ2xpc3RlbmluZycsICdpbmZvJ10sIGBiYXNlUGF0aCBQcm94eSBydW5uaW5nIGF0ICR7dGhpcy5zZXJ2ZXIuaW5mby51cml9JHt0aGlzLmJhc2VQYXRofWApO1xuICB9XG5cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/cli/cluster/base_path_proxy.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;oBAAuB,MAAM;;oBACJ,MAAM;;sBACI,QAAQ;;mBACP,KAAK;;wBACG,UAAU;;qBAClB,OAAO;;kBACd,IAAI;;kCAEd,4BAA4B;;;;0CACnB,oCAAoC;;;;+CAChC,yCAAyC;;;;6BAChD,sBAAsB;;;;kDACT,4CAA4C;;uBAChD,YAAY;;AAE9C,IAAM,QAAQ,GAAG,4BAA4B,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;;IAEnC,aAAa;AACrB,WADQ,aAAa,CACpB,cAAc,EAAE,YAAY,EAAE;0BADvB,aAAa;;AAE9B,QAAI,CAAC,cAAc,GAAG,cAAc,CAAC;AACrC,QAAI,CAAC,MAAM,GAAG,kBAAY,CAAC;;AAE3B,QAAM,QAAQ,GAAG,+DAAsB,YAAY,CAAC,CAAC;AACrD,QAAM,MAAM,GAAG,gCAAO,iBAAiB,CAAC,QAAQ,CAAC,CAAC;;AAElD,QAAI,CAAC,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;AACxD,QAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;;AAE9C,QAAM,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;AACpD,QAAI,UAAU,EAAE;AACd,UAAI,CAAC,UAAU,GAAG,iBAAe;AAC/B,WAAG,EAAE,sBAAa,MAAM,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;AAC/C,kBAAU,EAAE,MAAM,CAAC,GAAG,CAAC,0BAA0B,CAAC;AAClD,YAAI,EAAE,sBAAa,MAAM,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;AACxD,UAAE,EAAE,iBAAI,MAAM,CAAC,GAAG,CAAC,mCAAmC,CAAC,mBAAe;AACtE,0BAAkB,EAAE,KAAK;OAC1B,CAAC,CAAC;KACJ;;AAED,QAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;AAClB,UAAI,CAAC,QAAQ,SAAO,oBAAO,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,AAAE,CAAC;AACnD,YAAM,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;KAC9C;;AAED,QAAM,YAAY,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;AACxC,UAAM,CAAC,GAAG,CAAC,wBAAwB,EAAE,YAAY,CAAC,CAAC;;AAEnD,oCAAa,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AACxC,iDAAgB,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAC3C,sDAAoB,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;;AAE/C,QAAI,CAAC,WAAW,EAAE,CAAC;GACpB;;eAnCkB,aAAa;;WAqCrB,uBAAG;UACJ,cAAc,GAAmC,IAAI,CAArD,cAAc;UAAE,MAAM,GAA2B,IAAI,CAArC,MAAM;UAAE,QAAQ,GAAiB,IAAI,CAA7B,QAAQ;UAAE,UAAU,GAAK,IAAI,CAAnB,UAAU;;AAEpD,YAAM,CAAC,KAAK,CAAC;AACX,cAAM,EAAE,KAAK;AACb,YAAI,EAAE,GAAG;AACT,eAAO,EAAA,iBAAC,GAAG,EAAE,KAAK,EAAE;AAClB,iBAAO,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;SACjC;OACF,CAAC,CAAC;;AAEH,YAAM,CAAC,KAAK,CAAC;AACX,cAAM,EAAE,GAAG;AACX,YAAI,EAAK,QAAQ,gBAAa;AAC9B,cAAM,EAAE;AACN,aAAG,EAAE,CACH,UAAC,GAAG,EAAE,KAAK,EAAK;AACd,+BAAW,cAAc,CAAC,OAAO,EAAE,UAAA,MAAM,EAAI;AAC3C,kBAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,IAAI,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;AACpE,uBAAO,wBAAS,UAAA,EAAE,EAAI;AACpB,sBAAM,IAAI,GAAG,SAAP,IAAI,GAAS;AACjB,0BAAM,CAAC,cAAc,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;AACzC,0BAAM,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AACvC,sBAAE,EAAE,CAAC;mBACN,CAAC;;AAEF,wBAAM,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;AAC7B,wBAAM,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;iBAC5B,CAAC,CAAC;eACJ;aACF,CAAC,UACK,CAAC,SAAS,CAAC,CACjB,OAAO,CAAC,KAAK,CAAC,CAAC;WACjB,CACF;SACF;AACD,eAAO,EAAE;AACP,eAAK,EAAE;AACL,uBAAW,EAAE,IAAI;AACjB,oBAAQ,EAAE,IAAI;AACd,iBAAK,EAAE,IAAI,CAAC,UAAU;AACtB,kBAAM,EAAA,gBAAC,GAAG,EAAE,QAAQ,EAAE;AACpB,sBAAQ,CAAC,IAAI,EAAE,iBAAU;AACvB,wBAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ;AAC9B,wBAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI;AAC1B,oBAAI,EAAE,UAAU;AAChB,wBAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,OAAO;AAC5B,qBAAK,EAAE,GAAG,CAAC,KAAK;eACjB,CAAC,CAAC,CAAC;aACL;WACF;SACF;OACF,CAAC,CAAC;;AAEH,YAAM,CAAC,KAAK,CAAC;AACX,cAAM,EAAE,GAAG;AACX,YAAI,6BAA6B;AACjC,eAAO,EAAA,iBAAC,GAAG,EAAE,KAAK,EAAE;4BACoB,GAAG,CAAC,MAAM;cAAxC,WAAW,eAAX,WAAW;gDAAE,OAAO;cAAP,OAAO,uCAAG,EAAE;;AAEjC,cAAM,KAAK,GAAG,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC;AACnC,cAAM,UAAU,GAAG,WAAW,CAAC,MAAM,KAAK,CAAC,CAAC;AAC5C,cAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,CAAC;;AAE7C,cAAI,KAAK,IAAI,UAAU,IAAI,KAAK,EAAE;AAChC,mBAAO,KAAK,CAAC,QAAQ,CAAI,QAAQ,SAAI,OAAO,CAAG,CAAC;WACjD;;AAED,iBAAO,KAAK,CAAC,qBAAU,CAAC,CAAC;SAC1B;OACF,CAAC,CAAC;KACJ;;;6BAEW,aAAG;;;AACb,YAAM,wBAAS,UAAA,EAAE;eAAI,MAAK,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;OAAA,CAAC,CAAC;AAC5C,UAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,MAAM,CAAC,iCAA+B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAG,CAAC;KAC7G;;;SAjHkB,aAAa;;;qBAAb,aAAa",
      "file": "/Users/osagiefo/kibana-aws/src/cli/cluster/base_path_proxy.js",
      "sourcesContent": [
        "import { Server } from 'hapi';\nimport { notFound } from 'boom';\nimport { map, merge, sample } from 'lodash';\nimport { format as formatUrl } from 'url';\nimport { map as promiseMap, fromNode } from 'bluebird';\nimport { Agent as HttpsAgent } from 'https';\nimport { readFileSync } from 'fs';\n\nimport Config from '../../server/config/config';\nimport setupConnection from '../../server/http/setup_connection';\nimport registerHapiPlugins from '../../server/http/register_hapi_plugins';\nimport setupLogging from '../../server/logging';\nimport { transformDeprecations } from '../../server/config/transform_deprecations';\nimport { DEV_SSL_CERT_PATH } from '../dev_ssl';\n\nconst alphabet = 'abcdefghijklmnopqrztuvwxyz'.split('');\n\nexport default class BasePathProxy {\n  constructor(clusterManager, userSettings) {\n    this.clusterManager = clusterManager;\n    this.server = new Server();\n\n    const settings = transformDeprecations(userSettings);\n    const config = Config.withDefaultSchema(settings);\n\n    this.targetPort = config.get('dev.basePathProxyTarget');\n    this.basePath = config.get('server.basePath');\n\n    const sslEnabled = config.get('server.ssl.enabled');\n    if (sslEnabled) {\n      this.proxyAgent = new HttpsAgent({\n        key: readFileSync(config.get('server.ssl.key')),\n        passphrase: config.get('server.ssl.keyPassphrase'),\n        cert: readFileSync(config.get('server.ssl.certificate')),\n        ca: map(config.get('server.ssl.certificateAuthorities'), readFileSync),\n        rejectUnauthorized: false\n      });\n    }\n\n    if (!this.basePath) {\n      this.basePath = `/${sample(alphabet, 3).join('')}`;\n      config.set('server.basePath', this.basePath);\n    }\n\n    const ONE_GIGABYTE = 1024 * 1024 * 1024;\n    config.set('server.maxPayloadBytes', ONE_GIGABYTE);\n\n    setupLogging(null, this.server, config);\n    setupConnection(null, this.server, config);\n    registerHapiPlugins(null, this.server, config);\n\n    this.setupRoutes();\n  }\n\n  setupRoutes() {\n    const { clusterManager, server, basePath, targetPort } = this;\n\n    server.route({\n      method: 'GET',\n      path: '/',\n      handler(req, reply) {\n        return reply.redirect(basePath);\n      }\n    });\n\n    server.route({\n      method: '*',\n      path: `${basePath}/{kbnPath*}`,\n      config: {\n        pre: [\n          (req, reply) => {\n            promiseMap(clusterManager.workers, worker => {\n              if (worker.type === 'server' && !worker.listening && !worker.crashed) {\n                return fromNode(cb => {\n                  const done = () => {\n                    worker.removeListener('listening', done);\n                    worker.removeListener('crashed', done);\n                    cb();\n                  };\n\n                  worker.on('listening', done);\n                  worker.on('crashed', done);\n                });\n              }\n            })\n            .return(undefined)\n            .nodeify(reply);\n          }\n        ],\n      },\n      handler: {\n        proxy: {\n          passThrough: true,\n          xforward: true,\n          agent: this.proxyAgent,\n          mapUri(req, callback) {\n            callback(null, formatUrl({\n              protocol: server.info.protocol,\n              hostname: server.info.host,\n              port: targetPort,\n              pathname: req.params.kbnPath,\n              query: req.query,\n            }));\n          }\n        }\n      }\n    });\n\n    server.route({\n      method: '*',\n      path: `/{oldBasePath}/{kbnPath*}`,\n      handler(req, reply) {\n        const { oldBasePath, kbnPath = '' } = req.params;\n\n        const isGet = req.method === 'get';\n        const isBasePath = oldBasePath.length === 3;\n        const isApp = kbnPath.slice(0, 4) === 'app/';\n\n        if (isGet && isBasePath && isApp) {\n          return reply.redirect(`${basePath}/${kbnPath}`);\n        }\n\n        return reply(notFound());\n      }\n    });\n  }\n\n  async listen() {\n    await fromNode(cb => this.server.start(cb));\n    this.server.log(['listening', 'info'], `basePath Proxy running at ${this.server.info.uri}${this.basePath}`);\n  }\n\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/config/config.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "joi",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Joi"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./override",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "override"
              }
            ]
          },
          {
            "source": "./schema",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "createDefaultSchema"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "pkg",
              "unset"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "pkg",
                "local": "pkg"
              },
              {
                "kind": "named",
                "imported": "unset",
                "local": "unset"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "deepCloneWithBuffers"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "deepCloneWithBuffers",
                "local": "clone"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "define-property",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _joi = require('joi');\n\nvar _joi2 = _interopRequireDefault(_joi);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _override = require('./override');\n\nvar _override2 = _interopRequireDefault(_override);\n\nvar _schema = require('./schema');\n\nvar _schema2 = _interopRequireDefault(_schema);\n\nvar _utils = require('../../utils');\n\nvar schema = Symbol('Joi Schema');\nvar schemaExts = Symbol('Schema Extensions');\nvar vals = Symbol('config values');\n\nmodule.exports = (function () {\n  _createClass(Config, null, [{\n    key: 'withDefaultSchema',\n    value: function withDefaultSchema() {\n      var settings = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      return new Config((0, _schema2['default'])(), settings);\n    }\n  }]);\n\n  function Config(initialSchema, initialSettings) {\n    _classCallCheck(this, Config);\n\n    this[schemaExts] = Object.create(null);\n    this[vals] = Object.create(null);\n\n    this.extendSchema(initialSchema, initialSettings);\n  }\n\n  _createClass(Config, [{\n    key: 'extendSchema',\n    value: function extendSchema(extension, settings, key) {\n      var _this = this;\n\n      if (!extension) {\n        return;\n      }\n\n      if (!key) {\n        return _lodash2['default'].each(extension._inner.children, function (child) {\n          _this.extendSchema(child.schema, _lodash2['default'].get(settings, child.key), child.key);\n        });\n      }\n\n      if (this.has(key)) {\n        throw new Error('Config schema already has key: ' + key);\n      }\n\n      _lodash2['default'].set(this[schemaExts], key, extension);\n      this[schema] = null;\n\n      this.set(key, settings);\n    }\n  }, {\n    key: 'removeSchema',\n    value: function removeSchema(key) {\n      if (!_lodash2['default'].has(this[schemaExts], key)) {\n        throw new TypeError('Unknown schema key: ' + key);\n      }\n\n      this[schema] = null;\n      (0, _utils.unset)(this[schemaExts], key);\n      (0, _utils.unset)(this[vals], key);\n    }\n  }, {\n    key: 'resetTo',\n    value: function resetTo(obj) {\n      this._commit(obj);\n    }\n  }, {\n    key: 'set',\n    value: function set(key, value) {\n      // clone and modify the config\n      var config = (0, _utils.deepCloneWithBuffers)(this[vals]);\n      if (_lodash2['default'].isPlainObject(key)) {\n        config = (0, _override2['default'])(config, key);\n      } else {\n        _lodash2['default'].set(config, key, value);\n      }\n\n      // attempt to validate the config value\n      this._commit(config);\n    }\n  }, {\n    key: '_commit',\n    value: function _commit(newVals) {\n      // resolve the current environment\n      var env = newVals.env;\n      delete newVals.env;\n      if (_lodash2['default'].isObject(env)) env = env.name;\n      if (!env) env = process.env.NODE_ENV || 'production';\n\n      var dev = env === 'development';\n      var prod = env === 'production';\n\n      // pass the environment as context so that it can be refed in config\n      var context = {\n        env: env,\n        prod: prod,\n        dev: dev,\n        notProd: !prod,\n        notDev: !dev,\n        version: _lodash2['default'].get(_utils.pkg, 'version'),\n        buildNum: dev ? Math.pow(2, 53) - 1 : _lodash2['default'].get(_utils.pkg, 'build.number', NaN),\n        buildSha: dev ? 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX' : _lodash2['default'].get(_utils.pkg, 'build.sha', '')\n      };\n\n      if (!context.dev && !context.prod) {\n        throw new TypeError('Unexpected environment \"' + env + '\", expected one of \"development\" or \"production\"');\n      }\n\n      var results = _joi2['default'].validate(newVals, this.getSchema(), { context: context });\n\n      if (results.error) {\n        throw results.error;\n      }\n\n      this[vals] = results.value;\n    }\n  }, {\n    key: 'get',\n    value: function get(key) {\n      if (!key) {\n        return (0, _utils.deepCloneWithBuffers)(this[vals]);\n      }\n\n      var value = _lodash2['default'].get(this[vals], key);\n      if (value === undefined) {\n        if (!this.has(key)) {\n          throw new Error('Unknown config key: ' + key);\n        }\n      }\n      return (0, _utils.deepCloneWithBuffers)(value);\n    }\n  }, {\n    key: 'has',\n    value: function has(key) {\n      function has(key, schema, path) {\n        path = path || [];\n        // Catch the partial paths\n        if (path.join('.') === key) return true;\n        // Only go deep on inner objects with children\n        if (_lodash2['default'].size(schema._inner.children)) {\n          for (var i = 0; i < schema._inner.children.length; i++) {\n            var child = schema._inner.children[i];\n            // If the child is an object recurse through it's children and return\n            // true if there's a match\n            if (child.schema._type === 'object') {\n              if (has(key, child.schema, path.concat([child.key]))) return true;\n              // if the child matches, return true\n            } else if (path.concat([child.key]).join('.') === key) {\n                return true;\n              }\n          }\n        }\n      }\n\n      if (_lodash2['default'].isArray(key)) {\n        // TODO: add .has() support for array keys\n        key = key.join('.');\n      }\n\n      return !!has(key, this.getSchema());\n    }\n  }, {\n    key: 'getSchema',\n    value: function getSchema() {\n      if (!this[schema]) {\n        this[schema] = (function convertToSchema(children) {\n          var schema = _joi2['default'].object().keys({})['default']();\n\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = Object.keys(children)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var key = _step.value;\n\n              var child = children[key];\n              var childSchema = _lodash2['default'].isPlainObject(child) ? convertToSchema(child) : child;\n\n              if (!childSchema || !childSchema.isJoi) {\n                throw new TypeError('Unable to convert configuration definition value to Joi schema: ' + childSchema);\n              }\n\n              schema = schema.keys(_defineProperty({}, key, childSchema));\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator['return']) {\n                _iterator['return']();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          return schema;\n        })(this[schemaExts]);\n      }\n\n      return this[schema];\n    }\n  }]);\n\n  return Config;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL2NvbmZpZy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O21CQUFnQixLQUFLOzs7O3NCQUNQLFFBQVE7Ozs7d0JBQ0QsWUFBWTs7OztzQkFDRCxVQUFVOzs7O3FCQUNmLGFBQWE7O0FBR3hDLElBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNwQyxJQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQztBQUMvQyxJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7O0FBRXJDLE1BQU0sQ0FBQyxPQUFPO2VBQVMsTUFBTTs7V0FDSCw2QkFBZ0I7VUFBZixRQUFRLHlEQUFHLEVBQUU7O0FBQ3BDLGFBQU8sSUFBSSxNQUFNLENBQUMsMEJBQXFCLEVBQUUsUUFBUSxDQUFDLENBQUM7S0FDcEQ7OztBQUVVLFdBTFUsTUFBTSxDQUtmLGFBQWEsRUFBRSxlQUFlLEVBQUU7MEJBTHZCLE1BQU07O0FBTXpCLFFBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUVqQyxRQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsRUFBRSxlQUFlLENBQUMsQ0FBQztHQUNuRDs7ZUFWb0IsTUFBTTs7V0FZZixzQkFBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRTs7O0FBQ3JDLFVBQUksQ0FBQyxTQUFTLEVBQUU7QUFDZCxlQUFPO09BQ1I7O0FBRUQsVUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNSLGVBQU8sb0JBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLFVBQUMsS0FBSyxFQUFLO0FBQ2xELGdCQUFL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QyxJQUFJLENBQUMsUUFBUSxDQUFDLDhIQUFFO2tCQUE5QixHQUFHOztBQUNaLGtCQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDNUIsa0JBQU0sV0FBVyxHQUFHLG9CQUFFLGFBQWEsQ0FBQyxLQUFLLENBQUMsR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDOztBQUU1RSxrQkFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUU7QUFDdEMsc0JBQU0sSUFBSSxTQUFTLENBQUMsa0VBQWtFLEdBQUcsV0FBVyxDQUFDLENBQUM7ZUFDdkc7O0FBRUQsb0JBQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxxQkFBSSxHQUFHLEVBQUcsV0FBVyxFQUFHLENBQUM7YUFDOUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFRCxpQkFBTyxNQUFNLENBQUM7U0FDZixDQUFBLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEFBQUMsQ0FBQztPQUN0Qjs7QUFFRCxhQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUNyQjs7O1NBaktvQixNQUFNO0lBa0s1QixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL2NvbmZpZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBKb2kgZnJvbSAnam9pJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgb3ZlcnJpZGUgZnJvbSAnLi9vdmVycmlkZSc7XG5pbXBvcnQgY3JlYXRlRGVmYXVsdFNjaGVtYSBmcm9tICcuL3NjaGVtYSc7XG5pbXBvcnQgeyBwa2csIHVuc2V0IH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGVlcENsb25lV2l0aEJ1ZmZlcnMgYXMgY2xvbmUgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmNvbnN0IHNjaGVtYSA9IFN5bWJvbCgnSm9pIFNjaGVtYScpO1xuY29uc3Qgc2NoZW1hRXh0cyA9IFN5bWJvbCgnU2NoZW1hIEV4dGVuc2lvbnMnKTtcbmNvbnN0IHZhbHMgPSBTeW1ib2woJ2NvbmZpZyB2YWx1ZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBDb25maWcge1xuICBzdGF0aWMgd2l0aERlZmF1bHRTY2hlbWEoc2V0dGluZ3MgPSB7fSkge1xuICAgIHJldHVybiBuZXcgQ29uZmlnKGNyZWF0ZURlZmF1bHRTY2hlbWEoKSwgc2V0dGluZ3MpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoaW5pdGlhbFNjaGVtYSwgaW5pdGlhbFNldHRpbmdzKSB7XG4gICAgdGhpc1tzY2hlbWFFeHRzXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpc1t2YWxzXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICB0aGlzLmV4dGVuZFNjaGVtYShpbml0aWFsU2NoZW1hLCBpbml0aWFsU2V0dGluZ3MpO1xuICB9XG5cbiAgZXh0ZW5kU2NoZW1hKGV4dGVuc2lvbiwgc2V0dGluZ3MsIGtleSkge1xuICAgIGlmICghZXh0ZW5zaW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHJldHVybiBfLmVhY2goZXh0ZW5zaW9uLl9pbm5lci5jaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICAgIHRoaXMuZXh0ZW5kU2NoZW1hKGNoaWxkLnNjaGVtYSwgXy5nZXQoc2V0dGluZ3MsIGNoaWxkLmtleSksIGNoaWxkLmtleSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb25maWcgc2NoZW1hIGFscmVhZHkgaGFzIGtleTogJHtrZXl9YCk7XG4gICAgfVxuXG4gICAgXy5zZXQodGhpc1tzY2hlbWFFeHRzXSwga2V5LCBleHRlbnNpb24pO1xuICAgIHRoaXNbc2NoZW1hXSA9IG51bGw7XG5cbiAgICB0aGlzLnNldChrZXksIHNldHRpbmdzKTtcbiAgfVxuXG4gIHJlbW92ZVNjaGVtYShrZXkpIHtcbiAgICBpZiAoIV8uaGFzKHRoaXNbc2NoZW1hRXh0c10sIGtleSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFVua25vd24gc2NoZW1hIGtleTogJHtrZXl9YCk7XG4gICAgfVxuXG4gICAgdGhpc1tzY2hlbWFdID0gbnVsbDtcbiAgICB1bnNldCh0aGlzW3NjaGVtYUV4dHNdLCBrZXkpO1xuICAgIHVuc2V0KHRoaXNbdmFsc10sIGtleSk7XG4gIH1cblxuICByZXNldFRvKG9iaikge1xuICAgIHRoaXMuX2NvbW1pdChvYmopO1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAvLyBjbG9uZSBhbmQgbW9kaWZ5IHRoZSBjb25maWdcbiAgICBsZXQgY29uZmlnID0gY2xvbmUodGhpc1t2YWxzXSk7XG4gICAgaWYgKF8uaXNQbGFpbk9iamVjdChrZXkpKSB7XG4gICAgICBjb25maWcgPSBvdmVycmlkZShjb25maWcsIGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF8uc2V0KGNvbmZpZywga2V5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gYXR0ZW1wdCB0byB2YWxpZGF0ZSB0aGUgY29uZmlnIHZhbHVlXG4gICAgdGhpcy5fY29tbWl0KGNvbmZpZyk7XG4gIH1cblxuICBfY29tbWl0KG5ld1ZhbHMpIHtcbiAgICAvLyByZXNvbHZlIHRoZSBjdXJyZW50IGVudmlyb25tZW50XG4gICAgbGV0IGVudiA9IG5ld1ZhbHMuZW52O1xuICAgIGRlbGV0ZSBuZXdWYWxzLmVudjtcbiAgICBpZiAoXy5pc09iamVjdChlbnYpKSBlbnYgPSBlbnYubmFtZTtcbiAgICBpZiAoIWVudikgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ3Byb2R1Y3Rpb24nO1xuXG4gICAgY29uc3QgZGV2ID0gZW52ID09PSAnZGV2ZWxvcG1lbnQnO1xuICAgIGNvbnN0IHByb2QgPSBlbnYgPT09ICdwcm9kdWN0aW9uJztcblxuICAgIC8vIHBhc3MgdGhlIGVudmlyb25tZW50IGFzIGNvbnRleHQgc28gdGhhdCBpdCBjYW4gYmUgcmVmZWQgaW4gY29uZmlnXG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgIGVudjogZW52LFxuICAgICAgcHJvZDogcHJvZCxcbiAgICAgIGRldjogZGV2LFxuICAgICAgbm90UHJvZDogIXByb2QsXG4gICAgICBub3REZXY6ICFkZXYsXG4gICAgICB2ZXJzaW9uOiBfLmdldChwa2csICd2ZXJzaW9uJyksXG4gICAgICBidWlsZE51bTogZGV2ID8gTWF0aC5wb3coMiwgNTMpIC0gMSA6IF8uZ2V0KHBrZywgJ2J1aWxkLm51bWJlcicsIE5hTiksXG4gICAgICBidWlsZFNoYTogZGV2ID8gJ1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFgnIDogXy5nZXQocGtnLCAnYnVpbGQuc2hhJywgJycpXG4gICAgfTtcblxuICAgIGlmICghY29udGV4dC5kZXYgJiYgIWNvbnRleHQucHJvZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgYFVuZXhwZWN0ZWQgZW52aXJvbm1lbnQgXCIke2Vudn1cIiwgZXhwZWN0ZWQgb25lIG9mIFwiZGV2ZWxvcG1lbnRcIiBvciBcInByb2R1Y3Rpb25cImBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0cyA9IEpvaS52YWxpZGF0ZShuZXdWYWxzLCB0aGlzLmdldFNjaGVtYSgpLCB7IGNvbnRleHQgfSk7XG5cbiAgICBpZiAocmVzdWx0cy5lcnJvcikge1xuICAgICAgdGhyb3cgcmVzdWx0cy5lcnJvcjtcbiAgICB9XG5cbiAgICB0aGlzW3ZhbHNdID0gcmVzdWx0cy52YWx1ZTtcbiAgfVxuXG4gIGdldChrZXkpIHtcbiAgICBpZiAoIWtleSkge1xuICAgICAgcmV0dXJuIGNsb25lKHRoaXNbdmFsc10pO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlID0gXy5nZXQodGhpc1t2YWxzXSwga2V5KTtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBjb25maWcga2V5OiAnICsga2V5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsb25lKHZhbHVlKTtcbiAgfVxuXG4gIGhhcyhrZXkpIHtcbiAgICBmdW5jdGlvbiBoYXMoa2V5LCBzY2hlbWEsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBwYXRoIHx8IFtdO1xuICAgICAgLy8gQ2F0Y2ggdGhlIHBhcnRpYWwgcGF0aHNcbiAgICAgIGlmIChwYXRoLmpvaW4oJy4nKSA9PT0ga2V5KSByZXR1cm4gdHJ1ZTtcbiAgICAgIC8vIE9ubHkgZ28gZGVlcCBvbiBpbm5lciBvYmplY3RzIHdpdGggY2hpbGRyZW5cbiAgICAgIGlmIChfLnNpemUoc2NoZW1hLl9pbm5lci5jaGlsZHJlbikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2hlbWEuX2lubmVyLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgY2hpbGQgPSBzY2hlbWEuX2lubmVyLmNoaWxkcmVuW2ldO1xuICAgICAgICAgIC8vIElmIHRoZSBjaGlsZCBpcyBhbiBvYmplY3QgcmVjdXJzZSB0aHJvdWdoIGl0J3MgY2hpbGRyZW4gYW5kIHJldHVyblxuICAgICAgICAgIC8vIHRydWUgaWYgdGhlcmUncyBhIG1hdGNoXG4gICAgICAgICAgaWYgKGNoaWxkLnNjaGVtYS5fdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmIChoYXMoa2V5LCBjaGlsZC5zY2hlbWEsIHBhdGguY29uY2F0KFtjaGlsZC5rZXldKSkpIHJldHVybiB0cnVlO1xuICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBtYXRjaGVzLCByZXR1cm4gdHJ1ZVxuICAgICAgICAgIH0gZWxzZSBpZiAocGF0aC5jb25jYXQoW2NoaWxkLmtleV0pLmpvaW4oJy4nKSA9PT0ga2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoXy5pc0FycmF5KGtleSkpIHtcbiAgICAgIC8vIFRPRE86IGFkZCAuaGFzKCkgc3VwcG9ydCBmb3IgYXJyYXkga2V5c1xuICAgICAga2V5ID0ga2V5LmpvaW4oJy4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gISFoYXMoa2V5LCB0aGlzLmdldFNjaGVtYSgpKTtcbiAgfVxuXG4gIGdldFNjaGVtYSgpIHtcbiAgICBpZiAoIXRoaXNbc2NoZW1hXSkge1xuICAgICAgdGhpc1tzY2hlbWFdID0gKGZ1bmN0aW9uIGNvbnZlcnRUb1NjaGVtYShjaGlsZHJlbikge1xuICAgICAgICBsZXQgc2NoZW1hID0gSm9pLm9iamVjdCgpLmtleXMoe30pLmRlZmF1bHQoKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhjaGlsZHJlbikpIHtcbiAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2tleV07XG4gICAgICAgICAgY29uc3QgY2hpbGRTY2hlbWEgPSBfLmlzUGxhaW5PYmplY3QoY2hpbGQpID8gY29udmVydFRvU2NoZW1hKGNoaWxkKSA6IGNoaWxkO1xuXG4gICAgICAgICAgaWYgKCFjaGlsZFNjaGVtYSB8fCAhY2hpbGRTY2hlbWEuaXNKb2kpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuYWJsZSB0byBjb252ZXJ0IGNvbmZpZ3VyYXRpb24gZGVmaW5pdGlvbiB2YWx1ZSB0byBKb2kgc2NoZW1hOiAnICsgY2hpbGRTY2hlbWEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNjaGVtYSA9IHNjaGVtYS5rZXlzKHsgW2tleV06IGNoaWxkU2NoZW1hIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICAgIH0odGhpc1tzY2hlbWFFeHRzXSkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzW3NjaGVtYV07XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/config/config.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;mBAAgB,KAAK;;;;sBACP,QAAQ;;;;wBACD,YAAY;;;;sBACD,UAAU;;;;qBACf,aAAa;;AAGxC,IAAM,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;AACpC,IAAM,UAAU,GAAG,MAAM,CAAC,mBAAmB,CAAC,CAAC;AAC/C,IAAM,IAAI,GAAG,MAAM,CAAC,eAAe,CAAC,CAAC;;AAErC,MAAM,CAAC,OAAO;eAAS,MAAM;;WACH,6BAAgB;UAAf,QAAQ,yDAAG,EAAE;;AACpC,aAAO,IAAI,MAAM,CAAC,0BAAqB,EAAE,QAAQ,CAAC,CAAC;KACpD;;;AAEU,WALU,MAAM,CAKf,aAAa,EAAE,eAAe,EAAE;0BALvB,MAAM;;AAMzB,QAAI,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACvC,QAAI,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;AAEjC,QAAI,CAAC,YAAY,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;GACnD;;eAVoB,MAAM;;WAYf,sBAAC,SAAS,EAAE,QAAQ,EAAE,GAAG,EAAE;;;AACrC,UAAI,CAAC,SAAS,EAAE;AACd,eAAO;OACR;;AAED,UAAI,CAAC,GAAG,EAAE;AACR,eAAO,oBAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,UAAC,KAAK,EAAK;AAClD,gBAAK,YAAY,CAAC,KAAK,CAAC,MAAM,EAAE,oBAAE,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;SACxE,CAAC,CAAC;OACJ;;AAED,UAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AACjB,cAAM,IAAI,KAAK,qCAAmC,GAAG,CAAG,CAAC;OAC1D;;AAED,0BAAE,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC;AACxC,UAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;;AAEpB,UAAI,CAAC,GAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;KACzB;;;WAEW,sBAAC,GAAG,EAAE;AAChB,UAAI,CAAC,oBAAE,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,CAAC,EAAE;AACjC,cAAM,IAAI,SAAS,0BAAwB,GAAG,CAAG,CAAC;OACnD;;AAED,UAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;AACpB,wBAAM,IAAI,CAAC,UAAU,CAAC,EAAE,GAAG,CAAC,CAAC;AAC7B,wBAAM,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;KACxB;;;WAEM,iBAAC,GAAG,EAAE;AACX,UAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;KACnB;;;WAEE,aAAC,GAAG,EAAE,KAAK,EAAE;;AAEd,UAAI,MAAM,GAAG,iCAAM,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC/B,UAAI,oBAAE,aAAa,CAAC,GAAG,CAAC,EAAE;AACxB,cAAM,GAAG,2BAAS,MAAM,EAAE,GAAG,CAAC,CAAC;OAChC,MAAM;AACL,4BAAE,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;OAC3B;;;AAGD,UAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;KACtB;;;WAEM,iBAAC,OAAO,EAAE;;AAEf,UAAI,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;AACtB,aAAO,OAAO,CAAC,GAAG,CAAC;AACnB,UAAI,oBAAE,QAAQ,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC;AACpC,UAAI,CAAC,GAAG,EAAE,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,YAAY,CAAC;;AAErD,UAAM,GAAG,GAAG,GAAG,KAAK,aAAa,CAAC;AAClC,UAAM,IAAI,GAAG,GAAG,KAAK,YAAY,CAAC;;;AAGlC,UAAM,OAAO,GAAG;AACd,WAAG,EAAE,GAAG;AACR,YAAI,EAAE,IAAI;AACV,WAAG,EAAE,GAAG;AACR,eAAO,EAAE,CAAC,IAAI;AACd,cAAM,EAAE,CAAC,GAAG;AACZ,eAAO,EAAE,oBAAE,GAAG,aAAM,SAAS,CAAC;AAC9B,gBAAQ,EAAE,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,GAAG,oBAAE,GAAG,aAAM,cAAc,EAAE,GAAG,CAAC;AACrE,gBAAQ,EAAE,GAAG,GAAG,0CAA0C,GAAG,oBAAE,GAAG,aAAM,WAAW,EAAE,EAAE,CAAC;OACzF,CAAC;;AAEF,UAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;AACjC,cAAM,IAAI,SAAS,8BACU,GAAG,sDAC/B,CAAC;OACH;;AAED,UAAM,OAAO,GAAG,iBAAI,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,EAAE,EAAE,EAAE,OAAO,EAAP,OAAO,EAAE,CAAC,CAAC;;AAErE,UAAI,OAAO,CAAC,KAAK,EAAE;AACjB,cAAM,OAAO,CAAC,KAAK,CAAC;OACrB;;AAED,UAAI,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC;KAC5B;;;WAEE,aAAC,GAAG,EAAE;AACP,UAAI,CAAC,GAAG,EAAE;AACR,eAAO,iCAAM,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;OAC1B;;AAED,UAAM,KAAK,GAAG,oBAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;AACrC,UAAI,KAAK,KAAK,SAAS,EAAE;AACvB,YAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AAClB,gBAAM,IAAI,KAAK,CAAC,sBAAsB,GAAG,GAAG,CAAC,CAAC;SAC/C;OACF;AACD,aAAO,iCAAM,KAAK,CAAC,CAAC;KACrB;;;WAEE,aAAC,GAAG,EAAE;AACP,eAAS,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE;AAC9B,YAAI,GAAG,IAAI,IAAI,EAAE,CAAC;;AAElB,YAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,EAAE,OAAO,IAAI,CAAC;;AAExC,YAAI,oBAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;AAClC,eAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACtD,gBAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;;;AAGxC,gBAAI,KAAK,CAAC,MAAM,CAAC,KAAK,KAAK,QAAQ,EAAE;AACnC,kBAAI,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC;;aAEnE,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,EAAE;AACrD,uBAAO,IAAI,CAAC;eACb;WACF;SACF;OACF;;AAED,UAAI,oBAAE,OAAO,CAAC,GAAG,CAAC,EAAE;;AAElB,WAAG,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;OACrB;;AAED,aAAO,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;KACrC;;;WAEQ,qBAAG;AACV,UAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;AACjB,YAAI,CAAC,MAAM,CAAC,GAAI,CAAA,SAAS,eAAe,CAAC,QAAQ,EAAE;AACjD,cAAI,MAAM,GAAG,iBAAI,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,WAAQ,EAAE,CAAC;;;;;;;AAE7C,iCAAkB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,8HAAE;kBAA9B,GAAG;;AACZ,kBAAM,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC5B,kBAAM,WAAW,GAAG,oBAAE,aAAa,CAAC,KAAK,CAAC,GAAG,eAAe,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;;AAE5E,kBAAI,CAAC,WAAW,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE;AACtC,sBAAM,IAAI,SAAS,CAAC,kEAAkE,GAAG,WAAW,CAAC,CAAC;eACvG;;AAED,oBAAM,GAAG,MAAM,CAAC,IAAI,qBAAI,GAAG,EAAG,WAAW,EAAG,CAAC;aAC9C;;;;;;;;;;;;;;;;AAED,iBAAO,MAAM,CAAC;SACf,CAAA,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,AAAC,CAAC;OACtB;;AAED,aAAO,IAAI,CAAC,MAAM,CAAC,CAAC;KACrB;;;SAjKoB,MAAM;IAkK5B,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/config/config.js",
      "sourcesContent": [
        "import Joi from 'joi';\nimport _ from 'lodash';\nimport override from './override';\nimport createDefaultSchema from './schema';\nimport { pkg, unset } from '../../utils';\nimport { deepCloneWithBuffers as clone } from '../../utils';\n\nconst schema = Symbol('Joi Schema');\nconst schemaExts = Symbol('Schema Extensions');\nconst vals = Symbol('config values');\n\nmodule.exports = class Config {\n  static withDefaultSchema(settings = {}) {\n    return new Config(createDefaultSchema(), settings);\n  }\n\n  constructor(initialSchema, initialSettings) {\n    this[schemaExts] = Object.create(null);\n    this[vals] = Object.create(null);\n\n    this.extendSchema(initialSchema, initialSettings);\n  }\n\n  extendSchema(extension, settings, key) {\n    if (!extension) {\n      return;\n    }\n\n    if (!key) {\n      return _.each(extension._inner.children, (child) => {\n        this.extendSchema(child.schema, _.get(settings, child.key), child.key);\n      });\n    }\n\n    if (this.has(key)) {\n      throw new Error(`Config schema already has key: ${key}`);\n    }\n\n    _.set(this[schemaExts], key, extension);\n    this[schema] = null;\n\n    this.set(key, settings);\n  }\n\n  removeSchema(key) {\n    if (!_.has(this[schemaExts], key)) {\n      throw new TypeError(`Unknown schema key: ${key}`);\n    }\n\n    this[schema] = null;\n    unset(this[schemaExts], key);\n    unset(this[vals], key);\n  }\n\n  resetTo(obj) {\n    this._commit(obj);\n  }\n\n  set(key, value) {\n    // clone and modify the config\n    let config = clone(this[vals]);\n    if (_.isPlainObject(key)) {\n      config = override(config, key);\n    } else {\n      _.set(config, key, value);\n    }\n\n    // attempt to validate the config value\n    this._commit(config);\n  }\n\n  _commit(newVals) {\n    // resolve the current environment\n    let env = newVals.env;\n    delete newVals.env;\n    if (_.isObject(env)) env = env.name;\n    if (!env) env = process.env.NODE_ENV || 'production';\n\n    const dev = env === 'development';\n    const prod = env === 'production';\n\n    // pass the environment as context so that it can be refed in config\n    const context = {\n      env: env,\n      prod: prod,\n      dev: dev,\n      notProd: !prod,\n      notDev: !dev,\n      version: _.get(pkg, 'version'),\n      buildNum: dev ? Math.pow(2, 53) - 1 : _.get(pkg, 'build.number', NaN),\n      buildSha: dev ? 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX' : _.get(pkg, 'build.sha', '')\n    };\n\n    if (!context.dev && !context.prod) {\n      throw new TypeError(\n        `Unexpected environment \"${env}\", expected one of \"development\" or \"production\"`\n      );\n    }\n\n    const results = Joi.validate(newVals, this.getSchema(), { context });\n\n    if (results.error) {\n      throw results.error;\n    }\n\n    this[vals] = results.value;\n  }\n\n  get(key) {\n    if (!key) {\n      return clone(this[vals]);\n    }\n\n    const value = _.get(this[vals], key);\n    if (value === undefined) {\n      if (!this.has(key)) {\n        throw new Error('Unknown config key: ' + key);\n      }\n    }\n    return clone(value);\n  }\n\n  has(key) {\n    function has(key, schema, path) {\n      path = path || [];\n      // Catch the partial paths\n      if (path.join('.') === key) return true;\n      // Only go deep on inner objects with children\n      if (_.size(schema._inner.children)) {\n        for (let i = 0; i < schema._inner.children.length; i++) {\n          const child = schema._inner.children[i];\n          // If the child is an object recurse through it's children and return\n          // true if there's a match\n          if (child.schema._type === 'object') {\n            if (has(key, child.schema, path.concat([child.key]))) return true;\n          // if the child matches, return true\n          } else if (path.concat([child.key]).join('.') === key) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (_.isArray(key)) {\n      // TODO: add .has() support for array keys\n      key = key.join('.');\n    }\n\n    return !!has(key, this.getSchema());\n  }\n\n  getSchema() {\n    if (!this[schema]) {\n      this[schema] = (function convertToSchema(children) {\n        let schema = Joi.object().keys({}).default();\n\n        for (const key of Object.keys(children)) {\n          const child = children[key];\n          const childSchema = _.isPlainObject(child) ? convertToSchema(child) : child;\n\n          if (!childSchema || !childSchema.isJoi) {\n            throw new TypeError('Unable to convert configuration definition value to Joi schema: ' + childSchema);\n          }\n\n          schema = schema.keys({ [key]: childSchema });\n        }\n\n        return schema;\n      }(this[schemaExts]));\n    }\n\n    return this[schema];\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/config/override.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./flatten_with",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "flattenWith"
              }
            ]
          },
          {
            "source": "./explode_by",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "explodeBy"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _flatten_with = require('./flatten_with');\n\nvar _flatten_with2 = _interopRequireDefault(_flatten_with);\n\nvar _explode_by = require('./explode_by');\n\nvar _explode_by2 = _interopRequireDefault(_explode_by);\n\nmodule.exports = function (target, source) {\n  var _target = (0, _flatten_with2['default'])('.', target);\n  var _source = (0, _flatten_with2['default'])('.', source);\n  return (0, _explode_by2['default'])('.', _lodash2['default'].defaults(_source, _target));\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL292ZXJyaWRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7c0JBQWMsUUFBUTs7Ozs0QkFDRSxnQkFBZ0I7Ozs7MEJBQ2xCLGNBQWM7Ozs7QUFFcEMsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDekMsTUFBTSxPQUFPLEdBQUcsK0JBQVksR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3pDLE1BQU0sT0FBTyxHQUFHLCtCQUFZLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN6QyxTQUFPLDZCQUFVLEdBQUcsRUFBRSxvQkFBRSxRQUFRLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7Q0FDckQsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvc2VydmVyL2NvbmZpZy9vdmVycmlkZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgZmxhdHRlbldpdGggZnJvbSAnLi9mbGF0dGVuX3dpdGgnO1xuaW1wb3J0IGV4cGxvZGVCeSBmcm9tICcuL2V4cGxvZGVfYnknO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuICBjb25zdCBfdGFyZ2V0ID0gZmxhdHRlbldpdGgoJy4nLCB0YXJnZXQpO1xuICBjb25zdCBfc291cmNlID0gZmxhdHRlbldpdGgoJy4nLCBzb3VyY2UpO1xuICByZXR1cm4gZXhwbG9kZUJ5KCcuJywgXy5kZWZhdWx0cyhfc291cmNlLCBfdGFyZ2V0KSk7XG59O1xuXG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/config/override.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;4BACE,gBAAgB;;;;0BAClB,cAAc;;;;AAEpC,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE,MAAM,EAAE;AACzC,MAAM,OAAO,GAAG,+BAAY,GAAG,EAAE,MAAM,CAAC,CAAC;AACzC,MAAM,OAAO,GAAG,+BAAY,GAAG,EAAE,MAAM,CAAC,CAAC;AACzC,SAAO,6BAAU,GAAG,EAAE,oBAAE,QAAQ,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;CACrD,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/config/override.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport flattenWith from './flatten_with';\nimport explodeBy from './explode_by';\n\nmodule.exports = function (target, source) {\n  const _target = flattenWith('.', target);\n  const _source = flattenWith('.', source);\n  return explodeBy('.', _.defaults(_source, _target));\n};\n\n\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/config/flatten_with.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nmodule.exports = function (dot, nestedObj, flattenArrays) {\n  var stack = []; // track key stack\n  var flatObj = {};\n  (function flattenObj(obj) {\n    _lodash2['default'].keys(obj).forEach(function (key) {\n      stack.push(key);\n      if (!flattenArrays && _lodash2['default'].isArray(obj[key])) flatObj[stack.join(dot)] = obj[key];else if (_lodash2['default'].isObject(obj[key])) flattenObj(obj[key]);else flatObj[stack.join(dot)] = obj[key];\n      stack.pop();\n    });\n  })(nestedObj);\n  return flatObj;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL2ZsYXR0ZW5fd2l0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3NCQUFjLFFBQVE7Ozs7QUFDdEIsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLEdBQUcsRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFO0FBQ3hELE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNqQixNQUFNLE9BQU8sR0FBRyxFQUFFLENBQUM7QUFDbkIsQUFBQyxHQUFBLFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRTtBQUN4Qix3QkFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxFQUFFO0FBQ2pDLFdBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEIsVUFBSSxDQUFDLGFBQWEsSUFBSSxvQkFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsS0FDMUUsSUFBSSxvQkFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQy9DLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3pDLFdBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUNiLENBQUMsQ0FBQztHQUNKLENBQUEsQ0FBQyxTQUFTLENBQUMsQ0FBRTtBQUNkLFNBQU8sT0FBTyxDQUFDO0NBQ2hCLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9jb25maWcvZmxhdHRlbl93aXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRvdCwgbmVzdGVkT2JqLCBmbGF0dGVuQXJyYXlzKSB7XG4gIGNvbnN0IHN0YWNrID0gW107IC8vIHRyYWNrIGtleSBzdGFja1xuICBjb25zdCBmbGF0T2JqID0ge307XG4gIChmdW5jdGlvbiBmbGF0dGVuT2JqKG9iaikge1xuICAgIF8ua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgc3RhY2sucHVzaChrZXkpO1xuICAgICAgaWYgKCFmbGF0dGVuQXJyYXlzICYmIF8uaXNBcnJheShvYmpba2V5XSkpIGZsYXRPYmpbc3RhY2suam9pbihkb3QpXSA9IG9ialtrZXldO1xuICAgICAgZWxzZSBpZiAoXy5pc09iamVjdChvYmpba2V5XSkpIGZsYXR0ZW5PYmoob2JqW2tleV0pO1xuICAgICAgZWxzZSBmbGF0T2JqW3N0YWNrLmpvaW4oZG90KV0gPSBvYmpba2V5XTtcbiAgICAgIHN0YWNrLnBvcCgpO1xuICAgIH0pO1xuICB9KG5lc3RlZE9iaikpO1xuICByZXR1cm4gZmxhdE9iajtcbn07XG5cblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/config/flatten_with.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;AACtB,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE,SAAS,EAAE,aAAa,EAAE;AACxD,MAAM,KAAK,GAAG,EAAE,CAAC;AACjB,MAAM,OAAO,GAAG,EAAE,CAAC;AACnB,AAAC,GAAA,SAAS,UAAU,CAAC,GAAG,EAAE;AACxB,wBAAE,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACjC,WAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAChB,UAAI,CAAC,aAAa,IAAI,oBAAE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,KAC1E,IAAI,oBAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,KAC/C,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AACzC,WAAK,CAAC,GAAG,EAAE,CAAC;KACb,CAAC,CAAC;GACJ,CAAA,CAAC,SAAS,CAAC,CAAE;AACd,SAAO,OAAO,CAAC;CAChB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/config/flatten_with.js",
      "sourcesContent": [
        "import _ from 'lodash';\nmodule.exports = function (dot, nestedObj, flattenArrays) {\n  const stack = []; // track key stack\n  const flatObj = {};\n  (function flattenObj(obj) {\n    _.keys(obj).forEach(function (key) {\n      stack.push(key);\n      if (!flattenArrays && _.isArray(obj[key])) flatObj[stack.join(dot)] = obj[key];\n      else if (_.isObject(obj[key])) flattenObj(obj[key]);\n      else flatObj[stack.join(dot)] = obj[key];\n      stack.pop();\n    });\n  }(nestedObj));\n  return flatObj;\n};\n\n\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/config/explode_by.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nmodule.exports = function (dot, flatObject) {\n  var fullObject = {};\n  _lodash2['default'].each(flatObject, function (value, key) {\n    var keys = key.split(dot);\n    (function walk(memo, keys, value) {\n      var _key = keys.shift();\n      if (keys.length === 0) {\n        memo[_key] = value;\n      } else {\n        if (!memo[_key]) memo[_key] = {};\n        walk(memo[_key], keys, value);\n      }\n    })(fullObject, keys, value);\n  });\n  return fullObject;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL2V4cGxvZGVfYnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztzQkFBYyxRQUFROzs7O0FBQ3RCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLEVBQUUsVUFBVSxFQUFFO0FBQzFDLE1BQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUN0QixzQkFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLFVBQVUsS0FBSyxFQUFFLEdBQUcsRUFBRTtBQUN2QyxRQUFNLElBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzVCLEFBQUMsS0FBQSxTQUFTLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRTtBQUNoQyxVQUFNLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDMUIsVUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUNyQixZQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO09BQ3BCLE1BQU07QUFDTCxZQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDakMsWUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7T0FDL0I7S0FDRixDQUFBLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBRTtHQUM3QixDQUFDLENBQUM7QUFDSCxTQUFPLFVBQVUsQ0FBQztDQUNuQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL2V4cGxvZGVfYnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZG90LCBmbGF0T2JqZWN0KSB7XG4gIGNvbnN0IGZ1bGxPYmplY3QgPSB7fTtcbiAgXy5lYWNoKGZsYXRPYmplY3QsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgY29uc3Qga2V5cyA9IGtleS5zcGxpdChkb3QpO1xuICAgIChmdW5jdGlvbiB3YWxrKG1lbW8sIGtleXMsIHZhbHVlKSB7XG4gICAgICBjb25zdCBfa2V5ID0ga2V5cy5zaGlmdCgpO1xuICAgICAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG1lbW9bX2tleV0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghbWVtb1tfa2V5XSkgbWVtb1tfa2V5XSA9IHt9O1xuICAgICAgICB3YWxrKG1lbW9bX2tleV0sIGtleXMsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KGZ1bGxPYmplY3QsIGtleXMsIHZhbHVlKSk7XG4gIH0pO1xuICByZXR1cm4gZnVsbE9iamVjdDtcbn07XG5cblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/config/explode_by.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;AACtB,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE,UAAU,EAAE;AAC1C,MAAM,UAAU,GAAG,EAAE,CAAC;AACtB,sBAAE,IAAI,CAAC,UAAU,EAAE,UAAU,KAAK,EAAE,GAAG,EAAE;AACvC,QAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC5B,AAAC,KAAA,SAAS,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE;AAChC,UAAM,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;AAC1B,UAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACrB,YAAI,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;OACpB,MAAM;AACL,YAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;AACjC,YAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;OAC/B;KACF,CAAA,CAAC,UAAU,EAAE,IAAI,EAAE,KAAK,CAAC,CAAE;GAC7B,CAAC,CAAC;AACH,SAAO,UAAU,CAAC;CACnB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/config/explode_by.js",
      "sourcesContent": [
        "import _ from 'lodash';\nmodule.exports = function (dot, flatObject) {\n  const fullObject = {};\n  _.each(flatObject, function (value, key) {\n    const keys = key.split(dot);\n    (function walk(memo, keys, value) {\n      const _key = keys.shift();\n      if (keys.length === 0) {\n        memo[_key] = value;\n      } else {\n        if (!memo[_key]) memo[_key] = {};\n        walk(memo[_key], keys, value);\n      }\n    }(fullObject, keys, value));\n  });\n  return fullObject;\n};\n\n\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/config/schema.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "joi",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Joi"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "get"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              }
            ]
          },
          {
            "source": "crypto",
            "imported": [
              "randomBytes",
              "constants"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "randomBytes",
                "local": "randomBytes"
              },
              {
                "kind": "named",
                "imported": "constants",
                "local": "cryptoConstants"
              }
            ]
          },
          {
            "source": "os",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "os"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "fromRoot"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromRoot",
                "local": "fromRoot"
              }
            ]
          },
          {
            "source": "../path",
            "imported": [
              "getData"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "getData",
                "local": "getData"
              }
            ]
          },
          {
            "source": "../../../src/utils/package_json",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "pkg"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _joi = require('joi');\n\nvar _joi2 = _interopRequireDefault(_joi);\n\nvar _lodash = require('lodash');\n\nvar _crypto = require('crypto');\n\nvar _os = require('os');\n\nvar _os2 = _interopRequireDefault(_os);\n\nvar _utils = require('../../utils');\n\nvar _path = require('../path');\n\nvar _srcUtilsPackage_json = require('../../../src/utils/package_json');\n\nvar _srcUtilsPackage_json2 = _interopRequireDefault(_srcUtilsPackage_json);\n\nmodule.exports = function () {\n  return _joi2['default'].object({\n    pkg: _joi2['default'].object({\n      version: _joi2['default'].string()['default'](_joi2['default'].ref('$version')),\n      buildNum: _joi2['default'].number()['default'](_joi2['default'].ref('$buildNum')),\n      buildSha: _joi2['default'].string()['default'](_joi2['default'].ref('$buildSha'))\n    })['default'](),\n\n    env: _joi2['default'].object({\n      name: _joi2['default'].string()['default'](_joi2['default'].ref('$env')),\n      dev: _joi2['default'].boolean()['default'](_joi2['default'].ref('$dev')),\n      prod: _joi2['default'].boolean()['default'](_joi2['default'].ref('$prod'))\n    })['default'](),\n\n    dev: _joi2['default'].object({\n      basePathProxyTarget: _joi2['default'].number()['default'](5603)\n    })['default'](),\n\n    pid: _joi2['default'].object({\n      file: _joi2['default'].string(),\n      exclusive: _joi2['default'].boolean()['default'](false)\n    })['default'](),\n\n    server: _joi2['default'].object({\n      uuid: _joi2['default'].string().guid()['default'](),\n      name: _joi2['default'].string()['default'](_os2['default'].hostname()),\n      host: _joi2['default'].string().hostname()['default']('localhost'),\n      port: _joi2['default'].number()['default'](5601),\n      maxPayloadBytes: _joi2['default'].number()['default'](1048576),\n      autoListen: _joi2['default'].boolean()['default'](true),\n      defaultRoute: _joi2['default'].string()['default']('/app/kibana').regex(/^\\//, 'start with a slash'),\n      basePath: _joi2['default'].string()['default']('').allow('').regex(/(^$|^\\/.*[^\\/]$)/, 'start with a slash, don\\'t end with one'),\n      ssl: _joi2['default'].object({\n        enabled: _joi2['default'].boolean()['default'](false),\n        certificate: _joi2['default'].string().when('enabled', {\n          is: true,\n          then: _joi2['default'].required()\n        }),\n        key: _joi2['default'].string().when('enabled', {\n          is: true,\n          then: _joi2['default'].required()\n        }),\n        keyPassphrase: _joi2['default'].string(),\n        certificateAuthorities: _joi2['default'].array().single().items(_joi2['default'].string()),\n        supportedProtocols: _joi2['default'].array().items(_joi2['default'].string().valid('TLSv1', 'TLSv1.1', 'TLSv1.2')),\n        cipherSuites: _joi2['default'].array().items(_joi2['default'].string())['default'](_crypto.constants.defaultCoreCipherList.split(':'))\n      })['default'](),\n      cors: _joi2['default'].when('$dev', {\n        is: true,\n        then: _joi2['default'].object()['default']({\n          origin: ['*://localhost:9876'] // karma test server\n        }),\n        otherwise: _joi2['default'].boolean()['default'](false)\n      }),\n      xsrf: _joi2['default'].object({\n        disableProtection: _joi2['default'].boolean()['default'](false),\n        token: _joi2['default'].string().optional().notes('Deprecated')\n      })['default']()\n    })['default'](),\n\n    logging: _joi2['default'].object().keys({\n      silent: _joi2['default'].boolean()['default'](false),\n\n      quiet: _joi2['default'].boolean().when('silent', {\n        is: true,\n        then: _joi2['default']['default'](true).valid(true),\n        otherwise: _joi2['default']['default'](false)\n      }),\n\n      verbose: _joi2['default'].boolean().when('quiet', {\n        is: true,\n        then: _joi2['default'].valid(false)['default'](false),\n        otherwise: _joi2['default']['default'](false)\n      }),\n\n      events: _joi2['default'].any()['default']({}),\n      dest: _joi2['default'].string()['default']('stdout'),\n      filter: _joi2['default'].any()['default']({}),\n      json: _joi2['default'].boolean().when('dest', {\n        is: 'stdout',\n        then: _joi2['default']['default'](!process.stdout.isTTY),\n        otherwise: _joi2['default']['default'](true)\n      })\n    })['default'](),\n\n    ops: _joi2['default'].object({\n      interval: _joi2['default'].number()['default'](5000)\n    })['default'](),\n\n    plugins: _joi2['default'].object({\n      paths: _joi2['default'].array().items(_joi2['default'].string())['default']([]),\n      scanDirs: _joi2['default'].array().items(_joi2['default'].string())['default']([]),\n      initialize: _joi2['default'].boolean()['default'](true)\n    })['default'](),\n\n    path: _joi2['default'].object({\n      data: _joi2['default'].string()['default']((0, _path.getData)())\n    })['default'](),\n\n    optimize: _joi2['default'].object({\n      enabled: _joi2['default'].boolean()['default'](true),\n      bundleFilter: _joi2['default'].string()['default']('!tests'),\n      bundleDir: _joi2['default'].string()['default']((0, _utils.fromRoot)('optimize/bundles')),\n      viewCaching: _joi2['default'].boolean()['default'](_joi2['default'].ref('$prod')),\n      lazy: _joi2['default'].boolean()['default'](false),\n      lazyPort: _joi2['default'].number()['default'](5602),\n      lazyHost: _joi2['default'].string().hostname()['default']('localhost'),\n      lazyPrebuild: _joi2['default'].boolean()['default'](false),\n      lazyProxyTimeout: _joi2['default'].number()['default'](5 * 60000),\n      useBundleCache: _joi2['default'].boolean()['default'](_joi2['default'].ref('$prod')),\n      unsafeCache: _joi2['default'].alternatives()['try'](_joi2['default'].boolean(), _joi2['default'].string().regex(/^\\/.+\\/$/))['default']('/[\\\\/\\\\\\\\](node_modules|bower_components)[\\\\/\\\\\\\\]/'),\n      sourceMaps: _joi2['default'].alternatives()['try'](_joi2['default'].string().required(), _joi2['default'].boolean())['default'](_joi2['default'].ref('$dev')),\n      profile: _joi2['default'].boolean()['default'](false)\n    })['default'](),\n\n    status: _joi2['default'].object({\n      allowAnonymous: _joi2['default'].boolean()['default'](false)\n    })['default'](),\n    tilemap: _joi2['default'].object({\n      manifestServiceUrl: _joi2['default'].string()['default']('https://tiles.elastic.co/v2/manifest'),\n      url: _joi2['default'].string(),\n      options: _joi2['default'].object({\n        attribution: _joi2['default'].string(),\n        minZoom: _joi2['default'].number().min(1, 'Must not be less than 1')['default'](1),\n        maxZoom: _joi2['default'].number()['default'](10),\n        tileSize: _joi2['default'].number(),\n        subdomains: _joi2['default'].array().items(_joi2['default'].string()).single(),\n        errorTileUrl: _joi2['default'].string().uri(),\n        tms: _joi2['default'].boolean(),\n        reuseTiles: _joi2['default'].boolean(),\n        bounds: _joi2['default'].array().items(_joi2['default'].array().items(_joi2['default'].number()).min(2).required()).min(2)\n      })['default']()\n    })['default'](),\n    uiSettings: _joi2['default'].object({\n      // this is used to prevent the uiSettings from initializing. Since they\n      // require the elasticsearch plugin in order to function we need to turn\n      // them off when we turn off the elasticsearch plugin (like we do in the\n      // optimizer half of the dev server)\n      enabled: _joi2['default'].boolean()['default'](true)\n    })['default']()\n\n  })['default']();\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL3NjaGVtYS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O21CQUFnQixLQUFLOzs7O3NCQUNELFFBQVE7O3NCQUM4QixRQUFROztrQkFDbkQsSUFBSTs7OztxQkFFTSxhQUFhOztvQkFDZCxTQUFTOztvQ0FFakIsaUNBQWlDOzs7O0FBRWpELE1BQU0sQ0FBQyxPQUFPLEdBQUc7U0FBTSxpQkFBSSxNQUFNLENBQUM7QUFDaEMsT0FBRyxFQUFFLGlCQUFJLE1BQU0sQ0FBQztBQUNkLGFBQU8sRUFBRSxpQkFBSSxNQUFNLEVBQUUsV0FBUSxDQUFDLGlCQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNsRCxjQUFRLEVBQUUsaUJBQUksTUFBTSxFQUFFLFdBQVEsQ0FBQyxpQkFBSSxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDcEQsY0FBUSxFQUFFLGlCQUFJLE1BQU0sRUFBRSxXQUFRLENBQUMsaUJBQUksR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0tBQ3JELENBQUMsV0FBUSxFQUFFOztBQUVaLE9BQUcsRUFBRSxpQkFBSSxNQUFNLENBQUM7QUFDZCxVQUFJLEVBQUUsaUJBQUksTUFBTSxFQUFFLFdBQVEsQ0FBQyxpQkFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDM0MsU0FBRyxFQUFFLGlCQUFJLE9BQU8sRUFBRSxXQUFRLENBQUMsaUJBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzNDLFVBQUksRUFBRSxpQkFBSSxPQUFPLEVBQUUsV0FBUSxDQUFDLGlCQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUM5QyxDQUFDLFdBQVEsRUFBRTs7QUFFWixPQUFHLEVBQUUsaUJBQUksTUFBTSxDQUFDO0FBQ2QseUJBQW1CLEVBQUUsaUJBQUksTUFBTSxFQUFFLFdBQVEsQ0FBQyxJQUFJLENBQUM7S0FDaEQsQ0FBQyxXQUFRLEVBQUU7O0FBRVosT0FBRyxFQUFFLGlCQUFJLE1BQU0sQ0FBQztBQUNkLFVBQUksRUFBRSxpQkFBSSxNQUFNLEVBQUU7QUFDbEIsZUFBUyxFQUFFLGlCQUFJLE9BQU8sRUFBRSxXQUFRLENBQUMsS0FBSyxDQUFDO0tBQ3hDLENBQUMsV0FBUSxFQUFFOztBQUdaLFVBQU0sRUFBRSxpQkFBSSxNQUFNLENBQUM7QUFDakIsVUFBSSxFQUFFLGlCQUFJLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRSxXQUFRLEVBQUU7QUFDbkMsVUFBSSxFQUFFLGlCQUFJLE1BQU0sRUFBRSxXQUFRLENBQUMsZ0JBQUcsUUFBUSxFQUFFLENBQUM7QUFDekMsVUFBSSxFQUFFLGlCQUFJLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxXQUFRLENBQUMsV0FBVyxDQUFDO0FBQ2xELFVBQUksRUFBRSxpQkFBSSxNQUFNLEVBQUUsV0FBUSxDQUFDLElBQUksQ0FBQztBQUNoQyxxQkFBZSxFQUFFLGlCQUFJLE1BQU0sRUFBRSxXQUFRLENBQUMsT0FBTyxDQUFDO0FBQzlDLGdCQUFVLEVBQUUsaUJBQUksT0FBTyxFQUFFLFdBQVEsQ0FBQyxJQUFJLENBQUM7QUFDdkMsa0JBQVksRUFBRSxpQkFBSSxNQUFNLEVBQUUsV0FBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLHVCQUF1QjtBQUNwRixjQUFRLEVBQUUsaUJBQUksTUFBTSxFQUFFLFdBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLGtCQUFrQiw0Q0FBMkM7QUFDaEgsU0FBRyxFQUFFLGlCQUFJLE1BQU0sQ0FBQztBQUNkLGVBQU8sRUFBRSxpQkFBSSxPQUFPLEVBQUUsV0FBUSxDQUFDLEtBQUssQ0FBQztBQUNyQyxtQkFBVyxFQUFFLGlCQUFJLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDeEMsWUFBRSxFQUFFLElBQUk7QUFDUixjQUFJLEVBQUUsaUJBQUksUUFBUSxFQUFFO1NBQ3JCLENBQUM7QUFDRixXQUFHLEVBQUUsaUJBQUksTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtBQUNoQyxZQUFFLEVBQUUsSUFBSTtBQUNSLGNBQUksRUFBRSxpQkFBSSxRQUFRLEVBQUU7U0FDckIsQ0FBQztBQUNGLHFCQUFhLEVBQUUsaUJBQUksTUFBTSxFQUFFO0FBQzNCLDhCQUFzQixFQUFFLGlCQUFJLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxpQkFBSSxNQUFNLEVBQUUsQ0FBQztBQUNoRSwwQkFBa0IsRUFBRSxpQkFBSSxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsaUJBQUksTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDeEYsb0JBQVksRUFBRSxpQkFBSSxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsaUJBQUksTUFBTSxFQUFFLENBQUMsV0FBUSxDQUFDLGtCQUFnQixxQkFBcUIsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7T0FDeEcsQ0FBQyxXQUFRLEVBQUU7QUFDWixVQUFJLEVBQUUsaUJBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNyQixVQUFFLEVBQUUsSUFBSTtBQUNSLFlBQUksRUFBRSxpQkFBSSxNQUFNLEVBQUUsV0FBUSxDQUFDO0FBQ3pCLGdCQUFNLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQztTQUMvQixDQUFDO0FBQ0YsaUJBQVMsRUFBRSxpQkFBSSxPQUFPLEVBQUUsV0FBUSxDQUFDLEtBQUssQ0FBQztPQUN4QyxDQUFDO0FBQ0YsVUFBSSxFQUFFLGlCQUFJLE1BQU0sQ0FBQztBQUNmLHlCQUFpQixFQUFFLGlCQUFJLE9BQU8sRUFBRSxXQUFRLENBQUMsS0FBSyxDQUFDO0FBQy9DLGFBQUssRUFBRSxpQkFBSSxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDO09BQ25ELENBQUMsV0FBUSxFQUFFO0tBQ2IsQ0FBQyxXQUFRLEVBQUU7O0FBRVosV0FBTyxFQUFFLGlCQUFJLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQztBQUN6QixZQUFNLEVBQUUsaUJBQUksT0FBTyxFQUFFLFdBQVEsQ0FBQyxLQUFLLENBQUM7O0FBRXBDLFdBQUssRUFBRSxpQkFBSSxPQUFPLEVBQUUsQ0FDbkIsSUFBSSxDQUFDLFFBQVEsRUFBRTtBQUNkLFVBQUUsRUFBRSxJQUFJO0FBQ1IsWUFBSSxFQUFFLDJCQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztBQUNuQyxpQkFBUyxFQUFFLDJCQUFXLENBQUMsS0FBSyxDQUFDO09BQzlCLENBQUM7O0FBRUYsYUFBTyxFQUFFLGlCQUFJLE9BQU8sRUFBRSxDQUNyQixJQUFJLENBQUMsT0FBTyxFQUFFO0FBQ2IsVUFBRSxFQUFFLElBQUk7QUFDUixZQUFJLEVBQUUsaUJBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxXQUFRLENBQUMsS0FBSyxDQUFDO0FBQ3JDLGlCQUFTLEVBQUUsMkJBQVcsQ0FBQyxLQUFLLENBQUM7T0FDOUIsQ0FBQzs7QUFFRixZQUFNLEVBQUUsaUJBQUksR0FBRyxFQUFFLFdBQVEsQ0FBQyxFQUFFLENBQUM7QUFDN0IsVUFBSSxFQUFFLGlCQUFJLE1BQU0sRUFBRSxXQUFRLENBQUMsUUFBUSxDQUFDO0FBQ3BDLFlBQU0sRUFBRSxpQkFBSSxHQUFHLEVBQUUsV0FBUSxDQUFDLEVBQUUsQ0FBQztBQUM3QixVQUFJLEVBQUUsaUJBQUksT0FBTyxFQUFFLENBQ2xCLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDWixVQUFFLEVBQUUsUUFBUTtBQUNaLFlBQUksRUFBRSwyQkFBVyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDeEMsaUJBQVMsRUFBRSwyQkFBVyxDQUFDLElBQUksQ0FBQztPQUM3QixDQUFDO0tBQ0gsQ0FBQyxXQUNNLEVBQUU7O0FBRVYsT0FBRyxFQUFFLGlCQUFJLE1BQU0sQ0FBQztBQUNkLGNBQVEsRUFBRSxpQkFBSSxNQUFNLEVBQUUsV0FBUSxDQUFDLElBQUksQ0FBQztLQUNyQyxDQUFDLFdBQVEsRUFBRTs7QUFFWixXQUFPLEVBQUUsaUJBQUksTUFBTSxDQUFDO0FBQ2xCLFdBQUssRUFBRSxpQkFBSSxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsaUJBQUksTUFBTSxFQUFFLENBQUMsV0FBUSxDQUFDLEVBQUUsQ0FBQztBQUNsRCxjQUFRLEVBQUUsaUJBQUksS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLGlCQUFJLE1BQU0sRUFBRSxDQUFDLFdBQVEsQ0FBQyxFQUFFLENBQUM7QUFDckQsZ0JBQVUsRUFBRSxpQkFBSSxPQUFPLEVBQUUsV0FBUSxDQUFDLElBQUksQ0FBQztLQUN4QyxDQUFDLFdBQVEsRUFBRTs7QUFFWixRQUFJLEVBQUUsaUJBQUksTUFBTSxDQUFDO0FBQ2YsVUFBSSxFQUFFLGlCQUFJLE1BQU0sRUFBRSxXQUFRLENBQUMsb0JBQVMsQ0FBQztLQUN0QyxDQUFDLFdBQVEsRUFBRTs7QUFFWixZQUFRLEVBQUUsaUJBQUksTUFBTSxDQUFDO0FBQ25CLGFBQU8sRUFBRSxpQkFBSSxPQUFPLEVBQUUsV0FBUSxDQUFDLElBQUksQ0FBQztBQUNwQyxrQkFBWSxFQUFFLGlCQUFJLE1BQU0sRUFBRSxXQUFRLENBQUMsUUFBUSxDQUFDO0FBQzVDLGVBQVMsRUFBRSxpQkFBSSxNQUFNLEVBQUUsV0FBUSxDQUFDLHFCQUFTLGtCQUFrQixDQUFDLENBQUM7QUFDN0QsaUJBQVcsRUFBRSxpQkFBSSxPQUFPLEVBQUUsV0FBUSxDQUFDLGlCQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNwRCxVQUFJLEVBQUUsaUJBQUksT0FBTyxFQUFFLFdBQVEsQ0FBQyxLQUFLLENBQUM7QUFDbEMsY0FBUSxFQUFFLGlCQUFJLE1BQU0sRUFBRSxXQUFRLENBQUMsSUFBSSxDQUFDO0FBQ3BDLGNBQVEsRUFBRSxpQkFBSSxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsV0FBUSxDQUFDLFdBQVcsQ0FBQztBQUN0RCxrQkFBWSxFQUFFLGlCQUFJLE9BQU8sRUFBRSxXQUFRLENBQUMsS0FBSyxDQUFDO0FBQzFDLHNCQUFnQixFQUFFLGlCQUFJLE1BQU0sRUFBRSxXQUFRLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUNqRCxvQkFBYyxFQUFFLGlCQUFJLE9BQU8sRUFBRSxXQUFRLENBQUMsaUJBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3ZELGlCQUFXLEVBQUUsaUJBQ1YsWUFBWSxFQUFFLE9BQ1gsQ0FDRixpQkFBSSxPQUFPLEVBQUUsRUFDYixpQkFBSSxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQy9CLFdBQ08sQ0FBQyxxREFBcUQsQ0FBQztBQUNqRSxnQkFBVSxFQUFFLGlCQUNULFlBQVksRUFBRSxPQUNYLENBQ0YsaUJBQUksTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQ3ZCLGlCQUFJLE9BQU8sRUFBRSxDQUNkLFdBQ08sQ0FBQyxpQkFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDM0IsYUFBTyxFQUFFLGlCQUFJLE9BQU8sRUFBRSxXQUFRLENBQUMsS0FBSyxDQUFDO0tBQ3RDLENBQUMsV0FBUSxFQUFFOztBQUVaLFVBQU0sRUFBRSxpQkFBSSxNQUFNLENBQUM7QUFDakIsb0JBQWMsRUFBRSxpQkFBSSxPQUFPLEVBQUUsV0FBUSxDQUFDLEtBQUssQ0FBQztLQUM3QyxDQUFDLFdBQVEsRUFBRTtBQUNaLFdBQU8sRUFBRSxpQkFBSSxNQUFNLENBQUM7QUFDbEIsd0JBQWtCLEVBQUUsaUJBQUksTUFBTSxFQUFFLFdBQVEsQ0FBQyxzQ0FBc0MsQ0FBQztBQUNoRixTQUFHLEVBQUUsaUJBQUksTUFBTSxFQUFFO0FBQ2pCLGFBQU8sRUFBRSxpQkFBSSxNQUFNLENBQUM7QUFDbEIsbUJBQVcsRUFBRSxpQkFBSSxNQUFNLEVBQUU7QUFDekIsZUFBTyxFQUFFLGlCQUFJLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUseUJBQXlCLENBQUMsV0FBUSxDQUFDLENBQUMsQ0FBQztBQUNsRSxlQUFPLEVBQUUsaUJBQUksTUFBTSxFQUFFLFdBQVEsQ0FBQyxFQUFFLENBQUM7QUFDakMsZ0JBQVEsRUFBRSxpQkFBSSxNQUFNLEVBQUU7QUFDdEIsa0JBQVUsRUFBRSxpQkFBSSxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsaUJBQUksTUFBTSxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUU7QUFDcEQsb0JBQVksRUFBRSxpQkFBSSxNQUFNLEVBQUUsQ0FBQyxHQUFHLEVBQUU7QUFDaEMsV0FBRyxFQUFFLGlCQUFJLE9BQU8sRUFBRTtBQUNsQixrQkFBVSxFQUFFLGlCQUFJLE9BQU8sRUFBRTtBQUN6QixjQUFNLEVBQUUsaUJBQUksS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLGlCQUFJLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxpQkFBSSxNQUFNLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7T0FDcEYsQ0FBQyxXQUFRLEVBQUU7S0FDYixDQUFDLFdBQVEsRUFBRTtBQUNaLGNBQVUsRUFBRSxpQkFBSSxNQUFNLENBQUM7Ozs7O0FBS3JCLGFBQU8sRUFBRSxpQkFBSSxPQUFPLEVBQUUsV0FBUSxDQUFDLElBQUksQ0FBQztLQUNyQyxDQUFDLFdBQVEsRUFBRTs7R0FFYixDQUFDLFdBQVEsRUFBRTtDQUFBLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9jb25maWcvc2NoZW1hLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEpvaSBmcm9tICdqb2knO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHJhbmRvbUJ5dGVzLCBjb25zdGFudHMgYXMgY3J5cHRvQ29uc3RhbnRzIH0gZnJvbSAnY3J5cHRvJztcbmltcG9ydCBvcyBmcm9tICdvcyc7XG5cbmltcG9ydCB7IGZyb21Sb290IH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgZ2V0RGF0YSB9IGZyb20gJy4uL3BhdGgnO1xuXG5pbXBvcnQgcGtnIGZyb20gJy4uLy4uLy4uL3NyYy91dGlscy9wYWNrYWdlX2pzb24nO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IEpvaS5vYmplY3Qoe1xuICBwa2c6IEpvaS5vYmplY3Qoe1xuICAgIHZlcnNpb246IEpvaS5zdHJpbmcoKS5kZWZhdWx0KEpvaS5yZWYoJyR2ZXJzaW9uJykpLFxuICAgIGJ1aWxkTnVtOiBKb2kubnVtYmVyKCkuZGVmYXVsdChKb2kucmVmKCckYnVpbGROdW0nKSksXG4gICAgYnVpbGRTaGE6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KEpvaS5yZWYoJyRidWlsZFNoYScpKSxcbiAgfSkuZGVmYXVsdCgpLFxuXG4gIGVudjogSm9pLm9iamVjdCh7XG4gICAgbmFtZTogSm9pLnN0cmluZygpLmRlZmF1bHQoSm9pLnJlZignJGVudicpKSxcbiAgICBkZXY6IEpvaS5ib29sZWFuKCkuZGVmYXVsdChKb2kucmVmKCckZGV2JykpLFxuICAgIHByb2Q6IEpvaS5ib29sZWFuKCkuZGVmYXVsdChKb2kucmVmKCckcHJvZCcpKVxuICB9KS5kZWZhdWx0KCksXG5cbiAgZGV2OiBKb2kub2JqZWN0KHtcbiAgICBiYXNlUGF0aFByb3h5VGFyZ2V0OiBKb2kubnVtYmVyKCkuZGVmYXVsdCg1NjAzKSxcbiAgfSkuZGVmYXVsdCgpLFxuXG4gIHBpZDogSm9pLm9iamVjdCh7XG4gICAgZmlsZTogSm9pLnN0cmluZygpLFxuICAgIGV4Y2x1c2l2ZTogSm9pLmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKVxuICB9KS5kZWZhdWx0KCksXG5cblxuICBzZXJ2ZXI6IEpvaS5vYmplY3Qoe1xuICAgIHV1aWQ6IEpvaS5zdHJpbmcoKS5ndWlkKCkuZGVmYXVsdCgpLFxuICAgIG5hbWU6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KG9zLmhvc3RuYW1lKCkpLFxuICAgIGhvc3Q6IEpvaS5zdHJpbmcoKS5ob3N0bmFtZSgpLmRlZmF1bHQoJ2xvY2FsaG9zdCcpLFxuICAgIHBvcnQ6IEpvaS5udW1iZXIoKS5kZWZhdWx0KDU2MDEpLFxuICAgIG1heFBheWxvYWRCeXRlczogSm9pLm51bWJlcigpLmRlZmF1bHQoMTA0ODU3NiksXG4gICAgYXV0b0xpc3RlbjogSm9pLmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuICAgIGRlZmF1bHRSb3V0ZTogSm9pLnN0cmluZygpLmRlZmF1bHQoJy9hcHAva2liYW5hJykucmVnZXgoL15cXC8vLCBgc3RhcnQgd2l0aCBhIHNsYXNoYCksXG4gICAgYmFzZVBhdGg6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KCcnKS5hbGxvdygnJykucmVnZXgoLyheJHxeXFwvLipbXlxcL10kKS8sIGBzdGFydCB3aXRoIGEgc2xhc2gsIGRvbid0IGVuZCB3aXRoIG9uZWApLFxuICAgIHNzbDogSm9pLm9iamVjdCh7XG4gICAgICBlbmFibGVkOiBKb2kuYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICAgICAgY2VydGlmaWNhdGU6IEpvaS5zdHJpbmcoKS53aGVuKCdlbmFibGVkJywge1xuICAgICAgICBpczogdHJ1ZSxcbiAgICAgICAgdGhlbjogSm9pLnJlcXVpcmVkKCksXG4gICAgICB9KSxcbiAgICAgIGtleTogSm9pLnN0cmluZygpLndoZW4oJ2VuYWJsZWQnLCB7XG4gICAgICAgIGlzOiB0cnVlLFxuICAgICAgICB0aGVuOiBKb2kucmVxdWlyZWQoKVxuICAgICAgfSksXG4gICAgICBrZXlQYXNzcGhyYXNlOiBKb2kuc3RyaW5nKCksXG4gICAgICBjZXJ0aWZpY2F0ZUF1dGhvcml0aWVzOiBKb2kuYXJyYXkoKS5zaW5nbGUoKS5pdGVtcyhKb2kuc3RyaW5nKCkpLFxuICAgICAgc3VwcG9ydGVkUHJvdG9jb2xzOiBKb2kuYXJyYXkoKS5pdGVtcyhKb2kuc3RyaW5nKCkudmFsaWQoJ1RMU3YxJywgJ1RMU3YxLjEnLCAnVExTdjEuMicpKSxcbiAgICAgIGNpcGhlclN1aXRlczogSm9pLmFycmF5KCkuaXRlbXMoSm9pLnN0cmluZygpKS5kZWZhdWx0KGNyeXB0b0NvbnN0YW50cy5kZWZhdWx0Q29yZUNpcGhlckxpc3Quc3BsaXQoJzonKSlcbiAgICB9KS5kZWZhdWx0KCksXG4gICAgY29yczogSm9pLndoZW4oJyRkZXYnLCB7XG4gICAgICBpczogdHJ1ZSxcbiAgICAgIHRoZW46IEpvaS5vYmplY3QoKS5kZWZhdWx0KHtcbiAgICAgICAgb3JpZ2luOiBbJyo6Ly9sb2NhbGhvc3Q6OTg3NiddIC8vIGthcm1hIHRlc3Qgc2VydmVyXG4gICAgICB9KSxcbiAgICAgIG90aGVyd2lzZTogSm9pLmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKVxuICAgIH0pLFxuICAgIHhzcmY6IEpvaS5vYmplY3Qoe1xuICAgICAgZGlzYWJsZVByb3RlY3Rpb246IEpvaS5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgICB0b2tlbjogSm9pLnN0cmluZygpLm9wdGlvbmFsKCkubm90ZXMoJ0RlcHJlY2F0ZWQnKVxuICAgIH0pLmRlZmF1bHQoKSxcbiAgfSkuZGVmYXVsdCgpLFxuXG4gIGxvZ2dpbmc6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICBzaWxlbnQ6IEpvaS5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG5cbiAgICBxdWlldDogSm9pLmJvb2xlYW4oKVxuICAgIC53aGVuKCdzaWxlbnQnLCB7XG4gICAgICBpczogdHJ1ZSxcbiAgICAgIHRoZW46IEpvaS5kZWZhdWx0KHRydWUpLnZhbGlkKHRydWUpLFxuICAgICAgb3RoZXJ3aXNlOiBKb2kuZGVmYXVsdChmYWxzZSlcbiAgICB9KSxcblxuICAgIHZlcmJvc2U6IEpvaS5ib29sZWFuKClcbiAgICAud2hlbigncXVpZXQnLCB7XG4gICAgICBpczogdHJ1ZSxcbiAgICAgIHRoZW46IEpvaS52YWxpZChmYWxzZSkuZGVmYXVsdChmYWxzZSksXG4gICAgICBvdGhlcndpc2U6IEpvaS5kZWZhdWx0KGZhbHNlKVxuICAgIH0pLFxuXG4gICAgZXZlbnRzOiBKb2kuYW55KCkuZGVmYXVsdCh7fSksXG4gICAgZGVzdDogSm9pLnN0cmluZygpLmRlZmF1bHQoJ3N0ZG91dCcpLFxuICAgIGZpbHRlcjogSm9pLmFueSgpLmRlZmF1bHQoe30pLFxuICAgIGpzb246IEpvaS5ib29sZWFuKClcbiAgICAud2hlbignZGVzdCcsIHtcbiAgICAgIGlzOiAnc3Rkb3V0JyxcbiAgICAgIHRoZW46IEpvaS5kZWZhdWx0KCFwcm9jZXNzLnN0ZG91dC5pc1RUWSksXG4gICAgICBvdGhlcndpc2U6IEpvaS5kZWZhdWx0KHRydWUpXG4gICAgfSlcbiAgfSlcbiAgLmRlZmF1bHQoKSxcblxuICBvcHM6IEpvaS5vYmplY3Qoe1xuICAgIGludGVydmFsOiBKb2kubnVtYmVyKCkuZGVmYXVsdCg1MDAwKSxcbiAgfSkuZGVmYXVsdCgpLFxuXG4gIHBsdWdpbnM6IEpvaS5vYmplY3Qoe1xuICAgIHBhdGhzOiBKb2kuYXJyYXkoKS5pdGVtcyhKb2kuc3RyaW5nKCkpLmRlZmF1bHQoW10pLFxuICAgIHNjYW5EaXJzOiBKb2kuYXJyYXkoKS5pdGVtcyhKb2kuc3RyaW5nKCkpLmRlZmF1bHQoW10pLFxuICAgIGluaXRpYWxpemU6IEpvaS5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKVxuICB9KS5kZWZhdWx0KCksXG5cbiAgcGF0aDogSm9pLm9iamVjdCh7XG4gICAgZGF0YTogSm9pLnN0cmluZygpLmRlZmF1bHQoZ2V0RGF0YSgpKVxuICB9KS5kZWZhdWx0KCksXG5cbiAgb3B0aW1pemU6IEpvaS5vYmplY3Qoe1xuICAgIGVuYWJsZWQ6IEpvaS5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgICBidW5kbGVGaWx0ZXI6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KCchdGVzdHMnKSxcbiAgICBidW5kbGVEaXI6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KGZyb21Sb290KCdvcHRpbWl6ZS9idW5kbGVzJykpLFxuICAgIHZpZXdDYWNoaW5nOiBKb2kuYm9vbGVhbigpLmRlZmF1bHQoSm9pLnJlZignJHByb2QnKSksXG4gICAgbGF6eTogSm9pLmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICBsYXp5UG9ydDogSm9pLm51bWJlcigpLmRlZmF1bHQoNTYwMiksXG4gICAgbGF6eUhvc3Q6IEpvaS5zdHJpbmcoKS5ob3N0bmFtZSgpLmRlZmF1bHQoJ2xvY2FsaG9zdCcpLFxuICAgIGxhenlQcmVidWlsZDogSm9pLmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICBsYXp5UHJveHlUaW1lb3V0OiBKb2kubnVtYmVyKCkuZGVmYXVsdCg1ICogNjAwMDApLFxuICAgIHVzZUJ1bmRsZUNhY2hlOiBKb2kuYm9vbGVhbigpLmRlZmF1bHQoSm9pLnJlZignJHByb2QnKSksXG4gICAgdW5zYWZlQ2FjaGU6IEpvaVxuICAgICAgLmFsdGVybmF0aXZlcygpXG4gICAgICAudHJ5KFxuICAgICAgICBKb2kuYm9vbGVhbigpLFxuICAgICAgICBKb2kuc3RyaW5nKCkucmVnZXgoL15cXC8uK1xcLyQvKVxuICAgICAgKVxuICAgICAgLmRlZmF1bHQoJy9bXFxcXC9cXFxcXFxcXF0obm9kZV9tb2R1bGVzfGJvd2VyX2NvbXBvbmVudHMpW1xcXFwvXFxcXFxcXFxdLycpLFxuICAgIHNvdXJjZU1hcHM6IEpvaVxuICAgICAgLmFsdGVybmF0aXZlcygpXG4gICAgICAudHJ5KFxuICAgICAgICBKb2kuc3RyaW5nKCkucmVxdWlyZWQoKSxcbiAgICAgICAgSm9pLmJvb2xlYW4oKVxuICAgICAgKVxuICAgICAgLmRlZmF1bHQoSm9pLnJlZignJGRldicpKSxcbiAgICBwcm9maWxlOiBKb2kuYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpXG4gIH0pLmRlZmF1bHQoKSxcblxuICBzdGF0dXM6IEpvaS5vYmplY3Qoe1xuICAgIGFsbG93QW5vbnltb3VzOiBKb2kuYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpXG4gIH0pLmRlZmF1bHQoKSxcbiAgdGlsZW1hcDogSm9pLm9iamVjdCh7XG4gICAgbWFuaWZlc3RTZXJ2aWNlVXJsOiBKb2kuc3RyaW5nKCkuZGVmYXVsdCgnaHR0cHM6Ly90aWxlcy5lbGFzdGljLmNvL3YyL21hbmlmZXN0JyksXG4gICAgdXJsOiBKb2kuc3RyaW5nKCksXG4gICAgb3B0aW9uczogSm9pLm9iamVjdCh7XG4gICAgICBhdHRyaWJ1dGlvbjogSm9pLnN0cmluZygpLFxuICAgICAgbWluWm9vbTogSm9pLm51bWJlcigpLm1pbigxLCAnTXVzdCBub3QgYmUgbGVzcyB0aGFuIDEnKS5kZWZhdWx0KDEpLFxuICAgICAgbWF4Wm9vbTogSm9pLm51bWJlcigpLmRlZmF1bHQoMTApLFxuICAgICAgdGlsZVNpemU6IEpvaS5udW1iZXIoKSxcbiAgICAgIHN1YmRvbWFpbnM6IEpvaS5hcnJheSgpLml0ZW1zKEpvaS5zdHJpbmcoKSkuc2luZ2xlKCksXG4gICAgICBlcnJvclRpbGVVcmw6IEpvaS5zdHJpbmcoKS51cmkoKSxcbiAgICAgIHRtczogSm9pLmJvb2xlYW4oKSxcbiAgICAgIHJldXNlVGlsZXM6IEpvaS5ib29sZWFuKCksXG4gICAgICBib3VuZHM6IEpvaS5hcnJheSgpLml0ZW1zKEpvaS5hcnJheSgpLml0ZW1zKEpvaS5udW1iZXIoKSkubWluKDIpLnJlcXVpcmVkKCkpLm1pbigyKVxuICAgIH0pLmRlZmF1bHQoKVxuICB9KS5kZWZhdWx0KCksXG4gIHVpU2V0dGluZ3M6IEpvaS5vYmplY3Qoe1xuICAgIC8vIHRoaXMgaXMgdXNlZCB0byBwcmV2ZW50IHRoZSB1aVNldHRpbmdzIGZyb20gaW5pdGlhbGl6aW5nLiBTaW5jZSB0aGV5XG4gICAgLy8gcmVxdWlyZSB0aGUgZWxhc3RpY3NlYXJjaCBwbHVnaW4gaW4gb3JkZXIgdG8gZnVuY3Rpb24gd2UgbmVlZCB0byB0dXJuXG4gICAgLy8gdGhlbSBvZmYgd2hlbiB3ZSB0dXJuIG9mZiB0aGUgZWxhc3RpY3NlYXJjaCBwbHVnaW4gKGxpa2Ugd2UgZG8gaW4gdGhlXG4gICAgLy8gb3B0aW1pemVyIGhhbGYgb2YgdGhlIGRldiBzZXJ2ZXIpXG4gICAgZW5hYmxlZDogSm9pLmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpXG4gIH0pLmRlZmF1bHQoKSxcblxufSkuZGVmYXVsdCgpO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/config/schema.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/server/config/schema.js",
      "sourcesContent": [
        "import Joi from 'joi';\nimport { get } from 'lodash';\nimport { randomBytes, constants as cryptoConstants } from 'crypto';\nimport os from 'os';\n\nimport { fromRoot } from '../../utils';\nimport { getData } from '../path';\n\nimport pkg from '../../../src/utils/package_json';\n\nmodule.exports = () => Joi.object({\n  pkg: Joi.object({\n    version: Joi.string().default(Joi.ref('$version')),\n    buildNum: Joi.number().default(Joi.ref('$buildNum')),\n    buildSha: Joi.string().default(Joi.ref('$buildSha')),\n  }).default(),\n\n  env: Joi.object({\n    name: Joi.string().default(Joi.ref('$env')),\n    dev: Joi.boolean().default(Joi.ref('$dev')),\n    prod: Joi.boolean().default(Joi.ref('$prod'))\n  }).default(),\n\n  dev: Joi.object({\n    basePathProxyTarget: Joi.number().default(5603),\n  }).default(),\n\n  pid: Joi.object({\n    file: Joi.string(),\n    exclusive: Joi.boolean().default(false)\n  }).default(),\n\n\n  server: Joi.object({\n    uuid: Joi.string().guid().default(),\n    name: Joi.string().default(os.hostname()),\n    host: Joi.string().hostname().default('localhost'),\n    port: Joi.number().default(5601),\n    maxPayloadBytes: Joi.number().default(1048576),\n    autoListen: Joi.boolean().default(true),\n    defaultRoute: Joi.string().default('/app/kibana').regex(/^\\//, `start with a slash`),\n    basePath: Joi.string().default('').allow('').regex(/(^$|^\\/.*[^\\/]$)/, `start with a slash, don't end with one`),\n    ssl: Joi.object({\n      enabled: Joi.boolean().default(false),\n      certificate: Joi.string().when('enabled', {\n        is: true,\n        then: Joi.required(),\n      }),\n      key: Joi.string().when('enabled', {\n        is: true,\n        then: Joi.required()\n      }),\n      keyPassphrase: Joi.string(),\n      certificateAuthorities: Joi.array().single().items(Joi.string()),\n      supportedProtocols: Joi.array().items(Joi.string().valid('TLSv1', 'TLSv1.1', 'TLSv1.2')),\n      cipherSuites: Joi.array().items(Joi.string()).default(cryptoConstants.defaultCoreCipherList.split(':'))\n    }).default(),\n    cors: Joi.when('$dev', {\n      is: true,\n      then: Joi.object().default({\n        origin: ['*://localhost:9876'] // karma test server\n      }),\n      otherwise: Joi.boolean().default(false)\n    }),\n    xsrf: Joi.object({\n      disableProtection: Joi.boolean().default(false),\n      token: Joi.string().optional().notes('Deprecated')\n    }).default(),\n  }).default(),\n\n  logging: Joi.object().keys({\n    silent: Joi.boolean().default(false),\n\n    quiet: Joi.boolean()\n    .when('silent', {\n      is: true,\n      then: Joi.default(true).valid(true),\n      otherwise: Joi.default(false)\n    }),\n\n    verbose: Joi.boolean()\n    .when('quiet', {\n      is: true,\n      then: Joi.valid(false).default(false),\n      otherwise: Joi.default(false)\n    }),\n\n    events: Joi.any().default({}),\n    dest: Joi.string().default('stdout'),\n    filter: Joi.any().default({}),\n    json: Joi.boolean()\n    .when('dest', {\n      is: 'stdout',\n      then: Joi.default(!process.stdout.isTTY),\n      otherwise: Joi.default(true)\n    })\n  })\n  .default(),\n\n  ops: Joi.object({\n    interval: Joi.number().default(5000),\n  }).default(),\n\n  plugins: Joi.object({\n    paths: Joi.array().items(Joi.string()).default([]),\n    scanDirs: Joi.array().items(Joi.string()).default([]),\n    initialize: Joi.boolean().default(true)\n  }).default(),\n\n  path: Joi.object({\n    data: Joi.string().default(getData())\n  }).default(),\n\n  optimize: Joi.object({\n    enabled: Joi.boolean().default(true),\n    bundleFilter: Joi.string().default('!tests'),\n    bundleDir: Joi.string().default(fromRoot('optimize/bundles')),\n    viewCaching: Joi.boolean().default(Joi.ref('$prod')),\n    lazy: Joi.boolean().default(false),\n    lazyPort: Joi.number().default(5602),\n    lazyHost: Joi.string().hostname().default('localhost'),\n    lazyPrebuild: Joi.boolean().default(false),\n    lazyProxyTimeout: Joi.number().default(5 * 60000),\n    useBundleCache: Joi.boolean().default(Joi.ref('$prod')),\n    unsafeCache: Joi\n      .alternatives()\n      .try(\n        Joi.boolean(),\n        Joi.string().regex(/^\\/.+\\/$/)\n      )\n      .default('/[\\\\/\\\\\\\\](node_modules|bower_components)[\\\\/\\\\\\\\]/'),\n    sourceMaps: Joi\n      .alternatives()\n      .try(\n        Joi.string().required(),\n        Joi.boolean()\n      )\n      .default(Joi.ref('$dev')),\n    profile: Joi.boolean().default(false)\n  }).default(),\n\n  status: Joi.object({\n    allowAnonymous: Joi.boolean().default(false)\n  }).default(),\n  tilemap: Joi.object({\n    manifestServiceUrl: Joi.string().default('https://tiles.elastic.co/v2/manifest'),\n    url: Joi.string(),\n    options: Joi.object({\n      attribution: Joi.string(),\n      minZoom: Joi.number().min(1, 'Must not be less than 1').default(1),\n      maxZoom: Joi.number().default(10),\n      tileSize: Joi.number(),\n      subdomains: Joi.array().items(Joi.string()).single(),\n      errorTileUrl: Joi.string().uri(),\n      tms: Joi.boolean(),\n      reuseTiles: Joi.boolean(),\n      bounds: Joi.array().items(Joi.array().items(Joi.number()).min(2).required()).min(2)\n    }).default()\n  }).default(),\n  uiSettings: Joi.object({\n    // this is used to prevent the uiSettings from initializing. Since they\n    // require the elasticsearch plugin in order to function we need to turn\n    // them off when we turn off the elasticsearch plugin (like we do in the\n    // optimizer half of the dev server)\n    enabled: Joi.boolean().default(true)\n  }).default(),\n\n}).default();\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/http/setup_connection.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "fs",
            "imported": [
              "readFileSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readFileSync",
                "local": "readFileSync"
              }
            ]
          },
          {
            "source": "url",
            "imported": [
              "format"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "format",
                "local": "formatUrl"
              }
            ]
          },
          {
            "source": "@elastic/httpolyglot",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "httpolyglot"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "map"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "map",
                "local": "map"
              }
            ]
          },
          {
            "source": "./secure_options",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "secureOptions"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _fs = require('fs');\n\nvar _url = require('url');\n\nvar _elasticHttpolyglot = require('@elastic/httpolyglot');\n\nvar _elasticHttpolyglot2 = _interopRequireDefault(_elasticHttpolyglot);\n\nvar _lodash = require('lodash');\n\nvar _secure_options = require('./secure_options');\n\nvar _secure_options2 = _interopRequireDefault(_secure_options);\n\nexports['default'] = function (kbnServer, server, config) {\n  // this mixin is used outside of the kbn server, so it MUST work without a full kbnServer object.\n  kbnServer = null;\n\n  var host = config.get('server.host');\n  var port = config.get('server.port');\n\n  var connectionOptions = {\n    host: host,\n    port: port,\n    state: {\n      strictHeader: false\n    },\n    routes: {\n      cors: config.get('server.cors'),\n      payload: {\n        maxBytes: config.get('server.maxPayloadBytes')\n      }\n    }\n  };\n\n  var useSsl = config.get('server.ssl.enabled');\n\n  // not using https? well that's easy!\n  if (!useSsl) {\n    server.connection(connectionOptions);\n    return;\n  }\n\n  server.connection(_extends({}, connectionOptions, {\n    tls: true,\n    listener: _elasticHttpolyglot2['default'].createServer({\n      key: (0, _fs.readFileSync)(config.get('server.ssl.key')),\n      cert: (0, _fs.readFileSync)(config.get('server.ssl.certificate')),\n      ca: (0, _lodash.map)(config.get('server.ssl.certificateAuthorities'), _fs.readFileSync),\n      passphrase: config.get('server.ssl.keyPassphrase'),\n\n      ciphers: config.get('server.ssl.cipherSuites').join(':'),\n      // We use the server's cipher order rather than the client's to prevent the BEAST attack\n      honorCipherOrder: true,\n      secureOptions: (0, _secure_options2['default'])(config.get('server.ssl.supportedProtocols'))\n    })\n  }));\n\n  server.ext('onRequest', function (req, reply) {\n    // A request sent through a HapiJS .inject() doesn't have a socket associated with the request\n    // which causes a failure.\n    if (!req.raw.req.socket || req.raw.req.socket.encrypted) {\n      reply['continue']();\n    } else {\n      reply.redirect((0, _url.format)({\n        port: port,\n        protocol: 'https',\n        hostname: host,\n        pathname: req.url.pathname,\n        search: req.url.search\n      }));\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC9zZXR1cF9jb25uZWN0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7a0JBQTZCLElBQUk7O21CQUNHLEtBQUs7O2tDQUNqQixzQkFBc0I7Ozs7c0JBQzFCLFFBQVE7OzhCQUNGLGtCQUFrQjs7OztxQkFFN0IsVUFBVSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRTs7QUFFbEQsV0FBUyxHQUFHLElBQUksQ0FBQzs7QUFFakIsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN2QyxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDOztBQUV2QyxNQUFNLGlCQUFpQixHQUFHO0FBQ3hCLFFBQUksRUFBSixJQUFJO0FBQ0osUUFBSSxFQUFKLElBQUk7QUFDSixTQUFLLEVBQUU7QUFDTCxrQkFBWSxFQUFFLEtBQUs7S0FDcEI7QUFDRCxVQUFNLEVBQUU7QUFDTixVQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7QUFDL0IsYUFBTyxFQUFFO0FBQ1AsZ0JBQVEsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDO09BQy9DO0tBQ0Y7R0FDRixDQUFDOztBQUVGLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsQ0FBQzs7O0FBR2hELE1BQUksQ0FBQyxNQUFNLEVBQUU7QUFDWCxVQUFNLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDckMsV0FBTztHQUNSOztBQUVELFFBQU0sQ0FBQyxVQUFVLGNBQ1osaUJBQWlCO0FBQ3BCLE9BQUcsRUFBRSxJQUFJO0FBQ1QsWUFBUSxFQUFFLGdDQUFZLFlBQVksQ0FBQztBQUNqQyxTQUFHLEVBQUUsc0JBQWEsTUFBTSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQy9DLFVBQUksRUFBRSxzQkFBYSxNQUFNLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFDeEQsUUFBRSxFQUFFLGlCQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsbUNBQW1DLENBQUMsbUJBQWU7QUFDdEUsZ0JBQVUsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDOztBQUVsRCxhQUFPLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7O0FBRXhELHNCQUFnQixFQUFFLElBQUk7QUFDdEIsbUJBQWEsRUFBRSxpQ0FBYyxNQUFNLENBQUMsR0FBRyxDQUFDLCtCQUErQixDQUFDLENBQUM7S0FDMUUsQ0FBQztLQUNGLENBQUM7O0FBRUgsUUFBTSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsVUFBVSxHQUFHLEVBQUUsS0FBSyxFQUFFOzs7QUFHNUMsUUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO0FBQ3ZELFdBQUssWUFBUyxFQUFFLENBQUM7S0FDbEIsTUFBTTtBQUNMLFdBQUssQ0FBQyxRQUFRLENBQUMsaUJBQVU7QUFDdkIsWUFBSSxFQUFKLElBQUk7QUFDSixnQkFBUSxFQUFFLE9BQU87QUFDakIsZ0JBQVEsRUFBRSxJQUFJO0FBQ2QsZ0JBQVEsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVE7QUFDMUIsY0FBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTTtPQUN2QixDQUFDLENBQUMsQ0FBQztLQUNMO0dBQ0YsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9odHRwL3NldHVwX2Nvbm5lY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0VXJsIH0gZnJvbSAndXJsJztcbmltcG9ydCBodHRwb2x5Z2xvdCBmcm9tICdAZWxhc3RpYy9odHRwb2x5Z2xvdCc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHNlY3VyZU9wdGlvbnMgZnJvbSAnLi9zZWN1cmVfb3B0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChrYm5TZXJ2ZXIsIHNlcnZlciwgY29uZmlnKSB7XG4gIC8vIHRoaXMgbWl4aW4gaXMgdXNlZCBvdXRzaWRlIG9mIHRoZSBrYm4gc2VydmVyLCBzbyBpdCBNVVNUIHdvcmsgd2l0aG91dCBhIGZ1bGwga2JuU2VydmVyIG9iamVjdC5cbiAga2JuU2VydmVyID0gbnVsbDtcblxuICBjb25zdCBob3N0ID0gY29uZmlnLmdldCgnc2VydmVyLmhvc3QnKTtcbiAgY29uc3QgcG9ydCA9IGNvbmZpZy5nZXQoJ3NlcnZlci5wb3J0Jyk7XG5cbiAgY29uc3QgY29ubmVjdGlvbk9wdGlvbnMgPSB7XG4gICAgaG9zdCxcbiAgICBwb3J0LFxuICAgIHN0YXRlOiB7XG4gICAgICBzdHJpY3RIZWFkZXI6IGZhbHNlXG4gICAgfSxcbiAgICByb3V0ZXM6IHtcbiAgICAgIGNvcnM6IGNvbmZpZy5nZXQoJ3NlcnZlci5jb3JzJyksXG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIG1heEJ5dGVzOiBjb25maWcuZ2V0KCdzZXJ2ZXIubWF4UGF5bG9hZEJ5dGVzJylcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXNlU3NsID0gY29uZmlnLmdldCgnc2VydmVyLnNzbC5lbmFibGVkJyk7XG5cbiAgLy8gbm90IHVzaW5nIGh0dHBzPyB3ZWxsIHRoYXQncyBlYXN5IVxuICBpZiAoIXVzZVNzbCkge1xuICAgIHNlcnZlci5jb25uZWN0aW9uKGNvbm5lY3Rpb25PcHRpb25zKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBzZXJ2ZXIuY29ubmVjdGlvbih7XG4gICAgLi4uY29ubmVjdGlvbk9wdGlvbnMsXG4gICAgdGxzOiB0cnVlLFxuICAgIGxpc3RlbmVyOiBodHRwb2x5Z2xvdC5jcmVhdGVTZXJ2ZXIoe1xuICAgICAga2V5OiByZWFkRmlsZVN5bmMoY29uZmlnLmdldCgnc2VydmVyLnNzbC5rZXknKSksXG4gICAgICBjZXJ0OiByZWFkRmlsZVN5bmMoY29uZmlnLmdldCgnc2VydmVyLnNzbC5jZXJ0aWZpY2F0ZScpKSxcbiAgICAgIGNhOiBtYXAoY29uZmlnLmdldCgnc2VydmVyLnNzbC5jZXJ0aWZpY2F0ZUF1dGhvcml0aWVzJyksIHJlYWRGaWxlU3luYyksXG4gICAgICBwYXNzcGhyYXNlOiBjb25maWcuZ2V0KCdzZXJ2ZXIuc3NsLmtleVBhc3NwaHJhc2UnKSxcblxuICAgICAgY2lwaGVyczogY29uZmlnLmdldCgnc2VydmVyLnNzbC5jaXBoZXJTdWl0ZXMnKS5qb2luKCc6JyksXG4gICAgICAvLyBXZSB1c2UgdGhlIHNlcnZlcidzIGNpcGhlciBvcmRlciByYXRoZXIgdGhhbiB0aGUgY2xpZW50J3MgdG8gcHJldmVudCB0aGUgQkVBU1QgYXR0YWNrXG4gICAgICBob25vckNpcGhlck9yZGVyOiB0cnVlLFxuICAgICAgc2VjdXJlT3B0aW9uczogc2VjdXJlT3B0aW9ucyhjb25maWcuZ2V0KCdzZXJ2ZXIuc3NsLnN1cHBvcnRlZFByb3RvY29scycpKVxuICAgIH0pXG4gIH0pO1xuXG4gIHNlcnZlci5leHQoJ29uUmVxdWVzdCcsIGZ1bmN0aW9uIChyZXEsIHJlcGx5KSB7XG4gICAgLy8gQSByZXF1ZXN0IHNlbnQgdGhyb3VnaCBhIEhhcGlKUyAuaW5qZWN0KCkgZG9lc24ndCBoYXZlIGEgc29ja2V0IGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVxdWVzdFxuICAgIC8vIHdoaWNoIGNhdXNlcyBhIGZhaWx1cmUuXG4gICAgaWYgKCFyZXEucmF3LnJlcS5zb2NrZXQgfHwgcmVxLnJhdy5yZXEuc29ja2V0LmVuY3J5cHRlZCkge1xuICAgICAgcmVwbHkuY29udGludWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVwbHkucmVkaXJlY3QoZm9ybWF0VXJsKHtcbiAgICAgICAgcG9ydCxcbiAgICAgICAgcHJvdG9jb2w6ICdodHRwcycsXG4gICAgICAgIGhvc3RuYW1lOiBob3N0LFxuICAgICAgICBwYXRobmFtZTogcmVxLnVybC5wYXRobmFtZSxcbiAgICAgICAgc2VhcmNoOiByZXEudXJsLnNlYXJjaCxcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/http/setup_connection.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;kBAA6B,IAAI;;mBACG,KAAK;;kCACjB,sBAAsB;;;;sBAC1B,QAAQ;;8BACF,kBAAkB;;;;qBAE7B,UAAU,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;;AAElD,WAAS,GAAG,IAAI,CAAC;;AAEjB,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;AACvC,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;;AAEvC,MAAM,iBAAiB,GAAG;AACxB,QAAI,EAAJ,IAAI;AACJ,QAAI,EAAJ,IAAI;AACJ,SAAK,EAAE;AACL,kBAAY,EAAE,KAAK;KACpB;AACD,UAAM,EAAE;AACN,UAAI,EAAE,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC;AAC/B,aAAO,EAAE;AACP,gBAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,wBAAwB,CAAC;OAC/C;KACF;GACF,CAAC;;AAEF,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;;;AAGhD,MAAI,CAAC,MAAM,EAAE;AACX,UAAM,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;AACrC,WAAO;GACR;;AAED,QAAM,CAAC,UAAU,cACZ,iBAAiB;AACpB,OAAG,EAAE,IAAI;AACT,YAAQ,EAAE,gCAAY,YAAY,CAAC;AACjC,SAAG,EAAE,sBAAa,MAAM,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;AAC/C,UAAI,EAAE,sBAAa,MAAM,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;AACxD,QAAE,EAAE,iBAAI,MAAM,CAAC,GAAG,CAAC,mCAAmC,CAAC,mBAAe;AACtE,gBAAU,EAAE,MAAM,CAAC,GAAG,CAAC,0BAA0B,CAAC;;AAElD,aAAO,EAAE,MAAM,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;;AAExD,sBAAgB,EAAE,IAAI;AACtB,mBAAa,EAAE,iCAAc,MAAM,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;KAC1E,CAAC;KACF,CAAC;;AAEH,QAAM,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,GAAG,EAAE,KAAK,EAAE;;;AAG5C,QAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,EAAE;AACvD,WAAK,YAAS,EAAE,CAAC;KAClB,MAAM;AACL,WAAK,CAAC,QAAQ,CAAC,iBAAU;AACvB,YAAI,EAAJ,IAAI;AACJ,gBAAQ,EAAE,OAAO;AACjB,gBAAQ,EAAE,IAAI;AACd,gBAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,QAAQ;AAC1B,cAAM,EAAE,GAAG,CAAC,GAAG,CAAC,MAAM;OACvB,CAAC,CAAC,CAAC;KACL;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/server/http/setup_connection.js",
      "sourcesContent": [
        "import { readFileSync } from 'fs';\nimport { format as formatUrl } from 'url';\nimport httpolyglot from '@elastic/httpolyglot';\nimport { map } from 'lodash';\nimport secureOptions from './secure_options';\n\nexport default function (kbnServer, server, config) {\n  // this mixin is used outside of the kbn server, so it MUST work without a full kbnServer object.\n  kbnServer = null;\n\n  const host = config.get('server.host');\n  const port = config.get('server.port');\n\n  const connectionOptions = {\n    host,\n    port,\n    state: {\n      strictHeader: false\n    },\n    routes: {\n      cors: config.get('server.cors'),\n      payload: {\n        maxBytes: config.get('server.maxPayloadBytes')\n      }\n    }\n  };\n\n  const useSsl = config.get('server.ssl.enabled');\n\n  // not using https? well that's easy!\n  if (!useSsl) {\n    server.connection(connectionOptions);\n    return;\n  }\n\n  server.connection({\n    ...connectionOptions,\n    tls: true,\n    listener: httpolyglot.createServer({\n      key: readFileSync(config.get('server.ssl.key')),\n      cert: readFileSync(config.get('server.ssl.certificate')),\n      ca: map(config.get('server.ssl.certificateAuthorities'), readFileSync),\n      passphrase: config.get('server.ssl.keyPassphrase'),\n\n      ciphers: config.get('server.ssl.cipherSuites').join(':'),\n      // We use the server's cipher order rather than the client's to prevent the BEAST attack\n      honorCipherOrder: true,\n      secureOptions: secureOptions(config.get('server.ssl.supportedProtocols'))\n    })\n  });\n\n  server.ext('onRequest', function (req, reply) {\n    // A request sent through a HapiJS .inject() doesn't have a socket associated with the request\n    // which causes a failure.\n    if (!req.raw.req.socket || req.raw.req.socket.encrypted) {\n      reply.continue();\n    } else {\n      reply.redirect(formatUrl({\n        port,\n        protocol: 'https',\n        hostname: host,\n        pathname: req.url.pathname,\n        search: req.url.search,\n      }));\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/http/secure_options.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "crypto",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "crypto"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "chain"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "chain",
                "local": "chain"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _crypto = require('crypto');\n\nvar _crypto2 = _interopRequireDefault(_crypto);\n\nvar _lodash = require('lodash');\n\nvar constants = _crypto2['default'].constants;\n\nvar protocolMap = {\n  TLSv1: _crypto2['default'].constants.SSL_OP_NO_TLSv1,\n  'TLSv1.1': _crypto2['default'].constants.SSL_OP_NO_TLSv1_1,\n  'TLSv1.2': _crypto2['default'].constants.SSL_OP_NO_TLSv1_2\n};\n\nexports['default'] = function (supportedProtocols) {\n  if (!supportedProtocols || !supportedProtocols.length) {\n    return null;\n  }\n\n  return (0, _lodash.chain)(protocolMap).omit(supportedProtocols).values().reduce(function (value, sum) {\n    return value | sum;\n  }, 0).value();\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC9zZWN1cmVfb3B0aW9ucy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztzQkFBbUIsUUFBUTs7OztzQkFDTCxRQUFROztBQUU5QixJQUFNLFNBQVMsR0FBRyxvQkFBTyxTQUFTLENBQUM7O0FBRW5DLElBQU0sV0FBVyxHQUFHO0FBQ2xCLE9BQUssRUFBRSxvQkFBTyxTQUFTLENBQUMsZUFBZTtBQUN2QyxXQUFTLEVBQUUsb0JBQU8sU0FBUyxDQUFDLGlCQUFpQjtBQUM3QyxXQUFTLEVBQUUsb0JBQU8sU0FBUyxDQUFDLGlCQUFpQjtDQUM5QyxDQUFDOztxQkFFYSxVQUFVLGtCQUFrQixFQUFFO0FBQzNDLE1BQUksQ0FBQyxrQkFBa0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sRUFBRTtBQUNyRCxXQUFPLElBQUksQ0FBQztHQUNiOztBQUVELFNBQU8sbUJBQU0sV0FBVyxDQUFDLENBQ3RCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUN4QixNQUFNLEVBQUUsQ0FDUixNQUFNLENBQUMsVUFBVSxLQUFLLEVBQUUsR0FBRyxFQUFFO0FBQzVCLFdBQU8sS0FBSyxHQUFHLEdBQUcsQ0FBQztHQUNwQixFQUFFLENBQUMsQ0FBQyxDQUNKLEtBQUssRUFBRSxDQUFDO0NBQ1oiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9odHRwL3NlY3VyZV9vcHRpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuaW1wb3J0IHsgY2hhaW4gfSBmcm9tICdsb2Rhc2gnO1xuXG5jb25zdCBjb25zdGFudHMgPSBjcnlwdG8uY29uc3RhbnRzO1xuXG5jb25zdCBwcm90b2NvbE1hcCA9IHtcbiAgVExTdjE6IGNyeXB0by5jb25zdGFudHMuU1NMX09QX05PX1RMU3YxLFxuICAnVExTdjEuMSc6IGNyeXB0by5jb25zdGFudHMuU1NMX09QX05PX1RMU3YxXzEsXG4gICdUTFN2MS4yJzogY3J5cHRvLmNvbnN0YW50cy5TU0xfT1BfTk9fVExTdjFfMlxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHN1cHBvcnRlZFByb3RvY29scykge1xuICBpZiAoIXN1cHBvcnRlZFByb3RvY29scyB8fCAhc3VwcG9ydGVkUHJvdG9jb2xzLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGNoYWluKHByb3RvY29sTWFwKVxuICAgIC5vbWl0KHN1cHBvcnRlZFByb3RvY29scylcbiAgICAudmFsdWVzKClcbiAgICAucmVkdWNlKGZ1bmN0aW9uICh2YWx1ZSwgc3VtKSB7XG4gICAgICByZXR1cm4gdmFsdWUgfCBzdW07XG4gICAgfSwgMClcbiAgICAudmFsdWUoKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/http/secure_options.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;sBAAmB,QAAQ;;;;sBACL,QAAQ;;AAE9B,IAAM,SAAS,GAAG,oBAAO,SAAS,CAAC;;AAEnC,IAAM,WAAW,GAAG;AAClB,OAAK,EAAE,oBAAO,SAAS,CAAC,eAAe;AACvC,WAAS,EAAE,oBAAO,SAAS,CAAC,iBAAiB;AAC7C,WAAS,EAAE,oBAAO,SAAS,CAAC,iBAAiB;CAC9C,CAAC;;qBAEa,UAAU,kBAAkB,EAAE;AAC3C,MAAI,CAAC,kBAAkB,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE;AACrD,WAAO,IAAI,CAAC;GACb;;AAED,SAAO,mBAAM,WAAW,CAAC,CACtB,IAAI,CAAC,kBAAkB,CAAC,CACxB,MAAM,EAAE,CACR,MAAM,CAAC,UAAU,KAAK,EAAE,GAAG,EAAE;AAC5B,WAAO,KAAK,GAAG,GAAG,CAAC;GACpB,EAAE,CAAC,CAAC,CACJ,KAAK,EAAE,CAAC;CACZ",
      "file": "/Users/osagiefo/kibana-aws/src/server/http/secure_options.js",
      "sourcesContent": [
        "import crypto from 'crypto';\nimport { chain } from 'lodash';\n\nconst constants = crypto.constants;\n\nconst protocolMap = {\n  TLSv1: crypto.constants.SSL_OP_NO_TLSv1,\n  'TLSv1.1': crypto.constants.SSL_OP_NO_TLSv1_1,\n  'TLSv1.2': crypto.constants.SSL_OP_NO_TLSv1_2\n};\n\nexport default function (supportedProtocols) {\n  if (!supportedProtocols || !supportedProtocols.length) {\n    return null;\n  }\n\n  return chain(protocolMap)\n    .omit(supportedProtocols)\n    .values()\n    .reduce(function (value, sum) {\n      return value | sum;\n    }, 0)\n    .value();\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/http/register_hapi_plugins.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "vision",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "HapiTemplates"
              }
            ]
          },
          {
            "source": "inert",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "HapiStaticFiles"
              }
            ]
          },
          {
            "source": "h2o2",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "HapiProxy"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar registerPlugins = _asyncToGenerator(function* (server) {\n  yield (0, _bluebird.fromNode)(function (cb) {\n    server.register(plugins, cb);\n  });\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _vision = require('vision');\n\nvar _vision2 = _interopRequireDefault(_vision);\n\nvar _inert = require('inert');\n\nvar _inert2 = _interopRequireDefault(_inert);\n\nvar _h2o2 = require('h2o2');\n\nvar _h2o22 = _interopRequireDefault(_h2o2);\n\nvar _bluebird = require('bluebird');\n\nvar plugins = [_vision2['default'], _inert2['default'], _h2o22['default']];\n\nexports['default'] = function (kbnServer, server, config) {\n  registerPlugins(server);\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC9yZWdpc3Rlcl9oYXBpX3BsdWdpbnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0lBT2UsZUFBZSxxQkFBOUIsV0FBK0IsTUFBTSxFQUFFO0FBQ3JDLFFBQU0sd0JBQVMsVUFBQSxFQUFFLEVBQUk7QUFDbkIsVUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDOUIsQ0FBQyxDQUFDO0NBQ0o7Ozs7OztzQkFYeUIsUUFBUTs7OztxQkFDTixPQUFPOzs7O29CQUNiLE1BQU07Ozs7d0JBQ0gsVUFBVTs7QUFFbkMsSUFBTSxPQUFPLEdBQUcsNERBQTJDLENBQUM7O3FCQVE3QyxVQUFVLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFO0FBQ2xELGlCQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7Q0FDekIiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9odHRwL3JlZ2lzdGVyX2hhcGlfcGx1Z2lucy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBIYXBpVGVtcGxhdGVzIGZyb20gJ3Zpc2lvbic7XG5pbXBvcnQgSGFwaVN0YXRpY0ZpbGVzIGZyb20gJ2luZXJ0JztcbmltcG9ydCBIYXBpUHJveHkgZnJvbSAnaDJvMic7XG5pbXBvcnQgeyBmcm9tTm9kZSB9IGZyb20gJ2JsdWViaXJkJztcblxuY29uc3QgcGx1Z2lucyA9IFtIYXBpVGVtcGxhdGVzLCBIYXBpU3RhdGljRmlsZXMsIEhhcGlQcm94eV07XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2lucyhzZXJ2ZXIpIHtcbiAgYXdhaXQgZnJvbU5vZGUoY2IgPT4ge1xuICAgIHNlcnZlci5yZWdpc3RlcihwbHVnaW5zLCBjYik7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoa2JuU2VydmVyLCBzZXJ2ZXIsIGNvbmZpZykge1xuICByZWdpc3RlclBsdWdpbnMoc2VydmVyKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/http/register_hapi_plugins.js"
      ],
      "names": [],
      "mappings": ";;;;;;IAOe,eAAe,qBAA9B,WAA+B,MAAM,EAAE;AACrC,QAAM,wBAAS,UAAA,EAAE,EAAI;AACnB,UAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;GAC9B,CAAC,CAAC;CACJ;;;;;;sBAXyB,QAAQ;;;;qBACN,OAAO;;;;oBACb,MAAM;;;;wBACH,UAAU;;AAEnC,IAAM,OAAO,GAAG,4DAA2C,CAAC;;qBAQ7C,UAAU,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;AAClD,iBAAe,CAAC,MAAM,CAAC,CAAC;CACzB",
      "file": "/Users/osagiefo/kibana-aws/src/server/http/register_hapi_plugins.js",
      "sourcesContent": [
        "import HapiTemplates from 'vision';\nimport HapiStaticFiles from 'inert';\nimport HapiProxy from 'h2o2';\nimport { fromNode } from 'bluebird';\n\nconst plugins = [HapiTemplates, HapiStaticFiles, HapiProxy];\n\nasync function registerPlugins(server) {\n  await fromNode(cb => {\n    server.register(plugins, cb);\n  });\n}\n\nexport default function (kbnServer, server, config) {\n  registerPlugins(server);\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/logging/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "bluebird",
            "imported": [
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          },
          {
            "source": "even-better",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "evenBetter"
              }
            ]
          },
          {
            "source": "./configuration",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "loggingConfiguration"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _bluebird = require('bluebird');\n\nvar _evenBetter = require('even-better');\n\nvar _evenBetter2 = _interopRequireDefault(_evenBetter);\n\nvar _configuration = require('./configuration');\n\nvar _configuration2 = _interopRequireDefault(_configuration);\n\nexports['default'] = function (kbnServer, server, config) {\n  // prevent relying on kbnServer so this can be used with other hapi servers\n  kbnServer = null;\n\n  return (0, _bluebird.fromNode)(function (cb) {\n    server.register({\n      register: _evenBetter2['default'],\n      options: (0, _configuration2['default'])(config)\n    }, cb);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozt3QkFBeUIsVUFBVTs7MEJBQ1osYUFBYTs7Ozs2QkFDSCxpQkFBaUI7Ozs7cUJBRW5DLFVBQVUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUU7O0FBRWxELFdBQVMsR0FBRyxJQUFJLENBQUM7O0FBRWpCLFNBQU8sd0JBQVMsVUFBVSxFQUFFLEVBQUU7QUFDNUIsVUFBTSxDQUFDLFFBQVEsQ0FBQztBQUNkLGNBQVEseUJBQVk7QUFDcEIsYUFBTyxFQUFFLGdDQUFxQixNQUFNLENBQUM7S0FDdEMsRUFBRSxFQUFFLENBQUMsQ0FBQztHQUNSLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyb21Ob2RlIH0gZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IGV2ZW5CZXR0ZXIgZnJvbSAnZXZlbi1iZXR0ZXInO1xuaW1wb3J0IGxvZ2dpbmdDb25maWd1cmF0aW9uIGZyb20gJy4vY29uZmlndXJhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChrYm5TZXJ2ZXIsIHNlcnZlciwgY29uZmlnKSB7XG4gIC8vIHByZXZlbnQgcmVseWluZyBvbiBrYm5TZXJ2ZXIgc28gdGhpcyBjYW4gYmUgdXNlZCB3aXRoIG90aGVyIGhhcGkgc2VydmVyc1xuICBrYm5TZXJ2ZXIgPSBudWxsO1xuXG4gIHJldHVybiBmcm9tTm9kZShmdW5jdGlvbiAoY2IpIHtcbiAgICBzZXJ2ZXIucmVnaXN0ZXIoe1xuICAgICAgcmVnaXN0ZXI6IGV2ZW5CZXR0ZXIsXG4gICAgICBvcHRpb25zOiBsb2dnaW5nQ29uZmlndXJhdGlvbihjb25maWcpXG4gICAgfSwgY2IpO1xuICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/logging/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;wBAAyB,UAAU;;0BACZ,aAAa;;;;6BACH,iBAAiB;;;;qBAEnC,UAAU,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;;AAElD,WAAS,GAAG,IAAI,CAAC;;AAEjB,SAAO,wBAAS,UAAU,EAAE,EAAE;AAC5B,UAAM,CAAC,QAAQ,CAAC;AACd,cAAQ,yBAAY;AACpB,aAAO,EAAE,gCAAqB,MAAM,CAAC;KACtC,EAAE,EAAE,CAAC,CAAC;GACR,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/server/logging/index.js",
      "sourcesContent": [
        "import { fromNode } from 'bluebird';\nimport evenBetter from 'even-better';\nimport loggingConfiguration from './configuration';\n\nexport default function (kbnServer, server, config) {\n  // prevent relying on kbnServer so this can be used with other hapi servers\n  kbnServer = null;\n\n  return fromNode(function (cb) {\n    server.register({\n      register: evenBetter,\n      options: loggingConfiguration(config)\n    }, cb);\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/logging/configuration.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./log_reporter",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "logReporter"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "loggingConfiguration",
            "config"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "loggingConfiguration",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "config",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = loggingConfiguration;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _log_reporter = require('./log_reporter');\n\nvar _log_reporter2 = _interopRequireDefault(_log_reporter);\n\nfunction loggingConfiguration(config) {\n  var events = config.get('logging.events');\n\n  if (config.get('logging.silent')) {\n    _lodash2['default'].defaults(events, {});\n  } else if (config.get('logging.quiet')) {\n    _lodash2['default'].defaults(events, {\n      log: ['listening', 'error', 'fatal'],\n      request: ['error'],\n      error: '*'\n    });\n  } else if (config.get('logging.verbose')) {\n    _lodash2['default'].defaults(events, {\n      log: '*',\n      ops: '*',\n      request: '*',\n      response: '*',\n      error: '*'\n    });\n  } else {\n    _lodash2['default'].defaults(events, {\n      log: ['info', 'warning', 'error', 'fatal'],\n      response: config.get('logging.json') ? '*' : '!',\n      request: ['info', 'warning', 'error', 'fatal'],\n      error: '*'\n    });\n  }\n\n  var options = {\n    opsInterval: config.get('ops.interval'),\n    requestHeaders: true,\n    requestPayload: true,\n    reporters: [{\n      reporter: _log_reporter2['default'],\n      config: {\n        json: config.get('logging.json'),\n        dest: config.get('logging.dest'),\n        // I'm adding the default here because if you add another filter\n        // using the commandline it will remove authorization. I want users\n        // to have to explicitly set --logging.filter.authorization=none or\n        // --logging.filter.cookie=none to have it show up in the logs.\n        filter: _lodash2['default'].defaults(config.get('logging.filter'), {\n          authorization: 'remove',\n          cookie: 'remove'\n        })\n      },\n      events: _lodash2['default'].transform(events, function (filtered, val, key) {\n        // provide a string compatible way to remove events\n        if (val !== '!') filtered[key] = val;\n      }, {})\n    }]\n  };\n  return options;\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9jb25maWd1cmF0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O3FCQUd3QixvQkFBb0I7Ozs7c0JBSDlCLFFBQVE7Ozs7NEJBQ0UsZ0JBQWdCOzs7O0FBRXpCLFNBQVMsb0JBQW9CLENBQUMsTUFBTSxFQUFFO0FBQ25ELE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzs7QUFFNUMsTUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLEVBQUU7QUFDaEMsd0JBQUUsUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztHQUN4QixNQUNJLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsRUFBRTtBQUNwQyx3QkFBRSxRQUFRLENBQUMsTUFBTSxFQUFFO0FBQ2pCLFNBQUcsRUFBRSxDQUFDLFdBQVcsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDO0FBQ3BDLGFBQU8sRUFBRSxDQUFDLE9BQU8sQ0FBQztBQUNsQixXQUFLLEVBQUUsR0FBRztLQUNYLENBQUMsQ0FBQztHQUNKLE1BQ0ksSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLEVBQUU7QUFDdEMsd0JBQUUsUUFBUSxDQUFDLE1BQU0sRUFBRTtBQUNqQixTQUFHLEVBQUUsR0FBRztBQUNSLFNBQUcsRUFBRSxHQUFHO0FBQ1IsYUFBTyxFQUFFLEdBQUc7QUFDWixjQUFRLEVBQUUsR0FBRztBQUNiLFdBQUssRUFBRSxHQUFHO0tBQ1gsQ0FBQyxDQUFDO0dBQ0osTUFDSTtBQUNILHdCQUFFLFFBQVEsQ0FBQyxNQUFNLEVBQUU7QUFDakIsU0FBRyxFQUFFLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDO0FBQzFDLGNBQVEsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHO0FBQ2hELGFBQU8sRUFBRSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQztBQUM5QyxXQUFLLEVBQUUsR0FBRztLQUNYLENBQUMsQ0FBQztHQUNKOztBQUVELE1BQU0sT0FBTyxHQUFHO0FBQ2QsZUFBVyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDO0FBQ3ZDLGtCQUFjLEVBQUUsSUFBSTtBQUNwQixrQkFBYyxFQUFFLElBQUk7QUFDcEIsYUFBUyxFQUFFLENBQ1Q7QUFDRSxjQUFRLDJCQUFhO0FBQ3JCLFlBQU0sRUFBRTtBQUNOLFlBQUksRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQztBQUNoQyxZQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7Ozs7O0FBS2hDLGNBQU0sRUFBRSxvQkFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO0FBQy9DLHVCQUFhLEVBQUUsUUFBUTtBQUN2QixnQkFBTSxFQUFFLFFBQVE7U0FDakIsQ0FBQztPQUNIO0FBQ0QsWUFBTSxFQUFFLG9CQUFFLFNBQVMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxRQUFRLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTs7QUFFeEQsWUFBSSxHQUFHLEtBQUssR0FBRyxFQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUM7T0FDdEMsRUFBRSxFQUFFLENBQUM7S0FDUCxDQUNGO0dBQ0YsQ0FBQztBQUNGLFNBQU8sT0FBTyxDQUFDO0NBQ2hCIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9jb25maWd1cmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBsb2dSZXBvcnRlciBmcm9tICcuL2xvZ19yZXBvcnRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvZ2dpbmdDb25maWd1cmF0aW9uKGNvbmZpZykge1xuICBjb25zdCBldmVudHMgPSBjb25maWcuZ2V0KCdsb2dnaW5nLmV2ZW50cycpO1xuXG4gIGlmIChjb25maWcuZ2V0KCdsb2dnaW5nLnNpbGVudCcpKSB7XG4gICAgXy5kZWZhdWx0cyhldmVudHMsIHt9KTtcbiAgfVxuICBlbHNlIGlmIChjb25maWcuZ2V0KCdsb2dnaW5nLnF1aWV0JykpIHtcbiAgICBfLmRlZmF1bHRzKGV2ZW50cywge1xuICAgICAgbG9nOiBbJ2xpc3RlbmluZycsICdlcnJvcicsICdmYXRhbCddLFxuICAgICAgcmVxdWVzdDogWydlcnJvciddLFxuICAgICAgZXJyb3I6ICcqJ1xuICAgIH0pO1xuICB9XG4gIGVsc2UgaWYgKGNvbmZpZy5nZXQoJ2xvZ2dpbmcudmVyYm9zZScpKSB7XG4gICAgXy5kZWZhdWx0cyhldmVudHMsIHtcbiAgICAgIGxvZzogJyonLFxuICAgICAgb3BzOiAnKicsXG4gICAgICByZXF1ZXN0OiAnKicsXG4gICAgICByZXNwb25zZTogJyonLFxuICAgICAgZXJyb3I6ICcqJ1xuICAgIH0pO1xuICB9XG4gIGVsc2Uge1xuICAgIF8uZGVmYXVsdHMoZXZlbnRzLCB7XG4gICAgICBsb2c6IFsnaW5mbycsICd3YXJuaW5nJywgJ2Vycm9yJywgJ2ZhdGFsJ10sXG4gICAgICByZXNwb25zZTogY29uZmlnLmdldCgnbG9nZ2luZy5qc29uJykgPyAnKicgOiAnIScsXG4gICAgICByZXF1ZXN0OiBbJ2luZm8nLCAnd2FybmluZycsICdlcnJvcicsICdmYXRhbCddLFxuICAgICAgZXJyb3I6ICcqJ1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBvcHNJbnRlcnZhbDogY29uZmlnLmdldCgnb3BzLmludGVydmFsJyksXG4gICAgcmVxdWVzdEhlYWRlcnM6IHRydWUsXG4gICAgcmVxdWVzdFBheWxvYWQ6IHRydWUsXG4gICAgcmVwb3J0ZXJzOiBbXG4gICAgICB7XG4gICAgICAgIHJlcG9ydGVyOiBsb2dSZXBvcnRlcixcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAganNvbjogY29uZmlnLmdldCgnbG9nZ2luZy5qc29uJyksXG4gICAgICAgICAgZGVzdDogY29uZmlnLmdldCgnbG9nZ2luZy5kZXN0JyksXG4gICAgICAgICAgLy8gSSdtIGFkZGluZyB0aGUgZGVmYXVsdCBoZXJlIGJlY2F1c2UgaWYgeW91IGFkZCBhbm90aGVyIGZpbHRlclxuICAgICAgICAgIC8vIHVzaW5nIHRoZSBjb21tYW5kbGluZSBpdCB3aWxsIHJlbW92ZSBhdXRob3JpemF0aW9uLiBJIHdhbnQgdXNlcnNcbiAgICAgICAgICAvLyB0byBoYXZlIHRvIGV4cGxpY2l0bHkgc2V0IC0tbG9nZ2luZy5maWx0ZXIuYXV0aG9yaXphdGlvbj1ub25lIG9yXG4gICAgICAgICAgLy8gLS1sb2dnaW5nLmZpbHRlci5jb29raWU9bm9uZSB0byBoYXZlIGl0IHNob3cgdXAgaW4gdGhlIGxvZ3MuXG4gICAgICAgICAgZmlsdGVyOiBfLmRlZmF1bHRzKGNvbmZpZy5nZXQoJ2xvZ2dpbmcuZmlsdGVyJyksIHtcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICdyZW1vdmUnLFxuICAgICAgICAgICAgY29va2llOiAncmVtb3ZlJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50czogXy50cmFuc2Zvcm0oZXZlbnRzLCBmdW5jdGlvbiAoZmlsdGVyZWQsIHZhbCwga2V5KSB7XG4gICAgICAgICAgLy8gcHJvdmlkZSBhIHN0cmluZyBjb21wYXRpYmxlIHdheSB0byByZW1vdmUgZXZlbnRzXG4gICAgICAgICAgaWYgKHZhbCAhPT0gJyEnKSBmaWx0ZXJlZFtrZXldID0gdmFsO1xuICAgICAgICB9LCB7fSlcbiAgICAgIH1cbiAgICBdXG4gIH07XG4gIHJldHVybiBvcHRpb25zO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/logging/configuration.js"
      ],
      "names": [],
      "mappings": ";;;;;qBAGwB,oBAAoB;;;;sBAH9B,QAAQ;;;;4BACE,gBAAgB;;;;AAEzB,SAAS,oBAAoB,CAAC,MAAM,EAAE;AACnD,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;;AAE5C,MAAI,MAAM,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE;AAChC,wBAAE,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;GACxB,MACI,IAAI,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE;AACpC,wBAAE,QAAQ,CAAC,MAAM,EAAE;AACjB,SAAG,EAAE,CAAC,WAAW,EAAE,OAAO,EAAE,OAAO,CAAC;AACpC,aAAO,EAAE,CAAC,OAAO,CAAC;AAClB,WAAK,EAAE,GAAG;KACX,CAAC,CAAC;GACJ,MACI,IAAI,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAE;AACtC,wBAAE,QAAQ,CAAC,MAAM,EAAE;AACjB,SAAG,EAAE,GAAG;AACR,SAAG,EAAE,GAAG;AACR,aAAO,EAAE,GAAG;AACZ,cAAQ,EAAE,GAAG;AACb,WAAK,EAAE,GAAG;KACX,CAAC,CAAC;GACJ,MACI;AACH,wBAAE,QAAQ,CAAC,MAAM,EAAE;AACjB,SAAG,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,CAAC;AAC1C,cAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,GAAG,GAAG,GAAG;AAChD,aAAO,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,CAAC;AAC9C,WAAK,EAAE,GAAG;KACX,CAAC,CAAC;GACJ;;AAED,MAAM,OAAO,GAAG;AACd,eAAW,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AACvC,kBAAc,EAAE,IAAI;AACpB,kBAAc,EAAE,IAAI;AACpB,aAAS,EAAE,CACT;AACE,cAAQ,2BAAa;AACrB,YAAM,EAAE;AACN,YAAI,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AAChC,YAAI,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;;;;;AAKhC,cAAM,EAAE,oBAAE,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE;AAC/C,uBAAa,EAAE,QAAQ;AACvB,gBAAM,EAAE,QAAQ;SACjB,CAAC;OACH;AACD,YAAM,EAAE,oBAAE,SAAS,CAAC,MAAM,EAAE,UAAU,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE;;AAExD,YAAI,GAAG,KAAK,GAAG,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;OACtC,EAAE,EAAE,CAAC;KACP,CACF;GACF,CAAC;AACF,SAAO,OAAO,CAAC;CAChB",
      "file": "/Users/osagiefo/kibana-aws/src/server/logging/configuration.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport logReporter from './log_reporter';\n\nexport default function loggingConfiguration(config) {\n  const events = config.get('logging.events');\n\n  if (config.get('logging.silent')) {\n    _.defaults(events, {});\n  }\n  else if (config.get('logging.quiet')) {\n    _.defaults(events, {\n      log: ['listening', 'error', 'fatal'],\n      request: ['error'],\n      error: '*'\n    });\n  }\n  else if (config.get('logging.verbose')) {\n    _.defaults(events, {\n      log: '*',\n      ops: '*',\n      request: '*',\n      response: '*',\n      error: '*'\n    });\n  }\n  else {\n    _.defaults(events, {\n      log: ['info', 'warning', 'error', 'fatal'],\n      response: config.get('logging.json') ? '*' : '!',\n      request: ['info', 'warning', 'error', 'fatal'],\n      error: '*'\n    });\n  }\n\n  const options = {\n    opsInterval: config.get('ops.interval'),\n    requestHeaders: true,\n    requestPayload: true,\n    reporters: [\n      {\n        reporter: logReporter,\n        config: {\n          json: config.get('logging.json'),\n          dest: config.get('logging.dest'),\n          // I'm adding the default here because if you add another filter\n          // using the commandline it will remove authorization. I want users\n          // to have to explicitly set --logging.filter.authorization=none or\n          // --logging.filter.cookie=none to have it show up in the logs.\n          filter: _.defaults(config.get('logging.filter'), {\n            authorization: 'remove',\n            cookie: 'remove'\n          })\n        },\n        events: _.transform(events, function (filtered, val, key) {\n          // provide a string compatible way to remove events\n          if (val !== '!') filtered[key] = val;\n        }, {})\n      }\n    ]\n  };\n  return options;\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/logging/log_reporter.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "good-squeeze",
            "imported": [
              "Squeeze"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Squeeze",
                "local": "Squeeze"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "createWriteStream"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "createWriteStream",
                "local": "writeStr"
              }
            ]
          },
          {
            "source": "./log_format_json",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "LogFormatJson"
              }
            ]
          },
          {
            "source": "./log_format_string",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "LogFormatString"
              }
            ]
          },
          {
            "source": "./log_interceptor",
            "imported": [
              "LogInterceptor"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "LogInterceptor",
                "local": "LogInterceptor"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _goodSqueeze = require('good-squeeze');\n\nvar _fs = require('fs');\n\nvar _log_format_json = require('./log_format_json');\n\nvar _log_format_json2 = _interopRequireDefault(_log_format_json);\n\nvar _log_format_string = require('./log_format_string');\n\nvar _log_format_string2 = _interopRequireDefault(_log_format_string);\n\nvar _log_interceptor = require('./log_interceptor');\n\nmodule.exports = (function () {\n  function KbnLogger(events, config) {\n    _classCallCheck(this, KbnLogger);\n\n    this.squeeze = new _goodSqueeze.Squeeze(events);\n    this.format = config.json ? new _log_format_json2['default'](config) : new _log_format_string2['default'](config);\n    this.logInterceptor = new _log_interceptor.LogInterceptor();\n\n    if (config.dest === 'stdout') {\n      this.dest = process.stdout;\n    } else {\n      this.dest = (0, _fs.createWriteStream)(config.dest, {\n        flags: 'a',\n        encoding: 'utf8'\n      });\n    }\n  }\n\n  _createClass(KbnLogger, [{\n    key: 'init',\n    value: function init(readstream, emitter, callback) {\n      var _this = this;\n\n      this.output = readstream.pipe(this.logInterceptor).pipe(this.squeeze).pipe(this.format);\n\n      this.output.pipe(this.dest);\n\n      emitter.on('stop', function () {\n        _this.output.unpipe(_this.dest);\n      });\n\n      callback();\n    }\n  }]);\n\n  return KbnLogger;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9sb2dfcmVwb3J0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7c0JBQWMsUUFBUTs7OzsyQkFFRSxjQUFjOztrQkFDUSxJQUFJOzsrQkFFeEIsbUJBQW1COzs7O2lDQUNqQixxQkFBcUI7Ozs7K0JBQ2xCLG1CQUFtQjs7QUFFbEQsTUFBTSxDQUFDLE9BQU87QUFDRCxXQURVLFNBQVMsQ0FDbEIsTUFBTSxFQUFFLE1BQU0sRUFBRTswQkFEUCxTQUFTOztBQUU1QixRQUFJLENBQUMsT0FBTyxHQUFHLHlCQUFZLE1BQU0sQ0FBQyxDQUFDO0FBQ25DLFFBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksR0FBRyxpQ0FBa0IsTUFBTSxDQUFDLEdBQUcsbUNBQW9CLE1BQU0sQ0FBQyxDQUFDO0FBQ3BGLFFBQUksQ0FBQyxjQUFjLEdBQUcscUNBQW9CLENBQUM7O0FBRTNDLFFBQUksTUFBTSxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7QUFDNUIsVUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO0tBQzVCLE1BQU07QUFDTCxVQUFJLENBQUMsSUFBSSxHQUFHLDJCQUFTLE1BQU0sQ0FBQyxJQUFJLEVBQUU7QUFDaEMsYUFBSyxFQUFFLEdBQUc7QUFDVixnQkFBUSxFQUFFLE1BQU07T0FDakIsQ0FBQyxDQUFDO0tBQ0o7R0FDRjs7ZUFkb0IsU0FBUzs7V0FnQjFCLGNBQUMsVUFBVSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUU7OztBQUVsQyxVQUFJLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FDbEIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFckIsVUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUU1QixhQUFPLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxZQUFNO0FBQ3ZCLGNBQUssTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFLLElBQUksQ0FBQyxDQUFDO09BQy9CLENBQUMsQ0FBQzs7QUFFSCxjQUFRLEVBQUUsQ0FBQztLQUNaOzs7U0E5Qm9CLFNBQVM7SUErQi9CLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9sb2dnaW5nL2xvZ19yZXBvcnRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IFNxdWVlemUgfSBmcm9tICdnb29kLXNxdWVlemUnO1xuaW1wb3J0IHsgY3JlYXRlV3JpdGVTdHJlYW0gYXMgd3JpdGVTdHIgfSBmcm9tICdmcyc7XG5cbmltcG9ydCBMb2dGb3JtYXRKc29uIGZyb20gJy4vbG9nX2Zvcm1hdF9qc29uJztcbmltcG9ydCBMb2dGb3JtYXRTdHJpbmcgZnJvbSAnLi9sb2dfZm9ybWF0X3N0cmluZyc7XG5pbXBvcnQgeyBMb2dJbnRlcmNlcHRvciB9IGZyb20gJy4vbG9nX2ludGVyY2VwdG9yJztcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBLYm5Mb2dnZXIge1xuICBjb25zdHJ1Y3RvcihldmVudHMsIGNvbmZpZykge1xuICAgIHRoaXMuc3F1ZWV6ZSA9IG5ldyBTcXVlZXplKGV2ZW50cyk7XG4gICAgdGhpcy5mb3JtYXQgPSBjb25maWcuanNvbiA/IG5ldyBMb2dGb3JtYXRKc29uKGNvbmZpZykgOiBuZXcgTG9nRm9ybWF0U3RyaW5nKGNvbmZpZyk7XG4gICAgdGhpcy5sb2dJbnRlcmNlcHRvciA9IG5ldyBMb2dJbnRlcmNlcHRvcigpO1xuXG4gICAgaWYgKGNvbmZpZy5kZXN0ID09PSAnc3Rkb3V0Jykge1xuICAgICAgdGhpcy5kZXN0ID0gcHJvY2Vzcy5zdGRvdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVzdCA9IHdyaXRlU3RyKGNvbmZpZy5kZXN0LCB7XG4gICAgICAgIGZsYWdzOiAnYScsXG4gICAgICAgIGVuY29kaW5nOiAndXRmOCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGluaXQocmVhZHN0cmVhbSwgZW1pdHRlciwgY2FsbGJhY2spIHtcblxuICAgIHRoaXMub3V0cHV0ID0gcmVhZHN0cmVhbVxuICAgICAgLnBpcGUodGhpcy5sb2dJbnRlcmNlcHRvcilcbiAgICAgIC5waXBlKHRoaXMuc3F1ZWV6ZSlcbiAgICAgIC5waXBlKHRoaXMuZm9ybWF0KTtcblxuICAgIHRoaXMub3V0cHV0LnBpcGUodGhpcy5kZXN0KTtcblxuICAgIGVtaXR0ZXIub24oJ3N0b3AnLCAoKSA9PiB7XG4gICAgICB0aGlzLm91dHB1dC51bnBpcGUodGhpcy5kZXN0KTtcbiAgICB9KTtcblxuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/logging/log_reporter.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;sBAAc,QAAQ;;;;2BAEE,cAAc;;kBACQ,IAAI;;+BAExB,mBAAmB;;;;iCACjB,qBAAqB;;;;+BAClB,mBAAmB;;AAElD,MAAM,CAAC,OAAO;AACD,WADU,SAAS,CAClB,MAAM,EAAE,MAAM,EAAE;0BADP,SAAS;;AAE5B,QAAI,CAAC,OAAO,GAAG,yBAAY,MAAM,CAAC,CAAC;AACnC,QAAI,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,GAAG,iCAAkB,MAAM,CAAC,GAAG,mCAAoB,MAAM,CAAC,CAAC;AACpF,QAAI,CAAC,cAAc,GAAG,qCAAoB,CAAC;;AAE3C,QAAI,MAAM,CAAC,IAAI,KAAK,QAAQ,EAAE;AAC5B,UAAI,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC;KAC5B,MAAM;AACL,UAAI,CAAC,IAAI,GAAG,2BAAS,MAAM,CAAC,IAAI,EAAE;AAChC,aAAK,EAAE,GAAG;AACV,gBAAQ,EAAE,MAAM;OACjB,CAAC,CAAC;KACJ;GACF;;eAdoB,SAAS;;WAgB1B,cAAC,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE;;;AAElC,UAAI,CAAC,MAAM,GAAG,UAAU,CACrB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CACzB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAClB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAErB,UAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAE5B,aAAO,CAAC,EAAE,CAAC,MAAM,EAAE,YAAM;AACvB,cAAK,MAAM,CAAC,MAAM,CAAC,MAAK,IAAI,CAAC,CAAC;OAC/B,CAAC,CAAC;;AAEH,cAAQ,EAAE,CAAC;KACZ;;;SA9BoB,SAAS;IA+B/B,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/logging/log_reporter.js",
      "sourcesContent": [
        "import _ from 'lodash';\n\nimport { Squeeze } from 'good-squeeze';\nimport { createWriteStream as writeStr } from 'fs';\n\nimport LogFormatJson from './log_format_json';\nimport LogFormatString from './log_format_string';\nimport { LogInterceptor } from './log_interceptor';\n\nmodule.exports = class KbnLogger {\n  constructor(events, config) {\n    this.squeeze = new Squeeze(events);\n    this.format = config.json ? new LogFormatJson(config) : new LogFormatString(config);\n    this.logInterceptor = new LogInterceptor();\n\n    if (config.dest === 'stdout') {\n      this.dest = process.stdout;\n    } else {\n      this.dest = writeStr(config.dest, {\n        flags: 'a',\n        encoding: 'utf8'\n      });\n    }\n  }\n\n  init(readstream, emitter, callback) {\n\n    this.output = readstream\n      .pipe(this.logInterceptor)\n      .pipe(this.squeeze)\n      .pipe(this.format);\n\n    this.output.pipe(this.dest);\n\n    emitter.on('stop', () => {\n      this.output.unpipe(this.dest);\n    });\n\n    callback();\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/logging/log_format_json.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./log_format",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "LogFormat"
              }
            ]
          },
          {
            "source": "json-stringify-safe",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "stringify"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _log_format = require('./log_format');\n\nvar _log_format2 = _interopRequireDefault(_log_format);\n\nvar _jsonStringifySafe = require('json-stringify-safe');\n\nvar _jsonStringifySafe2 = _interopRequireDefault(_jsonStringifySafe);\n\nvar stripColors = function stripColors(string) {\n  return string.replace(/\\u001b[^m]+m/g, '');\n};\n\nmodule.exports = (function (_LogFormat) {\n  _inherits(KbnLoggerJsonFormat, _LogFormat);\n\n  function KbnLoggerJsonFormat() {\n    _classCallCheck(this, KbnLoggerJsonFormat);\n\n    _get(Object.getPrototypeOf(KbnLoggerJsonFormat.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(KbnLoggerJsonFormat, [{\n    key: 'format',\n    value: function format(data) {\n      data.message = stripColors(data.message);\n      return (0, _jsonStringifySafe2['default'])(data);\n    }\n  }]);\n\n  return KbnLoggerJsonFormat;\n})(_log_format2['default']);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9sb2dfZm9ybWF0X2pzb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OzBCQUFzQixjQUFjOzs7O2lDQUNkLHFCQUFxQjs7OztBQUUzQyxJQUFNLFdBQVcsR0FBRyxTQUFkLFdBQVcsQ0FBYSxNQUFNLEVBQUU7QUFDcEMsU0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxFQUFFLENBQUMsQ0FBQztDQUM1QyxDQUFDOztBQUVGLE1BQU0sQ0FBQyxPQUFPO1lBQVMsbUJBQW1COztXQUFuQixtQkFBbUI7MEJBQW5CLG1CQUFtQjs7K0JBQW5CLG1CQUFtQjs7O2VBQW5CLG1CQUFtQjs7V0FDbEMsZ0JBQUMsSUFBSSxFQUFFO0FBQ1gsVUFBSSxDQUFDLE9BQU8sR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3pDLGFBQU8sb0NBQVUsSUFBSSxDQUFDLENBQUM7S0FDeEI7OztTQUpvQixtQkFBbUI7MkJBS3pDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9sb2dnaW5nL2xvZ19mb3JtYXRfanNvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMb2dGb3JtYXQgZnJvbSAnLi9sb2dfZm9ybWF0JztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnanNvbi1zdHJpbmdpZnktc2FmZSc7XG5cbmNvbnN0IHN0cmlwQ29sb3JzID0gZnVuY3Rpb24gKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1xcdTAwMWJbXm1dK20vZywgJycpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBLYm5Mb2dnZXJKc29uRm9ybWF0IGV4dGVuZHMgTG9nRm9ybWF0IHtcbiAgZm9ybWF0KGRhdGEpIHtcbiAgICBkYXRhLm1lc3NhZ2UgPSBzdHJpcENvbG9ycyhkYXRhLm1lc3NhZ2UpO1xuICAgIHJldHVybiBzdHJpbmdpZnkoZGF0YSk7XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/logging/log_format_json.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;0BAAsB,cAAc;;;;iCACd,qBAAqB;;;;AAE3C,IAAM,WAAW,GAAG,SAAd,WAAW,CAAa,MAAM,EAAE;AACpC,SAAO,MAAM,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC;CAC5C,CAAC;;AAEF,MAAM,CAAC,OAAO;YAAS,mBAAmB;;WAAnB,mBAAmB;0BAAnB,mBAAmB;;+BAAnB,mBAAmB;;;eAAnB,mBAAmB;;WAClC,gBAAC,IAAI,EAAE;AACX,UAAI,CAAC,OAAO,GAAG,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACzC,aAAO,oCAAU,IAAI,CAAC,CAAC;KACxB;;;SAJoB,mBAAmB;2BAKzC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/logging/log_format_json.js",
      "sourcesContent": [
        "import LogFormat from './log_format';\nimport stringify from 'json-stringify-safe';\n\nconst stripColors = function (string) {\n  return string.replace(/\\u001b[^m]+m/g, '');\n};\n\nmodule.exports = class KbnLoggerJsonFormat extends LogFormat {\n  format(data) {\n    data.message = stripColors(data.message);\n    return stringify(data);\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/logging/log_format.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "stream",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Stream"
              }
            ]
          },
          {
            "source": "moment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "moment"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "@spalger/numeral",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "numeral"
              }
            ]
          },
          {
            "source": "ansicolors",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ansicolors"
              }
            ]
          },
          {
            "source": "json-stringify-safe",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "stringify"
              }
            ]
          },
          {
            "source": "querystring",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "querystring"
              }
            ]
          },
          {
            "source": "./apply_filters_to_keys",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "applyFiltersToKeys"
              }
            ]
          },
          {
            "source": "util",
            "imported": [
              "inspect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "inspect",
                "local": "inspect"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _stream = require('stream');\n\nvar _stream2 = _interopRequireDefault(_stream);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _spalgerNumeral = require('@spalger/numeral');\n\nvar _spalgerNumeral2 = _interopRequireDefault(_spalgerNumeral);\n\nvar _ansicolors = require('ansicolors');\n\nvar _ansicolors2 = _interopRequireDefault(_ansicolors);\n\nvar _jsonStringifySafe = require('json-stringify-safe');\n\nvar _jsonStringifySafe2 = _interopRequireDefault(_jsonStringifySafe);\n\nvar _querystring = require('querystring');\n\nvar _querystring2 = _interopRequireDefault(_querystring);\n\nvar _apply_filters_to_keys = require('./apply_filters_to_keys');\n\nvar _apply_filters_to_keys2 = _interopRequireDefault(_apply_filters_to_keys);\n\nvar _util = require('util');\n\nfunction serializeError(err) {\n  return {\n    message: err.message,\n    name: err.name,\n    stack: err.stack,\n    code: err.code,\n    signal: err.signal\n  };\n}\n\nvar levelColor = function levelColor(code) {\n  if (code < 299) return _ansicolors2['default'].green(code);\n  if (code < 399) return _ansicolors2['default'].yellow(code);\n  if (code < 499) return _ansicolors2['default'].magenta(code);\n  return _ansicolors2['default'].red(code);\n};\n\nmodule.exports = (function (_Stream$Transform) {\n  _inherits(TransformObjStream, _Stream$Transform);\n\n  function TransformObjStream(config) {\n    _classCallCheck(this, TransformObjStream);\n\n    _get(Object.getPrototypeOf(TransformObjStream.prototype), 'constructor', this).call(this, {\n      readableObjectMode: false,\n      writableObjectMode: true\n    });\n    this.config = config;\n  }\n\n  _createClass(TransformObjStream, [{\n    key: 'filter',\n    value: function filter(data) {\n      if (!this.config.filter) return data;\n      return (0, _apply_filters_to_keys2['default'])(data, this.config.filter);\n    }\n  }, {\n    key: '_transform',\n    value: function _transform(event, enc, next) {\n      var data = this.filter(this.readEvent(event));\n      this.push(this.format(data) + '\\n');\n      next();\n    }\n  }, {\n    key: 'readEvent',\n    value: function readEvent(event) {\n      var data = {\n        type: event.event,\n        '@timestamp': _moment2['default'].utc(event.timestamp).format(),\n        tags: [].concat(event.tags || []),\n        pid: event.pid\n      };\n\n      if (data.type === 'response') {\n        _lodash2['default'].defaults(data, _lodash2['default'].pick(event, ['method', 'statusCode']));\n\n        data.req = {\n          url: event.path,\n          method: event.method,\n          headers: event.headers,\n          remoteAddress: event.source.remoteAddress,\n          userAgent: event.source.remoteAddress,\n          referer: event.source.referer\n        };\n\n        var contentLength = 0;\n        if (typeof event.responsePayload === 'object') {\n          contentLength = (0, _jsonStringifySafe2['default'])(event.responsePayload).length;\n        } else {\n          contentLength = String(event.responsePayload).length;\n        }\n\n        data.res = {\n          statusCode: event.statusCode,\n          responseTime: event.responseTime,\n          contentLength: contentLength\n        };\n\n        var query = _querystring2['default'].stringify(event.query);\n        if (query) data.req.url += '?' + query;\n\n        data.message = data.req.method.toUpperCase() + ' ';\n        data.message += data.req.url;\n        data.message += ' ';\n        data.message += levelColor(data.res.statusCode);\n        data.message += ' ';\n        data.message += _ansicolors2['default'].brightBlack(data.res.responseTime + 'ms');\n        data.message += _ansicolors2['default'].brightBlack(' - ' + (0, _spalgerNumeral2['default'])(contentLength).format('0.0b'));\n      } else if (data.type === 'ops') {\n        _lodash2['default'].defaults(data, _lodash2['default'].pick(event, ['pid', 'os', 'proc', 'load']));\n        data.message = _ansicolors2['default'].brightBlack('memory: ');\n        data.message += (0, _spalgerNumeral2['default'])(data.proc.mem.heapUsed).format('0.0b');\n        data.message += ' ';\n        data.message += _ansicolors2['default'].brightBlack('uptime: ');\n        data.message += (0, _spalgerNumeral2['default'])(data.proc.uptime).format('00:00:00');\n        data.message += ' ';\n        data.message += _ansicolors2['default'].brightBlack('load: [');\n        data.message += data.os.load.map(function (val) {\n          return (0, _spalgerNumeral2['default'])(val).format('0.00');\n        }).join(' ');\n        data.message += _ansicolors2['default'].brightBlack(']');\n        data.message += ' ';\n        data.message += _ansicolors2['default'].brightBlack('delay: ');\n        data.message += (0, _spalgerNumeral2['default'])(data.proc.delay).format('0.000');\n      } else if (data.type === 'error') {\n        data.level = 'error';\n        data.message = event.error.message;\n        data.error = serializeError(event.error);\n        data.url = event.url;\n      } else if (event.data instanceof Error) {\n        data.level = _lodash2['default'].contains(event.tags, 'fatal') ? 'fatal' : 'error';\n        data.message = event.data.message;\n        data.error = serializeError(event.data);\n      } else if (_lodash2['default'].isPlainObject(event.data) && event.data.tmpl) {\n        _lodash2['default'].assign(data, event.data);\n        data.tmpl = undefined;\n        data.message = _lodash2['default'].template(event.data.tmpl)(event.data);\n      } else {\n        data.message = _lodash2['default'].isString(event.data) ? event.data : (0, _util.inspect)(event.data);\n      }\n      return data;\n    }\n  }]);\n\n  return TransformObjStream;\n})(_stream2['default'].Transform);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9sb2dfZm9ybWF0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztzQkFBbUIsUUFBUTs7OztzQkFDUixRQUFROzs7O3NCQUNiLFFBQVE7Ozs7OEJBQ0Ysa0JBQWtCOzs7OzBCQUNmLFlBQVk7Ozs7aUNBQ2IscUJBQXFCOzs7OzJCQUNuQixhQUFhOzs7O3FDQUNOLHlCQUF5Qjs7OztvQkFDaEMsTUFBTTs7QUFFOUIsU0FBUyxjQUFjLENBQUMsR0FBRyxFQUFFO0FBQzNCLFNBQU87QUFDTCxXQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU87QUFDcEIsUUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJO0FBQ2QsU0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLO0FBQ2hCLFFBQUksRUFBRSxHQUFHLENBQUMsSUFBSTtBQUNkLFVBQU0sRUFBRSxHQUFHLENBQUMsTUFBTTtHQUNuQixDQUFDO0NBQ0g7O0FBRUQsSUFBTSxVQUFVLEdBQUcsU0FBYixVQUFVLENBQWEsSUFBSSxFQUFFO0FBQ2pDLE1BQUksSUFBSSxHQUFHLEdBQUcsRUFBRSxPQUFPLHdCQUFXLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM5QyxNQUFJLElBQUksR0FBRyxHQUFHLEVBQUUsT0FBTyx3QkFBVyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDL0MsTUFBSSxJQUFJLEdBQUcsR0FBRyxFQUFFLE9BQU8sd0JBQVcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2hELFNBQU8sd0JBQVcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQzdCLENBQUM7O0FBR0YsTUFBTSxDQUFDLE9BQU87WUFBUyxrQkFBa0I7O0FBQzVCLFdBRFUsa0JBQWtCLENBQzNCLE1BQU0sRUFBRTswQkFEQyxrQkFBa0I7O0FBRXJDLCtCQUZtQixrQkFBa0IsNkNBRS9CO0FBQ0osd0JBQWtCLEVBQUUsS0FBSztBQUN6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Q0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUU7QUFDdkQsNEJBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDM0IsWUFBSSxDQUFDLElBQUksR0FBRyxTQUFTLENBQUM7QUFDdEIsWUFBSSxDQUFDLE9BQU8sR0FBRyxvQkFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7T0FDeEQsTUFDSTtBQUNILFlBQUksQ0FBQyxPQUFPLEdBQUcsb0JBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxHQUFHLG1CQUFRLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUMxRTtBQUNELGFBQU8sSUFBSSxDQUFDO0tBQ2I7OztTQTlHb0Isa0JBQWtCO0dBQVMsb0JBQU8sU0FBUyxDQStHakUsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvc2VydmVyL2xvZ2dpbmcvbG9nX2Zvcm1hdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTdHJlYW0gZnJvbSAnc3RyZWFtJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgbnVtZXJhbCBmcm9tICdAc3BhbGdlci9udW1lcmFsJztcbmltcG9ydCBhbnNpY29sb3JzIGZyb20gJ2Fuc2ljb2xvcnMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICdqc29uLXN0cmluZ2lmeS1zYWZlJztcbmltcG9ydCBxdWVyeXN0cmluZyBmcm9tICdxdWVyeXN0cmluZyc7XG5pbXBvcnQgYXBwbHlGaWx0ZXJzVG9LZXlzIGZyb20gJy4vYXBwbHlfZmlsdGVyc190b19rZXlzJztcbmltcG9ydCB7IGluc3BlY3QgfSBmcm9tICd1dGlsJztcblxuZnVuY3Rpb24gc2VyaWFsaXplRXJyb3IoZXJyKSB7XG4gIHJldHVybiB7XG4gICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXG4gICAgbmFtZTogZXJyLm5hbWUsXG4gICAgc3RhY2s6IGVyci5zdGFjayxcbiAgICBjb2RlOiBlcnIuY29kZSxcbiAgICBzaWduYWw6IGVyci5zaWduYWxcbiAgfTtcbn1cblxuY29uc3QgbGV2ZWxDb2xvciA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gIGlmIChjb2RlIDwgMjk5KSByZXR1cm4gYW5zaWNvbG9ycy5ncmVlbihjb2RlKTtcbiAgaWYgKGNvZGUgPCAzOTkpIHJldHVybiBhbnNpY29sb3JzLnllbGxvdyhjb2RlKTtcbiAgaWYgKGNvZGUgPCA0OTkpIHJldHVybiBhbnNpY29sb3JzLm1hZ2VudGEoY29kZSk7XG4gIHJldHVybiBhbnNpY29sb3JzLnJlZChjb2RlKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBUcmFuc2Zvcm1PYmpTdHJlYW0gZXh0ZW5kcyBTdHJlYW0uVHJhbnNmb3JtIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoe1xuICAgICAgcmVhZGFibGVPYmplY3RNb2RlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlT2JqZWN0TW9kZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgZmlsdGVyKGRhdGEpIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmZpbHRlcikgcmV0dXJuIGRhdGE7XG4gICAgcmV0dXJuIGFwcGx5RmlsdGVyc1RvS2V5cyhkYXRhLCB0aGlzLmNvbmZpZy5maWx0ZXIpO1xuICB9XG5cbiAgX3RyYW5zZm9ybShldmVudCwgZW5jLCBuZXh0KSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZmlsdGVyKHRoaXMucmVhZEV2ZW50KGV2ZW50KSk7XG4gICAgdGhpcy5wdXNoKHRoaXMuZm9ybWF0KGRhdGEpICsgJ1xcbicpO1xuICAgIG5leHQoKTtcbiAgfVxuXG4gIHJlYWRFdmVudChldmVudCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICB0eXBlOiBldmVudC5ldmVudCxcbiAgICAgICdAdGltZXN0YW1wJzogbW9tZW50LnV0YyhldmVudC50aW1lc3RhbXApLmZvcm1hdCgpLFxuICAgICAgdGFnczogW10uY29uY2F0KGV2ZW50LnRhZ3MgfHwgW10pLFxuICAgICAgcGlkOiBldmVudC5waWRcbiAgICB9O1xuXG4gICAgaWYgKGRhdGEudHlwZSA9PT0gJ3Jlc3BvbnNlJykge1xuICAgICAgXy5kZWZhdWx0cyhkYXRhLCBfLnBpY2soZXZlbnQsIFtcbiAgICAgICAgJ21ldGhvZCcsXG4gICAgICAgICdzdGF0dXNDb2RlJ1xuICAgICAgXSkpO1xuXG4gICAgICBkYXRhLnJlcSA9IHtcbiAgICAgICAgdXJsOiBldmVudC5wYXRoLFxuICAgICAgICBtZXRob2Q6IGV2ZW50Lm1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogZXZlbnQuaGVhZGVycyxcbiAgICAgICAgcmVtb3RlQWRkcmVzczogZXZlbnQuc291cmNlLnJlbW90ZUFkZHJlc3MsXG4gICAgICAgIHVzZXJBZ2VudDogZXZlbnQuc291cmNlLnJlbW90ZUFkZHJlc3MsXG4gICAgICAgIHJlZmVyZXI6IGV2ZW50LnNvdXJjZS5yZWZlcmVyXG4gICAgICB9O1xuXG4gICAgICBsZXQgY29udGVudExlbmd0aCA9IDA7XG4gICAgICBpZiAodHlwZW9mIGV2ZW50LnJlc3BvbnNlUGF5bG9hZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29udGVudExlbmd0aCA9IHN0cmluZ2lmeShldmVudC5yZXNwb25zZVBheWxvYWQpLmxlbmd0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnRMZW5ndGggPSBTdHJpbmcoZXZlbnQucmVzcG9uc2VQYXlsb2FkKS5sZW5ndGg7XG4gICAgICB9XG5cbiAgICAgIGRhdGEucmVzID0ge1xuICAgICAgICBzdGF0dXNDb2RlOiBldmVudC5zdGF0dXNDb2RlLFxuICAgICAgICByZXNwb25zZVRpbWU6IGV2ZW50LnJlc3BvbnNlVGltZSxcbiAgICAgICAgY29udGVudExlbmd0aDogY29udGVudExlbmd0aFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkoZXZlbnQucXVlcnkpO1xuICAgICAgaWYgKHF1ZXJ5KSBkYXRhLnJlcS51cmwgKz0gJz8nICsgcXVlcnk7XG5cblxuICAgICAgZGF0YS5tZXNzYWdlICA9IGRhdGEucmVxLm1ldGhvZC50b1VwcGVyQ2FzZSgpICsgJyAnO1xuICAgICAgZGF0YS5tZXNzYWdlICs9IGRhdGEucmVxLnVybDtcbiAgICAgIGRhdGEubWVzc2FnZSArPSAnICc7XG4gICAgICBkYXRhLm1lc3NhZ2UgKz0gbGV2ZWxDb2xvcihkYXRhLnJlcy5zdGF0dXNDb2RlKTtcbiAgICAgIGRhdGEubWVzc2FnZSArPSAnICc7XG4gICAgICBkYXRhLm1lc3NhZ2UgKz0gYW5zaWNvbG9ycy5icmlnaHRCbGFjayhkYXRhLnJlcy5yZXNwb25zZVRpbWUgKyAnbXMnKTtcbiAgICAgIGRhdGEubWVzc2FnZSArPSBhbnNpY29sb3JzLmJyaWdodEJsYWNrKCcgLSAnICsgbnVtZXJhbChjb250ZW50TGVuZ3RoKS5mb3JtYXQoJzAuMGInKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ29wcycpIHtcbiAgICAgIF8uZGVmYXVsdHMoZGF0YSwgXy5waWNrKGV2ZW50LCBbXG4gICAgICAgICdwaWQnLFxuICAgICAgICAnb3MnLFxuICAgICAgICAncHJvYycsXG4gICAgICAgICdsb2FkJ1xuICAgICAgXSkpO1xuICAgICAgZGF0YS5tZXNzYWdlICA9IGFuc2ljb2xvcnMuYnJpZ2h0QmxhY2soJ21lbW9yeTogJyk7XG4gICAgICBkYXRhLm1lc3NhZ2UgKz0gbnVtZXJhbChkYXRhLnByb2MubWVtLmhlYXBVc2VkKS5mb3JtYXQoJzAuMGInKTtcbiAgICAgIGRhdGEubWVzc2FnZSArPSAnICc7XG4gICAgICBkYXRhLm1lc3NhZ2UgKz0gYW5zaWNvbG9ycy5icmlnaHRCbGFjaygndXB0aW1lOiAnKTtcbiAgICAgIGRhdGEubWVzc2FnZSArPSBudW1lcmFsKGRhdGEucHJvYy51cHRpbWUpLmZvcm1hdCgnMDA6MDA6MDAnKTtcbiAgICAgIGRhdGEubWVzc2FnZSArPSAnICc7XG4gICAgICBkYXRhLm1lc3NhZ2UgKz0gYW5zaWNvbG9ycy5icmlnaHRCbGFjaygnbG9hZDogWycpO1xuICAgICAgZGF0YS5tZXNzYWdlICs9IGRhdGEub3MubG9hZC5tYXAoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gbnVtZXJhbCh2YWwpLmZvcm1hdCgnMC4wMCcpO1xuICAgICAgfSkuam9pbignICcpO1xuICAgICAgZGF0YS5tZXNzYWdlICs9IGFuc2ljb2xvcnMuYnJpZ2h0QmxhY2soJ10nKTtcbiAgICAgIGRhdGEubWVzc2FnZSArPSAnICc7XG4gICAgICBkYXRhLm1lc3NhZ2UgKz0gYW5zaWNvbG9ycy5icmlnaHRCbGFjaygnZGVsYXk6ICcpO1xuICAgICAgZGF0YS5tZXNzYWdlICs9IG51bWVyYWwoZGF0YS5wcm9jLmRlbGF5KS5mb3JtYXQoJzAuMDAwJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgZGF0YS5sZXZlbCA9ICdlcnJvcic7XG4gICAgICBkYXRhLm1lc3NhZ2UgPSBldmVudC5lcnJvci5tZXNzYWdlO1xuICAgICAgZGF0YS5lcnJvciA9IHNlcmlhbGl6ZUVycm9yKGV2ZW50LmVycm9yKTtcbiAgICAgIGRhdGEudXJsID0gZXZlbnQudXJsO1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudC5kYXRhIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGRhdGEubGV2ZWwgPSBfLmNvbnRhaW5zKGV2ZW50LnRhZ3MsICdmYXRhbCcpID8gJ2ZhdGFsJyA6ICdlcnJvcic7XG4gICAgICBkYXRhLm1lc3NhZ2UgPSBldmVudC5kYXRhLm1lc3NhZ2U7XG4gICAgICBkYXRhLmVycm9yID0gc2VyaWFsaXplRXJyb3IoZXZlbnQuZGF0YSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKF8uaXNQbGFpbk9iamVjdChldmVudC5kYXRhKSAmJiBldmVudC5kYXRhLnRtcGwpIHtcbiAgICAgIF8uYXNzaWduKGRhdGEsIGV2ZW50LmRhdGEpO1xuICAgICAgZGF0YS50bXBsID0gdW5kZWZpbmVkO1xuICAgICAgZGF0YS5tZXNzYWdlID0gXy50ZW1wbGF0ZShldmVudC5kYXRhLnRtcGwpKGV2ZW50LmRhdGEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGRhdGEubWVzc2FnZSA9IF8uaXNTdHJpbmcoZXZlbnQuZGF0YSkgPyBldmVudC5kYXRhIDogaW5zcGVjdChldmVudC5kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/logging/log_format.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/server/logging/log_format.js",
      "sourcesContent": [
        "import Stream from 'stream';\nimport moment from 'moment';\nimport _ from 'lodash';\nimport numeral from '@spalger/numeral';\nimport ansicolors from 'ansicolors';\nimport stringify from 'json-stringify-safe';\nimport querystring from 'querystring';\nimport applyFiltersToKeys from './apply_filters_to_keys';\nimport { inspect } from 'util';\n\nfunction serializeError(err) {\n  return {\n    message: err.message,\n    name: err.name,\n    stack: err.stack,\n    code: err.code,\n    signal: err.signal\n  };\n}\n\nconst levelColor = function (code) {\n  if (code < 299) return ansicolors.green(code);\n  if (code < 399) return ansicolors.yellow(code);\n  if (code < 499) return ansicolors.magenta(code);\n  return ansicolors.red(code);\n};\n\n\nmodule.exports = class TransformObjStream extends Stream.Transform {\n  constructor(config) {\n    super({\n      readableObjectMode: false,\n      writableObjectMode: true\n    });\n    this.config = config;\n  }\n\n  filter(data) {\n    if (!this.config.filter) return data;\n    return applyFiltersToKeys(data, this.config.filter);\n  }\n\n  _transform(event, enc, next) {\n    const data = this.filter(this.readEvent(event));\n    this.push(this.format(data) + '\\n');\n    next();\n  }\n\n  readEvent(event) {\n    const data = {\n      type: event.event,\n      '@timestamp': moment.utc(event.timestamp).format(),\n      tags: [].concat(event.tags || []),\n      pid: event.pid\n    };\n\n    if (data.type === 'response') {\n      _.defaults(data, _.pick(event, [\n        'method',\n        'statusCode'\n      ]));\n\n      data.req = {\n        url: event.path,\n        method: event.method,\n        headers: event.headers,\n        remoteAddress: event.source.remoteAddress,\n        userAgent: event.source.remoteAddress,\n        referer: event.source.referer\n      };\n\n      let contentLength = 0;\n      if (typeof event.responsePayload === 'object') {\n        contentLength = stringify(event.responsePayload).length;\n      } else {\n        contentLength = String(event.responsePayload).length;\n      }\n\n      data.res = {\n        statusCode: event.statusCode,\n        responseTime: event.responseTime,\n        contentLength: contentLength\n      };\n\n      const query = querystring.stringify(event.query);\n      if (query) data.req.url += '?' + query;\n\n\n      data.message  = data.req.method.toUpperCase() + ' ';\n      data.message += data.req.url;\n      data.message += ' ';\n      data.message += levelColor(data.res.statusCode);\n      data.message += ' ';\n      data.message += ansicolors.brightBlack(data.res.responseTime + 'ms');\n      data.message += ansicolors.brightBlack(' - ' + numeral(contentLength).format('0.0b'));\n    }\n    else if (data.type === 'ops') {\n      _.defaults(data, _.pick(event, [\n        'pid',\n        'os',\n        'proc',\n        'load'\n      ]));\n      data.message  = ansicolors.brightBlack('memory: ');\n      data.message += numeral(data.proc.mem.heapUsed).format('0.0b');\n      data.message += ' ';\n      data.message += ansicolors.brightBlack('uptime: ');\n      data.message += numeral(data.proc.uptime).format('00:00:00');\n      data.message += ' ';\n      data.message += ansicolors.brightBlack('load: [');\n      data.message += data.os.load.map(function (val) {\n        return numeral(val).format('0.00');\n      }).join(' ');\n      data.message += ansicolors.brightBlack(']');\n      data.message += ' ';\n      data.message += ansicolors.brightBlack('delay: ');\n      data.message += numeral(data.proc.delay).format('0.000');\n    }\n    else if (data.type === 'error') {\n      data.level = 'error';\n      data.message = event.error.message;\n      data.error = serializeError(event.error);\n      data.url = event.url;\n    }\n    else if (event.data instanceof Error) {\n      data.level = _.contains(event.tags, 'fatal') ? 'fatal' : 'error';\n      data.message = event.data.message;\n      data.error = serializeError(event.data);\n    }\n    else if (_.isPlainObject(event.data) && event.data.tmpl) {\n      _.assign(data, event.data);\n      data.tmpl = undefined;\n      data.message = _.template(event.data.tmpl)(event.data);\n    }\n    else {\n      data.message = _.isString(event.data) ? event.data : inspect(event.data);\n    }\n    return data;\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/logging/apply_filters_to_keys.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction toPojo(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nfunction replacer(match, group) {\n  return new Array(group.length + 1).join('X');\n}\n\nfunction apply(obj, key, action) {\n  for (var k in obj) {\n    if (obj.hasOwnProperty(k)) {\n      var val = obj[k];\n      if (k === key) {\n        if (action === 'remove') {\n          delete obj[k];\n        } else if (action === 'censor' && typeof val === 'object') {\n          delete obj[key];\n        } else if (action === 'censor') {\n          obj[k] = ('' + val).replace(/./g, 'X');\n        } else if (/\\/.+\\//.test(action)) {\n          var matches = action.match(/\\/(.+)\\//);\n          if (matches) {\n            var regex = new RegExp(matches[1]);\n            obj[k] = ('' + val).replace(regex, replacer);\n          }\n        }\n      } else if (typeof val === 'object') {\n        val = apply(val, key, action);\n      }\n    }\n  }\n  return obj;\n}\n\nmodule.exports = function (obj, actionsByKey) {\n  return Object.keys(actionsByKey).reduce(function (output, key) {\n    return apply(output, key, actionsByKey[key]);\n  }, toPojo(obj));\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9hcHBseV9maWx0ZXJzX3RvX2tleXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTLE1BQU0sQ0FBQyxHQUFHLEVBQUU7QUFDbkIsU0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztDQUN4Qzs7QUFFRCxTQUFTLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQzlCLFNBQVEsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUU7Q0FDaEQ7O0FBRUQsU0FBUyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUU7QUFDL0IsT0FBSyxJQUFNLENBQUMsSUFBSSxHQUFHLEVBQUc7QUFDcEIsUUFBSSxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQ3pCLFVBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQixVQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7QUFDYixZQUFJLE1BQU0sS0FBSyxRQUFRLEVBQUU7QUFDdkIsaUJBQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2YsTUFDSSxJQUFJLE1BQU0sS0FBSyxRQUFRLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO0FBQ3ZELGlCQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNqQixNQUNJLElBQUksTUFBTSxLQUFLLFFBQVEsRUFBRTtBQUM1QixhQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFBLENBQUUsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztTQUN4QyxNQUNJLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUM5QixjQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3pDLGNBQUksT0FBTyxFQUFFO0FBQ1gsZ0JBQU0sS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JDLGVBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUEsQ0FBRSxPQUFPLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1dBQzlDO1NBQ0Y7T0FDRixNQUFNLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO0FBQ2xDLFdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztPQUMvQjtLQUNGO0dBQ0Y7QUFDRCxTQUFPLEdBQUcsQ0FBQztDQUNaOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLEVBQUUsWUFBWSxFQUFFO0FBQzVDLFNBQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQyxNQUFNLEVBQUUsR0FBRyxFQUFLO0FBQ3ZELFdBQU8sS0FBSyxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7R0FDOUMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztDQUNqQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9hcHBseV9maWx0ZXJzX3RvX2tleXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB0b1Bvam8ob2JqKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlcihtYXRjaCwgZ3JvdXApIHtcbiAgcmV0dXJuIChuZXcgQXJyYXkoZ3JvdXAubGVuZ3RoICsgMSkuam9pbignWCcpKTtcbn1cblxuZnVuY3Rpb24gYXBwbHkob2JqLCBrZXksIGFjdGlvbikge1xuICBmb3IgKGNvbnN0IGsgaW4gb2JqKSAge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgIGxldCB2YWwgPSBvYmpba107XG4gICAgICBpZiAoayA9PT0ga2V5KSB7XG4gICAgICAgIGlmIChhY3Rpb24gPT09ICdyZW1vdmUnKSB7XG4gICAgICAgICAgZGVsZXRlIG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhY3Rpb24gPT09ICdjZW5zb3InICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgZGVsZXRlIG9ialtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2NlbnNvcicpIHtcbiAgICAgICAgICBvYmpba10gPSAoJycgKyB2YWwpLnJlcGxhY2UoLy4vZywgJ1gnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgvXFwvLitcXC8vLnRlc3QoYWN0aW9uKSkge1xuICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBhY3Rpb24ubWF0Y2goL1xcLyguKylcXC8vKTtcbiAgICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKG1hdGNoZXNbMV0pO1xuICAgICAgICAgICAgb2JqW2tdID0gKCcnICsgdmFsKS5yZXBsYWNlKHJlZ2V4LCByZXBsYWNlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhbCA9IGFwcGx5KHZhbCwga2V5LCBhY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmosIGFjdGlvbnNCeUtleSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoYWN0aW9uc0J5S2V5KS5yZWR1Y2UoKG91dHB1dCwga2V5KSA9PiB7XG4gICAgcmV0dXJuIGFwcGx5KG91dHB1dCwga2V5LCBhY3Rpb25zQnlLZXlba2V5XSk7XG4gIH0sIHRvUG9qbyhvYmopKTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/logging/apply_filters_to_keys.js"
      ],
      "names": [],
      "mappings": ";;AAAA,SAAS,MAAM,CAAC,GAAG,EAAE;AACnB,SAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;CACxC;;AAED,SAAS,QAAQ,CAAC,KAAK,EAAE,KAAK,EAAE;AAC9B,SAAQ,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAE;CAChD;;AAED,SAAS,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE;AAC/B,OAAK,IAAM,CAAC,IAAI,GAAG,EAAG;AACpB,QAAI,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE;AACzB,UAAI,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;AACjB,UAAI,CAAC,KAAK,GAAG,EAAE;AACb,YAAI,MAAM,KAAK,QAAQ,EAAE;AACvB,iBAAO,GAAG,CAAC,CAAC,CAAC,CAAC;SACf,MACI,IAAI,MAAM,KAAK,QAAQ,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;AACvD,iBAAO,GAAG,CAAC,GAAG,CAAC,CAAC;SACjB,MACI,IAAI,MAAM,KAAK,QAAQ,EAAE;AAC5B,aAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAA,CAAE,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;SACxC,MACI,IAAI,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;AAC9B,cAAM,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AACzC,cAAI,OAAO,EAAE;AACX,gBAAM,KAAK,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACrC,eAAG,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,CAAA,CAAE,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;WAC9C;SACF;OACF,MAAM,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;AAClC,WAAG,GAAG,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC;OAC/B;KACF;GACF;AACD,SAAO,GAAG,CAAC;CACZ;;AAED,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE,YAAY,EAAE;AAC5C,SAAO,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,UAAC,MAAM,EAAE,GAAG,EAAK;AACvD,WAAO,KAAK,CAAC,MAAM,EAAE,GAAG,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;GAC9C,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;CACjB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/logging/apply_filters_to_keys.js",
      "sourcesContent": [
        "function toPojo(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nfunction replacer(match, group) {\n  return (new Array(group.length + 1).join('X'));\n}\n\nfunction apply(obj, key, action) {\n  for (const k in obj)  {\n    if (obj.hasOwnProperty(k)) {\n      let val = obj[k];\n      if (k === key) {\n        if (action === 'remove') {\n          delete obj[k];\n        }\n        else if (action === 'censor' && typeof val === 'object') {\n          delete obj[key];\n        }\n        else if (action === 'censor') {\n          obj[k] = ('' + val).replace(/./g, 'X');\n        }\n        else if (/\\/.+\\//.test(action)) {\n          const matches = action.match(/\\/(.+)\\//);\n          if (matches) {\n            const regex = new RegExp(matches[1]);\n            obj[k] = ('' + val).replace(regex, replacer);\n          }\n        }\n      } else if (typeof val === 'object') {\n        val = apply(val, key, action);\n      }\n    }\n  }\n  return obj;\n}\n\nmodule.exports = function (obj, actionsByKey) {\n  return Object.keys(actionsByKey).reduce((output, key) => {\n    return apply(output, key, actionsByKey[key]);\n  }, toPojo(obj));\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/logging/log_format_string.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "ansicolors",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ansicolors"
              }
            ]
          },
          {
            "source": "moment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "moment"
              }
            ]
          },
          {
            "source": "./log_format",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "LogFormat"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _ansicolors = require('ansicolors');\n\nvar _ansicolors2 = _interopRequireDefault(_ansicolors);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _log_format = require('./log_format');\n\nvar _log_format2 = _interopRequireDefault(_log_format);\n\nvar statuses = ['err', 'info', 'error', 'warning', 'fatal', 'status', 'debug'];\n\nvar typeColors = {\n  log: 'blue',\n  req: 'green',\n  res: 'green',\n  ops: 'cyan',\n  config: 'cyan',\n  err: 'red',\n  info: 'green',\n  error: 'red',\n  warning: 'red',\n  fatal: 'magenta',\n  status: 'yellow',\n  debug: 'brightBlack',\n  server: 'brightBlack',\n  optmzr: 'white',\n  managr: 'green',\n  optimize: 'magenta',\n  listening: 'magenta'\n};\n\nvar color = _lodash2['default'].memoize(function (name) {\n  return _ansicolors2['default'][typeColors[name]] || _lodash2['default'].identity;\n});\n\nvar type = _lodash2['default'].memoize(function (t) {\n  return color(t)(_lodash2['default'].pad(t, 7).slice(0, 7));\n});\n\nvar workerType = process.env.kbnWorkerType ? type(process.env.kbnWorkerType) + ' ' : '';\n\nmodule.exports = (function (_LogFormat) {\n  _inherits(KbnLoggerJsonFormat, _LogFormat);\n\n  function KbnLoggerJsonFormat() {\n    _classCallCheck(this, KbnLoggerJsonFormat);\n\n    _get(Object.getPrototypeOf(KbnLoggerJsonFormat.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(KbnLoggerJsonFormat, [{\n    key: 'format',\n    value: function format(data) {\n      var time = color('time')((0, _moment2['default'])(data.timestamp).utc().format('HH:mm:ss.SSS'));\n      var msg = data.error ? color('error')(data.error.stack) : color('message')(data.message);\n\n      var tags = (0, _lodash2['default'])(data.tags).sortBy(function (tag) {\n        if (color(tag) === _lodash2['default'].identity) return '2' + tag;\n        if (_lodash2['default'].includes(statuses, tag)) return '0' + tag;\n        return '1' + tag;\n      }).reduce(function (s, t) {\n        return s + ('[' + color(t)(t) + ']');\n      }, '');\n\n      return '' + workerType + type(data.type) + ' [' + time + '] ' + tags + ' ' + msg;\n    }\n  }]);\n\n  return KbnLoggerJsonFormat;\n})(_log_format2['default']);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9sb2dfZm9ybWF0X3N0cmluZy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7c0JBQWMsUUFBUTs7OzswQkFDQyxZQUFZOzs7O3NCQUNoQixRQUFROzs7OzBCQUVMLGNBQWM7Ozs7QUFFcEMsSUFBTSxRQUFRLEdBQUcsQ0FDZixLQUFLLEVBQ0wsTUFBTSxFQUNOLE9BQU8sRUFDUCxTQUFTLEVBQ1QsT0FBTyxFQUNQLFFBQVEsRUFDUixPQUFPLENBQ1IsQ0FBQzs7QUFFRixJQUFNLFVBQVUsR0FBRztBQUNqQixLQUFHLEVBQUUsTUFBTTtBQUNYLEtBQUcsRUFBRSxPQUFPO0FBQ1osS0FBRyxFQUFFLE9BQU87QUFDWixLQUFHLEVBQUUsTUFBTTtBQUNYLFFBQU0sRUFBRSxNQUFNO0FBQ2QsS0FBRyxFQUFFLEtBQUs7QUFDVixNQUFJLEVBQUUsT0FBTztBQUNiLE9BQUssRUFBRSxLQUFLO0FBQ1osU0FBTyxFQUFFLEtBQUs7QUFDZCxPQUFLLEVBQUUsU0FBUztBQUNoQixRQUFNLEVBQUUsUUFBUTtBQUNoQixPQUFLLEVBQUUsYUFBYTtBQUNwQixRQUFNLEVBQUUsYUFBYTtBQUNyQixRQUFNLEVBQUUsT0FBTztBQUNmLFFBQU0sRUFBRSxPQUFPO0FBQ2YsVUFBUSxFQUFFLFNBQVM7QUFDbkIsV0FBUyxFQUFFLFNBQVM7Q0FDckIsQ0FBQzs7QUFFRixJQUFNLEtBQUssR0FBRyxvQkFBRSxPQUFPLENBQUMsVUFBVSxJQUFJLEVBQUU7QUFDdEMsU0FBTyx3QkFBVyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxvQkFBRSxRQUFRLENBQUM7Q0FDbkQsQ0FBQyxDQUFDOztBQUVILElBQU0sSUFBSSxHQUFHLG9CQUFFLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRTtBQUNsQyxTQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxvQkFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUMxQyxDQUFDLENBQUM7O0FBRUgsSUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEdBQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLFNBQU0sRUFBRSxDQUFDOztBQUUxRixNQUFNLENBQUMsT0FBTztZQUFTLG1CQUFtQjs7V0FBbkIsbUJBQW1COzBCQUFuQixtQkFBbUI7OytCQUFuQixtQkFBbUI7OztlQUFuQixtQkFBbUI7O1dBQ2xDLGdCQUFDLElBQUksRUFBRTtBQUNYLFVBQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyx5QkFBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7QUFDaEYsVUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDOztBQUUzRixVQUFNLElBQUksR0FBRyx5QkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQ3hCLE1BQU0sQ0FBQyxVQUFVLEdBQUcsRUFBRTtBQUNyQixZQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxvQkFBRSxRQUFRLEVBQUUsYUFBVyxHQUFHLENBQUc7QUFDaEQsWUFBSSxvQkFBRSxRQUFRLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFLGFBQVcsR0FBRyxDQUFHO0FBQ2hELHFCQUFXLEdBQUcsQ0FBRztPQUNsQixDQUFDLENBQ0QsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUN0QixlQUFPLENBQUMsVUFBUSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQUksQ0FBQztPQUNqQyxFQUFFLEVBQUUsQ0FBQyxDQUFDOztBQUVQLGtCQUFVLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFLLElBQUksVUFBSyxJQUFJLFNBQUksR0FBRyxDQUFHO0tBQ25FOzs7U0FoQm9CLG1CQUFtQjsyQkFpQnpDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9sb2dnaW5nL2xvZ19mb3JtYXRfc3RyaW5nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBhbnNpY29sb3JzIGZyb20gJ2Fuc2ljb2xvcnMnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5pbXBvcnQgTG9nRm9ybWF0IGZyb20gJy4vbG9nX2Zvcm1hdCc7XG5cbmNvbnN0IHN0YXR1c2VzID0gW1xuICAnZXJyJyxcbiAgJ2luZm8nLFxuICAnZXJyb3InLFxuICAnd2FybmluZycsXG4gICdmYXRhbCcsXG4gICdzdGF0dXMnLFxuICAnZGVidWcnXG5dO1xuXG5jb25zdCB0eXBlQ29sb3JzID0ge1xuICBsb2c6ICdibHVlJyxcbiAgcmVxOiAnZ3JlZW4nLFxuICByZXM6ICdncmVlbicsXG4gIG9wczogJ2N5YW4nLFxuICBjb25maWc6ICdjeWFuJyxcbiAgZXJyOiAncmVkJyxcbiAgaW5mbzogJ2dyZWVuJyxcbiAgZXJyb3I6ICdyZWQnLFxuICB3YXJuaW5nOiAncmVkJyxcbiAgZmF0YWw6ICdtYWdlbnRhJyxcbiAgc3RhdHVzOiAneWVsbG93JyxcbiAgZGVidWc6ICdicmlnaHRCbGFjaycsXG4gIHNlcnZlcjogJ2JyaWdodEJsYWNrJyxcbiAgb3B0bXpyOiAnd2hpdGUnLFxuICBtYW5hZ3I6ICdncmVlbicsXG4gIG9wdGltaXplOiAnbWFnZW50YScsXG4gIGxpc3RlbmluZzogJ21hZ2VudGEnXG59O1xuXG5jb25zdCBjb2xvciA9IF8ubWVtb2l6ZShmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gYW5zaWNvbG9yc1t0eXBlQ29sb3JzW25hbWVdXSB8fCBfLmlkZW50aXR5O1xufSk7XG5cbmNvbnN0IHR5cGUgPSBfLm1lbW9pemUoZnVuY3Rpb24gKHQpIHtcbiAgcmV0dXJuIGNvbG9yKHQpKF8ucGFkKHQsIDcpLnNsaWNlKDAsIDcpKTtcbn0pO1xuXG5jb25zdCB3b3JrZXJUeXBlID0gcHJvY2Vzcy5lbnYua2JuV29ya2VyVHlwZSA/IGAke3R5cGUocHJvY2Vzcy5lbnYua2JuV29ya2VyVHlwZSl9IGAgOiAnJztcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBLYm5Mb2dnZXJKc29uRm9ybWF0IGV4dGVuZHMgTG9nRm9ybWF0IHtcbiAgZm9ybWF0KGRhdGEpIHtcbiAgICBjb25zdCB0aW1lID0gY29sb3IoJ3RpbWUnKShtb21lbnQoZGF0YS50aW1lc3RhbXApLnV0YygpLmZvcm1hdCgnSEg6bW06c3MuU1NTJykpO1xuICAgIGNvbnN0IG1zZyA9IGRhdGEuZXJyb3IgPyBjb2xvcignZXJyb3InKShkYXRhLmVycm9yLnN0YWNrKSA6IGNvbG9yKCdtZXNzYWdlJykoZGF0YS5tZXNzYWdlKTtcblxuICAgIGNvbnN0IHRhZ3MgPSBfKGRhdGEudGFncylcbiAgICAuc29ydEJ5KGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgIGlmIChjb2xvcih0YWcpID09PSBfLmlkZW50aXR5KSByZXR1cm4gYDIke3RhZ31gO1xuICAgICAgaWYgKF8uaW5jbHVkZXMoc3RhdHVzZXMsIHRhZykpIHJldHVybiBgMCR7dGFnfWA7XG4gICAgICByZXR1cm4gYDEke3RhZ31gO1xuICAgIH0pXG4gICAgLnJlZHVjZShmdW5jdGlvbiAocywgdCkge1xuICAgICAgcmV0dXJuIHMgKyBgWyR7IGNvbG9yKHQpKHQpIH1dYDtcbiAgICB9LCAnJyk7XG5cbiAgICByZXR1cm4gYCR7d29ya2VyVHlwZX0ke3R5cGUoZGF0YS50eXBlKX0gWyR7dGltZX1dICR7dGFnc30gJHttc2d9YDtcbiAgfVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/logging/log_format_string.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;sBAAc,QAAQ;;;;0BACC,YAAY;;;;sBAChB,QAAQ;;;;0BAEL,cAAc;;;;AAEpC,IAAM,QAAQ,GAAG,CACf,KAAK,EACL,MAAM,EACN,OAAO,EACP,SAAS,EACT,OAAO,EACP,QAAQ,EACR,OAAO,CACR,CAAC;;AAEF,IAAM,UAAU,GAAG;AACjB,KAAG,EAAE,MAAM;AACX,KAAG,EAAE,OAAO;AACZ,KAAG,EAAE,OAAO;AACZ,KAAG,EAAE,MAAM;AACX,QAAM,EAAE,MAAM;AACd,KAAG,EAAE,KAAK;AACV,MAAI,EAAE,OAAO;AACb,OAAK,EAAE,KAAK;AACZ,SAAO,EAAE,KAAK;AACd,OAAK,EAAE,SAAS;AAChB,QAAM,EAAE,QAAQ;AAChB,OAAK,EAAE,aAAa;AACpB,QAAM,EAAE,aAAa;AACrB,QAAM,EAAE,OAAO;AACf,QAAM,EAAE,OAAO;AACf,UAAQ,EAAE,SAAS;AACnB,WAAS,EAAE,SAAS;CACrB,CAAC;;AAEF,IAAM,KAAK,GAAG,oBAAE,OAAO,CAAC,UAAU,IAAI,EAAE;AACtC,SAAO,wBAAW,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,oBAAE,QAAQ,CAAC;CACnD,CAAC,CAAC;;AAEH,IAAM,IAAI,GAAG,oBAAE,OAAO,CAAC,UAAU,CAAC,EAAE;AAClC,SAAO,KAAK,CAAC,CAAC,CAAC,CAAC,oBAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CAC1C,CAAC,CAAC;;AAEH,IAAM,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,aAAa,GAAM,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,SAAM,EAAE,CAAC;;AAE1F,MAAM,CAAC,OAAO;YAAS,mBAAmB;;WAAnB,mBAAmB;0BAAnB,mBAAmB;;+BAAnB,mBAAmB;;;eAAnB,mBAAmB;;WAClC,gBAAC,IAAI,EAAE;AACX,UAAM,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,yBAAO,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC;AAChF,UAAM,GAAG,GAAG,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;AAE3F,UAAM,IAAI,GAAG,yBAAE,IAAI,CAAC,IAAI,CAAC,CACxB,MAAM,CAAC,UAAU,GAAG,EAAE;AACrB,YAAI,KAAK,CAAC,GAAG,CAAC,KAAK,oBAAE,QAAQ,EAAE,aAAW,GAAG,CAAG;AAChD,YAAI,oBAAE,QAAQ,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,aAAW,GAAG,CAAG;AAChD,qBAAW,GAAG,CAAG;OAClB,CAAC,CACD,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;AACtB,eAAO,CAAC,UAAQ,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAI,CAAC;OACjC,EAAE,EAAE,CAAC,CAAC;;AAEP,kBAAU,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAK,IAAI,UAAK,IAAI,SAAI,GAAG,CAAG;KACnE;;;SAhBoB,mBAAmB;2BAiBzC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/logging/log_format_string.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport ansicolors from 'ansicolors';\nimport moment from 'moment';\n\nimport LogFormat from './log_format';\n\nconst statuses = [\n  'err',\n  'info',\n  'error',\n  'warning',\n  'fatal',\n  'status',\n  'debug'\n];\n\nconst typeColors = {\n  log: 'blue',\n  req: 'green',\n  res: 'green',\n  ops: 'cyan',\n  config: 'cyan',\n  err: 'red',\n  info: 'green',\n  error: 'red',\n  warning: 'red',\n  fatal: 'magenta',\n  status: 'yellow',\n  debug: 'brightBlack',\n  server: 'brightBlack',\n  optmzr: 'white',\n  managr: 'green',\n  optimize: 'magenta',\n  listening: 'magenta'\n};\n\nconst color = _.memoize(function (name) {\n  return ansicolors[typeColors[name]] || _.identity;\n});\n\nconst type = _.memoize(function (t) {\n  return color(t)(_.pad(t, 7).slice(0, 7));\n});\n\nconst workerType = process.env.kbnWorkerType ? `${type(process.env.kbnWorkerType)} ` : '';\n\nmodule.exports = class KbnLoggerJsonFormat extends LogFormat {\n  format(data) {\n    const time = color('time')(moment(data.timestamp).utc().format('HH:mm:ss.SSS'));\n    const msg = data.error ? color('error')(data.error.stack) : color('message')(data.message);\n\n    const tags = _(data.tags)\n    .sortBy(function (tag) {\n      if (color(tag) === _.identity) return `2${tag}`;\n      if (_.includes(statuses, tag)) return `0${tag}`;\n      return `1${tag}`;\n    })\n    .reduce(function (s, t) {\n      return s + `[${ color(t)(t) }]`;\n    }, '');\n\n    return `${workerType}${type(data.type)} [${time}] ${tags} ${msg}`;\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/logging/log_interceptor.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "stream",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Stream"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "get",
              "isEqual"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "isEqual",
                "local": "isEqual"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "LogInterceptor"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "LogInterceptor",
              "exported": "LogInterceptor"
            }
          ]
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _stream = require('stream');\n\nvar _stream2 = _interopRequireDefault(_stream);\n\nvar _lodash = require('lodash');\n\nfunction doTagsMatch(event, tags) {\n  return (0, _lodash.isEqual)((0, _lodash.get)(event, 'tags'), tags);\n}\n\n// converts the given event into a debug log if it's an error of the given type\nfunction downgradeIfErrorMatches(errorType, event) {\n  var isClientError = doTagsMatch(event, ['connection', 'client', 'error']);\n  var matchesErrorType = isClientError && (0, _lodash.get)(event, 'data.errno') === errorType;\n\n  if (!matchesErrorType) return null;\n\n  var errorTypeTag = errorType.toLowerCase();\n\n  return {\n    event: 'log',\n    pid: event.pid,\n    timestamp: event.timestamp,\n    tags: ['debug', 'connection', errorTypeTag],\n    data: errorType + ': Socket was closed by the client (probably the browser) before it could be read completely'\n  };\n}\n\nvar LogInterceptor = (function (_Stream$Transform) {\n  _inherits(LogInterceptor, _Stream$Transform);\n\n  function LogInterceptor() {\n    _classCallCheck(this, LogInterceptor);\n\n    _get(Object.getPrototypeOf(LogInterceptor.prototype), 'constructor', this).call(this, {\n      readableObjectMode: true,\n      writableObjectMode: true\n    });\n  }\n\n  /**\n   *  Since the upgrade to hapi 14, any socket read\n   *  error is surfaced as a generic \"client error\"\n   *  but \"ECONNRESET\" specifically is not useful for the\n   *  logs unless you are trying to debug edge-case behaviors.\n   *\n   *  For that reason, we downgrade this from error to debug level\n   *\n   *  @param {object} - log event\n   */\n\n  _createClass(LogInterceptor, [{\n    key: 'downgradeIfEconnreset',\n    value: function downgradeIfEconnreset(event) {\n      return downgradeIfErrorMatches('ECONNRESET', event);\n    }\n\n    /**\n     *  Since the upgrade to hapi 14, any socket write\n     *  error is surfaced as a generic \"client error\"\n     *  but \"EPIPE\" specifically is not useful for the\n     *  logs unless you are trying to debug edge-case behaviors.\n     *\n     *  For that reason, we downgrade this from error to debug level\n     *\n     *  @param {object} - log event\n     */\n  }, {\n    key: 'downgradeIfEpipe',\n    value: function downgradeIfEpipe(event) {\n      return downgradeIfErrorMatches('EPIPE', event);\n    }\n\n    /**\n     *  Since the upgrade to hapi 14, any socket write\n     *  error is surfaced as a generic \"client error\"\n     *  but \"ECANCELED\" specifically is not useful for the\n     *  logs unless you are trying to debug edge-case behaviors.\n     *\n     *  For that reason, we downgrade this from error to debug level\n     *\n     *  @param {object} - log event\n     */\n  }, {\n    key: 'downgradeIfEcanceled',\n    value: function downgradeIfEcanceled(event) {\n      return downgradeIfErrorMatches('ECANCELED', event);\n    }\n  }, {\n    key: '_transform',\n    value: function _transform(event, enc, next) {\n      var downgraded = this.downgradeIfEconnreset(event) || this.downgradeIfEpipe(event) || this.downgradeIfEcanceled(event);\n\n      this.push(downgraded || event);\n      next();\n    }\n  }]);\n\n  return LogInterceptor;\n})(_stream2['default'].Transform);\n\nexports.LogInterceptor = LogInterceptor;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvbG9nZ2luZy9sb2dfaW50ZXJjZXB0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztzQkFBbUIsUUFBUTs7OztzQkFDRSxRQUFROztBQUVyQyxTQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ2hDLFNBQU8scUJBQVEsaUJBQUksS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0NBQzFDOzs7QUFHRCxTQUFTLHVCQUF1QixDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUU7QUFDakQsTUFBTSxhQUFhLEdBQUcsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUM1RSxNQUFNLGdCQUFnQixHQUFHLGFBQWEsSUFBSSxpQkFBSSxLQUFLLEVBQUUsWUFBWSxDQUFDLEtBQUssU0FBUyxDQUFDOztBQUVqRixNQUFJLENBQUMsZ0JBQWdCLEVBQUUsT0FBTyxJQUFJLENBQUM7O0FBRW5DLE1BQU0sWUFBWSxHQUFHLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQzs7QUFFN0MsU0FBTztBQUNMLFNBQUssRUFBRSxLQUFLO0FBQ1osT0FBRyxFQUFFLEtBQUssQ0FBQyxHQUFHO0FBQ2QsYUFBUyxFQUFFLEtBQUssQ0FBQyxTQUFTO0FBQzFCLFFBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUUsWUFBWSxDQUFDO0FBQzNDLFFBQUksRUFBSyxTQUFTLGdHQUE2RjtHQUNoSCxDQUFDO0NBQ0g7O0lBRVksY0FBYztZQUFkLGNBQWM7O0FBQ2QsV0FEQSxjQUFjLEdBQ1g7MEJBREgsY0FBYzs7QUFFdkIsK0JBRlMsY0FBYyw2Q0FFakI7QUFDSix3QkFBa0IsRUFBRSxJQUFJO0FBQ3hCLHdCQUFrQixFQUFFLElBQUk7S0FDekIsRUFBRTtHQUNKOzs7Ozs7Ozs7Ozs7O2VBTlUsY0FBYzs7V0FrQkosK0JBQUMsS0FBSyxFQUFFO0FBQzNCLGFBQU8sdUJBQXVCLENBQUMsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3JEOzs7Ozs7Ozs7Ozs7OztXQVllLDBCQUFDLEtBQUssRUFBRTtBQUN0QixhQUFPLHVCQUF1QixDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNoRDs7Ozs7Ozs7Ozs7Ozs7V0FZbUIsOEJBQUMsS0FBSyxFQUFFO0FBQzFCLGFBQU8sdUJBQXVCLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3BEOzs7V0FFUyxvQkFBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtBQUMzQixVQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsS0FBSyxDQUFDLElBQy9DLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFDNUIsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUV0QyxVQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsQ0FBQztBQUMvQixVQUFJLEVBQUUsQ0FBQztLQUNSOzs7U0F6RFUsY0FBYztHQUFTLG9CQUFPLFNBQVMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9sb2dnaW5nL2xvZ19pbnRlcmNlcHRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTdHJlYW0gZnJvbSAnc3RyZWFtJztcbmltcG9ydCB7IGdldCwgaXNFcXVhbCB9IGZyb20gJ2xvZGFzaCc7XG5cbmZ1bmN0aW9uIGRvVGFnc01hdGNoKGV2ZW50LCB0YWdzKSB7XG4gIHJldHVybiBpc0VxdWFsKGdldChldmVudCwgJ3RhZ3MnKSwgdGFncyk7XG59XG5cbi8vIGNvbnZlcnRzIHRoZSBnaXZlbiBldmVudCBpbnRvIGEgZGVidWcgbG9nIGlmIGl0J3MgYW4gZXJyb3Igb2YgdGhlIGdpdmVuIHR5cGVcbmZ1bmN0aW9uIGRvd25ncmFkZUlmRXJyb3JNYXRjaGVzKGVycm9yVHlwZSwgZXZlbnQpIHtcbiAgY29uc3QgaXNDbGllbnRFcnJvciA9IGRvVGFnc01hdGNoKGV2ZW50LCBbJ2Nvbm5lY3Rpb24nLCAnY2xpZW50JywgJ2Vycm9yJ10pO1xuICBjb25zdCBtYXRjaGVzRXJyb3JUeXBlID0gaXNDbGllbnRFcnJvciAmJiBnZXQoZXZlbnQsICdkYXRhLmVycm5vJykgPT09IGVycm9yVHlwZTtcblxuICBpZiAoIW1hdGNoZXNFcnJvclR5cGUpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGVycm9yVHlwZVRhZyA9IGVycm9yVHlwZS50b0xvd2VyQ2FzZSgpO1xuXG4gIHJldHVybiB7XG4gICAgZXZlbnQ6ICdsb2cnLFxuICAgIHBpZDogZXZlbnQucGlkLFxuICAgIHRpbWVzdGFtcDogZXZlbnQudGltZXN0YW1wLFxuICAgIHRhZ3M6IFsnZGVidWcnLCAnY29ubmVjdGlvbicsIGVycm9yVHlwZVRhZ10sXG4gICAgZGF0YTogYCR7ZXJyb3JUeXBlfTogU29ja2V0IHdhcyBjbG9zZWQgYnkgdGhlIGNsaWVudCAocHJvYmFibHkgdGhlIGJyb3dzZXIpIGJlZm9yZSBpdCBjb3VsZCBiZSByZWFkIGNvbXBsZXRlbHlgXG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBMb2dJbnRlcmNlcHRvciBleHRlbmRzIFN0cmVhbS5UcmFuc2Zvcm0ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICByZWFkYWJsZU9iamVjdE1vZGU6IHRydWUsXG4gICAgICB3cml0YWJsZU9iamVjdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgU2luY2UgdGhlIHVwZ3JhZGUgdG8gaGFwaSAxNCwgYW55IHNvY2tldCByZWFkXG4gICAqICBlcnJvciBpcyBzdXJmYWNlZCBhcyBhIGdlbmVyaWMgXCJjbGllbnQgZXJyb3JcIlxuICAgKiAgYnV0IFwiRUNPTk5SRVNFVFwiIHNwZWNpZmljYWxseSBpcyBub3QgdXNlZnVsIGZvciB0aGVcbiAgICogIGxvZ3MgdW5sZXNzIHlvdSBhcmUgdHJ5aW5nIHRvIGRlYnVnIGVkZ2UtY2FzZSBiZWhhdmlvcnMuXG4gICAqXG4gICAqICBGb3IgdGhhdCByZWFzb24sIHdlIGRvd25ncmFkZSB0aGlzIGZyb20gZXJyb3IgdG8gZGVidWcgbGV2ZWxcbiAgICpcbiAgICogIEBwYXJhbSB7b2JqZWN0fSAtIGxvZyBldmVudFxuICAgKi9cbiAgZG93bmdyYWRlSWZFY29ubnJlc2V0KGV2ZW50KSB7XG4gICAgcmV0dXJuIGRvd25ncmFkZUlmRXJyb3JNYXRjaGVzKCdFQ09OTlJFU0VUJywgZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqICBTaW5jZSB0aGUgdXBncmFkZSB0byBoYXBpIDE0LCBhbnkgc29ja2V0IHdyaXRlXG4gICAqICBlcnJvciBpcyBzdXJmYWNlZCBhcyBhIGdlbmVyaWMgXCJjbGllbnQgZXJyb3JcIlxuICAgKiAgYnV0IFwiRVBJUEVcIiBzcGVjaWZpY2FsbHkgaXMgbm90IHVzZWZ1bCBmb3IgdGhlXG4gICAqICBsb2dzIHVubGVzcyB5b3UgYXJlIHRyeWluZyB0byBkZWJ1ZyBlZGdlLWNhc2UgYmVoYXZpb3JzLlxuICAgKlxuICAgKiAgRm9yIHRoYXQgcmVhc29uLCB3ZSBkb3duZ3JhZGUgdGhpcyBmcm9tIGVycm9yIHRvIGRlYnVnIGxldmVsXG4gICAqXG4gICAqICBAcGFyYW0ge29iamVjdH0gLSBsb2cgZXZlbnRcbiAgICovXG4gIGRvd25ncmFkZUlmRXBpcGUoZXZlbnQpIHtcbiAgICByZXR1cm4gZG93bmdyYWRlSWZFcnJvck1hdGNoZXMoJ0VQSVBFJywgZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqICBTaW5jZSB0aGUgdXBncmFkZSB0byBoYXBpIDE0LCBhbnkgc29ja2V0IHdyaXRlXG4gICAqICBlcnJvciBpcyBzdXJmYWNlZCBhcyBhIGdlbmVyaWMgXCJjbGllbnQgZXJyb3JcIlxuICAgKiAgYnV0IFwiRUNBTkNFTEVEXCIgc3BlY2lmaWNhbGx5IGlzIG5vdCB1c2VmdWwgZm9yIHRoZVxuICAgKiAgbG9ncyB1bmxlc3MgeW91IGFyZSB0cnlpbmcgdG8gZGVidWcgZWRnZS1jYXNlIGJlaGF2aW9ycy5cbiAgICpcbiAgICogIEZvciB0aGF0IHJlYXNvbiwgd2UgZG93bmdyYWRlIHRoaXMgZnJvbSBlcnJvciB0byBkZWJ1ZyBsZXZlbFxuICAgKlxuICAgKiAgQHBhcmFtIHtvYmplY3R9IC0gbG9nIGV2ZW50XG4gICAqL1xuICBkb3duZ3JhZGVJZkVjYW5jZWxlZChldmVudCkge1xuICAgIHJldHVybiBkb3duZ3JhZGVJZkVycm9yTWF0Y2hlcygnRUNBTkNFTEVEJywgZXZlbnQpO1xuICB9XG5cbiAgX3RyYW5zZm9ybShldmVudCwgZW5jLCBuZXh0KSB7XG4gICAgY29uc3QgZG93bmdyYWRlZCA9IHRoaXMuZG93bmdyYWRlSWZFY29ubnJlc2V0KGV2ZW50KVxuICAgICAgfHwgdGhpcy5kb3duZ3JhZGVJZkVwaXBlKGV2ZW50KVxuICAgICAgfHwgdGhpcy5kb3duZ3JhZGVJZkVjYW5jZWxlZChldmVudCk7XG5cbiAgICB0aGlzLnB1c2goZG93bmdyYWRlZCB8fCBldmVudCk7XG4gICAgbmV4dCgpO1xuICB9XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/logging/log_interceptor.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;sBAAmB,QAAQ;;;;sBACE,QAAQ;;AAErC,SAAS,WAAW,CAAC,KAAK,EAAE,IAAI,EAAE;AAChC,SAAO,qBAAQ,iBAAI,KAAK,EAAE,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC;CAC1C;;;AAGD,SAAS,uBAAuB,CAAC,SAAS,EAAE,KAAK,EAAE;AACjD,MAAM,aAAa,GAAG,WAAW,CAAC,KAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC;AAC5E,MAAM,gBAAgB,GAAG,aAAa,IAAI,iBAAI,KAAK,EAAE,YAAY,CAAC,KAAK,SAAS,CAAC;;AAEjF,MAAI,CAAC,gBAAgB,EAAE,OAAO,IAAI,CAAC;;AAEnC,MAAM,YAAY,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;;AAE7C,SAAO;AACL,SAAK,EAAE,KAAK;AACZ,OAAG,EAAE,KAAK,CAAC,GAAG;AACd,aAAS,EAAE,KAAK,CAAC,SAAS;AAC1B,QAAI,EAAE,CAAC,OAAO,EAAE,YAAY,EAAE,YAAY,CAAC;AAC3C,QAAI,EAAK,SAAS,gGAA6F;GAChH,CAAC;CACH;;IAEY,cAAc;YAAd,cAAc;;AACd,WADA,cAAc,GACX;0BADH,cAAc;;AAEvB,+BAFS,cAAc,6CAEjB;AACJ,wBAAkB,EAAE,IAAI;AACxB,wBAAkB,EAAE,IAAI;KACzB,EAAE;GACJ;;;;;;;;;;;;;eANU,cAAc;;WAkBJ,+BAAC,KAAK,EAAE;AAC3B,aAAO,uBAAuB,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;KACrD;;;;;;;;;;;;;;WAYe,0BAAC,KAAK,EAAE;AACtB,aAAO,uBAAuB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;KAChD;;;;;;;;;;;;;;WAYmB,8BAAC,KAAK,EAAE;AAC1B,aAAO,uBAAuB,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;KACpD;;;WAES,oBAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE;AAC3B,UAAM,UAAU,GAAG,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,IAC/C,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAC5B,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;;AAEtC,UAAI,CAAC,IAAI,CAAC,UAAU,IAAI,KAAK,CAAC,CAAC;AAC/B,UAAI,EAAE,CAAC;KACR;;;SAzDU,cAAc;GAAS,oBAAO,SAAS",
      "file": "/Users/osagiefo/kibana-aws/src/server/logging/log_interceptor.js",
      "sourcesContent": [
        "import Stream from 'stream';\nimport { get, isEqual } from 'lodash';\n\nfunction doTagsMatch(event, tags) {\n  return isEqual(get(event, 'tags'), tags);\n}\n\n// converts the given event into a debug log if it's an error of the given type\nfunction downgradeIfErrorMatches(errorType, event) {\n  const isClientError = doTagsMatch(event, ['connection', 'client', 'error']);\n  const matchesErrorType = isClientError && get(event, 'data.errno') === errorType;\n\n  if (!matchesErrorType) return null;\n\n  const errorTypeTag = errorType.toLowerCase();\n\n  return {\n    event: 'log',\n    pid: event.pid,\n    timestamp: event.timestamp,\n    tags: ['debug', 'connection', errorTypeTag],\n    data: `${errorType}: Socket was closed by the client (probably the browser) before it could be read completely`\n  };\n}\n\nexport class LogInterceptor extends Stream.Transform {\n  constructor() {\n    super({\n      readableObjectMode: true,\n      writableObjectMode: true\n    });\n  }\n\n  /**\n   *  Since the upgrade to hapi 14, any socket read\n   *  error is surfaced as a generic \"client error\"\n   *  but \"ECONNRESET\" specifically is not useful for the\n   *  logs unless you are trying to debug edge-case behaviors.\n   *\n   *  For that reason, we downgrade this from error to debug level\n   *\n   *  @param {object} - log event\n   */\n  downgradeIfEconnreset(event) {\n    return downgradeIfErrorMatches('ECONNRESET', event);\n  }\n\n  /**\n   *  Since the upgrade to hapi 14, any socket write\n   *  error is surfaced as a generic \"client error\"\n   *  but \"EPIPE\" specifically is not useful for the\n   *  logs unless you are trying to debug edge-case behaviors.\n   *\n   *  For that reason, we downgrade this from error to debug level\n   *\n   *  @param {object} - log event\n   */\n  downgradeIfEpipe(event) {\n    return downgradeIfErrorMatches('EPIPE', event);\n  }\n\n  /**\n   *  Since the upgrade to hapi 14, any socket write\n   *  error is surfaced as a generic \"client error\"\n   *  but \"ECANCELED\" specifically is not useful for the\n   *  logs unless you are trying to debug edge-case behaviors.\n   *\n   *  For that reason, we downgrade this from error to debug level\n   *\n   *  @param {object} - log event\n   */\n  downgradeIfEcanceled(event) {\n    return downgradeIfErrorMatches('ECANCELED', event);\n  }\n\n  _transform(event, enc, next) {\n    const downgraded = this.downgradeIfEconnreset(event)\n      || this.downgradeIfEpipe(event)\n      || this.downgradeIfEcanceled(event);\n\n    this.push(downgraded || event);\n    next();\n  }\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/config/transform_deprecations.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default",
              "partial"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              },
              {
                "kind": "named",
                "imported": "partial",
                "local": "partial"
              }
            ]
          },
          {
            "source": "../../deprecation",
            "imported": [
              "createTransform",
              "Deprecations"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "createTransform",
                "local": "createTransform"
              },
              {
                "kind": "named",
                "imported": "Deprecations",
                "local": "Deprecations"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "transformDeprecations"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "transformDeprecations",
              "exported": "transformDeprecations"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _deprecation = require('../../deprecation');\n\nvar rename = _deprecation.Deprecations.rename;\nvar unused = _deprecation.Deprecations.unused;\n\nvar serverSslEnabled = function serverSslEnabled(settings, log) {\n  var has = (0, _lodash.partial)(_lodash2['default'].has, settings);\n  var set = (0, _lodash.partial)(_lodash2['default'].set, settings);\n\n  if (!has('server.ssl.enabled') && has('server.ssl.certificate') && has('server.ssl.key')) {\n    set('server.ssl.enabled', true);\n    log('Enabling ssl by only specifying server.ssl.certificate and server.ssl.key is deprecated. Please set server.ssl.enabled to true');\n  }\n};\n\nvar deprecations = [\n//server\nrename('port', 'server.port'), rename('host', 'server.host'), rename('pid_file', 'pid.file'), rename('ssl_cert_file', 'server.ssl.certificate'), rename('server.ssl.cert', 'server.ssl.certificate'), rename('ssl_key_file', 'server.ssl.key'), unused('server.xsrf.token'), serverSslEnabled,\n\n// logging\nrename('log_file', 'logging.dest'),\n\n// kibana\nrename('kibana_index', 'kibana.index'), rename('default_app_id', 'kibana.defaultAppId'),\n\n// es\nrename('ca', 'elasticsearch.ssl.ca'), rename('elasticsearch_preserve_host', 'elasticsearch.preserveHost'), rename('elasticsearch_url', 'elasticsearch.url'), rename('kibana_elasticsearch_client_crt', 'elasticsearch.ssl.cert'), rename('kibana_elasticsearch_client_key', 'elasticsearch.ssl.key'), rename('kibana_elasticsearch_password', 'elasticsearch.password'), rename('kibana_elasticsearch_username', 'elasticsearch.username'), rename('ping_timeout', 'elasticsearch.pingTimeout'), rename('request_timeout', 'elasticsearch.requestTimeout'), rename('shard_timeout', 'elasticsearch.shardTimeout'), rename('startup_timeout', 'elasticsearch.startupTimeout'), rename('verify_ssl', 'elasticsearch.ssl.verify'),\n\n// tilemap\nrename('tilemap_url', 'tilemap.url'), rename('tilemap_min_zoom', 'tilemap.options.minZoom'), rename('tilemap_max_zoom', 'tilemap.options.maxZoom'), rename('tilemap_attribution', 'tilemap.options.attribution'), rename('tilemap_subdomains', 'tilemap.options.subdomains')];\n\nvar transformDeprecations = (0, _deprecation.createTransform)(deprecations);\nexports.transformDeprecations = transformDeprecations;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL3RyYW5zZm9ybV9kZXByZWNhdGlvbnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7c0JBQTRCLFFBQVE7Ozs7MkJBQ1UsbUJBQW1COztJQUV6RCxNQUFNLDZCQUFOLE1BQU07SUFBRSxNQUFNLDZCQUFOLE1BQU07O0FBRXRCLElBQU0sZ0JBQWdCLEdBQUcsU0FBbkIsZ0JBQWdCLENBQUksUUFBUSxFQUFFLEdBQUcsRUFBSztBQUMxQyxNQUFNLEdBQUcsR0FBRyxxQkFBUSxvQkFBRSxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDckMsTUFBTSxHQUFHLEdBQUcscUJBQVEsb0JBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDOztBQUVyQyxNQUFJLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLElBQUksR0FBRyxDQUFDLHdCQUF3QixDQUFDLElBQUksR0FBRyxDQUFDLGdCQUFnQixDQUFDLEVBQUU7QUFDeEYsT0FBRyxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ2hDLE9BQUcsQ0FBQyxnSUFBZ0ksQ0FBQyxDQUFDO0dBQ3ZJO0NBQ0YsQ0FBQzs7QUFFRixJQUFNLFlBQVksR0FBRzs7QUFFbkIsTUFBTSxDQUFDLE1BQU0sRUFBRSxhQUFhLENBQUMsRUFDN0IsTUFBTSxDQUFDLE1BQU0sRUFBRSxhQUFhLENBQUMsRUFDN0IsTUFBTSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsRUFDOUIsTUFBTSxDQUFDLGVBQWUsRUFBRSx3QkFBd0IsQ0FBQyxFQUNqRCxNQUFNLENBQUMsaUJBQWlCLEVBQUUsd0JBQXdCLENBQUMsRUFDbkQsTUFBTSxDQUFDLGNBQWMsRUFBRyxnQkFBZ0IsQ0FBQyxFQUN6QyxNQUFNLENBQUMsbUJBQW1CLENBQUMsRUFDM0IsZ0JBQWdCOzs7QUFHaEIsTUFBTSxDQUFDLFVBQVUsRUFBRSxjQUFjLENBQUM7OztBQUdsQyxNQUFNLENBQUMsY0FBYyxFQUFFLGNBQWMsQ0FBQyxFQUN0QyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUscUJBQXFCLENBQUM7OztBQUcvQyxNQUFNLENBQUMsSUFBSSxFQUFFLHNCQUFzQixDQUFDLEVBQ3BDLE1BQU0sQ0FBQyw2QkFBNkIsRUFBRSw0QkFBNEIsQ0FBQyxFQUNuRSxNQUFNLENBQUMsbUJBQW1CLEVBQUUsbUJBQW1CLENBQUMsRUFDaEQsTUFBTSxDQUFDLGlDQUFpQyxFQUFFLHdCQUF3QixDQUFDLEVBQ25FLE1BQU0sQ0FBQyxpQ0FBaUMsRUFBRSx1QkFBdUIsQ0FBQyxFQUNsRSxNQUFNLENBQUMsK0JBQStCLEVBQUUsd0JBQXdCLENBQUMsRUFDakUsTUFBTSxDQUFDLCtCQUErQixFQUFFLHdCQUF3QixDQUFDLEVBQ2pFLE1BQU0sQ0FBQyxjQUFjLEVBQUUsMkJBQTJCLENBQUMsRUFDbkQsTUFBTSxDQUFDLGlCQUFpQixFQUFFLDhCQUE4QixDQUFDLEVBQ3pELE1BQU0sQ0FBQyxlQUFlLEVBQUUsNEJBQTRCLENBQUMsRUFDckQsTUFBTSxDQUFDLGlCQUFpQixFQUFFLDhCQUE4QixDQUFDLEVBQ3pELE1BQU0sQ0FBQyxZQUFZLEVBQUUsMEJBQTBCLENBQUM7OztBQUdoRCxNQUFNLENBQUMsYUFBYSxFQUFFLGFBQWEsQ0FBQyxFQUNwQyxNQUFNLENBQUMsa0JBQWtCLEVBQUUseUJBQXlCLENBQUMsRUFDckQsTUFBTSxDQUFDLGtCQUFrQixFQUFFLHlCQUF5QixDQUFDLEVBQ3JELE1BQU0sQ0FBQyxxQkFBcUIsRUFBRSw2QkFBNkIsQ0FBQyxFQUM1RCxNQUFNLENBQUMsb0JBQW9CLEVBQUUsNEJBQTRCLENBQUMsQ0FDM0QsQ0FBQzs7QUFFSyxJQUFNLHFCQUFxQixHQUFHLGtDQUFnQixZQUFZLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvc2VydmVyL2NvbmZpZy90cmFuc2Zvcm1fZGVwcmVjYXRpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gLCB7IHBhcnRpYWwgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgY3JlYXRlVHJhbnNmb3JtLCBEZXByZWNhdGlvbnMgfSBmcm9tICcuLi8uLi9kZXByZWNhdGlvbic7XG5cbmNvbnN0IHsgcmVuYW1lLCB1bnVzZWQgfSA9IERlcHJlY2F0aW9ucztcblxuY29uc3Qgc2VydmVyU3NsRW5hYmxlZCA9IChzZXR0aW5ncywgbG9nKSA9PiB7XG4gIGNvbnN0IGhhcyA9IHBhcnRpYWwoXy5oYXMsIHNldHRpbmdzKTtcbiAgY29uc3Qgc2V0ID0gcGFydGlhbChfLnNldCwgc2V0dGluZ3MpO1xuXG4gIGlmICghaGFzKCdzZXJ2ZXIuc3NsLmVuYWJsZWQnKSAmJiBoYXMoJ3NlcnZlci5zc2wuY2VydGlmaWNhdGUnKSAmJiBoYXMoJ3NlcnZlci5zc2wua2V5JykpIHtcbiAgICBzZXQoJ3NlcnZlci5zc2wuZW5hYmxlZCcsIHRydWUpO1xuICAgIGxvZygnRW5hYmxpbmcgc3NsIGJ5IG9ubHkgc3BlY2lmeWluZyBzZXJ2ZXIuc3NsLmNlcnRpZmljYXRlIGFuZCBzZXJ2ZXIuc3NsLmtleSBpcyBkZXByZWNhdGVkLiBQbGVhc2Ugc2V0IHNlcnZlci5zc2wuZW5hYmxlZCB0byB0cnVlJyk7XG4gIH1cbn07XG5cbmNvbnN0IGRlcHJlY2F0aW9ucyA9IFtcbiAgLy9zZXJ2ZXJcbiAgcmVuYW1lKCdwb3J0JyAsJ3NlcnZlci5wb3J0JyksXG4gIHJlbmFtZSgnaG9zdCcsICdzZXJ2ZXIuaG9zdCcpLFxuICByZW5hbWUoJ3BpZF9maWxlJywgJ3BpZC5maWxlJyksXG4gIHJlbmFtZSgnc3NsX2NlcnRfZmlsZScsICdzZXJ2ZXIuc3NsLmNlcnRpZmljYXRlJyksXG4gIHJlbmFtZSgnc2VydmVyLnNzbC5jZXJ0JywgJ3NlcnZlci5zc2wuY2VydGlmaWNhdGUnKSxcbiAgcmVuYW1lKCdzc2xfa2V5X2ZpbGUnLCAgJ3NlcnZlci5zc2wua2V5JyksXG4gIHVudXNlZCgnc2VydmVyLnhzcmYudG9rZW4nKSxcbiAgc2VydmVyU3NsRW5hYmxlZCxcblxuICAvLyBsb2dnaW5nXG4gIHJlbmFtZSgnbG9nX2ZpbGUnLCAnbG9nZ2luZy5kZXN0JyksXG5cbiAgLy8ga2liYW5hXG4gIHJlbmFtZSgna2liYW5hX2luZGV4JywgJ2tpYmFuYS5pbmRleCcpLFxuICByZW5hbWUoJ2RlZmF1bHRfYXBwX2lkJywgJ2tpYmFuYS5kZWZhdWx0QXBwSWQnKSxcblxuICAvLyBlc1xuICByZW5hbWUoJ2NhJywgJ2VsYXN0aWNzZWFyY2guc3NsLmNhJyksXG4gIHJlbmFtZSgnZWxhc3RpY3NlYXJjaF9wcmVzZXJ2ZV9ob3N0JywgJ2VsYXN0aWNzZWFyY2gucHJlc2VydmVIb3N0JyksXG4gIHJlbmFtZSgnZWxhc3RpY3NlYXJjaF91cmwnLCAnZWxhc3RpY3NlYXJjaC51cmwnKSxcbiAgcmVuYW1lKCdraWJhbmFfZWxhc3RpY3NlYXJjaF9jbGllbnRfY3J0JywgJ2VsYXN0aWNzZWFyY2guc3NsLmNlcnQnKSxcbiAgcmVuYW1lKCdraWJhbmFfZWxhc3RpY3NlYXJjaF9jbGllbnRfa2V5JywgJ2VsYXN0aWNzZWFyY2guc3NsLmtleScpLFxuICByZW5hbWUoJ2tpYmFuYV9lbGFzdGljc2VhcmNoX3Bhc3N3b3JkJywgJ2VsYXN0aWNzZWFyY2gucGFzc3dvcmQnKSxcbiAgcmVuYW1lKCdraWJhbmFfZWxhc3RpY3NlYXJjaF91c2VybmFtZScsICdlbGFzdGljc2VhcmNoLnVzZXJuYW1lJyksXG4gIHJlbmFtZSgncGluZ190aW1lb3V0JywgJ2VsYXN0aWNzZWFyY2gucGluZ1RpbWVvdXQnKSxcbiAgcmVuYW1lKCdyZXF1ZXN0X3RpbWVvdXQnLCAnZWxhc3RpY3NlYXJjaC5yZXF1ZXN0VGltZW91dCcpLFxuICByZW5hbWUoJ3NoYXJkX3RpbWVvdXQnLCAnZWxhc3RpY3NlYXJjaC5zaGFyZFRpbWVvdXQnKSxcbiAgcmVuYW1lKCdzdGFydHVwX3RpbWVvdXQnLCAnZWxhc3RpY3NlYXJjaC5zdGFydHVwVGltZW91dCcpLFxuICByZW5hbWUoJ3ZlcmlmeV9zc2wnLCAnZWxhc3RpY3NlYXJjaC5zc2wudmVyaWZ5JyksXG5cbiAgLy8gdGlsZW1hcFxuICByZW5hbWUoJ3RpbGVtYXBfdXJsJywgJ3RpbGVtYXAudXJsJyksXG4gIHJlbmFtZSgndGlsZW1hcF9taW5fem9vbScsICd0aWxlbWFwLm9wdGlvbnMubWluWm9vbScpLFxuICByZW5hbWUoJ3RpbGVtYXBfbWF4X3pvb20nLCAndGlsZW1hcC5vcHRpb25zLm1heFpvb20nKSxcbiAgcmVuYW1lKCd0aWxlbWFwX2F0dHJpYnV0aW9uJywgJ3RpbGVtYXAub3B0aW9ucy5hdHRyaWJ1dGlvbicpLFxuICByZW5hbWUoJ3RpbGVtYXBfc3ViZG9tYWlucycsICd0aWxlbWFwLm9wdGlvbnMuc3ViZG9tYWlucycpXG5dO1xuXG5leHBvcnQgY29uc3QgdHJhbnNmb3JtRGVwcmVjYXRpb25zID0gY3JlYXRlVHJhbnNmb3JtKGRlcHJlY2F0aW9ucyk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/config/transform_deprecations.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;sBAA4B,QAAQ;;;;2BACU,mBAAmB;;IAEzD,MAAM,6BAAN,MAAM;IAAE,MAAM,6BAAN,MAAM;;AAEtB,IAAM,gBAAgB,GAAG,SAAnB,gBAAgB,CAAI,QAAQ,EAAE,GAAG,EAAK;AAC1C,MAAM,GAAG,GAAG,qBAAQ,oBAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;AACrC,MAAM,GAAG,GAAG,qBAAQ,oBAAE,GAAG,EAAE,QAAQ,CAAC,CAAC;;AAErC,MAAI,CAAC,GAAG,CAAC,oBAAoB,CAAC,IAAI,GAAG,CAAC,wBAAwB,CAAC,IAAI,GAAG,CAAC,gBAAgB,CAAC,EAAE;AACxF,OAAG,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;AAChC,OAAG,CAAC,gIAAgI,CAAC,CAAC;GACvI;CACF,CAAC;;AAEF,IAAM,YAAY,GAAG;;AAEnB,MAAM,CAAC,MAAM,EAAE,aAAa,CAAC,EAC7B,MAAM,CAAC,MAAM,EAAE,aAAa,CAAC,EAC7B,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC,EAC9B,MAAM,CAAC,eAAe,EAAE,wBAAwB,CAAC,EACjD,MAAM,CAAC,iBAAiB,EAAE,wBAAwB,CAAC,EACnD,MAAM,CAAC,cAAc,EAAG,gBAAgB,CAAC,EACzC,MAAM,CAAC,mBAAmB,CAAC,EAC3B,gBAAgB;;;AAGhB,MAAM,CAAC,UAAU,EAAE,cAAc,CAAC;;;AAGlC,MAAM,CAAC,cAAc,EAAE,cAAc,CAAC,EACtC,MAAM,CAAC,gBAAgB,EAAE,qBAAqB,CAAC;;;AAG/C,MAAM,CAAC,IAAI,EAAE,sBAAsB,CAAC,EACpC,MAAM,CAAC,6BAA6B,EAAE,4BAA4B,CAAC,EACnE,MAAM,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,EAChD,MAAM,CAAC,iCAAiC,EAAE,wBAAwB,CAAC,EACnE,MAAM,CAAC,iCAAiC,EAAE,uBAAuB,CAAC,EAClE,MAAM,CAAC,+BAA+B,EAAE,wBAAwB,CAAC,EACjE,MAAM,CAAC,+BAA+B,EAAE,wBAAwB,CAAC,EACjE,MAAM,CAAC,cAAc,EAAE,2BAA2B,CAAC,EACnD,MAAM,CAAC,iBAAiB,EAAE,8BAA8B,CAAC,EACzD,MAAM,CAAC,eAAe,EAAE,4BAA4B,CAAC,EACrD,MAAM,CAAC,iBAAiB,EAAE,8BAA8B,CAAC,EACzD,MAAM,CAAC,YAAY,EAAE,0BAA0B,CAAC;;;AAGhD,MAAM,CAAC,aAAa,EAAE,aAAa,CAAC,EACpC,MAAM,CAAC,kBAAkB,EAAE,yBAAyB,CAAC,EACrD,MAAM,CAAC,kBAAkB,EAAE,yBAAyB,CAAC,EACrD,MAAM,CAAC,qBAAqB,EAAE,6BAA6B,CAAC,EAC5D,MAAM,CAAC,oBAAoB,EAAE,4BAA4B,CAAC,CAC3D,CAAC;;AAEK,IAAM,qBAAqB,GAAG,kCAAgB,YAAY,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/config/transform_deprecations.js",
      "sourcesContent": [
        "import _ , { partial } from 'lodash';\nimport { createTransform, Deprecations } from '../../deprecation';\n\nconst { rename, unused } = Deprecations;\n\nconst serverSslEnabled = (settings, log) => {\n  const has = partial(_.has, settings);\n  const set = partial(_.set, settings);\n\n  if (!has('server.ssl.enabled') && has('server.ssl.certificate') && has('server.ssl.key')) {\n    set('server.ssl.enabled', true);\n    log('Enabling ssl by only specifying server.ssl.certificate and server.ssl.key is deprecated. Please set server.ssl.enabled to true');\n  }\n};\n\nconst deprecations = [\n  //server\n  rename('port' ,'server.port'),\n  rename('host', 'server.host'),\n  rename('pid_file', 'pid.file'),\n  rename('ssl_cert_file', 'server.ssl.certificate'),\n  rename('server.ssl.cert', 'server.ssl.certificate'),\n  rename('ssl_key_file',  'server.ssl.key'),\n  unused('server.xsrf.token'),\n  serverSslEnabled,\n\n  // logging\n  rename('log_file', 'logging.dest'),\n\n  // kibana\n  rename('kibana_index', 'kibana.index'),\n  rename('default_app_id', 'kibana.defaultAppId'),\n\n  // es\n  rename('ca', 'elasticsearch.ssl.ca'),\n  rename('elasticsearch_preserve_host', 'elasticsearch.preserveHost'),\n  rename('elasticsearch_url', 'elasticsearch.url'),\n  rename('kibana_elasticsearch_client_crt', 'elasticsearch.ssl.cert'),\n  rename('kibana_elasticsearch_client_key', 'elasticsearch.ssl.key'),\n  rename('kibana_elasticsearch_password', 'elasticsearch.password'),\n  rename('kibana_elasticsearch_username', 'elasticsearch.username'),\n  rename('ping_timeout', 'elasticsearch.pingTimeout'),\n  rename('request_timeout', 'elasticsearch.requestTimeout'),\n  rename('shard_timeout', 'elasticsearch.shardTimeout'),\n  rename('startup_timeout', 'elasticsearch.startupTimeout'),\n  rename('verify_ssl', 'elasticsearch.ssl.verify'),\n\n  // tilemap\n  rename('tilemap_url', 'tilemap.url'),\n  rename('tilemap_min_zoom', 'tilemap.options.minZoom'),\n  rename('tilemap_max_zoom', 'tilemap.options.maxZoom'),\n  rename('tilemap_attribution', 'tilemap.options.attribution'),\n  rename('tilemap_subdomains', 'tilemap.options.subdomains')\n];\n\nexport const transformDeprecations = createTransform(deprecations);\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/deprecation/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "createTransform",
            "Deprecations"
          ],
          "specifiers": [
            {
              "kind": "external",
              "local": "createTransform",
              "exported": "createTransform",
              "source": "./create_transform"
            },
            {
              "kind": "external-namespace",
              "exported": "Deprecations",
              "source": "./deprecations"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default",
        "interop-require-wildcard"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _create_transform = require('./create_transform');\n\nvar _create_transform2 = _interopRequireDefault(_create_transform);\n\nexports.createTransform = _create_transform2['default'];\n\nvar _deprecations = require('./deprecations');\n\nvar _Deprecations = _interopRequireWildcard(_deprecations);\n\nexports.Deprecations = _Deprecations;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9kZXByZWNhdGlvbi9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O2dDQUE0QixvQkFBb0I7Ozs7UUFBekMsZUFBZTs7NEJBQ1EsZ0JBQWdCOzs7O1FBQWxDLFlBQVkiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2RlcHJlY2F0aW9uL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNyZWF0ZVRyYW5zZm9ybSBmcm9tICcuL2NyZWF0ZV90cmFuc2Zvcm0nO1xuZXhwb3J0ICogYXMgRGVwcmVjYXRpb25zIGZyb20gJy4vZGVwcmVjYXRpb25zJztcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/deprecation/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;gCAA4B,oBAAoB;;;;QAAzC,eAAe;;4BACQ,gBAAgB;;;;QAAlC,YAAY",
      "file": "/Users/osagiefo/kibana-aws/src/deprecation/index.js",
      "sourcesContent": [
        "export createTransform from './create_transform';\nexport * as Deprecations from './deprecations';\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/deprecation/create_transform.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "../utils",
            "imported": [
              "deepCloneWithBuffers"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "deepCloneWithBuffers",
                "local": "clone"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "forEach",
              "noop"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "forEach",
                "local": "forEach"
              },
              {
                "kind": "named",
                "imported": "noop",
                "local": "noop"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _utils = require('../utils');\n\nvar _lodash = require('lodash');\n\nexports['default'] = function (deprecations) {\n  return function (settings) {\n    var log = arguments.length <= 1 || arguments[1] === undefined ? _lodash.noop : arguments[1];\n\n    var result = (0, _utils.deepCloneWithBuffers)(settings);\n\n    (0, _lodash.forEach)(deprecations, function (deprecation) {\n      deprecation(result, log);\n    });\n\n    return result;\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9kZXByZWNhdGlvbi9jcmVhdGVfdHJhbnNmb3JtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztxQkFBOEMsVUFBVTs7c0JBQzFCLFFBQVE7O3FCQUV2QixVQUFVLFlBQVksRUFBRTtBQUNyQyxTQUFPLFVBQUMsUUFBUSxFQUFpQjtRQUFmLEdBQUc7O0FBQ25CLFFBQU0sTUFBTSxHQUFHLGlDQUFNLFFBQVEsQ0FBQyxDQUFDOztBQUUvQix5QkFBUSxZQUFZLEVBQUUsVUFBQyxXQUFXLEVBQUs7QUFDckMsaUJBQVcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDMUIsQ0FBQyxDQUFDOztBQUVILFdBQU8sTUFBTSxDQUFDO0dBQ2YsQ0FBQztDQUNIIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9kZXByZWNhdGlvbi9jcmVhdGVfdHJhbnNmb3JtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVlcENsb25lV2l0aEJ1ZmZlcnMgYXMgY2xvbmUgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBmb3JFYWNoLCBub29wIH0gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGRlcHJlY2F0aW9ucykge1xuICByZXR1cm4gKHNldHRpbmdzLCBsb2cgPSBub29wKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gY2xvbmUoc2V0dGluZ3MpO1xuXG4gICAgZm9yRWFjaChkZXByZWNhdGlvbnMsIChkZXByZWNhdGlvbikgPT4ge1xuICAgICAgZGVwcmVjYXRpb24ocmVzdWx0LCBsb2cpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/deprecation/create_transform.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAA8C,UAAU;;sBAC1B,QAAQ;;qBAEvB,UAAU,YAAY,EAAE;AACrC,SAAO,UAAC,QAAQ,EAAiB;QAAf,GAAG;;AACnB,QAAM,MAAM,GAAG,iCAAM,QAAQ,CAAC,CAAC;;AAE/B,yBAAQ,YAAY,EAAE,UAAC,WAAW,EAAK;AACrC,iBAAW,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;KAC1B,CAAC,CAAC;;AAEH,WAAO,MAAM,CAAC;GACf,CAAC;CACH",
      "file": "/Users/osagiefo/kibana-aws/src/deprecation/create_transform.js",
      "sourcesContent": [
        "import { deepCloneWithBuffers as clone } from '../utils';\nimport { forEach, noop } from 'lodash';\n\nexport default function (deprecations) {\n  return (settings, log = noop) => {\n    const result = clone(settings);\n\n    forEach(deprecations, (deprecation) => {\n      deprecation(result, log);\n    });\n\n    return result;\n  };\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/deprecation/deprecations/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "rename",
            "unused"
          ],
          "specifiers": [
            {
              "kind": "external",
              "local": "rename",
              "exported": "rename",
              "source": "./rename"
            },
            {
              "kind": "external",
              "local": "unused",
              "exported": "unused",
              "source": "./unused"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _rename2 = require('./rename');\n\nvar _rename3 = _interopRequireDefault(_rename2);\n\nexports.rename = _rename3['default'];\n\nvar _unused2 = require('./unused');\n\nvar _unused3 = _interopRequireDefault(_unused2);\n\nexports.unused = _unused3['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9kZXByZWNhdGlvbi9kZXByZWNhdGlvbnMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7dUJBQW1CLFVBQVU7Ozs7UUFBdEIsTUFBTTs7dUJBQ00sVUFBVTs7OztRQUF0QixNQUFNIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9kZXByZWNhdGlvbi9kZXByZWNhdGlvbnMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgcmVuYW1lIGZyb20gJy4vcmVuYW1lJztcbmV4cG9ydCB1bnVzZWQgZnJvbSAnLi91bnVzZWQnO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/deprecation/deprecations/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;uBAAmB,UAAU;;;;QAAtB,MAAM;;uBACM,UAAU;;;;QAAtB,MAAM",
      "file": "/Users/osagiefo/kibana-aws/src/deprecation/deprecations/index.js",
      "sourcesContent": [
        "export rename from './rename';\nexport unused from './unused';\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/deprecation/deprecations/rename.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "get",
              "isUndefined",
              "noop",
              "set"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "isUndefined",
                "local": "isUndefined"
              },
              {
                "kind": "named",
                "imported": "noop",
                "local": "noop"
              },
              {
                "kind": "named",
                "imported": "set",
                "local": "set"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "unset"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "unset",
                "local": "unset"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _lodash = require('lodash');\n\nvar _utils = require('../../utils');\n\nexports['default'] = function (oldKey, newKey) {\n  return function (settings) {\n    var log = arguments.length <= 1 || arguments[1] === undefined ? _lodash.noop : arguments[1];\n\n    var value = (0, _lodash.get)(settings, oldKey);\n    if ((0, _lodash.isUndefined)(value)) {\n      return;\n    }\n\n    (0, _utils.unset)(settings, oldKey);\n    (0, _lodash.set)(settings, newKey, value);\n\n    log('Config key \"' + oldKey + '\" is deprecated. It has been replaced with \"' + newKey + '\"');\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9kZXByZWNhdGlvbi9kZXByZWNhdGlvbnMvcmVuYW1lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztzQkFBNEMsUUFBUTs7cUJBQzlCLGFBQWE7O3FCQUVwQixVQUFVLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDdkMsU0FBTyxVQUFDLFFBQVEsRUFBaUI7UUFBZixHQUFHOztBQUNuQixRQUFNLEtBQUssR0FBRyxpQkFBSSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDcEMsUUFBSSx5QkFBWSxLQUFLLENBQUMsRUFBRTtBQUN0QixhQUFPO0tBQ1I7O0FBRUQsc0JBQU0sUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3hCLHFCQUFJLFFBQVEsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7O0FBRTdCLE9BQUcsa0JBQWdCLE1BQU0sb0RBQStDLE1BQU0sT0FBSSxDQUFDO0dBQ3BGLENBQUM7Q0FDSCIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvZGVwcmVjYXRpb24vZGVwcmVjYXRpb25zL3JlbmFtZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldCwgaXNVbmRlZmluZWQsIG5vb3AsIHNldCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyB1bnNldCB9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG9sZEtleSwgbmV3S2V5KSB7XG4gIHJldHVybiAoc2V0dGluZ3MsIGxvZyA9IG5vb3ApID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGdldChzZXR0aW5ncywgb2xkS2V5KTtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdW5zZXQoc2V0dGluZ3MsIG9sZEtleSk7XG4gICAgc2V0KHNldHRpbmdzLCBuZXdLZXksIHZhbHVlKTtcblxuICAgIGxvZyhgQ29uZmlnIGtleSBcIiR7b2xkS2V5fVwiIGlzIGRlcHJlY2F0ZWQuIEl0IGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXCIke25ld0tleX1cImApO1xuICB9O1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/deprecation/deprecations/rename.js"
      ],
      "names": [],
      "mappings": ";;;;;;sBAA4C,QAAQ;;qBAC9B,aAAa;;qBAEpB,UAAU,MAAM,EAAE,MAAM,EAAE;AACvC,SAAO,UAAC,QAAQ,EAAiB;QAAf,GAAG;;AACnB,QAAM,KAAK,GAAG,iBAAI,QAAQ,EAAE,MAAM,CAAC,CAAC;AACpC,QAAI,yBAAY,KAAK,CAAC,EAAE;AACtB,aAAO;KACR;;AAED,sBAAM,QAAQ,EAAE,MAAM,CAAC,CAAC;AACxB,qBAAI,QAAQ,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;;AAE7B,OAAG,kBAAgB,MAAM,oDAA+C,MAAM,OAAI,CAAC;GACpF,CAAC;CACH",
      "file": "/Users/osagiefo/kibana-aws/src/deprecation/deprecations/rename.js",
      "sourcesContent": [
        "import { get, isUndefined, noop, set } from 'lodash';\nimport { unset } from '../../utils';\n\nexport default function (oldKey, newKey) {\n  return (settings, log = noop) => {\n    const value = get(settings, oldKey);\n    if (isUndefined(value)) {\n      return;\n    }\n\n    unset(settings, oldKey);\n    set(settings, newKey, value);\n\n    log(`Config key \"${oldKey}\" is deprecated. It has been replaced with \"${newKey}\"`);\n  };\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/deprecation/deprecations/unused.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "get",
              "isUndefined",
              "noop"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "isUndefined",
                "local": "isUndefined"
              },
              {
                "kind": "named",
                "imported": "noop",
                "local": "noop"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "unset"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "unset",
                "local": "unset"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _lodash = require('lodash');\n\nvar _utils = require('../../utils');\n\nexports['default'] = function (oldKey) {\n  return function (settings) {\n    var log = arguments.length <= 1 || arguments[1] === undefined ? _lodash.noop : arguments[1];\n\n    var value = (0, _lodash.get)(settings, oldKey);\n    if ((0, _lodash.isUndefined)(value)) {\n      return;\n    }\n\n    (0, _utils.unset)(settings, oldKey);\n    log(oldKey + ' is deprecated and is no longer used');\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9kZXByZWNhdGlvbi9kZXByZWNhdGlvbnMvdW51c2VkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztzQkFBdUMsUUFBUTs7cUJBQ3pCLGFBQWE7O3FCQUVwQixVQUFVLE1BQU0sRUFBRTtBQUMvQixTQUFPLFVBQUMsUUFBUSxFQUFpQjtRQUFmLEdBQUc7O0FBQ25CLFFBQU0sS0FBSyxHQUFHLGlCQUFJLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNwQyxRQUFJLHlCQUFZLEtBQUssQ0FBQyxFQUFFO0FBQ3RCLGFBQU87S0FDUjs7QUFFRCxzQkFBTSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDeEIsT0FBRyxDQUFJLE1BQU0sMENBQXVDLENBQUM7R0FDdEQsQ0FBQztDQUNIIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9kZXByZWNhdGlvbi9kZXByZWNhdGlvbnMvdW51c2VkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0LCBpc1VuZGVmaW5lZCwgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyB1bnNldCB9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG9sZEtleSkge1xuICByZXR1cm4gKHNldHRpbmdzLCBsb2cgPSBub29wKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBnZXQoc2V0dGluZ3MsIG9sZEtleSk7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVuc2V0KHNldHRpbmdzLCBvbGRLZXkpO1xuICAgIGxvZyhgJHtvbGRLZXl9IGlzIGRlcHJlY2F0ZWQgYW5kIGlzIG5vIGxvbmdlciB1c2VkYCk7XG4gIH07XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/deprecation/deprecations/unused.js"
      ],
      "names": [],
      "mappings": ";;;;;;sBAAuC,QAAQ;;qBACzB,aAAa;;qBAEpB,UAAU,MAAM,EAAE;AAC/B,SAAO,UAAC,QAAQ,EAAiB;QAAf,GAAG;;AACnB,QAAM,KAAK,GAAG,iBAAI,QAAQ,EAAE,MAAM,CAAC,CAAC;AACpC,QAAI,yBAAY,KAAK,CAAC,EAAE;AACtB,aAAO;KACR;;AAED,sBAAM,QAAQ,EAAE,MAAM,CAAC,CAAC;AACxB,OAAG,CAAI,MAAM,0CAAuC,CAAC;GACtD,CAAC;CACH",
      "file": "/Users/osagiefo/kibana-aws/src/deprecation/deprecations/unused.js",
      "sourcesContent": [
        "import { get, isUndefined, noop } from 'lodash';\nimport { unset } from '../../utils';\n\nexport default function (oldKey) {\n  return (settings, log = noop) => {\n    const value = get(settings, oldKey);\n    if (isUndefined(value)) {\n      return;\n    }\n\n    unset(settings, oldKey);\n    log(`${oldKey} is deprecated and is no longer used`);\n  };\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/kbn_server.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "constant",
              "once",
              "compact",
              "flatten"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "constant",
                "local": "constant"
              },
              {
                "kind": "named",
                "imported": "once",
                "local": "once"
              },
              {
                "kind": "named",
                "imported": "compact",
                "local": "compact"
              },
              {
                "kind": "named",
                "imported": "flatten",
                "local": "flatten"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "promisify",
              "resolve",
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "promisify",
                "local": "promisify"
              },
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              },
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          },
          {
            "source": "cluster",
            "imported": [
              "isWorker"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "isWorker",
                "local": "isWorker"
              }
            ]
          },
          {
            "source": "../utils",
            "imported": [
              "fromRoot",
              "pkg"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromRoot",
                "local": "fromRoot"
              },
              {
                "kind": "named",
                "imported": "pkg",
                "local": "pkg"
              }
            ]
          },
          {
            "source": "./config/config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Config"
              }
            ]
          },
          {
            "source": "./logging/configuration",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "loggingConfiguration"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _bluebird = require('bluebird');\n\nvar _cluster = require('cluster');\n\nvar _utils = require('../utils');\n\nvar _configConfig = require('./config/config');\n\nvar _configConfig2 = _interopRequireDefault(_configConfig);\n\nvar _loggingConfiguration = require('./logging/configuration');\n\nvar _loggingConfiguration2 = _interopRequireDefault(_loggingConfiguration);\n\nvar rootDir = (0, _utils.fromRoot)('.');\n\nmodule.exports = (function () {\n  function KbnServer(settings) {\n    var _this = this;\n\n    _classCallCheck(this, KbnServer);\n\n    this.name = _utils.pkg.name;\n    this.version = _utils.pkg.version;\n    this.build = _utils.pkg.build || false;\n    this.rootDir = rootDir;\n    this.settings = settings || {};\n\n    this.ready = (0, _lodash.constant)(this.mixin(require('./config/setup'), // sets this.config, reads this.settings\n    require('./http'), // sets this.server\n    require('./logging'), require('./config/deprecation_warnings'), require('./warnings'), require('./status'),\n\n    // writes pid file\n    require('./pid'),\n\n    // find plugins and set this.plugins\n    require('./plugins/scan'),\n\n    // disable the plugins that are disabled through configuration\n    require('./plugins/check_enabled'),\n\n    // disable the plugins that are incompatible with the current version of Kibana\n    require('./plugins/check_version'),\n\n    // tell the config we are done loading plugins\n    require('./config/complete'),\n\n    // setup this.uiExports and this.bundles\n    require('../ui'),\n\n    // setup server.uiSettings\n    require('../ui/settings'),\n\n    // ensure that all bundles are built, or that the\n    // lazy bundle server is running\n    require('../optimize'),\n\n    // finally, initialize the plugins\n    require('./plugins/initialize'), function () {\n      if (_this.config.get('server.autoListen')) {\n        _this.ready = (0, _lodash.constant)((0, _bluebird.resolve)());\n        return _this.listen();\n      }\n    }));\n\n    this.listen = (0, _lodash.once)(this.listen);\n  }\n\n  /**\n   * Extend the KbnServer outside of the constraits of a plugin. This allows access\n   * to APIs that are not exposed (intentionally) to the plugins and should only\n   * be used when the code will be kept up to date with Kibana.\n   *\n   * @param {...function} - functions that should be called to mixin functionality.\n   *                         They are called with the arguments (kibana, server, config)\n   *                         and can return a promise to delay execution of the next mixin\n   * @return {Promise} - promise that is resolved when the final mixin completes.\n   */\n\n  _createClass(KbnServer, [{\n    key: 'mixin',\n    value: _asyncToGenerator(function* () {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n          fns[_key] = arguments[_key];\n        }\n\n        for (var _iterator = (0, _lodash.compact)((0, _lodash.flatten)(fns))[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var fn = _step.value;\n\n          yield fn.call(this, this, this.server, this.config);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    })\n\n    /**\n     * Tell the server to listen for incoming requests, or get\n     * a promise that will be resolved once the server is listening.\n     *\n     * @return undefined\n     */\n  }, {\n    key: 'listen',\n    value: _asyncToGenerator(function* () {\n      var server = this.server;\n      var config = this.config;\n\n      yield this.ready();\n      yield (0, _bluebird.fromNode)(function (cb) {\n        return server.start(cb);\n      });\n\n      if (_cluster.isWorker) {\n        // help parent process know when we are ready\n        process.send(['WORKER_LISTENING']);\n      }\n\n      server.log(['listening', 'info'], 'Server running at ' + server.info.uri);\n      return server;\n    })\n  }, {\n    key: 'close',\n    value: _asyncToGenerator(function* () {\n      var _this2 = this;\n\n      yield (0, _bluebird.fromNode)(function (cb) {\n        return _this2.server.stop(cb);\n      });\n    })\n  }, {\n    key: 'inject',\n    value: _asyncToGenerator(function* (opts) {\n      var _this3 = this;\n\n      if (!this.server) yield this.ready();\n\n      return yield (0, _bluebird.fromNode)(function (cb) {\n        try {\n          _this3.server.inject(opts, function (resp) {\n            cb(null, resp);\n          });\n        } catch (err) {\n          cb(err);\n        }\n      });\n    })\n  }, {\n    key: 'applyLoggingConfiguration',\n    value: function applyLoggingConfiguration(settings) {\n      var config = _configConfig2['default'].withDefaultSchema(settings);\n      var loggingOptions = (0, _loggingConfiguration2['default'])(config);\n      var subset = {\n        ops: config.get('ops'),\n        logging: config.get('logging')\n      };\n      var plain = JSON.stringify(subset, null, 2);\n      this.server.log(['info', 'config'], 'New logging configuration:\\n' + plain);\n      this.server.plugins['even-better'].monitor.reconfigure(loggingOptions);\n    }\n  }]);\n\n  return KbnServer;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIva2JuX3NlcnZlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3NCQUFpRCxRQUFROzt3QkFDWixVQUFVOzt1QkFDOUIsU0FBUzs7cUJBQ0osVUFBVTs7NEJBQ3JCLGlCQUFpQjs7OztvQ0FDSCx5QkFBeUI7Ozs7QUFFMUQsSUFBTSxPQUFPLEdBQUcscUJBQVMsR0FBRyxDQUFDLENBQUM7O0FBRTlCLE1BQU0sQ0FBQyxPQUFPO0FBQ0QsV0FEVSxTQUFTLENBQ2xCLFFBQVEsRUFBRTs7OzBCQURELFNBQVM7O0FBRTVCLFFBQUksQ0FBQyxJQUFJLEdBQUcsV0FBSSxJQUFJLENBQUM7QUFDckIsUUFBSSxDQUFDLE9BQU8sR0FBRyxXQUFJLE9BQU8sQ0FBQztBQUMzQixRQUFJLENBQUMsS0FBSyxHQUFHLFdBQUksS0FBSyxJQUFJLEtBQUssQ0FBQztBQUNoQyxRQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUN2QixRQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsSUFBSSxFQUFFLENBQUM7O0FBRS9CLFFBQUksQ0FBQyxLQUFLLEdBQUcsc0JBQVMsSUFBSSxDQUFDLEtBQUssQ0FDOUIsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBQ3pCLFdBQU8sQ0FBQyxRQUFRLENBQUM7QUFDakIsV0FBTyxDQUFDLFdBQVcsQ0FBQyxFQUNwQixPQUFPLENBQUMsK0JBQStCLENBQUMsRUFDeEMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUNyQixPQUFPLENBQUMsVUFBVSxDQUFDOzs7QUFHbkIsV0FBTyxDQUFDLE9BQU8sQ0FBQzs7O0FBR2hCLFdBQU8sQ0FBQyxnQkFBZ0IsQ0FBQzs7O0FBR3pCLFdBQU8sQ0FBQyx5QkFBeUIsQ0FBQzs7O0FBR2xDLFdBQU8sQ0FBQyx5QkFBeUIsQ0FBQzs7O0FBR2xDLFdBQU8sQ0FBQyxtQkFBbUIsQ0FBQzs7O0FBRzVCLFdBQU8sQ0FBQyxPQUFPLENB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RSxVQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0tBQ3hFOzs7U0F4SG9CLFNBQVM7SUF5SC9CLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9rYm5fc2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uc3RhbnQsIG9uY2UsIGNvbXBhY3QsIGZsYXR0ZW4gfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgcHJvbWlzaWZ5LCByZXNvbHZlLCBmcm9tTm9kZSB9IGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCB7IGlzV29ya2VyIH0gZnJvbSAnY2x1c3Rlcic7XG5pbXBvcnQgeyBmcm9tUm9vdCwgcGtnIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IENvbmZpZyBmcm9tICcuL2NvbmZpZy9jb25maWcnO1xuaW1wb3J0IGxvZ2dpbmdDb25maWd1cmF0aW9uIGZyb20gJy4vbG9nZ2luZy9jb25maWd1cmF0aW9uJztcblxuY29uc3Qgcm9vdERpciA9IGZyb21Sb290KCcuJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgS2JuU2VydmVyIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MpIHtcbiAgICB0aGlzLm5hbWUgPSBwa2cubmFtZTtcbiAgICB0aGlzLnZlcnNpb24gPSBwa2cudmVyc2lvbjtcbiAgICB0aGlzLmJ1aWxkID0gcGtnLmJ1aWxkIHx8IGZhbHNlO1xuICAgIHRoaXMucm9vdERpciA9IHJvb3REaXI7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzIHx8IHt9O1xuXG4gICAgdGhpcy5yZWFkeSA9IGNvbnN0YW50KHRoaXMubWl4aW4oXG4gICAgICByZXF1aXJlKCcuL2NvbmZpZy9zZXR1cCcpLCAvLyBzZXRzIHRoaXMuY29uZmlnLCByZWFkcyB0aGlzLnNldHRpbmdzXG4gICAgICByZXF1aXJlKCcuL2h0dHAnKSwgLy8gc2V0cyB0aGlzLnNlcnZlclxuICAgICAgcmVxdWlyZSgnLi9sb2dnaW5nJyksXG4gICAgICByZXF1aXJlKCcuL2NvbmZpZy9kZXByZWNhdGlvbl93YXJuaW5ncycpLFxuICAgICAgcmVxdWlyZSgnLi93YXJuaW5ncycpLFxuICAgICAgcmVxdWlyZSgnLi9zdGF0dXMnKSxcblxuICAgICAgLy8gd3JpdGVzIHBpZCBmaWxlXG4gICAgICByZXF1aXJlKCcuL3BpZCcpLFxuXG4gICAgICAvLyBmaW5kIHBsdWdpbnMgYW5kIHNldCB0aGlzLnBsdWdpbnNcbiAgICAgIHJlcXVpcmUoJy4vcGx1Z2lucy9zY2FuJyksXG5cbiAgICAgIC8vIGRpc2FibGUgdGhlIHBsdWdpbnMgdGhhdCBhcmUgZGlzYWJsZWQgdGhyb3VnaCBjb25maWd1cmF0aW9uXG4gICAgICByZXF1aXJlKCcuL3BsdWdpbnMvY2hlY2tfZW5hYmxlZCcpLFxuXG4gICAgICAvLyBkaXNhYmxlIHRoZSBwbHVnaW5zIHRoYXQgYXJlIGluY29tcGF0aWJsZSB3aXRoIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgS2liYW5hXG4gICAgICByZXF1aXJlKCcuL3BsdWdpbnMvY2hlY2tfdmVyc2lvbicpLFxuXG4gICAgICAvLyB0ZWxsIHRoZSBjb25maWcgd2UgYXJlIGRvbmUgbG9hZGluZyBwbHVnaW5zXG4gICAgICByZXF1aXJlKCcuL2NvbmZpZy9jb21wbGV0ZScpLFxuXG4gICAgICAvLyBzZXR1cCB0aGlzLnVpRXhwb3J0cyBhbmQgdGhpcy5idW5kbGVzXG4gICAgICByZXF1aXJlKCcuLi91aScpLFxuXG4gICAgICAvLyBzZXR1cCBzZXJ2ZXIudWlTZXR0aW5nc1xuICAgICAgcmVxdWlyZSgnLi4vdWkvc2V0dGluZ3MnKSxcblxuICAgICAgLy8gZW5zdXJlIHRoYXQgYWxsIGJ1bmRsZXMgYXJlIGJ1aWx0LCBvciB0aGF0IHRoZVxuICAgICAgLy8gbGF6eSBidW5kbGUgc2VydmVyIGlzIHJ1bm5pbmdcbiAgICAgIHJlcXVpcmUoJy4uL29wdGltaXplJyksXG5cbiAgICAgIC8vIGZpbmFsbHksIGluaXRpYWxpemUgdGhlIHBsdWdpbnNcbiAgICAgIHJlcXVpcmUoJy4vcGx1Z2lucy9pbml0aWFsaXplJyksXG5cbiAgICAgICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmdldCgnc2VydmVyLmF1dG9MaXN0ZW4nKSkge1xuICAgICAgICAgIHRoaXMucmVhZHkgPSBjb25zdGFudChyZXNvbHZlKCkpO1xuICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKSk7XG5cbiAgICB0aGlzLmxpc3RlbiA9IG9uY2UodGhpcy5saXN0ZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dGVuZCB0aGUgS2JuU2VydmVyIG91dHNpZGUgb2YgdGhlIGNvbnN0cmFpdHMgb2YgYSBwbHVnaW4uIFRoaXMgYWxsb3dzIGFjY2Vzc1xuICAgKiB0byBBUElzIHRoYXQgYXJlIG5vdCBleHBvc2VkIChpbnRlbnRpb25hbGx5KSB0byB0aGUgcGx1Z2lucyBhbmQgc2hvdWxkIG9ubHlcbiAgICogYmUgdXNlZCB3aGVuIHRoZSBjb2RlIHdpbGwgYmUga2VwdCB1cCB0byBkYXRlIHdpdGggS2liYW5hLlxuICAgKlxuICAgKiBAcGFyYW0gey4uLmZ1bmN0aW9ufSAtIGZ1bmN0aW9ucyB0aGF0IHNob3VsZCBiZSBjYWxsZWQgdG8gbWl4aW4gZnVuY3Rpb25hbGl0eS5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgVGhleSBhcmUgY2FsbGVkIHdpdGggdGhlIGFyZ3VtZW50cyAoa2liYW5hLCBzZXJ2ZXIsIGNvbmZpZylcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGNhbiByZXR1cm4gYSBwcm9taXNlIHRvIGRlbGF5IGV4ZWN1dGlvbiBvZiB0aGUgbmV4dCBtaXhpblxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSAtIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBmaW5hbCBtaXhpbiBjb21wbGV0ZXMuXG4gICAqL1xuICBhc3luYyBtaXhpbiguLi5mbnMpIHtcbiAgICBmb3IgKGNvbnN0IGZuIG9mIGNvbXBhY3QoZmxhdHRlbihmbnMpKSkge1xuICAgICAgYXdhaXQgZm4uY2FsbCh0aGlzLCB0aGlzLCB0aGlzLnNlcnZlciwgdGhpcy5jb25maWcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUZWxsIHRoZSBzZXJ2ZXIgdG8gbGlzdGVuIGZvciBpbmNvbWluZyByZXF1ZXN0cywgb3IgZ2V0XG4gICAqIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgb25jZSB0aGUgc2VydmVyIGlzIGxpc3RlbmluZy5cbiAgICpcbiAgICogQHJldHVybiB1bmRlZmluZWRcbiAgICovXG4gIGFzeW5jIGxpc3RlbigpIHtcbiAgICBjb25zdCB7IHNlcnZlciwgY29uZmlnIH0gPSB0aGlzO1xuXG4gICAgYXdhaXQgdGhpcy5yZWFkeSgpO1xuICAgIGF3YWl0IGZyb21Ob2RlKGNiID0+IHNlcnZlci5zdGFydChjYikpO1xuXG4gICAgaWYgKGlzV29ya2VyKSB7XG4gICAgICAvLyBoZWxwIHBhcmVudCBwcm9jZXNzIGtub3cgd2hlbiB3ZSBhcmUgcmVhZHlcbiAgICAgIHByb2Nlc3Muc2VuZChbJ1dPUktFUl9MSVNURU5JTkcnXSk7XG4gICAgfVxuXG4gICAgc2VydmVyLmxvZyhbJ2xpc3RlbmluZycsICdpbmZvJ10sIGBTZXJ2ZXIgcnVubmluZyBhdCAke3NlcnZlci5pbmZvLnVyaX1gKTtcbiAgICByZXR1cm4gc2VydmVyO1xuICB9XG5cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgYXdhaXQgZnJvbU5vZGUoY2IgPT4gdGhpcy5zZXJ2ZXIuc3RvcChjYikpO1xuICB9XG5cbiAgYXN5bmMgaW5qZWN0KG9wdHMpIHtcbiAgICBpZiAoIXRoaXMuc2VydmVyKSBhd2FpdCB0aGlzLnJlYWR5KCk7XG5cbiAgICByZXR1cm4gYXdhaXQgZnJvbU5vZGUoY2IgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5zZXJ2ZXIuaW5qZWN0KG9wdHMsIChyZXNwKSA9PiB7XG4gICAgICAgICAgY2IobnVsbCwgcmVzcCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNiKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhcHBseUxvZ2dpbmdDb25maWd1cmF0aW9uKHNldHRpbmdzKSB7XG4gICAgY29uc3QgY29uZmlnID0gQ29uZmlnLndpdGhEZWZhdWx0U2NoZW1hKHNldHRpbmdzKTtcbiAgICBjb25zdCBsb2dnaW5nT3B0aW9ucyA9IGxvZ2dpbmdDb25maWd1cmF0aW9uKGNvbmZpZyk7XG4gICAgY29uc3Qgc3Vic2V0ID0ge1xuICAgICAgb3BzOiBjb25maWcuZ2V0KCdvcHMnKSxcbiAgICAgIGxvZ2dpbmc6IGNvbmZpZy5nZXQoJ2xvZ2dpbmcnKVxuICAgIH07XG4gICAgY29uc3QgcGxhaW4gPSBKU09OLnN0cmluZ2lmeShzdWJzZXQsIG51bGwsIDIpO1xuICAgIHRoaXMuc2VydmVyLmxvZyhbJ2luZm8nLCAnY29uZmlnJ10sICdOZXcgbG9nZ2luZyBjb25maWd1cmF0aW9uOlxcbicgKyBwbGFpbik7XG4gICAgdGhpcy5zZXJ2ZXIucGx1Z2luc1snZXZlbi1iZXR0ZXInXS5tb25pdG9yLnJlY29uZmlndXJlKGxvZ2dpbmdPcHRpb25zKTtcbiAgfVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/kbn_server.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/server/kbn_server.js",
      "sourcesContent": [
        "import { constant, once, compact, flatten } from 'lodash';\nimport { promisify, resolve, fromNode } from 'bluebird';\nimport { isWorker } from 'cluster';\nimport { fromRoot, pkg } from '../utils';\nimport Config from './config/config';\nimport loggingConfiguration from './logging/configuration';\n\nconst rootDir = fromRoot('.');\n\nmodule.exports = class KbnServer {\n  constructor(settings) {\n    this.name = pkg.name;\n    this.version = pkg.version;\n    this.build = pkg.build || false;\n    this.rootDir = rootDir;\n    this.settings = settings || {};\n\n    this.ready = constant(this.mixin(\n      require('./config/setup'), // sets this.config, reads this.settings\n      require('./http'), // sets this.server\n      require('./logging'),\n      require('./config/deprecation_warnings'),\n      require('./warnings'),\n      require('./status'),\n\n      // writes pid file\n      require('./pid'),\n\n      // find plugins and set this.plugins\n      require('./plugins/scan'),\n\n      // disable the plugins that are disabled through configuration\n      require('./plugins/check_enabled'),\n\n      // disable the plugins that are incompatible with the current version of Kibana\n      require('./plugins/check_version'),\n\n      // tell the config we are done loading plugins\n      require('./config/complete'),\n\n      // setup this.uiExports and this.bundles\n      require('../ui'),\n\n      // setup server.uiSettings\n      require('../ui/settings'),\n\n      // ensure that all bundles are built, or that the\n      // lazy bundle server is running\n      require('../optimize'),\n\n      // finally, initialize the plugins\n      require('./plugins/initialize'),\n\n      () => {\n        if (this.config.get('server.autoListen')) {\n          this.ready = constant(resolve());\n          return this.listen();\n        }\n      }\n    ));\n\n    this.listen = once(this.listen);\n  }\n\n  /**\n   * Extend the KbnServer outside of the constraits of a plugin. This allows access\n   * to APIs that are not exposed (intentionally) to the plugins and should only\n   * be used when the code will be kept up to date with Kibana.\n   *\n   * @param {...function} - functions that should be called to mixin functionality.\n   *                         They are called with the arguments (kibana, server, config)\n   *                         and can return a promise to delay execution of the next mixin\n   * @return {Promise} - promise that is resolved when the final mixin completes.\n   */\n  async mixin(...fns) {\n    for (const fn of compact(flatten(fns))) {\n      await fn.call(this, this, this.server, this.config);\n    }\n  }\n\n  /**\n   * Tell the server to listen for incoming requests, or get\n   * a promise that will be resolved once the server is listening.\n   *\n   * @return undefined\n   */\n  async listen() {\n    const { server, config } = this;\n\n    await this.ready();\n    await fromNode(cb => server.start(cb));\n\n    if (isWorker) {\n      // help parent process know when we are ready\n      process.send(['WORKER_LISTENING']);\n    }\n\n    server.log(['listening', 'info'], `Server running at ${server.info.uri}`);\n    return server;\n  }\n\n  async close() {\n    await fromNode(cb => this.server.stop(cb));\n  }\n\n  async inject(opts) {\n    if (!this.server) await this.ready();\n\n    return await fromNode(cb => {\n      try {\n        this.server.inject(opts, (resp) => {\n          cb(null, resp);\n        });\n      } catch (err) {\n        cb(err);\n      }\n    });\n  }\n\n  applyLoggingConfiguration(settings) {\n    const config = Config.withDefaultSchema(settings);\n    const loggingOptions = loggingConfiguration(config);\n    const subset = {\n      ops: config.get('ops'),\n      logging: config.get('logging')\n    };\n    const plain = JSON.stringify(subset, null, 2);\n    this.server.log(['info', 'config'], 'New logging configuration:\\n' + plain);\n    this.server.plugins['even-better'].monitor.reconfigure(loggingOptions);\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/config/setup.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Config"
              }
            ]
          },
          {
            "source": "./transform_deprecations",
            "imported": [
              "transformDeprecations"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "transformDeprecations",
                "local": "transformDeprecations"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _transform_deprecations = require('./transform_deprecations');\n\nmodule.exports = function (kbnServer) {\n  var settings = (0, _transform_deprecations.transformDeprecations)(kbnServer.settings);\n  kbnServer.config = _config2['default'].withDefaultSchema(settings);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL3NldHVwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7c0JBQW1CLFVBQVU7Ozs7c0NBQ1MsMEJBQTBCOztBQUVoRSxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsU0FBUyxFQUFFO0FBQ3BDLE1BQU0sUUFBUSxHQUFHLG1EQUFzQixTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDM0QsV0FBUyxDQUFDLE1BQU0sR0FBRyxvQkFBTyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztDQUN2RCxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL3NldHVwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1EZXByZWNhdGlvbnMgfSBmcm9tICcuL3RyYW5zZm9ybV9kZXByZWNhdGlvbnMnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrYm5TZXJ2ZXIpIHtcbiAgY29uc3Qgc2V0dGluZ3MgPSB0cmFuc2Zvcm1EZXByZWNhdGlvbnMoa2JuU2VydmVyLnNldHRpbmdzKTtcbiAga2JuU2VydmVyLmNvbmZpZyA9IENvbmZpZy53aXRoRGVmYXVsdFNjaGVtYShzZXR0aW5ncyk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/config/setup.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAmB,UAAU;;;;sCACS,0BAA0B;;AAEhE,MAAM,CAAC,OAAO,GAAG,UAAU,SAAS,EAAE;AACpC,MAAM,QAAQ,GAAG,mDAAsB,SAAS,CAAC,QAAQ,CAAC,CAAC;AAC3D,WAAS,CAAC,MAAM,GAAG,oBAAO,iBAAiB,CAAC,QAAQ,CAAC,CAAC;CACvD,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/config/setup.js",
      "sourcesContent": [
        "import Config from './config';\nimport { transformDeprecations } from './transform_deprecations';\n\nmodule.exports = function (kbnServer) {\n  const settings = transformDeprecations(kbnServer.settings);\n  kbnServer.config = Config.withDefaultSchema(settings);\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/http/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "url",
            "imported": [
              "format"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "format",
                "local": "format"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fs"
              }
            ]
          },
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          },
          {
            "source": "hapi",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Hapi"
              }
            ]
          },
          {
            "source": "./get_default_route",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "getDefaultRoute"
              }
            ]
          },
          {
            "source": "./version_check",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "versionCheckMixin"
              }
            ]
          },
          {
            "source": "./short_url_error",
            "imported": [
              "handleShortUrlError"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "handleShortUrlError",
                "local": "handleShortUrlError"
              }
            ]
          },
          {
            "source": "./short_url_assert_valid",
            "imported": [
              "shortUrlAssertValid"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "shortUrlAssertValid",
                "local": "shortUrlAssertValid"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _url = require('url');\n\nvar _path = require('path');\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nvar _hapi = require('hapi');\n\nvar _hapi2 = _interopRequireDefault(_hapi);\n\nvar _get_default_route = require('./get_default_route');\n\nvar _get_default_route2 = _interopRequireDefault(_get_default_route);\n\nvar _version_check = require('./version_check');\n\nvar _version_check2 = _interopRequireDefault(_version_check);\n\nvar _short_url_error = require('./short_url_error');\n\nvar _short_url_assert_valid = require('./short_url_assert_valid');\n\nmodule.exports = _asyncToGenerator(function* (kbnServer, server, config) {\n\n  server = kbnServer.server = new _hapi2['default'].Server();\n\n  var shortUrlLookup = require('./short_url_lookup')(server);\n  yield kbnServer.mixin(require('./register_hapi_plugins'));\n  yield kbnServer.mixin(require('./setup_connection'));\n\n  // provide a simple way to expose static directories\n  server.decorate('server', 'exposeStaticDir', function (routePath, dirPath) {\n    this.route({\n      path: routePath,\n      method: 'GET',\n      handler: {\n        directory: {\n          path: dirPath,\n          listing: false,\n          lookupCompressed: true\n        }\n      },\n      config: { auth: false }\n    });\n  });\n\n  // provide a simple way to expose static files\n  server.decorate('server', 'exposeStaticFile', function (routePath, filePath) {\n    this.route({\n      path: routePath,\n      method: 'GET',\n      handler: {\n        file: filePath\n      },\n      config: { auth: false }\n    });\n  });\n\n  // helper for creating view managers for servers\n  server.decorate('server', 'setupViews', function (path, engines) {\n    this.views({\n      path: path,\n      isCached: config.get('optimize.viewCaching'),\n      engines: _lodash2['default'].assign({ jade: require('jade') }, engines || {})\n    });\n  });\n\n  server.decorate('server', 'redirectToSlash', function (route) {\n    this.route({\n      path: route,\n      method: 'GET',\n      handler: function handler(req, reply) {\n        return reply.redirect((0, _url.format)({\n          search: req.url.search,\n          pathname: req.url.pathname + '/'\n        }));\n      }\n    });\n  });\n\n  // attach the app name to the server, so we can be sure we are actually talking to kibana\n  server.ext('onPreResponse', function (req, reply) {\n    var response = req.response;\n\n    if (response.isBoom) {\n      response.output.headers['kbn-name'] = kbnServer.name;\n      response.output.headers['kbn-version'] = kbnServer.version;\n    } else {\n      response.header('kbn-name', kbnServer.name);\n      response.header('kbn-version', kbnServer.version);\n    }\n\n    return reply['continue']();\n  });\n\n  server.route({\n    path: '/',\n    method: 'GET',\n    handler: function handler(req, reply) {\n      return reply.view('root_redirect', {\n        hashRoute: config.get('server.basePath') + '/app/kibana',\n        defaultRoute: (0, _get_default_route2['default'])(kbnServer)\n      });\n    }\n  });\n\n  server.route({\n    method: 'GET',\n    path: '/{p*}',\n    handler: function handler(req, reply) {\n      var path = req.path;\n      if (path === '/' || path.charAt(path.length - 1) !== '/') {\n        return reply(_boom2['default'].notFound());\n      }\n      var pathPrefix = config.get('server.basePath') ? config.get('server.basePath') + '/' : '';\n      return reply.redirect((0, _url.format)({\n        search: req.url.search,\n        pathname: pathPrefix + path.slice(0, -1)\n      })).permanent(true);\n    }\n  });\n\n  server.route({\n    method: 'GET',\n    path: '/goto/{urlId}',\n    handler: _asyncToGenerator(function* (request, reply) {\n      try {\n        var url = yield shortUrlLookup.getUrl(request.params.urlId, request);\n        (0, _short_url_assert_valid.shortUrlAssertValid)(url);\n        reply().redirect(config.get('server.basePath') + url);\n      } catch (err) {\n        reply((0, _short_url_error.handleShortUrlError)(err));\n      }\n    })\n  });\n\n  server.route({\n    method: 'POST',\n    path: '/shorten',\n    handler: _asyncToGenerator(function* (request, reply) {\n      try {\n        (0, _short_url_assert_valid.shortUrlAssertValid)(request.payload.url);\n        var urlId = yield shortUrlLookup.generateUrlId(request.payload.url, request);\n        reply(urlId);\n      } catch (err) {\n        reply((0, _short_url_error.handleShortUrlError)(err));\n      }\n    })\n  });\n\n  // Expose static assets (fonts, favicons).\n  server.exposeStaticDir('/ui/fonts/{path*}', (0, _path.resolve)(__dirname, '../../ui/public/assets/fonts'));\n  server.exposeStaticDir('/ui/favicons/{path*}', (0, _path.resolve)(__dirname, '../../ui/public/assets/favicons'));\n\n  kbnServer.mixin(_version_check2['default']);\n\n  return kbnServer.mixin(require('./xsrf'));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7bUJBQXVCLEtBQUs7O29CQUNKLE1BQU07O3NCQUNoQixRQUFROzs7O2tCQUNQLElBQUk7Ozs7b0JBQ0YsTUFBTTs7OztvQkFDTixNQUFNOzs7O2lDQUNLLHFCQUFxQjs7Ozs2QkFDbkIsaUJBQWlCOzs7OytCQUNYLG1CQUFtQjs7c0NBQ25CLDBCQUEwQjs7QUFFOUQsTUFBTSxDQUFDLE9BQU8scUJBQUcsV0FBZ0IsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUU7O0FBRTFELFFBQU0sR0FBRyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksa0JBQUssTUFBTSxFQUFFLENBQUM7O0FBRTlDLE1BQU0sY0FBYyxHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzdELFFBQU0sU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FBQyxDQUFDO0FBQzFELFFBQU0sU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDOzs7QUFHckQsUUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsaUJBQWlCLEVBQUUsVUFBVSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQ3pFLFFBQUksQ0FBQyxLQUFLLENBQUM7QUFDVCxVQUFJLEVBQUUsU0FBUztBQUNmLFlBQU0sRUFBRSxLQUFLO0FBQ2IsYUFBTyxFQUFFO0FBQ1AsaUJBQVMsRUFBRTtBQUNULGNBQUksRUFBRSxPQUFPO0FBQ2IsaUJBQU8sRUFBRSxLQUFLO0FBQ2QsMEJBQWdCLEVBQUUsSUFBSTtTQUN2QjtPQUNGO0FBQ0QsWUFBTSxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRTtLQUN4QixDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7OztBQUdILFFBQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLGtCQUFrQixFQUFFLFVBQVUsU0FBUyxFQUFFLFFBQVEsRUFBRTtBQUMzRSxRQUFJLENBQUMsS0FBSyxDQUFDO0FBQ1QsVUFBSSxFQUFFLFNBQVM7QUFDZixZQUFNLEVBQUUsS0FBSztBQUNiLGFBQU8sRUFBRTtBQUNQLFlBQUksRUFBRSxRQUFRO09BQ2Y7QUFDRCxZQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFO0tBQ3hCLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQzs7O0FBR0gsUUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsWUFBWSxFQUFFLFVBQVUsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUMvRCxRQUFJLENBQUMsS0FBSyxDQUFDO0FBQ1QsVUFBSSxFQUFFLElBQUk7QUFDVixjQUFRLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQztBQUM1QyxhQUFPLEVBQUUsb0JBQUUsTUFBTSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE9BQU8sSUFBSSxFQUFFLENBQUM7S0FDNUQsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDOztBQUVILFFBQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLGlCQUFpQixFQUFFLFVBQVUsS0FBSyxFQUFFO0FBQzVELFFBQUksQ0FBQyxLQUFLLENBQUM7QUFDVCxVQUFJLEVBQUUsS0FBSztBQUNYLFlBQU0sRUFBRSxLQUFLO0FBQ2IsYUFBTyxFQUFFLGlCQUFVLEdBQUcsRUFBRSxLQUFLLEVBQUU7QUFDN0IsZUFBTyxLQUFLLENBQUMsUUFBUSxDQUFDLGlCQUFPO0FBQzNCLGdCQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNO0FBQ3RCLGtCQUFRLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsR0FBRztTQUNqQyxDQUFDLENBQUMsQ0FBQztPQUNMO0tBQ0YsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDOzs7QUFHSCxRQUFNLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxVQUFVLEdBQUcsRUFBRSxLQUFLLEVBQUU7QUFDaEQsUUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQzs7QUFFOUIsUUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO0FBQ25CLGNBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUM7QUFDckQsY0FBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQztLQUM1RCxNQUFNO0FBQ0wsY0FBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzVDLGNBQVEsQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUNuRDs7QUFFRCxXQUFPLEtBQUssWUFBUyxFQUFFLENBQUM7R0FDekIsQ0FBQyxDQUFDOztBQUVILFFBQU0sQ0FBQyxLQUFLLENBQUM7QUFDWCxRQUFJLEVBQUUsR0FBRztBQUNULFVBQU0sRUFBRSxLQUFLO0FBQ2IsV0FBTyxFQUFFLGlCQUFVLEdBQUcsRUFBRSxLQUFLLEVBQUU7QUFDN0IsYUFBTyxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRTtBQUNqQyxpQkFBUyxFQUFLLE1BQU0sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsZ0JBQWE7QUFDeEQsb0JBQVksRUFBRSxvQ0FBZ0IsU0FBUyxDQUFDO09BQ3pDLENBQUMsQ0FBQztLQUNKO0dBQ0YsQ0FBQyxDQUFDOztBQUVILFFBQU0sQ0FBQyxLQUFLLENBQUM7QUFDWCxVQUFNLEVBQUUsS0FBSztBQUNiLFFBQUksRUFBRSxPQUFPO0FBQ2IsV0FBTyxFQUFFLGlCQUFVLEdBQUcsRUFBRSxLQUFLLEVBQUU7QUFDN0IsVUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQztBQUN0QixVQUFJLElBQUksS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRTtBQUN4RCxlQUFPLEtBQUssQ0FBQyxrQkFBSyxRQUFRLEVBQUUsQ0FBQyxDQUFDO09BQy9CO0FBQ0QsVUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFNLE1BQU0sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsU0FBTSxFQUFFLENBQUM7QUFDNUYsYUFBTyxLQUFLLENBQUMsUUFBUSxDQUFDLGlCQUFPO0FBQzNCLGNBQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU07QUFDdEIsZ0JBQVEsRUFBRSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7T0FDekMsQ0FBQyxDQUFDLENBQ0YsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xCO0dBQ0YsQ0FBQyxDQUFDOztBQUVILFFBQU0sQ0FBQyxLQUFLLENBQUM7QUFDWCxVQUFNLEVBQUUsS0FBSztBQUNiLFFBQUksRUFBRSxlQUFlO0FBQ3JCLFdBQU8sb0JBQUUsV0FBZ0IsT0FBTyxFQUFFLEtBQUssRUFBRTtBQUN2QyxVQUFJO0FBQ0YsWUFBTSxHQUFHLEdBQUcsTUFBTSxjQUFjLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3ZFLHlEQUFvQixHQUFHLENBQUMsQ0FBQztBQUN6QixhQUFLLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO09BQ3ZELENBQUMsT0FBTyxHQUFHLEVBQUU7QUFDWixhQUFLLENBQUMsMENBQW9CLEdBQUcsQ0FBQyxDQUFDLENBQUM7T0FDakM7S0FDRixDQUFBO0dBQ0YsQ0FBQyxDQUFDOztBQUVILFFBQU0sQ0FBQyxLQUFLLENBQUM7QUFDWCxVQUFNLEVBQUUsTUFBTTtBQUNkLFFBQUksRUFBRSxVQUFVO0FBQ2hCLFdBQU8sb0JBQUUsV0FBZ0IsT0FBTyxFQUFFLEtBQUssRUFBRTtBQUN2QyxVQUFJO0FBQ0YseURBQW9CLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekMsWUFBTSxLQUFLLEdBQUcsTUFBTSxjQUFjLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9FLGFBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztPQUNkLENBQUMsT0FBTyxHQUFHLEVBQUU7QUFDWixhQUFLLENBQUMsMENBQW9CLEdBQUcsQ0FBQyxDQUFDLENBQUM7T0FDakM7S0FDRixDQUFBO0dBQ0YsQ0FBQyxDQUFDOzs7QUFHSCxRQUFNLENBQUMsZUFBZSxDQUFDLG1CQUFtQixFQUFFLG1CQUFRLFNBQVMsRUFBRSw4QkFBOEIsQ0FBQyxDQUFDLENBQUM7QUFDaEcsUUFBTSxDQUFDLGVBQWUsQ0FBQyxzQkFBc0IsRUFBRSxtQkFBUSxTQUFTLEVBQUUsaUNBQWlDLENBQUMsQ0FBQyxDQUFDOztBQUV0RyxXQUFTLENBQUMsS0FBSyw0QkFBbUIsQ0FBQzs7QUFFbkMsU0FBTyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0NBQzNDLENBQUEsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvc2VydmVyL2h0dHAvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXQgfSBmcm9tICd1cmwnO1xuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgQm9vbSBmcm9tICdib29tJztcbmltcG9ydCBIYXBpIGZyb20gJ2hhcGknO1xuaW1wb3J0IGdldERlZmF1bHRSb3V0ZSBmcm9tICcuL2dldF9kZWZhdWx0X3JvdXRlJztcbmltcG9ydCB2ZXJzaW9uQ2hlY2tNaXhpbiBmcm9tICcuL3ZlcnNpb25fY2hlY2snO1xuaW1wb3J0IHsgaGFuZGxlU2hvcnRVcmxFcnJvciB9IGZyb20gJy4vc2hvcnRfdXJsX2Vycm9yJztcbmltcG9ydCB7IHNob3J0VXJsQXNzZXJ0VmFsaWQgfSBmcm9tICcuL3Nob3J0X3VybF9hc3NlcnRfdmFsaWQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jIGZ1bmN0aW9uIChrYm5TZXJ2ZXIsIHNlcnZlciwgY29uZmlnKSB7XG5cbiAgc2VydmVyID0ga2JuU2VydmVyLnNlcnZlciA9IG5ldyBIYXBpLlNlcnZlcigpO1xuXG4gIGNvbnN0IHNob3J0VXJsTG9va3VwID0gcmVxdWlyZSgnLi9zaG9ydF91cmxfbG9va3VwJykoc2VydmVyKTtcbiAgYXdhaXQga2JuU2VydmVyLm1peGluKHJlcXVpcmUoJy4vcmVnaXN0ZXJfaGFwaV9wbHVnaW5zJykpO1xuICBhd2FpdCBrYm5TZXJ2ZXIubWl4aW4ocmVxdWlyZSgnLi9zZXR1cF9jb25uZWN0aW9uJykpO1xuXG4gIC8vIHByb3ZpZGUgYSBzaW1wbGUgd2F5IHRvIGV4cG9zZSBzdGF0aWMgZGlyZWN0b3JpZXNcbiAgc2VydmVyLmRlY29yYXRlKCdzZXJ2ZXInLCAnZXhwb3NlU3RhdGljRGlyJywgZnVuY3Rpb24gKHJvdXRlUGF0aCwgZGlyUGF0aCkge1xuICAgIHRoaXMucm91dGUoe1xuICAgICAgcGF0aDogcm91dGVQYXRoLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhhbmRsZXI6IHtcbiAgICAgICAgZGlyZWN0b3J5OiB7XG4gICAgICAgICAgcGF0aDogZGlyUGF0aCxcbiAgICAgICAgICBsaXN0aW5nOiBmYWxzZSxcbiAgICAgICAgICBsb29rdXBDb21wcmVzc2VkOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb25maWc6IHsgYXV0aDogZmFsc2UgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBwcm92aWRlIGEgc2ltcGxlIHdheSB0byBleHBvc2Ugc3RhdGljIGZpbGVzXG4gIHNlcnZlci5kZWNvcmF0ZSgnc2VydmVyJywgJ2V4cG9zZVN0YXRpY0ZpbGUnLCBmdW5jdGlvbiAocm91dGVQYXRoLCBmaWxlUGF0aCkge1xuICAgIHRoaXMucm91dGUoe1xuICAgICAgcGF0aDogcm91dGVQYXRoLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhhbmRsZXI6IHtcbiAgICAgICAgZmlsZTogZmlsZVBhdGhcbiAgICAgIH0sXG4gICAgICBjb25maWc6IHsgYXV0aDogZmFsc2UgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBoZWxwZXIgZm9yIGNyZWF0aW5nIHZpZXcgbWFuYWdlcnMgZm9yIHNlcnZlcnNcbiAgc2VydmVyLmRlY29yYXRlKCdzZXJ2ZXInLCAnc2V0dXBWaWV3cycsIGZ1bmN0aW9uIChwYXRoLCBlbmdpbmVzKSB7XG4gICAgdGhpcy52aWV3cyh7XG4gICAgICBwYXRoOiBwYXRoLFxuICAgICAgaXNDYWNoZWQ6IGNvbmZpZy5nZXQoJ29wdGltaXplLnZpZXdDYWNoaW5nJyksXG4gICAgICBlbmdpbmVzOiBfLmFzc2lnbih7IGphZGU6IHJlcXVpcmUoJ2phZGUnKSB9LCBlbmdpbmVzIHx8IHt9KVxuICAgIH0pO1xuICB9KTtcblxuICBzZXJ2ZXIuZGVjb3JhdGUoJ3NlcnZlcicsICdyZWRpcmVjdFRvU2xhc2gnLCBmdW5jdGlvbiAocm91dGUpIHtcbiAgICB0aGlzLnJvdXRlKHtcbiAgICAgIHBhdGg6IHJvdXRlLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChyZXEsIHJlcGx5KSB7XG4gICAgICAgIHJldHVybiByZXBseS5yZWRpcmVjdChmb3JtYXQoe1xuICAgICAgICAgIHNlYXJjaDogcmVxLnVybC5zZWFyY2gsXG4gICAgICAgICAgcGF0aG5hbWU6IHJlcS51cmwucGF0aG5hbWUgKyAnLycsXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gYXR0YWNoIHRoZSBhcHAgbmFtZSB0byB0aGUgc2VydmVyLCBzbyB3ZSBjYW4gYmUgc3VyZSB3ZSBhcmUgYWN0dWFsbHkgdGFsa2luZyB0byBraWJhbmFcbiAgc2VydmVyLmV4dCgnb25QcmVSZXNwb25zZScsIGZ1bmN0aW9uIChyZXEsIHJlcGx5KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSByZXEucmVzcG9uc2U7XG5cbiAgICBpZiAocmVzcG9uc2UuaXNCb29tKSB7XG4gICAgICByZXNwb25zZS5vdXRwdXQuaGVhZGVyc1sna2JuLW5hbWUnXSA9IGtiblNlcnZlci5uYW1lO1xuICAgICAgcmVzcG9uc2Uub3V0cHV0LmhlYWRlcnNbJ2tibi12ZXJzaW9uJ10gPSBrYm5TZXJ2ZXIudmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzcG9uc2UuaGVhZGVyKCdrYm4tbmFtZScsIGtiblNlcnZlci5uYW1lKTtcbiAgICAgIHJlc3BvbnNlLmhlYWRlcigna2JuLXZlcnNpb24nLCBrYm5TZXJ2ZXIudmVyc2lvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcGx5LmNvbnRpbnVlKCk7XG4gIH0pO1xuXG4gIHNlcnZlci5yb3V0ZSh7XG4gICAgcGF0aDogJy8nLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gKHJlcSwgcmVwbHkpIHtcbiAgICAgIHJldHVybiByZXBseS52aWV3KCdyb290X3JlZGlyZWN0Jywge1xuICAgICAgICBoYXNoUm91dGU6IGAke2NvbmZpZy5nZXQoJ3NlcnZlci5iYXNlUGF0aCcpfS9hcHAva2liYW5hYCxcbiAgICAgICAgZGVmYXVsdFJvdXRlOiBnZXREZWZhdWx0Um91dGUoa2JuU2VydmVyKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgc2VydmVyLnJvdXRlKHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHBhdGg6ICcve3AqfScsXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gKHJlcSwgcmVwbHkpIHtcbiAgICAgIGNvbnN0IHBhdGggPSByZXEucGF0aDtcbiAgICAgIGlmIChwYXRoID09PSAnLycgfHwgcGF0aC5jaGFyQXQocGF0aC5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgICAgIHJldHVybiByZXBseShCb29tLm5vdEZvdW5kKCkpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGF0aFByZWZpeCA9IGNvbmZpZy5nZXQoJ3NlcnZlci5iYXNlUGF0aCcpID8gYCR7Y29uZmlnLmdldCgnc2VydmVyLmJhc2VQYXRoJyl9L2AgOiAnJztcbiAgICAgIHJldHVybiByZXBseS5yZWRpcmVjdChmb3JtYXQoe1xuICAgICAgICBzZWFyY2g6IHJlcS51cmwuc2VhcmNoLFxuICAgICAgICBwYXRobmFtZTogcGF0aFByZWZpeCArIHBhdGguc2xpY2UoMCwgLTEpLFxuICAgICAgfSkpXG4gICAgICAucGVybWFuZW50KHRydWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgc2VydmVyLnJvdXRlKHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHBhdGg6ICcvZ290by97dXJsSWR9JyxcbiAgICBoYW5kbGVyOiBhc3luYyBmdW5jdGlvbiAocmVxdWVzdCwgcmVwbHkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGF3YWl0IHNob3J0VXJsTG9va3VwLmdldFVybChyZXF1ZXN0LnBhcmFtcy51cmxJZCwgcmVxdWVzdCk7XG4gICAgICAgIHNob3J0VXJsQXNzZXJ0VmFsaWQodXJsKTtcbiAgICAgICAgcmVwbHkoKS5yZWRpcmVjdChjb25maWcuZ2V0KCdzZXJ2ZXIuYmFzZVBhdGgnKSArIHVybCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVwbHkoaGFuZGxlU2hvcnRVcmxFcnJvcihlcnIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHNlcnZlci5yb3V0ZSh7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgcGF0aDogJy9zaG9ydGVuJyxcbiAgICBoYW5kbGVyOiBhc3luYyBmdW5jdGlvbiAocmVxdWVzdCwgcmVwbHkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNob3J0VXJsQXNzZXJ0VmFsaWQocmVxdWVzdC5wYXlsb2FkLnVybCk7XG4gICAgICAgIGNvbnN0IHVybElkID0gYXdhaXQgc2hvcnRVcmxMb29rdXAuZ2VuZXJhdGVVcmxJZChyZXF1ZXN0LnBheWxvYWQudXJsLCByZXF1ZXN0KTtcbiAgICAgICAgcmVwbHkodXJsSWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlcGx5KGhhbmRsZVNob3J0VXJsRXJyb3IoZXJyKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBFeHBvc2Ugc3RhdGljIGFzc2V0cyAoZm9udHMsIGZhdmljb25zKS5cbiAgc2VydmVyLmV4cG9zZVN0YXRpY0RpcignL3VpL2ZvbnRzL3twYXRoKn0nLCByZXNvbHZlKF9fZGlybmFtZSwgJy4uLy4uL3VpL3B1YmxpYy9hc3NldHMvZm9udHMnKSk7XG4gIHNlcnZlci5leHBvc2VTdGF0aWNEaXIoJy91aS9mYXZpY29ucy97cGF0aCp9JywgcmVzb2x2ZShfX2Rpcm5hbWUsICcuLi8uLi91aS9wdWJsaWMvYXNzZXRzL2Zhdmljb25zJykpO1xuXG4gIGtiblNlcnZlci5taXhpbih2ZXJzaW9uQ2hlY2tNaXhpbik7XG5cbiAgcmV0dXJuIGtiblNlcnZlci5taXhpbihyZXF1aXJlKCcuL3hzcmYnKSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/http/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;mBAAuB,KAAK;;oBACJ,MAAM;;sBAChB,QAAQ;;;;kBACP,IAAI;;;;oBACF,MAAM;;;;oBACN,MAAM;;;;iCACK,qBAAqB;;;;6BACnB,iBAAiB;;;;+BACX,mBAAmB;;sCACnB,0BAA0B;;AAE9D,MAAM,CAAC,OAAO,qBAAG,WAAgB,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;;AAE1D,QAAM,GAAG,SAAS,CAAC,MAAM,GAAG,IAAI,kBAAK,MAAM,EAAE,CAAC;;AAE9C,MAAM,cAAc,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,CAAC;AAC7D,QAAM,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,yBAAyB,CAAC,CAAC,CAAC;AAC1D,QAAM,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC,CAAC;;;AAGrD,QAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,iBAAiB,EAAE,UAAU,SAAS,EAAE,OAAO,EAAE;AACzE,QAAI,CAAC,KAAK,CAAC;AACT,UAAI,EAAE,SAAS;AACf,YAAM,EAAE,KAAK;AACb,aAAO,EAAE;AACP,iBAAS,EAAE;AACT,cAAI,EAAE,OAAO;AACb,iBAAO,EAAE,KAAK;AACd,0BAAgB,EAAE,IAAI;SACvB;OACF;AACD,YAAM,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;KACxB,CAAC,CAAC;GACJ,CAAC,CAAC;;;AAGH,QAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,kBAAkB,EAAE,UAAU,SAAS,EAAE,QAAQ,EAAE;AAC3E,QAAI,CAAC,KAAK,CAAC;AACT,UAAI,EAAE,SAAS;AACf,YAAM,EAAE,KAAK;AACb,aAAO,EAAE;AACP,YAAI,EAAE,QAAQ;OACf;AACD,YAAM,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;KACxB,CAAC,CAAC;GACJ,CAAC,CAAC;;;AAGH,QAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,YAAY,EAAE,UAAU,IAAI,EAAE,OAAO,EAAE;AAC/D,QAAI,CAAC,KAAK,CAAC;AACT,UAAI,EAAE,IAAI;AACV,cAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,sBAAsB,CAAC;AAC5C,aAAO,EAAE,oBAAE,MAAM,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,IAAI,EAAE,CAAC;KAC5D,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,QAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,iBAAiB,EAAE,UAAU,KAAK,EAAE;AAC5D,QAAI,CAAC,KAAK,CAAC;AACT,UAAI,EAAE,KAAK;AACX,YAAM,EAAE,KAAK;AACb,aAAO,EAAE,iBAAU,GAAG,EAAE,KAAK,EAAE;AAC7B,eAAO,KAAK,CAAC,QAAQ,CAAC,iBAAO;AAC3B,gBAAM,EAAE,GAAG,CAAC,GAAG,CAAC,MAAM;AACtB,kBAAQ,EAAE,GAAG,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG;SACjC,CAAC,CAAC,CAAC;OACL;KACF,CAAC,CAAC;GACJ,CAAC,CAAC;;;AAGH,QAAM,CAAC,GAAG,CAAC,eAAe,EAAE,UAAU,GAAG,EAAE,KAAK,EAAE;AAChD,QAAM,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;AAE9B,QAAI,QAAQ,CAAC,MAAM,EAAE;AACnB,cAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC;AACrD,cAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,SAAS,CAAC,OAAO,CAAC;KAC5D,MAAM;AACL,cAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC;AAC5C,cAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;KACnD;;AAED,WAAO,KAAK,YAAS,EAAE,CAAC;GACzB,CAAC,CAAC;;AAEH,QAAM,CAAC,KAAK,CAAC;AACX,QAAI,EAAE,GAAG;AACT,UAAM,EAAE,KAAK;AACb,WAAO,EAAE,iBAAU,GAAG,EAAE,KAAK,EAAE;AAC7B,aAAO,KAAK,CAAC,IAAI,CAAC,eAAe,EAAE;AACjC,iBAAS,EAAK,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,gBAAa;AACxD,oBAAY,EAAE,oCAAgB,SAAS,CAAC;OACzC,CAAC,CAAC;KACJ;GACF,CAAC,CAAC;;AAEH,QAAM,CAAC,KAAK,CAAC;AACX,UAAM,EAAE,KAAK;AACb,QAAI,EAAE,OAAO;AACb,WAAO,EAAE,iBAAU,GAAG,EAAE,KAAK,EAAE;AAC7B,UAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AACtB,UAAI,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;AACxD,eAAO,KAAK,CAAC,kBAAK,QAAQ,EAAE,CAAC,CAAC;OAC/B;AACD,UAAM,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,GAAM,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,SAAM,EAAE,CAAC;AAC5F,aAAO,KAAK,CAAC,QAAQ,CAAC,iBAAO;AAC3B,cAAM,EAAE,GAAG,CAAC,GAAG,CAAC,MAAM;AACtB,gBAAQ,EAAE,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;OACzC,CAAC,CAAC,CACF,SAAS,CAAC,IAAI,CAAC,CAAC;KAClB;GACF,CAAC,CAAC;;AAEH,QAAM,CAAC,KAAK,CAAC;AACX,UAAM,EAAE,KAAK;AACb,QAAI,EAAE,eAAe;AACrB,WAAO,oBAAE,WAAgB,OAAO,EAAE,KAAK,EAAE;AACvC,UAAI;AACF,YAAM,GAAG,GAAG,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AACvE,yDAAoB,GAAG,CAAC,CAAC;AACzB,aAAK,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,GAAG,GAAG,CAAC,CAAC;OACvD,CAAC,OAAO,GAAG,EAAE;AACZ,aAAK,CAAC,0CAAoB,GAAG,CAAC,CAAC,CAAC;OACjC;KACF,CAAA;GACF,CAAC,CAAC;;AAEH,QAAM,CAAC,KAAK,CAAC;AACX,UAAM,EAAE,MAAM;AACd,QAAI,EAAE,UAAU;AAChB,WAAO,oBAAE,WAAgB,OAAO,EAAE,KAAK,EAAE;AACvC,UAAI;AACF,yDAAoB,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AACzC,YAAM,KAAK,GAAG,MAAM,cAAc,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AAC/E,aAAK,CAAC,KAAK,CAAC,CAAC;OACd,CAAC,OAAO,GAAG,EAAE;AACZ,aAAK,CAAC,0CAAoB,GAAG,CAAC,CAAC,CAAC;OACjC;KACF,CAAA;GACF,CAAC,CAAC;;;AAGH,QAAM,CAAC,eAAe,CAAC,mBAAmB,EAAE,mBAAQ,SAAS,EAAE,8BAA8B,CAAC,CAAC,CAAC;AAChG,QAAM,CAAC,eAAe,CAAC,sBAAsB,EAAE,mBAAQ,SAAS,EAAE,iCAAiC,CAAC,CAAC,CAAC;;AAEtG,WAAS,CAAC,KAAK,4BAAmB,CAAC;;AAEnC,SAAO,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;CAC3C,CAAA,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/http/index.js",
      "sourcesContent": [
        "import { format } from 'url';\nimport { resolve } from 'path';\nimport _ from 'lodash';\nimport fs from 'fs';\nimport Boom from 'boom';\nimport Hapi from 'hapi';\nimport getDefaultRoute from './get_default_route';\nimport versionCheckMixin from './version_check';\nimport { handleShortUrlError } from './short_url_error';\nimport { shortUrlAssertValid } from './short_url_assert_valid';\n\nmodule.exports = async function (kbnServer, server, config) {\n\n  server = kbnServer.server = new Hapi.Server();\n\n  const shortUrlLookup = require('./short_url_lookup')(server);\n  await kbnServer.mixin(require('./register_hapi_plugins'));\n  await kbnServer.mixin(require('./setup_connection'));\n\n  // provide a simple way to expose static directories\n  server.decorate('server', 'exposeStaticDir', function (routePath, dirPath) {\n    this.route({\n      path: routePath,\n      method: 'GET',\n      handler: {\n        directory: {\n          path: dirPath,\n          listing: false,\n          lookupCompressed: true\n        }\n      },\n      config: { auth: false }\n    });\n  });\n\n  // provide a simple way to expose static files\n  server.decorate('server', 'exposeStaticFile', function (routePath, filePath) {\n    this.route({\n      path: routePath,\n      method: 'GET',\n      handler: {\n        file: filePath\n      },\n      config: { auth: false }\n    });\n  });\n\n  // helper for creating view managers for servers\n  server.decorate('server', 'setupViews', function (path, engines) {\n    this.views({\n      path: path,\n      isCached: config.get('optimize.viewCaching'),\n      engines: _.assign({ jade: require('jade') }, engines || {})\n    });\n  });\n\n  server.decorate('server', 'redirectToSlash', function (route) {\n    this.route({\n      path: route,\n      method: 'GET',\n      handler: function (req, reply) {\n        return reply.redirect(format({\n          search: req.url.search,\n          pathname: req.url.pathname + '/',\n        }));\n      }\n    });\n  });\n\n  // attach the app name to the server, so we can be sure we are actually talking to kibana\n  server.ext('onPreResponse', function (req, reply) {\n    const response = req.response;\n\n    if (response.isBoom) {\n      response.output.headers['kbn-name'] = kbnServer.name;\n      response.output.headers['kbn-version'] = kbnServer.version;\n    } else {\n      response.header('kbn-name', kbnServer.name);\n      response.header('kbn-version', kbnServer.version);\n    }\n\n    return reply.continue();\n  });\n\n  server.route({\n    path: '/',\n    method: 'GET',\n    handler: function (req, reply) {\n      return reply.view('root_redirect', {\n        hashRoute: `${config.get('server.basePath')}/app/kibana`,\n        defaultRoute: getDefaultRoute(kbnServer),\n      });\n    }\n  });\n\n  server.route({\n    method: 'GET',\n    path: '/{p*}',\n    handler: function (req, reply) {\n      const path = req.path;\n      if (path === '/' || path.charAt(path.length - 1) !== '/') {\n        return reply(Boom.notFound());\n      }\n      const pathPrefix = config.get('server.basePath') ? `${config.get('server.basePath')}/` : '';\n      return reply.redirect(format({\n        search: req.url.search,\n        pathname: pathPrefix + path.slice(0, -1),\n      }))\n      .permanent(true);\n    }\n  });\n\n  server.route({\n    method: 'GET',\n    path: '/goto/{urlId}',\n    handler: async function (request, reply) {\n      try {\n        const url = await shortUrlLookup.getUrl(request.params.urlId, request);\n        shortUrlAssertValid(url);\n        reply().redirect(config.get('server.basePath') + url);\n      } catch (err) {\n        reply(handleShortUrlError(err));\n      }\n    }\n  });\n\n  server.route({\n    method: 'POST',\n    path: '/shorten',\n    handler: async function (request, reply) {\n      try {\n        shortUrlAssertValid(request.payload.url);\n        const urlId = await shortUrlLookup.generateUrlId(request.payload.url, request);\n        reply(urlId);\n      } catch (err) {\n        reply(handleShortUrlError(err));\n      }\n    }\n  });\n\n  // Expose static assets (fonts, favicons).\n  server.exposeStaticDir('/ui/fonts/{path*}', resolve(__dirname, '../../ui/public/assets/fonts'));\n  server.exposeStaticDir('/ui/favicons/{path*}', resolve(__dirname, '../../ui/public/assets/favicons'));\n\n  kbnServer.mixin(versionCheckMixin);\n\n  return kbnServer.mixin(require('./xsrf'));\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/http/get_default_route.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nmodule.exports = _lodash2['default'].once(function (kbnServer) {\n  var uiExports = kbnServer.uiExports;\n  var config = kbnServer.config;\n\n  return '' + config.get('server.basePath') + config.get('server.defaultRoute');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC9nZXRfZGVmYXVsdF9yb3V0ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3NCQUFjLFFBQVE7Ozs7QUFFdEIsTUFBTSxDQUFDLE9BQU8sR0FBRyxvQkFBRSxJQUFJLENBQUMsVUFBVSxTQUFTLEVBQUU7TUFDbkMsU0FBUyxHQUFhLFNBQVMsQ0FBL0IsU0FBUztNQUFFLE1BQU0sR0FBSyxTQUFTLENBQXBCLE1BQU07O0FBQ3pCLGNBQVUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBRztDQUMvRSxDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9odHRwL2dldF9kZWZhdWx0X3JvdXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxubW9kdWxlLmV4cG9ydHMgPSBfLm9uY2UoZnVuY3Rpb24gKGtiblNlcnZlcikge1xuICBjb25zdCB7IHVpRXhwb3J0cywgY29uZmlnIH0gPSBrYm5TZXJ2ZXI7XG4gIHJldHVybiBgJHtjb25maWcuZ2V0KCdzZXJ2ZXIuYmFzZVBhdGgnKX0ke2NvbmZpZy5nZXQoJ3NlcnZlci5kZWZhdWx0Um91dGUnKX1gO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/http/get_default_route.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;AAEtB,MAAM,CAAC,OAAO,GAAG,oBAAE,IAAI,CAAC,UAAU,SAAS,EAAE;MACnC,SAAS,GAAa,SAAS,CAA/B,SAAS;MAAE,MAAM,GAAK,SAAS,CAApB,MAAM;;AACzB,cAAU,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAG;CAC/E,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/http/get_default_route.js",
      "sourcesContent": [
        "import _ from 'lodash';\n\nmodule.exports = _.once(function (kbnServer) {\n  const { uiExports, config } = kbnServer;\n  return `${config.get('server.basePath')}${config.get('server.defaultRoute')}`;\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/http/version_check.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "boom",
            "imported": [
              "badRequest"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "badRequest",
                "local": "badRequest"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _boom = require('boom');\n\nexports['default'] = function (kbnServer, server, config) {\n  var versionHeader = 'kbn-version';\n  var actualVersion = config.get('pkg.version');\n\n  server.ext('onPostAuth', function (req, reply) {\n    var versionRequested = req.headers[versionHeader];\n\n    if (versionRequested && versionRequested !== actualVersion) {\n      return reply((0, _boom.badRequest)('Browser client is out of date, please refresh the page', {\n        expected: actualVersion,\n        got: versionRequested\n      }));\n    }\n\n    return reply['continue']();\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC92ZXJzaW9uX2NoZWNrLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztvQkFBMkIsTUFBTTs7cUJBRWxCLFVBQVUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDbEQsTUFBTSxhQUFhLEdBQUcsYUFBYSxDQUFDO0FBQ3BDLE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7O0FBRWhELFFBQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLFVBQVUsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUM3QyxRQUFNLGdCQUFnQixHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7O0FBRXBELFFBQUksZ0JBQWdCLElBQUksZ0JBQWdCLEtBQUssYUFBYSxFQUFFO0FBQzFELGFBQU8sS0FBSyxDQUFDLHNCQUFXLHdEQUF3RCxFQUFFO0FBQ2hGLGdCQUFRLEVBQUUsYUFBYTtBQUN2QixXQUFHLEVBQUUsZ0JBQWdCO09BQ3RCLENBQUMsQ0FBQyxDQUFDO0tBQ0w7O0FBRUQsV0FBTyxLQUFLLFlBQVMsRUFBRSxDQUFDO0dBQ3pCLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC92ZXJzaW9uX2NoZWNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmFkUmVxdWVzdCB9IGZyb20gJ2Jvb20nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoa2JuU2VydmVyLCBzZXJ2ZXIsIGNvbmZpZykge1xuICBjb25zdCB2ZXJzaW9uSGVhZGVyID0gJ2tibi12ZXJzaW9uJztcbiAgY29uc3QgYWN0dWFsVmVyc2lvbiA9IGNvbmZpZy5nZXQoJ3BrZy52ZXJzaW9uJyk7XG5cbiAgc2VydmVyLmV4dCgnb25Qb3N0QXV0aCcsIGZ1bmN0aW9uIChyZXEsIHJlcGx5KSB7XG4gICAgY29uc3QgdmVyc2lvblJlcXVlc3RlZCA9IHJlcS5oZWFkZXJzW3ZlcnNpb25IZWFkZXJdO1xuXG4gICAgaWYgKHZlcnNpb25SZXF1ZXN0ZWQgJiYgdmVyc2lvblJlcXVlc3RlZCAhPT0gYWN0dWFsVmVyc2lvbikge1xuICAgICAgcmV0dXJuIHJlcGx5KGJhZFJlcXVlc3QoJ0Jyb3dzZXIgY2xpZW50IGlzIG91dCBvZiBkYXRlLCBwbGVhc2UgcmVmcmVzaCB0aGUgcGFnZScsIHtcbiAgICAgICAgZXhwZWN0ZWQ6IGFjdHVhbFZlcnNpb24sXG4gICAgICAgIGdvdDogdmVyc2lvblJlcXVlc3RlZFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXBseS5jb250aW51ZSgpO1xuICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/http/version_check.js"
      ],
      "names": [],
      "mappings": ";;;;;;oBAA2B,MAAM;;qBAElB,UAAU,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;AAClD,MAAM,aAAa,GAAG,aAAa,CAAC;AACpC,MAAM,aAAa,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;;AAEhD,QAAM,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,GAAG,EAAE,KAAK,EAAE;AAC7C,QAAM,gBAAgB,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;;AAEpD,QAAI,gBAAgB,IAAI,gBAAgB,KAAK,aAAa,EAAE;AAC1D,aAAO,KAAK,CAAC,sBAAW,wDAAwD,EAAE;AAChF,gBAAQ,EAAE,aAAa;AACvB,WAAG,EAAE,gBAAgB;OACtB,CAAC,CAAC,CAAC;KACL;;AAED,WAAO,KAAK,YAAS,EAAE,CAAC;GACzB,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/server/http/version_check.js",
      "sourcesContent": [
        "import { badRequest } from 'boom';\n\nexport default function (kbnServer, server, config) {\n  const versionHeader = 'kbn-version';\n  const actualVersion = config.get('pkg.version');\n\n  server.ext('onPostAuth', function (req, reply) {\n    const versionRequested = req.headers[versionHeader];\n\n    if (versionRequested && versionRequested !== actualVersion) {\n      return reply(badRequest('Browser client is out of date, please refresh the page', {\n        expected: actualVersion,\n        got: versionRequested\n      }));\n    }\n\n    return reply.continue();\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/http/short_url_error.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "handleShortUrlError",
            "err"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "handleShortUrlError",
              "exported": "handleShortUrlError"
            },
            {
              "kind": "local",
              "local": "err",
              "exported": "err"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.handleShortUrlError = handleShortUrlError;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nfunction handleShortUrlError(err) {\n  if (err.isBoom) return err;\n  if (err.status === 401) return _boom2['default'].unauthorized();\n  if (err.status === 403) return _boom2['default'].forbidden();\n  if (err.status === 404) return _boom2['default'].notFound();\n  return _boom2['default'].badImplementation();\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC9zaG9ydF91cmxfZXJyb3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O29CQUFpQixNQUFNOzs7O0FBRWhCLFNBQVMsbUJBQW1CLENBQUMsR0FBRyxFQUFFO0FBQ3ZDLE1BQUksR0FBRyxDQUFDLE1BQU0sRUFBRSxPQUFPLEdBQUcsQ0FBQztBQUMzQixNQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssR0FBRyxFQUFFLE9BQU8sa0JBQUssWUFBWSxFQUFFLENBQUM7QUFDbkQsTUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLEdBQUcsRUFBRSxPQUFPLGtCQUFLLFNBQVMsRUFBRSxDQUFDO0FBQ2hELE1BQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxHQUFHLEVBQUUsT0FBTyxrQkFBSyxRQUFRLEVBQUUsQ0FBQztBQUMvQyxTQUFPLGtCQUFLLGlCQUFpQixFQUFFLENBQUM7Q0FDakMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9odHRwL3Nob3J0X3VybF9lcnJvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCb29tIGZyb20gJ2Jvb20nO1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlU2hvcnRVcmxFcnJvcihlcnIpIHtcbiAgaWYgKGVyci5pc0Jvb20pIHJldHVybiBlcnI7XG4gIGlmIChlcnIuc3RhdHVzID09PSA0MDEpIHJldHVybiBCb29tLnVuYXV0aG9yaXplZCgpO1xuICBpZiAoZXJyLnN0YXR1cyA9PT0gNDAzKSByZXR1cm4gQm9vbS5mb3JiaWRkZW4oKTtcbiAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkgcmV0dXJuIEJvb20ubm90Rm91bmQoKTtcbiAgcmV0dXJuIEJvb20uYmFkSW1wbGVtZW50YXRpb24oKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/http/short_url_error.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;oBAAiB,MAAM;;;;AAEhB,SAAS,mBAAmB,CAAC,GAAG,EAAE;AACvC,MAAI,GAAG,CAAC,MAAM,EAAE,OAAO,GAAG,CAAC;AAC3B,MAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE,OAAO,kBAAK,YAAY,EAAE,CAAC;AACnD,MAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE,OAAO,kBAAK,SAAS,EAAE,CAAC;AAChD,MAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE,OAAO,kBAAK,QAAQ,EAAE,CAAC;AAC/C,SAAO,kBAAK,iBAAiB,EAAE,CAAC;CACjC",
      "file": "/Users/osagiefo/kibana-aws/src/server/http/short_url_error.js",
      "sourcesContent": [
        "import Boom from 'boom';\n\nexport function handleShortUrlError(err) {\n  if (err.isBoom) return err;\n  if (err.status === 401) return Boom.unauthorized();\n  if (err.status === 403) return Boom.forbidden();\n  if (err.status === 404) return Boom.notFound();\n  return Boom.badImplementation();\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/http/short_url_assert_valid.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "url",
            "imported": [
              "parse"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "parse",
                "local": "parse"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "trim"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "trim",
                "local": "trim"
              }
            ]
          },
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "shortUrlAssertValid",
            "url"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "shortUrlAssertValid",
              "exported": "shortUrlAssertValid"
            },
            {
              "kind": "local",
              "local": "url",
              "exported": "url"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.shortUrlAssertValid = shortUrlAssertValid;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _url = require('url');\n\nvar _lodash = require('lodash');\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nfunction shortUrlAssertValid(url) {\n  var _parse = (0, _url.parse)(url);\n\n  var protocol = _parse.protocol;\n  var hostname = _parse.hostname;\n  var pathname = _parse.pathname;\n\n  if (protocol) {\n    throw _boom2['default'].notAcceptable('Short url targets cannot have a protocol, found \"' + protocol + '\"');\n  }\n\n  if (hostname) {\n    throw _boom2['default'].notAcceptable('Short url targets cannot have a hostname, found \"' + hostname + '\"');\n  }\n\n  var pathnameParts = (0, _lodash.trim)(pathname, '/').split('/');\n  if (pathnameParts.length !== 2) {\n    throw _boom2['default'].notAcceptable('Short url target path must be in the format \"/app/{{appId}}\", found \"' + pathname + '\"');\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC9zaG9ydF91cmxfYXNzZXJ0X3ZhbGlkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OzttQkFBc0IsS0FBSzs7c0JBQ04sUUFBUTs7b0JBQ1osTUFBTTs7OztBQUVoQixTQUFTLG1CQUFtQixDQUFDLEdBQUcsRUFBRTtlQUNFLGdCQUFNLEdBQUcsQ0FBQzs7TUFBM0MsUUFBUSxVQUFSLFFBQVE7TUFBRSxRQUFRLFVBQVIsUUFBUTtNQUFFLFFBQVEsVUFBUixRQUFROztBQUVwQyxNQUFJLFFBQVEsRUFBRTtBQUNaLFVBQU0sa0JBQUssYUFBYSx1REFBcUQsUUFBUSxPQUFJLENBQUM7R0FDM0Y7O0FBRUQsTUFBSSxRQUFRLEVBQUU7QUFDWixVQUFNLGtCQUFLLGFBQWEsdURBQXFELFFBQVEsT0FBSSxDQUFDO0dBQzNGOztBQUVELE1BQU0sYUFBYSxHQUFHLGtCQUFLLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDckQsTUFBSSxhQUFhLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUM5QixVQUFNLGtCQUFLLGFBQWEsMkVBQXlFLFFBQVEsT0FBSSxDQUFDO0dBQy9HO0NBQ0YiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9odHRwL3Nob3J0X3VybF9hc3NlcnRfdmFsaWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3VybCc7XG5pbXBvcnQgeyB0cmltIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBCb29tIGZyb20gJ2Jvb20nO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvcnRVcmxBc3NlcnRWYWxpZCh1cmwpIHtcbiAgY29uc3QgeyBwcm90b2NvbCwgaG9zdG5hbWUsIHBhdGhuYW1lIH0gPSBwYXJzZSh1cmwpO1xuXG4gIGlmIChwcm90b2NvbCkge1xuICAgIHRocm93IEJvb20ubm90QWNjZXB0YWJsZShgU2hvcnQgdXJsIHRhcmdldHMgY2Fubm90IGhhdmUgYSBwcm90b2NvbCwgZm91bmQgXCIke3Byb3RvY29sfVwiYCk7XG4gIH1cblxuICBpZiAoaG9zdG5hbWUpIHtcbiAgICB0aHJvdyBCb29tLm5vdEFjY2VwdGFibGUoYFNob3J0IHVybCB0YXJnZXRzIGNhbm5vdCBoYXZlIGEgaG9zdG5hbWUsIGZvdW5kIFwiJHtob3N0bmFtZX1cImApO1xuICB9XG5cbiAgY29uc3QgcGF0aG5hbWVQYXJ0cyA9IHRyaW0ocGF0aG5hbWUsICcvJykuc3BsaXQoJy8nKTtcbiAgaWYgKHBhdGhuYW1lUGFydHMubGVuZ3RoICE9PSAyKSB7XG4gICAgdGhyb3cgQm9vbS5ub3RBY2NlcHRhYmxlKGBTaG9ydCB1cmwgdGFyZ2V0IHBhdGggbXVzdCBiZSBpbiB0aGUgZm9ybWF0IFwiL2FwcC97e2FwcElkfX1cIiwgZm91bmQgXCIke3BhdGhuYW1lfVwiYCk7XG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/http/short_url_assert_valid.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;mBAAsB,KAAK;;sBACN,QAAQ;;oBACZ,MAAM;;;;AAEhB,SAAS,mBAAmB,CAAC,GAAG,EAAE;eACE,gBAAM,GAAG,CAAC;;MAA3C,QAAQ,UAAR,QAAQ;MAAE,QAAQ,UAAR,QAAQ;MAAE,QAAQ,UAAR,QAAQ;;AAEpC,MAAI,QAAQ,EAAE;AACZ,UAAM,kBAAK,aAAa,uDAAqD,QAAQ,OAAI,CAAC;GAC3F;;AAED,MAAI,QAAQ,EAAE;AACZ,UAAM,kBAAK,aAAa,uDAAqD,QAAQ,OAAI,CAAC;GAC3F;;AAED,MAAM,aAAa,GAAG,kBAAK,QAAQ,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACrD,MAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;AAC9B,UAAM,kBAAK,aAAa,2EAAyE,QAAQ,OAAI,CAAC;GAC/G;CACF",
      "file": "/Users/osagiefo/kibana-aws/src/server/http/short_url_assert_valid.js",
      "sourcesContent": [
        "import { parse } from 'url';\nimport { trim } from 'lodash';\nimport Boom from 'boom';\n\nexport function shortUrlAssertValid(url) {\n  const { protocol, hostname, pathname } = parse(url);\n\n  if (protocol) {\n    throw Boom.notAcceptable(`Short url targets cannot have a protocol, found \"${protocol}\"`);\n  }\n\n  if (hostname) {\n    throw Boom.notAcceptable(`Short url targets cannot have a hostname, found \"${hostname}\"`);\n  }\n\n  const pathnameParts = trim(pathname, '/').split('/');\n  if (pathnameParts.length !== 2) {\n    throw Boom.notAcceptable(`Short url target path must be in the format \"/app/{{appId}}\", found \"${pathname}\"`);\n  }\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/config/deprecation_warnings.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./transform_deprecations",
            "imported": [
              "transformDeprecations"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "transformDeprecations",
                "local": "transformDeprecations"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _transform_deprecations = require('./transform_deprecations');\n\nexports['default'] = function (kbnServer, server) {\n  (0, _transform_deprecations.transformDeprecations)(kbnServer.settings, function (message) {\n    server.log(['warning', 'config', 'deprecation'], message);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL2RlcHJlY2F0aW9uX3dhcm5pbmdzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztzQ0FBc0MsMEJBQTBCOztxQkFFakQsVUFBVSxTQUFTLEVBQUUsTUFBTSxFQUFFO0FBQzFDLHFEQUFzQixTQUFTLENBQUMsUUFBUSxFQUFFLFVBQUMsT0FBTyxFQUFLO0FBQ3JELFVBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLGFBQWEsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQzNELENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL2RlcHJlY2F0aW9uX3dhcm5pbmdzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHJhbnNmb3JtRGVwcmVjYXRpb25zIH0gZnJvbSAnLi90cmFuc2Zvcm1fZGVwcmVjYXRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGtiblNlcnZlciwgc2VydmVyKSB7XG4gIHRyYW5zZm9ybURlcHJlY2F0aW9ucyhrYm5TZXJ2ZXIuc2V0dGluZ3MsIChtZXNzYWdlKSA9PiB7XG4gICAgc2VydmVyLmxvZyhbJ3dhcm5pbmcnLCAnY29uZmlnJywgJ2RlcHJlY2F0aW9uJ10sIG1lc3NhZ2UpO1xuICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/config/deprecation_warnings.js"
      ],
      "names": [],
      "mappings": ";;;;;;sCAAsC,0BAA0B;;qBAEjD,UAAU,SAAS,EAAE,MAAM,EAAE;AAC1C,qDAAsB,SAAS,CAAC,QAAQ,EAAE,UAAC,OAAO,EAAK;AACrD,UAAM,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,QAAQ,EAAE,aAAa,CAAC,EAAE,OAAO,CAAC,CAAC;GAC3D,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/server/config/deprecation_warnings.js",
      "sourcesContent": [
        "import { transformDeprecations } from './transform_deprecations';\n\nexport default function (kbnServer, server) {\n  transformDeprecations(kbnServer.settings, (message) => {\n    server.log(['warning', 'config', 'deprecation'], message);\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/warnings/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (kbnServer, server, config) {\n  process.on('warning', function (warning) {\n    server.log(['warning', 'process'], warning);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvd2FybmluZ3MvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O3FCQUFlLFVBQVUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDbEQsU0FBTyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsVUFBQyxPQUFPLEVBQUs7QUFDakMsVUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztHQUM3QyxDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvc2VydmVyL3dhcm5pbmdzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGtiblNlcnZlciwgc2VydmVyLCBjb25maWcpIHtcbiAgcHJvY2Vzcy5vbignd2FybmluZycsICh3YXJuaW5nKSA9PiB7XG4gICAgc2VydmVyLmxvZyhbJ3dhcm5pbmcnLCAncHJvY2VzcyddLCB3YXJuaW5nKTtcbiAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/warnings/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAU,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;AAClD,SAAO,CAAC,EAAE,CAAC,SAAS,EAAE,UAAC,OAAO,EAAK;AACjC,UAAM,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;GAC7C,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/server/warnings/index.js",
      "sourcesContent": [
        "export default function (kbnServer, server, config) {\n  process.on('warning', (warning) => {\n    server.log(['warning', 'process'], warning);\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/status/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./server_status",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ServerStatus"
              }
            ]
          },
          {
            "source": "./wrap_auth_config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "wrapAuthConfig"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "join"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "join",
                "local": "join"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _server_status = require('./server_status');\n\nvar _server_status2 = _interopRequireDefault(_server_status);\n\nvar _wrap_auth_config = require('./wrap_auth_config');\n\nvar _wrap_auth_config2 = _interopRequireDefault(_wrap_auth_config);\n\nvar _path = require('path');\n\nexports['default'] = function (kbnServer, server, config) {\n  kbnServer.status = new _server_status2['default'](kbnServer.server);\n\n  if (server.plugins['even-better']) {\n    kbnServer.mixin(require('./metrics'));\n  }\n\n  var wrapAuth = (0, _wrap_auth_config2['default'])(config.get('status.allowAnonymous'));\n\n  server.route(wrapAuth({\n    method: 'GET',\n    path: '/api/status',\n    handler: function handler(request, reply) {\n      return reply({\n        name: config.get('server.name'),\n        version: config.get('pkg.version'),\n        buildNum: config.get('pkg.buildNum'),\n        buildSha: config.get('pkg.buildSha'),\n        uuid: config.get('server.uuid'),\n        status: kbnServer.status.toJSON(),\n        metrics: kbnServer.metrics\n      });\n    }\n  }));\n\n  server.decorate('reply', 'renderStatusPage', _asyncToGenerator(function* () {\n    var app = kbnServer.uiExports.getHiddenApp('status_page');\n    var response = yield getResponse(this);\n    response.code(kbnServer.status.isGreen() ? 200 : 503);\n    return response;\n\n    function getResponse(ctx) {\n      if (app) {\n        return ctx.renderApp(app);\n      }\n      return ctx(kbnServer.status.toString());\n    }\n  }));\n\n  server.route(wrapAuth({\n    method: 'GET',\n    path: '/status',\n    handler: function handler(request, reply) {\n      return reply.renderStatusPage();\n    }\n  }));\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7c0JBQWMsUUFBUTs7Ozs2QkFDRyxpQkFBaUI7Ozs7Z0NBQ2Ysb0JBQW9COzs7O29CQUMxQixNQUFNOztxQkFFWixVQUFVLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFO0FBQ2xELFdBQVMsQ0FBQyxNQUFNLEdBQUcsK0JBQWlCLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFdEQsTUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFFO0FBQ2pDLGFBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7R0FDdkM7O0FBRUQsTUFBTSxRQUFRLEdBQUcsbUNBQWUsTUFBTSxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7O0FBRXJFLFFBQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDO0FBQ3BCLFVBQU0sRUFBRSxLQUFLO0FBQ2IsUUFBSSxFQUFFLGFBQWE7QUFDbkIsV0FBTyxFQUFFLGlCQUFVLE9BQU8sRUFBRSxLQUFLLEVBQUU7QUFDakMsYUFBTyxLQUFLLENBQUM7QUFDWCxZQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7QUFDL0IsZUFBTyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDO0FBQ2xDLGdCQUFRLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7QUFDcEMsZ0JBQVEsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQztBQUNwQyxZQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7QUFDL0IsY0FBTSxFQUFFLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQ2pDLGVBQU8sRUFBRSxTQUFTLENBQUMsT0FBTztPQUMzQixDQUFDLENBQUM7S0FDSjtHQUNGLENBQUMsQ0FBQyxDQUFDOztBQUVKLFFBQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLGtCQUFrQixvQkFBRSxhQUFrQjtBQUM3RCxRQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUM1RCxRQUFNLFFBQVEsR0FBRyxNQUFNLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN6QyxZQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQ3RELFdBQU8sUUFBUSxDQUFDOztBQUVoQixhQUFTLFdBQVcsQ0FBQyxHQUFHLEVBQUU7QUFDeEIsVUFBSSxHQUFHLEVBQUU7QUFDUCxlQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7T0FDM0I7QUFDRCxhQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7S0FDekM7R0FDRixFQUFDLENBQUM7O0FBRUgsUUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7QUFDcEIsVUFBTSxFQUFFLEtBQUs7QUFDYixRQUFJLEVBQUUsU0FBUztBQUNmLFdBQU8sRUFBRSxpQkFBVSxPQUFPLEVBQUUsS0FBSyxFQUFFO0FBQ2pDLGFBQU8sS0FBSyxDQUFDLGdCQUFnQixFQUFFLENBQUM7S0FDakM7R0FDRixDQUFDLENBQUMsQ0FBQztDQUNMIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBTZXJ2ZXJTdGF0dXMgZnJvbSAnLi9zZXJ2ZXJfc3RhdHVzJztcbmltcG9ydCB3cmFwQXV0aENvbmZpZyBmcm9tICcuL3dyYXBfYXV0aF9jb25maWcnO1xuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoa2JuU2VydmVyLCBzZXJ2ZXIsIGNvbmZpZykge1xuICBrYm5TZXJ2ZXIuc3RhdHVzID0gbmV3IFNlcnZlclN0YXR1cyhrYm5TZXJ2ZXIuc2VydmVyKTtcblxuICBpZiAoc2VydmVyLnBsdWdpbnNbJ2V2ZW4tYmV0dGVyJ10pIHtcbiAgICBrYm5TZXJ2ZXIubWl4aW4ocmVxdWlyZSgnLi9tZXRyaWNzJykpO1xuICB9XG5cbiAgY29uc3Qgd3JhcEF1dGggPSB3cmFwQXV0aENvbmZpZyhjb25maWcuZ2V0KCdzdGF0dXMuYWxsb3dBbm9ueW1vdXMnKSk7XG5cbiAgc2VydmVyLnJvdXRlKHdyYXBBdXRoKHtcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIHBhdGg6ICcvYXBpL3N0YXR1cycsXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gKHJlcXVlc3QsIHJlcGx5KSB7XG4gICAgICByZXR1cm4gcmVwbHkoe1xuICAgICAgICBuYW1lOiBjb25maWcuZ2V0KCdzZXJ2ZXIubmFtZScpLFxuICAgICAgICB2ZXJzaW9uOiBjb25maWcuZ2V0KCdwa2cudmVyc2lvbicpLFxuICAgICAgICBidWlsZE51bTogY29uZmlnLmdldCgncGtnLmJ1aWxkTnVtJyksXG4gICAgICAgIGJ1aWxkU2hhOiBjb25maWcuZ2V0KCdwa2cuYnVpbGRTaGEnKSxcbiAgICAgICAgdXVpZDogY29uZmlnLmdldCgnc2VydmVyLnV1aWQnKSxcbiAgICAgICAgc3RhdHVzOiBrYm5TZXJ2ZXIuc3RhdHVzLnRvSlNPTigpLFxuICAgICAgICBtZXRyaWNzOiBrYm5TZXJ2ZXIubWV0cmljc1xuICAgICAgfSk7XG4gICAgfVxuICB9KSk7XG5cbiAgc2VydmVyLmRlY29yYXRlKCdyZXBseScsICdyZW5kZXJTdGF0dXNQYWdlJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGFwcCA9IGtiblNlcnZlci51aUV4cG9ydHMuZ2V0SGlkZGVuQXBwKCdzdGF0dXNfcGFnZScpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UmVzcG9uc2UodGhpcyk7XG4gICAgcmVzcG9uc2UuY29kZShrYm5TZXJ2ZXIuc3RhdHVzLmlzR3JlZW4oKSA/IDIwMCA6IDUwMyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuXG4gICAgZnVuY3Rpb24gZ2V0UmVzcG9uc2UoY3R4KSB7XG4gICAgICBpZiAoYXBwKSB7XG4gICAgICAgIHJldHVybiBjdHgucmVuZGVyQXBwKGFwcCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3R4KGtiblNlcnZlci5zdGF0dXMudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9KTtcblxuICBzZXJ2ZXIucm91dGUod3JhcEF1dGgoe1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgcGF0aDogJy9zdGF0dXMnLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChyZXF1ZXN0LCByZXBseSkge1xuICAgICAgcmV0dXJuIHJlcGx5LnJlbmRlclN0YXR1c1BhZ2UoKTtcbiAgICB9XG4gIH0pKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/status/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;sBAAc,QAAQ;;;;6BACG,iBAAiB;;;;gCACf,oBAAoB;;;;oBAC1B,MAAM;;qBAEZ,UAAU,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;AAClD,WAAS,CAAC,MAAM,GAAG,+BAAiB,SAAS,CAAC,MAAM,CAAC,CAAC;;AAEtD,MAAI,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;AACjC,aAAS,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC;GACvC;;AAED,MAAM,QAAQ,GAAG,mCAAe,MAAM,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC,CAAC;;AAErE,QAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;AACpB,UAAM,EAAE,KAAK;AACb,QAAI,EAAE,aAAa;AACnB,WAAO,EAAE,iBAAU,OAAO,EAAE,KAAK,EAAE;AACjC,aAAO,KAAK,CAAC;AACX,YAAI,EAAE,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC;AAC/B,eAAO,EAAE,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC;AAClC,gBAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AACpC,gBAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AACpC,YAAI,EAAE,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC;AAC/B,cAAM,EAAE,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE;AACjC,eAAO,EAAE,SAAS,CAAC,OAAO;OAC3B,CAAC,CAAC;KACJ;GACF,CAAC,CAAC,CAAC;;AAEJ,QAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,kBAAkB,oBAAE,aAAkB;AAC7D,QAAM,GAAG,GAAG,SAAS,CAAC,SAAS,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;AAC5D,QAAM,QAAQ,GAAG,MAAM,WAAW,CAAC,IAAI,CAAC,CAAC;AACzC,YAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AACtD,WAAO,QAAQ,CAAC;;AAEhB,aAAS,WAAW,CAAC,GAAG,EAAE;AACxB,UAAI,GAAG,EAAE;AACP,eAAO,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;OAC3B;AACD,aAAO,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC;KACzC;GACF,EAAC,CAAC;;AAEH,QAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;AACpB,UAAM,EAAE,KAAK;AACb,QAAI,EAAE,SAAS;AACf,WAAO,EAAE,iBAAU,OAAO,EAAE,KAAK,EAAE;AACjC,aAAO,KAAK,CAAC,gBAAgB,EAAE,CAAC;KACjC;GACF,CAAC,CAAC,CAAC;CACL",
      "file": "/Users/osagiefo/kibana-aws/src/server/status/index.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport ServerStatus from './server_status';\nimport wrapAuthConfig from './wrap_auth_config';\nimport { join } from 'path';\n\nexport default function (kbnServer, server, config) {\n  kbnServer.status = new ServerStatus(kbnServer.server);\n\n  if (server.plugins['even-better']) {\n    kbnServer.mixin(require('./metrics'));\n  }\n\n  const wrapAuth = wrapAuthConfig(config.get('status.allowAnonymous'));\n\n  server.route(wrapAuth({\n    method: 'GET',\n    path: '/api/status',\n    handler: function (request, reply) {\n      return reply({\n        name: config.get('server.name'),\n        version: config.get('pkg.version'),\n        buildNum: config.get('pkg.buildNum'),\n        buildSha: config.get('pkg.buildSha'),\n        uuid: config.get('server.uuid'),\n        status: kbnServer.status.toJSON(),\n        metrics: kbnServer.metrics\n      });\n    }\n  }));\n\n  server.decorate('reply', 'renderStatusPage', async function () {\n    const app = kbnServer.uiExports.getHiddenApp('status_page');\n    const response = await getResponse(this);\n    response.code(kbnServer.status.isGreen() ? 200 : 503);\n    return response;\n\n    function getResponse(ctx) {\n      if (app) {\n        return ctx.renderApp(app);\n      }\n      return ctx(kbnServer.status.toString());\n    }\n  });\n\n  server.route(wrapAuth({\n    method: 'GET',\n    path: '/status',\n    handler: function (request, reply) {\n      return reply.renderStatusPage();\n    }\n  }));\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/status/server_status.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./states",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "states"
              }
            ]
          },
          {
            "source": "./status",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Status"
              }
            ]
          },
          {
            "source": "../../../package.json",
            "imported": [
              "version"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "version",
                "local": "version"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _states = require('./states');\n\nvar _states2 = _interopRequireDefault(_states);\n\nvar _status = require('./status');\n\nvar _status2 = _interopRequireDefault(_status);\n\nvar _packageJson = require('../../../package.json');\n\nmodule.exports = (function () {\n  function ServerStatus(server) {\n    _classCallCheck(this, ServerStatus);\n\n    this.server = server;\n    this._created = {};\n  }\n\n  _createClass(ServerStatus, [{\n    key: 'create',\n    value: function create(id) {\n      var status = new _status2['default'](id, this.server);\n      this._created[status.id] = status;\n      return status;\n    }\n  }, {\n    key: 'createForPlugin',\n    value: function createForPlugin(plugin) {\n      if (plugin.version === 'kibana') plugin.version = _packageJson.version;\n      var status = this.create('plugin:' + plugin.id + '@' + plugin.version);\n      status.plugin = plugin;\n      return status;\n    }\n  }, {\n    key: 'each',\n    value: function each(fn) {\n      var self = this;\n      _lodash2['default'].forOwn(self._created, function (status, i, list) {\n        if (status.state !== 'disabled') {\n          fn.call(self, status, i, list);\n        }\n      });\n    }\n  }, {\n    key: 'get',\n    value: function get(id) {\n      return this._created[id];\n    }\n  }, {\n    key: 'getForPluginId',\n    value: function getForPluginId(pluginId) {\n      return _lodash2['default'].find(this._created, function (s) {\n        return s.plugin && s.plugin.id === pluginId;\n      });\n    }\n  }, {\n    key: 'getState',\n    value: function getState(id) {\n      var status = this.get(id);\n      if (!status) return undefined;\n      return status.state || 'uninitialized';\n    }\n  }, {\n    key: 'getStateForPluginId',\n    value: function getStateForPluginId(pluginId) {\n      var status = this.getForPluginId(pluginId);\n      if (!status) return undefined;\n      return status.state || 'uninitialized';\n    }\n  }, {\n    key: 'overall',\n    value: function overall() {\n      var state = (0, _lodash2['default'])(this._created).map(function (status) {\n        return _states2['default'].get(status.state);\n      }).sortBy('severity').pop();\n\n      var statuses = _lodash2['default'].where(this._created, { state: state.id });\n      var since = _lodash2['default'].get(_lodash2['default'].sortBy(statuses, 'since'), [0, 'since']);\n\n      return {\n        state: state.id,\n        title: state.title,\n        nickname: _lodash2['default'].sample(state.nicknames),\n        icon: state.icon,\n        since: since\n      };\n    }\n  }, {\n    key: 'isGreen',\n    value: function isGreen() {\n      return this.overall().state === 'green';\n    }\n  }, {\n    key: 'notGreen',\n    value: function notGreen() {\n      return !this.isGreen();\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var overall = this.overall();\n      return overall.title + ' – ' + overall.nickname;\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return {\n        overall: this.overall(),\n        statuses: _lodash2['default'].values(this._created)\n      };\n    }\n  }]);\n\n  return ServerStatus;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL3NlcnZlcl9zdGF0dXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7c0JBQWMsUUFBUTs7OztzQkFFSCxVQUFVOzs7O3NCQUNWLFVBQVU7Ozs7MkJBQ0wsdUJBQXVCOztBQUUvQyxNQUFNLENBQUMsT0FBTztBQUNELFdBRFUsWUFBWSxDQUNyQixNQUFNLEVBQUU7MEJBREMsWUFBWTs7QUFFL0IsUUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDckIsUUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7R0FDcEI7O2VBSm9CLFlBQVk7O1dBTTNCLGdCQUFDLEVBQUUsRUFBRTtBQUNULFVBQU0sTUFBTSxHQUFHLHdCQUFXLEVBQUUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDM0MsVUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDO0FBQ2xDLGFBQU8sTUFBTSxDQUFDO0tBQ2Y7OztXQUVjLHlCQUFDLE1BQU0sRUFBRTtBQUN0QixVQUFJLE1BQU0sQ0FBQyxPQUFPLEtBQUssUUFBUSxFQUFFLE1BQU0sQ0FBQyxPQUFPLHVCQUFVLENBQUM7QUFDMUQsVUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sYUFBVyxNQUFNLENBQUMsRUFBRSxTQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUcsQ0FBQztBQUNwRSxZQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUN2QixhQUFPLE1BQU0sQ0FBQztLQUNmOzs7V0FFRyxjQUFDLEVBQUUsRUFBRTtBQUNQLFVBQU0sSUFBSSxHQUFHLElBQUksQ0FBQztBQUNsQiwwQkFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxVQUFVLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFO0FBQ2pELFlBQUksTUFBTSxDQUFDLEtBQUssS0FBSyxVQUFVLEVBQUU7QUFDL0IsWUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNoQztPQUNGLENBQUMsQ0FBQztLQUNKOzs7V0FFRSxhQUFDLEVBQUUsRUFBRTtBQUNOLGFBQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUMxQjs7O1dBRWEsd0JBQUMsUUFBUSxFQUFFO0FBQ3ZCLGFBQU8sb0JBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsVUFBQSxDQUFDO2VBQzVCLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEtBQUssUUFBUTtPQUFBLENBQ3JDLENBQUM7S0FDSDs7O1dBRU8sa0JBQUMsRUFBRSxFQUFFO0FBQ1gsVUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUM1QixVQUFJLENBQUMsTUFBTSxFQUFFLE9BQU8sU0FBUyxDQUFDO0FBQzlCLGFBQU8sTUFBTSxDQUFDLEtBQUssSUFBSSxlQUFlLENBQUM7S0FDeEM7OztXQUVrQiw2QkFBQyxRQUFRLEVBQUU7QUFDNUIsVUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM3QyxVQUFJLENBQUMsTUFBTSxFQUFFLE9BQU8sU0FBUyxDQUFDO0FBQzlCLGFBQU8sTUFBTSxDQUFDLEtBQUssSUFBSSxlQUFlLENBQUM7S0FDeEM7OztXQUVNLG1CQUFHO0FBQ1IsVUFBTSxLQUFLLEdBQUcseUJBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUM3QixHQUFHLENBQUMsVUFBVSxNQUFNLEVBQUU7QUFDckIsZUFBTyxvQkFBTyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO09BQ2pDLENBQUMsQ0FDRCxNQUFNLENBQUMsVUFBVSxDQUFDLENBQ2xCLEdBQUcsRUFBRSxDQUFDOztBQUVQLFVBQU0sUUFBUSxHQUFHLG9CQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzdELFVBQU0sS0FBSyxHQUFHLG9CQUFFLEdBQUcsQ0FBQyxvQkFBRSxNQUFNLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7O0FBRS9ELGFBQU87QUFDTCxhQUFLLEVBQUUsS0FBSyxDQUFDLEVBQUU7QUFDZixhQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUs7QUFDbEIsZ0JBQVEsRUFBRSxvQkFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQztBQUNuQyxZQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7QUFDaEIsYUFBSyxFQUFFLEtBQUs7T0FDYixDQUFDO0tBQ0g7OztXQUVNLG1CQUFHO0FBQ1IsYUFBUSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxLQUFLLE9BQU8sQ0FBRTtLQUMzQzs7O1dBRU8sb0JBQUc7QUFDVCxhQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0tBQ3hCOzs7V0FFTyxvQkFBRztBQUNULFVBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUMvQixhQUFVLE9BQU8sQ0FBQyxLQUFLLFdBQU0sT0FBTyxDQUFDLFFBQVEsQ0FBRztLQUNqRDs7O1dBRUssa0JBQUc7QUFDUCxhQUFPO0FBQ0wsZUFBTyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUU7QUFDdkIsZ0JBQVEsRUFBRSxvQkFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztPQUNsQyxDQUFDO0tBQ0g7OztTQXhGb0IsWUFBWTtJQXlGbEMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvc2VydmVyL3N0YXR1cy9zZXJ2ZXJfc3RhdHVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHN0YXRlcyBmcm9tICcuL3N0YXRlcyc7XG5pbXBvcnQgU3RhdHVzIGZyb20gJy4vc3RhdHVzJztcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi8uLi8uLi9wYWNrYWdlLmpzb24nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFNlcnZlclN0YXR1cyB7XG4gIGNvbnN0cnVjdG9yKHNlcnZlcikge1xuICAgIHRoaXMuc2VydmVyID0gc2VydmVyO1xuICAgIHRoaXMuX2NyZWF0ZWQgPSB7fTtcbiAgfVxuXG4gIGNyZWF0ZShpZCkge1xuICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBTdGF0dXMoaWQsIHRoaXMuc2VydmVyKTtcbiAgICB0aGlzLl9jcmVhdGVkW3N0YXR1cy5pZF0gPSBzdGF0dXM7XG4gICAgcmV0dXJuIHN0YXR1cztcbiAgfVxuXG4gIGNyZWF0ZUZvclBsdWdpbihwbHVnaW4pIHtcbiAgICBpZiAocGx1Z2luLnZlcnNpb24gPT09ICdraWJhbmEnKSBwbHVnaW4udmVyc2lvbiA9IHZlcnNpb247XG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5jcmVhdGUoYHBsdWdpbjoke3BsdWdpbi5pZH1AJHtwbHVnaW4udmVyc2lvbn1gKTtcbiAgICBzdGF0dXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHJldHVybiBzdGF0dXM7XG4gIH1cblxuICBlYWNoKGZuKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgXy5mb3JPd24oc2VsZi5fY3JlYXRlZCwgZnVuY3Rpb24gKHN0YXR1cywgaSwgbGlzdCkge1xuICAgICAgaWYgKHN0YXR1cy5zdGF0ZSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgICBmbi5jYWxsKHNlbGYsIHN0YXR1cywgaSwgbGlzdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBnZXQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlZFtpZF07XG4gIH1cblxuICBnZXRGb3JQbHVnaW5JZChwbHVnaW5JZCkge1xuICAgIHJldHVybiBfLmZpbmQodGhpcy5fY3JlYXRlZCwgcyA9PlxuICAgICAgcy5wbHVnaW4gJiYgcy5wbHVnaW4uaWQgPT09IHBsdWdpbklkXG4gICAgKTtcbiAgfVxuXG4gIGdldFN0YXRlKGlkKSB7XG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5nZXQoaWQpO1xuICAgIGlmICghc3RhdHVzKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGF0dXMuc3RhdGUgfHwgJ3VuaW5pdGlhbGl6ZWQnO1xuICB9XG5cbiAgZ2V0U3RhdGVGb3JQbHVnaW5JZChwbHVnaW5JZCkge1xuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuZ2V0Rm9yUGx1Z2luSWQocGx1Z2luSWQpO1xuICAgIGlmICghc3RhdHVzKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGF0dXMuc3RhdGUgfHwgJ3VuaW5pdGlhbGl6ZWQnO1xuICB9XG5cbiAgb3ZlcmFsbCgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IF8odGhpcy5fY3JlYXRlZClcbiAgICAubWFwKGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgIHJldHVybiBzdGF0ZXMuZ2V0KHN0YXR1cy5zdGF0ZSk7XG4gICAgfSlcbiAgICAuc29ydEJ5KCdzZXZlcml0eScpXG4gICAgLnBvcCgpO1xuXG4gICAgY29uc3Qgc3RhdHVzZXMgPSBfLndoZXJlKHRoaXMuX2NyZWF0ZWQsIHsgc3RhdGU6IHN0YXRlLmlkIH0pO1xuICAgIGNvbnN0IHNpbmNlID0gXy5nZXQoXy5zb3J0Qnkoc3RhdHVzZXMsICdzaW5jZScpLCBbMCwgJ3NpbmNlJ10pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiBzdGF0ZS5pZCxcbiAgICAgIHRpdGxlOiBzdGF0ZS50aXRsZSxcbiAgICAgIG5pY2tuYW1lOiBfLnNhbXBsZShzdGF0ZS5uaWNrbmFtZXMpLFxuICAgICAgaWNvbjogc3RhdGUuaWNvbixcbiAgICAgIHNpbmNlOiBzaW5jZSxcbiAgICB9O1xuICB9XG5cbiAgaXNHcmVlbigpIHtcbiAgICByZXR1cm4gKHRoaXMub3ZlcmFsbCgpLnN0YXRlID09PSAnZ3JlZW4nKTtcbiAgfVxuXG4gIG5vdEdyZWVuKCkge1xuICAgIHJldHVybiAhdGhpcy5pc0dyZWVuKCk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICBjb25zdCBvdmVyYWxsID0gdGhpcy5vdmVyYWxsKCk7XG4gICAgcmV0dXJuIGAke292ZXJhbGwudGl0bGV9IOKAkyAke292ZXJhbGwubmlja25hbWV9YDtcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3ZlcmFsbDogdGhpcy5vdmVyYWxsKCksXG4gICAgICBzdGF0dXNlczogXy52YWx1ZXModGhpcy5fY3JlYXRlZClcbiAgICB9O1xuICB9XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/status/server_status.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/server/status/server_status.js",
      "sourcesContent": [
        "import _ from 'lodash';\n\nimport states from './states';\nimport Status from './status';\nimport { version } from '../../../package.json';\n\nmodule.exports = class ServerStatus {\n  constructor(server) {\n    this.server = server;\n    this._created = {};\n  }\n\n  create(id) {\n    const status = new Status(id, this.server);\n    this._created[status.id] = status;\n    return status;\n  }\n\n  createForPlugin(plugin) {\n    if (plugin.version === 'kibana') plugin.version = version;\n    const status = this.create(`plugin:${plugin.id}@${plugin.version}`);\n    status.plugin = plugin;\n    return status;\n  }\n\n  each(fn) {\n    const self = this;\n    _.forOwn(self._created, function (status, i, list) {\n      if (status.state !== 'disabled') {\n        fn.call(self, status, i, list);\n      }\n    });\n  }\n\n  get(id) {\n    return this._created[id];\n  }\n\n  getForPluginId(pluginId) {\n    return _.find(this._created, s =>\n      s.plugin && s.plugin.id === pluginId\n    );\n  }\n\n  getState(id) {\n    const status = this.get(id);\n    if (!status) return undefined;\n    return status.state || 'uninitialized';\n  }\n\n  getStateForPluginId(pluginId) {\n    const status = this.getForPluginId(pluginId);\n    if (!status) return undefined;\n    return status.state || 'uninitialized';\n  }\n\n  overall() {\n    const state = _(this._created)\n    .map(function (status) {\n      return states.get(status.state);\n    })\n    .sortBy('severity')\n    .pop();\n\n    const statuses = _.where(this._created, { state: state.id });\n    const since = _.get(_.sortBy(statuses, 'since'), [0, 'since']);\n\n    return {\n      state: state.id,\n      title: state.title,\n      nickname: _.sample(state.nicknames),\n      icon: state.icon,\n      since: since,\n    };\n  }\n\n  isGreen() {\n    return (this.overall().state === 'green');\n  }\n\n  notGreen() {\n    return !this.isGreen();\n  }\n\n  toString() {\n    const overall = this.overall();\n    return `${overall.title} – ${overall.nickname}`;\n  }\n\n  toJSON() {\n    return {\n      overall: this.overall(),\n      statuses: _.values(this._created)\n    };\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/status/states.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nexports.all = [{\n  id: 'red',\n  title: 'Red',\n  icon: 'danger',\n  severity: 1000,\n  nicknames: ['Danger Will Robinson! Danger!']\n}, {\n  id: 'uninitialized',\n  title: 'Uninitialized',\n  icon: 'spinner',\n  severity: 900,\n  nicknames: ['Initializing']\n}, {\n  id: 'yellow',\n  title: 'Yellow',\n  icon: 'warning',\n  severity: 800,\n  nicknames: ['S.N.A.F.U', 'I\\'ll be back', 'brb']\n}, {\n  id: 'green',\n  title: 'Green',\n  icon: 'success',\n  severity: 0,\n  nicknames: ['Looking good']\n}, {\n  id: 'disabled',\n  title: 'Disabled',\n  severity: -1,\n  icon: 'toggle-off',\n  nicknames: ['Am I even a thing?']\n}];\n\nexports.allById = _lodash2['default'].indexBy(exports.all, 'id');\n\nexports.defaults = {\n  icon: 'question',\n  severity: Infinity\n};\n\nexports.get = function (id) {\n  return exports.allById[id] || _lodash2['default'].defaults({ id: id }, exports.defaults);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL3N0YXRlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3NCQUFjLFFBQVE7Ozs7QUFFdEIsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUNaO0FBQ0UsSUFBRSxFQUFFLEtBQUs7QUFDVCxPQUFLLEVBQUUsS0FBSztBQUNaLE1BQUksRUFBRSxRQUFRO0FBQ2QsVUFBUSxFQUFFLElBQUk7QUFDZCxXQUFTLEVBQUUsQ0FDVCwrQkFBK0IsQ0FDaEM7Q0FDRixFQUNEO0FBQ0UsSUFBRSxFQUFFLGVBQWU7QUFDbkIsT0FBSyxFQUFFLGVBQWU7QUFDdEIsTUFBSSxFQUFFLFNBQVM7QUFDZixVQUFRLEVBQUUsR0FBRztBQUNiLFdBQVMsRUFBRSxDQUNULGNBQWMsQ0FDZjtDQUNGLEVBQ0Q7QUFDRSxJQUFFLEVBQUUsUUFBUTtBQUNaLE9BQUssRUFBRSxRQUFRO0FBQ2YsTUFBSSxFQUFFLFNBQVM7QUFDZixVQUFRLEVBQUUsR0FBRztBQUNiLFdBQVMsRUFBRSxDQUNULFdBQVcsRUFDWCxlQUFlLEVBQ2YsS0FBSyxDQUNOO0NBQ0YsRUFDRDtBQUNFLElBQUUsRUFBRSxPQUFPO0FBQ1gsT0FBSyxFQUFFLE9BQU87QUFDZCxNQUFJLEVBQUUsU0FBUztBQUNmLFVBQVEsRUFBRSxDQUFDO0FBQ1gsV0FBUyxFQUFFLENBQ1QsY0FBYyxDQUNmO0NBQ0YsRUFDRDtBQUNFLElBQUUsRUFBRSxVQUFVO0FBQ2QsT0FBSyxFQUFFLFVBQVU7QUFDakIsVUFBUSxFQUFFLENBQUMsQ0FBQztBQUNaLE1BQUksRUFBRSxZQUFZO0FBQ2xCLFdBQVMsRUFBRSxDQUNULG9CQUFvQixDQUNyQjtDQUNGLENBQ0YsQ0FBQzs7QUFFRixPQUFPLENBQUMsT0FBTyxHQUFHLG9CQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDOztBQUUvQyxPQUFPLENBQUMsUUFBUSxHQUFHO0FBQ2pCLE1BQUksRUFBRSxVQUFVO0FBQ2hCLFVBQVEsRUFBRSxRQUFRO0NBQ25CLENBQUM7O0FBRUYsT0FBTyxDQUFDLEdBQUcsR0FBRyxVQUFVLEVBQUUsRUFBRTtBQUMxQixTQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksb0JBQUUsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztDQUN4RSxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL3N0YXRlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydHMuYWxsID0gW1xuICB7XG4gICAgaWQ6ICdyZWQnLFxuICAgIHRpdGxlOiAnUmVkJyxcbiAgICBpY29uOiAnZGFuZ2VyJyxcbiAgICBzZXZlcml0eTogMTAwMCxcbiAgICBuaWNrbmFtZXM6IFtcbiAgICAgICdEYW5nZXIgV2lsbCBSb2JpbnNvbiEgRGFuZ2VyISdcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBpZDogJ3VuaW5pdGlhbGl6ZWQnLFxuICAgIHRpdGxlOiAnVW5pbml0aWFsaXplZCcsXG4gICAgaWNvbjogJ3NwaW5uZXInLFxuICAgIHNldmVyaXR5OiA5MDAsXG4gICAgbmlja25hbWVzOiBbXG4gICAgICAnSW5pdGlhbGl6aW5nJ1xuICAgIF1cbiAgfSxcbiAge1xuICAgIGlkOiAneWVsbG93JyxcbiAgICB0aXRsZTogJ1llbGxvdycsXG4gICAgaWNvbjogJ3dhcm5pbmcnLFxuICAgIHNldmVyaXR5OiA4MDAsXG4gICAgbmlja25hbWVzOiBbXG4gICAgICAnUy5OLkEuRi5VJyxcbiAgICAgICdJXFwnbGwgYmUgYmFjaycsXG4gICAgICAnYnJiJ1xuICAgIF1cbiAgfSxcbiAge1xuICAgIGlkOiAnZ3JlZW4nLFxuICAgIHRpdGxlOiAnR3JlZW4nLFxuICAgIGljb246ICdzdWNjZXNzJyxcbiAgICBzZXZlcml0eTogMCxcbiAgICBuaWNrbmFtZXM6IFtcbiAgICAgICdMb29raW5nIGdvb2QnXG4gICAgXVxuICB9LFxuICB7XG4gICAgaWQ6ICdkaXNhYmxlZCcsXG4gICAgdGl0bGU6ICdEaXNhYmxlZCcsXG4gICAgc2V2ZXJpdHk6IC0xLFxuICAgIGljb246ICd0b2dnbGUtb2ZmJyxcbiAgICBuaWNrbmFtZXM6IFtcbiAgICAgICdBbSBJIGV2ZW4gYSB0aGluZz8nXG4gICAgXVxuICB9XG5dO1xuXG5leHBvcnRzLmFsbEJ5SWQgPSBfLmluZGV4QnkoZXhwb3J0cy5hbGwsICdpZCcpO1xuXG5leHBvcnRzLmRlZmF1bHRzID0ge1xuICBpY29uOiAncXVlc3Rpb24nLFxuICBzZXZlcml0eTogSW5maW5pdHlcbn07XG5cbmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24gKGlkKSB7XG4gIHJldHVybiBleHBvcnRzLmFsbEJ5SWRbaWRdIHx8IF8uZGVmYXVsdHMoeyBpZDogaWQgfSwgZXhwb3J0cy5kZWZhdWx0cyk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/status/states.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;AAEtB,OAAO,CAAC,GAAG,GAAG,CACZ;AACE,IAAE,EAAE,KAAK;AACT,OAAK,EAAE,KAAK;AACZ,MAAI,EAAE,QAAQ;AACd,UAAQ,EAAE,IAAI;AACd,WAAS,EAAE,CACT,+BAA+B,CAChC;CACF,EACD;AACE,IAAE,EAAE,eAAe;AACnB,OAAK,EAAE,eAAe;AACtB,MAAI,EAAE,SAAS;AACf,UAAQ,EAAE,GAAG;AACb,WAAS,EAAE,CACT,cAAc,CACf;CACF,EACD;AACE,IAAE,EAAE,QAAQ;AACZ,OAAK,EAAE,QAAQ;AACf,MAAI,EAAE,SAAS;AACf,UAAQ,EAAE,GAAG;AACb,WAAS,EAAE,CACT,WAAW,EACX,eAAe,EACf,KAAK,CACN;CACF,EACD;AACE,IAAE,EAAE,OAAO;AACX,OAAK,EAAE,OAAO;AACd,MAAI,EAAE,SAAS;AACf,UAAQ,EAAE,CAAC;AACX,WAAS,EAAE,CACT,cAAc,CACf;CACF,EACD;AACE,IAAE,EAAE,UAAU;AACd,OAAK,EAAE,UAAU;AACjB,UAAQ,EAAE,CAAC,CAAC;AACZ,MAAI,EAAE,YAAY;AAClB,WAAS,EAAE,CACT,oBAAoB,CACrB;CACF,CACF,CAAC;;AAEF,OAAO,CAAC,OAAO,GAAG,oBAAE,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;;AAE/C,OAAO,CAAC,QAAQ,GAAG;AACjB,MAAI,EAAE,UAAU;AAChB,UAAQ,EAAE,QAAQ;CACnB,CAAC;;AAEF,OAAO,CAAC,GAAG,GAAG,UAAU,EAAE,EAAE;AAC1B,SAAO,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,oBAAE,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;CACxE,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/status/states.js",
      "sourcesContent": [
        "import _ from 'lodash';\n\nexports.all = [\n  {\n    id: 'red',\n    title: 'Red',\n    icon: 'danger',\n    severity: 1000,\n    nicknames: [\n      'Danger Will Robinson! Danger!'\n    ]\n  },\n  {\n    id: 'uninitialized',\n    title: 'Uninitialized',\n    icon: 'spinner',\n    severity: 900,\n    nicknames: [\n      'Initializing'\n    ]\n  },\n  {\n    id: 'yellow',\n    title: 'Yellow',\n    icon: 'warning',\n    severity: 800,\n    nicknames: [\n      'S.N.A.F.U',\n      'I\\'ll be back',\n      'brb'\n    ]\n  },\n  {\n    id: 'green',\n    title: 'Green',\n    icon: 'success',\n    severity: 0,\n    nicknames: [\n      'Looking good'\n    ]\n  },\n  {\n    id: 'disabled',\n    title: 'Disabled',\n    severity: -1,\n    icon: 'toggle-off',\n    nicknames: [\n      'Am I even a thing?'\n    ]\n  }\n];\n\nexports.allById = _.indexBy(exports.all, 'id');\n\nexports.defaults = {\n  icon: 'question',\n  severity: Infinity\n};\n\nexports.get = function (id) {\n  return exports.allById[id] || _.defaults({ id: id }, exports.defaults);\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/status/status.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./states",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "states"
              }
            ]
          },
          {
            "source": "events",
            "imported": [
              "EventEmitter"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "EventEmitter",
                "local": "EventEmitter"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _states = require('./states');\n\nvar _states2 = _interopRequireDefault(_states);\n\nvar _events = require('events');\n\nvar Status = (function (_EventEmitter) {\n  _inherits(Status, _EventEmitter);\n\n  function Status(id, server) {\n    _classCallCheck(this, Status);\n\n    _get(Object.getPrototypeOf(Status.prototype), 'constructor', this).call(this);\n\n    if (!id || typeof id !== 'string') {\n      throw new TypeError('Status constructor requires an `id` string');\n    }\n\n    this.id = id;\n    this.since = new Date();\n    this.state = 'uninitialized';\n    this.message = 'uninitialized';\n\n    this.on('change', function (previous, previousMsg) {\n      this.since = new Date();\n\n      var tags = ['status', this.id, this.state === 'red' ? 'error' : 'info'];\n\n      server.log(tags, {\n        tmpl: 'Status changed from <%= prevState %> to <%= state %><%= message ? \" - \" + message : \"\" %>',\n        state: this.state,\n        message: this.message,\n        prevState: previous,\n        prevMsg: previousMsg\n      });\n    });\n  }\n\n  _createClass(Status, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return {\n        id: this.id,\n        state: this.state,\n        icon: _states2['default'].get(this.state).icon,\n        message: this.message,\n        since: this.since\n      };\n    }\n  }, {\n    key: 'on',\n    value: function on(eventName, handler) {\n      var _this = this;\n\n      _get(Object.getPrototypeOf(Status.prototype), 'on', this).call(this, eventName, handler);\n\n      if (eventName === this.state) {\n        setImmediate(function () {\n          return handler(_this.state, _this.message);\n        });\n      }\n    }\n  }, {\n    key: 'once',\n    value: function once(eventName, handler) {\n      var _this2 = this;\n\n      if (eventName === this.state) {\n        setImmediate(function () {\n          return handler(_this2.state, _this2.message);\n        });\n      } else {\n        _get(Object.getPrototypeOf(Status.prototype), 'once', this).call(this, eventName, handler);\n      }\n    }\n  }]);\n\n  return Status;\n})(_events.EventEmitter);\n\n_states2['default'].all.forEach(function (state) {\n  Status.prototype[state.id] = function (message) {\n    if (this.state === 'disabled') return;\n\n    var previous = this.state;\n    var previousMsg = this.message;\n\n    this.error = null;\n    this.message = message || state.title;\n    this.state = state.id;\n\n    if (message instanceof Error) {\n      this.error = message;\n      this.message = message.message;\n    }\n\n    if (previous === this.state && previousMsg === this.message) {\n      // noop\n      return;\n    }\n\n    this.emit(state.id, previous, previousMsg, this.state, this.message);\n    this.emit('change', previous, previousMsg, this.state, this.message);\n  };\n});\n\nmodule.exports = Status;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL3N0YXR1cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7c0JBQWMsUUFBUTs7OztzQkFDSCxVQUFVOzs7O3NCQUNBLFFBQVE7O0lBRS9CLE1BQU07WUFBTixNQUFNOztBQUNDLFdBRFAsTUFBTSxDQUNFLEVBQUUsRUFBRSxNQUFNLEVBQUU7MEJBRHBCLE1BQU07O0FBRVIsK0JBRkUsTUFBTSw2Q0FFQTs7QUFFUixRQUFJLENBQUMsRUFBRSxJQUFJLE9BQU8sRUFBRSxLQUFLLFFBQVEsRUFBRTtBQUNqQyxZQUFNLElBQUksU0FBUyxDQUFDLDRDQUE0QyxDQUFDLENBQUM7S0FDbkU7O0FBRUQsUUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7QUFDeEIsUUFBSSxDQUFDLEtBQUssR0FBRyxlQUFlLENBQUM7QUFDN0IsUUFBSSxDQUFDLE9BQU8sR0FBRyxlQUFlLENBQUM7O0FBRS9CLFFBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFVBQVUsUUFBUSxFQUFFLFdBQVcsRUFBRTtBQUNqRCxVQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7O0FBRXhCLFVBQU0sSUFBSSxHQUFHLENBQ1gsUUFBUSxFQUNSLElBQUksQ0FBQyxFQUFFLEVBQ1AsSUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLEdBQUcsT0FBTyxHQUFHLE1BQU0sQ0FDeEMsQ0FBQzs7QUFFRixZQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRTtBQUNmLFlBQUksRUFBRSwyRkFBMkY7QUFDakcsYUFBSyxFQUFFLElBQUksQ0FBQyxLQUFLO0FBQ2pCLGVBQU8sRUFBRSxJQUFJLENBQUMsT0FBTztBQUNyQixpQkFBUyxFQUFFLFFBQVE7QUFDbkIsZUFBTyxFQUFFLFdBQVc7T0FDckIsQ0FBQyxDQUFDO0tBQ0osQ0FBQyxDQUFDO0dBQ0o7O2VBOUJHLE1BQU07O1dBZ0NKLGtCQUFHO0FBQ1AsYUFBTztBQUNMLFVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtBQUNYLGFBQUssRUFBRSxJQUFJLENBQUMsS0FBSztBQUNqQixZQUFJLEVBQUUsb0JBQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJO0FBQ2pDLGVBQU8sRUFBRSxJQUFJLENBQUMsT0FBTztBQUNyQixhQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7T0FDbEIsQ0FBQztLQUNIOzs7V0FFQyxZQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUU7OztBQUNyQixpQ0EzQ0UsTUFBTSxvQ0EyQ0MsU0FBUyxFQUFFLE9BQU8sRUFBRTs7QUFFN0IsVUFBSSxTQUFTLEtBQUssSUFBSSxDQUFDLEtBQUssRUFBRTtBQUM1QixvQkFBWSxDQUFDO2lCQUFNLE9BQU8sQ0FBQyxNQUFLLEtBQUssRUFBRSxNQUFLLE9BQU8sQ0FBQztTQUFBLENBQUMsQ0FBQztPQUN2RDtLQUNGOzs7V0FFRyxjQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUU7OztBQUN2QixVQUFJLFNBQVMsS0FBSyxJQUFJLENBQUMsS0FBSyxFQUFFO0FBQzVCLG9CQUFZLENBQUM7aUJBQU0sT0FBTyxDQUFDLE9BQUssS0FBSyxFQUFFLE9BQUssT0FBTyxDQUFDO1NBQUEsQ0FBQyxDQUFDO09BQ3ZELE1BQU07QUFDTCxtQ0F0REEsTUFBTSxzQ0FzREssU0FBUyxFQUFFLE9BQU8sRUFBRTtPQUNoQztLQUNGOzs7U0F4REcsTUFBTTs7O0FBMkRaLG9CQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBVSxLQUFLLEVBQUU7QUFDbEMsUUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxPQUFPLEVBQUU7QUFDOUMsUUFBSSxJQUFJLENBQUMsS0FBSyxLQUFLLFVBQVUsRUFBRSxPQUFPOztBQUV0QyxRQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQzVCLFFBQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7O0FBRWpDLFFBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0FBQ2xCLFFBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUM7QUFDdEMsUUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDOztBQUV0QixRQUFJLE9BQU8sWUFBWSxLQUFLLEVBQUU7QUFDNUIsVUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUM7QUFDckIsVUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO0tBQ2hDOztBQUVELFFBQUksUUFBUSxLQUFLLElBQUksQ0FBQyxLQUFLLElBQUksV0FBVyxLQUFLLElBQUksQ0FBQyxPQUFPLEVBQUU7O0FBRTNELGFBQU87S0FDUjs7QUFFRCxRQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNyRSxRQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0dBQ3RFLENBQUM7Q0FDSCxDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9zdGF0dXMvc3RhdHVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBzdGF0ZXMgZnJvbSAnLi9zdGF0ZXMnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcblxuY2xhc3MgU3RhdHVzIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3IoaWQsIHNlcnZlcikge1xuICAgIHN1cGVyKCk7XG5cbiAgICBpZiAoIWlkIHx8IHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N0YXR1cyBjb25zdHJ1Y3RvciByZXF1aXJlcyBhbiBgaWRgIHN0cmluZycpO1xuICAgIH1cblxuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLnNpbmNlID0gbmV3IERhdGUoKTtcbiAgICB0aGlzLnN0YXRlID0gJ3VuaW5pdGlhbGl6ZWQnO1xuICAgIHRoaXMubWVzc2FnZSA9ICd1bmluaXRpYWxpemVkJztcblxuICAgIHRoaXMub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChwcmV2aW91cywgcHJldmlvdXNNc2cpIHtcbiAgICAgIHRoaXMuc2luY2UgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICBjb25zdCB0YWdzID0gW1xuICAgICAgICAnc3RhdHVzJyxcbiAgICAgICAgdGhpcy5pZCxcbiAgICAgICAgdGhpcy5zdGF0ZSA9PT0gJ3JlZCcgPyAnZXJyb3InIDogJ2luZm8nXG4gICAgICBdO1xuXG4gICAgICBzZXJ2ZXIubG9nKHRhZ3MsIHtcbiAgICAgICAgdG1wbDogJ1N0YXR1cyBjaGFuZ2VkIGZyb20gPCU9IHByZXZTdGF0ZSAlPiB0byA8JT0gc3RhdGUgJT48JT0gbWVzc2FnZSA/IFwiIC0gXCIgKyBtZXNzYWdlIDogXCJcIiAlPicsXG4gICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICAgIHByZXZTdGF0ZTogcHJldmlvdXMsXG4gICAgICAgIHByZXZNc2c6IHByZXZpb3VzTXNnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgIGljb246IHN0YXRlcy5nZXQodGhpcy5zdGF0ZSkuaWNvbixcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIHNpbmNlOiB0aGlzLnNpbmNlXG4gICAgfTtcbiAgfVxuXG4gIG9uKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgIHN1cGVyLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG5cbiAgICBpZiAoZXZlbnROYW1lID09PSB0aGlzLnN0YXRlKSB7XG4gICAgICBzZXRJbW1lZGlhdGUoKCkgPT4gaGFuZGxlcih0aGlzLnN0YXRlLCB0aGlzLm1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICBvbmNlKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgIGlmIChldmVudE5hbWUgPT09IHRoaXMuc3RhdGUpIHtcbiAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiBoYW5kbGVyKHRoaXMuc3RhdGUsIHRoaXMubWVzc2FnZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXBlci5vbmNlKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfVxuICB9XG59XG5cbnN0YXRlcy5hbGwuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgU3RhdHVzLnByb3RvdHlwZVtzdGF0ZS5pZF0gPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLnN0YXRlID09PSAnZGlzYWJsZWQnKSByZXR1cm47XG5cbiAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgcHJldmlvdXNNc2cgPSB0aGlzLm1lc3NhZ2U7XG5cbiAgICB0aGlzLmVycm9yID0gbnVsbDtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlIHx8IHN0YXRlLnRpdGxlO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZS5pZDtcblxuICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSBtZXNzYWdlO1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZS5tZXNzYWdlO1xuICAgIH1cblxuICAgIGlmIChwcmV2aW91cyA9PT0gdGhpcy5zdGF0ZSAmJiBwcmV2aW91c01zZyA9PT0gdGhpcy5tZXNzYWdlKSB7XG4gICAgICAvLyBub29wXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0KHN0YXRlLmlkLCBwcmV2aW91cywgcHJldmlvdXNNc2csIHRoaXMuc3RhdGUsIHRoaXMubWVzc2FnZSk7XG4gICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCBwcmV2aW91cywgcHJldmlvdXNNc2csIHRoaXMuc3RhdGUsIHRoaXMubWVzc2FnZSk7XG4gIH07XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBTdGF0dXM7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/status/status.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/server/status/status.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport states from './states';\nimport { EventEmitter } from 'events';\n\nclass Status extends EventEmitter {\n  constructor(id, server) {\n    super();\n\n    if (!id || typeof id !== 'string') {\n      throw new TypeError('Status constructor requires an `id` string');\n    }\n\n    this.id = id;\n    this.since = new Date();\n    this.state = 'uninitialized';\n    this.message = 'uninitialized';\n\n    this.on('change', function (previous, previousMsg) {\n      this.since = new Date();\n\n      const tags = [\n        'status',\n        this.id,\n        this.state === 'red' ? 'error' : 'info'\n      ];\n\n      server.log(tags, {\n        tmpl: 'Status changed from <%= prevState %> to <%= state %><%= message ? \" - \" + message : \"\" %>',\n        state: this.state,\n        message: this.message,\n        prevState: previous,\n        prevMsg: previousMsg\n      });\n    });\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      state: this.state,\n      icon: states.get(this.state).icon,\n      message: this.message,\n      since: this.since\n    };\n  }\n\n  on(eventName, handler) {\n    super.on(eventName, handler);\n\n    if (eventName === this.state) {\n      setImmediate(() => handler(this.state, this.message));\n    }\n  }\n\n  once(eventName, handler) {\n    if (eventName === this.state) {\n      setImmediate(() => handler(this.state, this.message));\n    } else {\n      super.once(eventName, handler);\n    }\n  }\n}\n\nstates.all.forEach(function (state) {\n  Status.prototype[state.id] = function (message) {\n    if (this.state === 'disabled') return;\n\n    const previous = this.state;\n    const previousMsg = this.message;\n\n    this.error = null;\n    this.message = message || state.title;\n    this.state = state.id;\n\n    if (message instanceof Error) {\n      this.error = message;\n      this.message = message.message;\n    }\n\n    if (previous === this.state && previousMsg === this.message) {\n      // noop\n      return;\n    }\n\n    this.emit(state.id, previous, previousMsg, this.state, this.message);\n    this.emit('change', previous, previousMsg, this.state, this.message);\n  };\n});\n\nmodule.exports = Status;\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/status/wrap_auth_config.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "assign",
              "identity"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "assign",
                "local": "assign"
              },
              {
                "kind": "named",
                "imported": "identity",
                "local": "identity"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _lodash = require('lodash');\n\nexports['default'] = function (allowAnonymous) {\n  if (allowAnonymous) return function (options) {\n    return (0, _lodash.assign)(options, { config: { auth: false } });\n  };\n  return _lodash.identity;\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL3dyYXBfYXV0aF9jb25maWcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O3NCQUFpQyxRQUFROztxQkFFMUIsVUFBQyxjQUFjLEVBQUs7QUFDakMsTUFBSSxjQUFjLEVBQUUsT0FBTyxVQUFBLE9BQU87V0FBSSxvQkFBTyxPQUFPLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQztHQUFBLENBQUM7QUFDbkYsMEJBQWdCO0NBQ2pCIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL3dyYXBfYXV0aF9jb25maWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NpZ24sIGlkZW50aXR5IH0gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGRlZmF1bHQgKGFsbG93QW5vbnltb3VzKSA9PiB7XG4gIGlmIChhbGxvd0Fub255bW91cykgcmV0dXJuIG9wdGlvbnMgPT4gYXNzaWduKG9wdGlvbnMsIHsgY29uZmlnOiB7IGF1dGg6IGZhbHNlIH0gfSk7XG4gIHJldHVybiBpZGVudGl0eTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/status/wrap_auth_config.js"
      ],
      "names": [],
      "mappings": ";;;;;;sBAAiC,QAAQ;;qBAE1B,UAAC,cAAc,EAAK;AACjC,MAAI,cAAc,EAAE,OAAO,UAAA,OAAO;WAAI,oBAAO,OAAO,EAAE,EAAE,MAAM,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC;GAAA,CAAC;AACnF,0BAAgB;CACjB",
      "file": "/Users/osagiefo/kibana-aws/src/server/status/wrap_auth_config.js",
      "sourcesContent": [
        "import { assign, identity } from 'lodash';\n\nexport default (allowAnonymous) => {\n  if (allowAnonymous) return options => assign(options, { config: { auth: false } });\n  return identity;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/pid/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Promise"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "unlinkSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "unlinkSync",
                "local": "unlink"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _fs = require('fs');\n\nvar writeFile = _bluebird2['default'].promisify(require('fs').writeFile);\n\nmodule.exports = _bluebird2['default'].method(function (kbnServer, server, config) {\n  var path = config.get('pid.file');\n  if (!path) return;\n\n  var pid = String(process.pid);\n\n  return writeFile(path, pid, { flag: 'wx' })['catch'](function (err) {\n    if (err.code !== 'EEXIST') throw err;\n\n    var log = {\n      tmpl: 'pid file already exists at <%= path %>',\n      path: path,\n      pid: pid\n    };\n\n    if (config.get('pid.exclusive')) {\n      throw _boom2['default'].create(500, _lodash2['default'].template(log.tmpl)(log), log);\n    } else {\n      server.log(['pid', 'warning'], log);\n    }\n\n    return writeFile(path, pid);\n  }).then(function () {\n\n    server.log(['pid', 'debug'], {\n      tmpl: 'wrote pid file to <%= path %>',\n      path: path,\n      pid: pid\n    });\n\n    var clean = _lodash2['default'].once(function (code) {\n      (0, _fs.unlinkSync)(path);\n    });\n\n    process.once('exit', clean); // for \"natural\" exits\n    process.once('SIGINT', function () {\n      // for Ctrl-C exits\n      clean();\n\n      // resend SIGINT\n      process.kill(process.pid, 'SIGINT');\n    });\n\n    process.on('unhandledRejection', function (reason, promise) {\n      server.log(['warning'], 'Detected an unhandled Promise rejection.\\n' + reason);\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGlkL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7c0JBQWMsUUFBUTs7OztvQkFDTCxNQUFNOzs7O3dCQUNILFVBQVU7Ozs7a0JBQ08sSUFBSTs7QUFDekMsSUFBTSxTQUFTLEdBQUcsc0JBQVEsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFN0QsTUFBTSxDQUFDLE9BQU8sR0FBRyxzQkFBUSxNQUFNLENBQUMsVUFBVSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRTtBQUNuRSxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3BDLE1BQUksQ0FBQyxJQUFJLEVBQUUsT0FBTzs7QUFFbEIsTUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQzs7QUFFaEMsU0FBTyxTQUFTLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxTQUNyQyxDQUFDLFVBQVUsR0FBRyxFQUFFO0FBQ3BCLFFBQUksR0FBRyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUUsTUFBTSxHQUFHLENBQUM7O0FBRXJDLFFBQU0sR0FBRyxHQUFHO0FBQ1YsVUFBSSxFQUFFLHdDQUF3QztBQUM5QyxVQUFJLEVBQUUsSUFBSTtBQUNWLFNBQUcsRUFBRSxHQUFHO0tBQ1QsQ0FBQzs7QUFFRixRQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLEVBQUU7QUFDL0IsWUFBTSxrQkFBSyxNQUFNLENBQUMsR0FBRyxFQUFFLG9CQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDeEQsTUFBTTtBQUNMLFlBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDckM7O0FBRUQsV0FBTyxTQUFTLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0dBQzdCLENBQUMsQ0FDRCxJQUFJLENBQUMsWUFBWTs7QUFFaEIsVUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsRUFBRTtBQUMzQixVQUFJLEVBQUUsK0JBQStCO0FBQ3JDLFVBQUksRUFBRSxJQUFJO0FBQ1YsU0FBRyxFQUFFLEdBQUc7S0FDVCxDQUFDLENBQUM7O0FBRUgsUUFBTSxLQUFLLEdBQUcsb0JBQUUsSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFO0FBQ25DLDBCQUFPLElBQUksQ0FBQyxDQUFDO0tBQ2QsQ0FBQyxDQUFDOztBQUVILFdBQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzVCLFdBQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLFlBQVk7O0FBQ2pDLFdBQUssRUFBRSxDQUFDOzs7QUFHUixhQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7S0FDckMsQ0FBQyxDQUFDOztBQUVILFdBQU8sQ0FBQyxFQUFFLENBQUMsb0JBQW9CLEVBQUUsVUFBVSxNQUFNLEVBQUUsT0FBTyxFQUFFO0FBQzFELFlBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsaURBQStDLE1BQU0sQ0FBRyxDQUFDO0tBQ2hGLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvc2VydmVyL3BpZC9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgQm9vbSBmcm9tICdib29tJztcbmltcG9ydCBQcm9taXNlIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCB7IHVubGlua1N5bmMgYXMgdW5saW5rIH0gZnJvbSAnZnMnO1xuY29uc3Qgd3JpdGVGaWxlID0gUHJvbWlzZS5wcm9taXNpZnkocmVxdWlyZSgnZnMnKS53cml0ZUZpbGUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2UubWV0aG9kKGZ1bmN0aW9uIChrYm5TZXJ2ZXIsIHNlcnZlciwgY29uZmlnKSB7XG4gIGNvbnN0IHBhdGggPSBjb25maWcuZ2V0KCdwaWQuZmlsZScpO1xuICBpZiAoIXBhdGgpIHJldHVybjtcblxuICBjb25zdCBwaWQgPSBTdHJpbmcocHJvY2Vzcy5waWQpO1xuXG4gIHJldHVybiB3cml0ZUZpbGUocGF0aCwgcGlkLCB7IGZsYWc6ICd3eCcgfSlcbiAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyLmNvZGUgIT09ICdFRVhJU1QnKSB0aHJvdyBlcnI7XG5cbiAgICBjb25zdCBsb2cgPSB7XG4gICAgICB0bXBsOiAncGlkIGZpbGUgYWxyZWFkeSBleGlzdHMgYXQgPCU9IHBhdGggJT4nLFxuICAgICAgcGF0aDogcGF0aCxcbiAgICAgIHBpZDogcGlkXG4gICAgfTtcblxuICAgIGlmIChjb25maWcuZ2V0KCdwaWQuZXhjbHVzaXZlJykpIHtcbiAgICAgIHRocm93IEJvb20uY3JlYXRlKDUwMCwgXy50ZW1wbGF0ZShsb2cudG1wbCkobG9nKSwgbG9nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VydmVyLmxvZyhbJ3BpZCcsICd3YXJuaW5nJ10sIGxvZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdyaXRlRmlsZShwYXRoLCBwaWQpO1xuICB9KVxuICAudGhlbihmdW5jdGlvbiAoKSB7XG5cbiAgICBzZXJ2ZXIubG9nKFsncGlkJywgJ2RlYnVnJ10sIHtcbiAgICAgIHRtcGw6ICd3cm90ZSBwaWQgZmlsZSB0byA8JT0gcGF0aCAlPicsXG4gICAgICBwYXRoOiBwYXRoLFxuICAgICAgcGlkOiBwaWRcbiAgICB9KTtcblxuICAgIGNvbnN0IGNsZWFuID0gXy5vbmNlKGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICB1bmxpbmsocGF0aCk7XG4gICAgfSk7XG5cbiAgICBwcm9jZXNzLm9uY2UoJ2V4aXQnLCBjbGVhbik7IC8vIGZvciBcIm5hdHVyYWxcIiBleGl0c1xuICAgIHByb2Nlc3Mub25jZSgnU0lHSU5UJywgZnVuY3Rpb24gKCkgeyAvLyBmb3IgQ3RybC1DIGV4aXRzXG4gICAgICBjbGVhbigpO1xuXG4gICAgICAvLyByZXNlbmQgU0lHSU5UXG4gICAgICBwcm9jZXNzLmtpbGwocHJvY2Vzcy5waWQsICdTSUdJTlQnKTtcbiAgICB9KTtcblxuICAgIHByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIGZ1bmN0aW9uIChyZWFzb24sIHByb21pc2UpIHtcbiAgICAgIHNlcnZlci5sb2coWyd3YXJuaW5nJ10sIGBEZXRlY3RlZCBhbiB1bmhhbmRsZWQgUHJvbWlzZSByZWplY3Rpb24uXFxuJHtyZWFzb259YCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/pid/index.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;oBACL,MAAM;;;;wBACH,UAAU;;;;kBACO,IAAI;;AACzC,IAAM,SAAS,GAAG,sBAAQ,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC;;AAE7D,MAAM,CAAC,OAAO,GAAG,sBAAQ,MAAM,CAAC,UAAU,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;AACnE,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AACpC,MAAI,CAAC,IAAI,EAAE,OAAO;;AAElB,MAAM,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;;AAEhC,SAAO,SAAS,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,SACrC,CAAC,UAAU,GAAG,EAAE;AACpB,QAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,EAAE,MAAM,GAAG,CAAC;;AAErC,QAAM,GAAG,GAAG;AACV,UAAI,EAAE,wCAAwC;AAC9C,UAAI,EAAE,IAAI;AACV,SAAG,EAAE,GAAG;KACT,CAAC;;AAEF,QAAI,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE;AAC/B,YAAM,kBAAK,MAAM,CAAC,GAAG,EAAE,oBAAE,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;KACxD,MAAM;AACL,YAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE,GAAG,CAAC,CAAC;KACrC;;AAED,WAAO,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;GAC7B,CAAC,CACD,IAAI,CAAC,YAAY;;AAEhB,UAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE;AAC3B,UAAI,EAAE,+BAA+B;AACrC,UAAI,EAAE,IAAI;AACV,SAAG,EAAE,GAAG;KACT,CAAC,CAAC;;AAEH,QAAM,KAAK,GAAG,oBAAE,IAAI,CAAC,UAAU,IAAI,EAAE;AACnC,0BAAO,IAAI,CAAC,CAAC;KACd,CAAC,CAAC;;AAEH,WAAO,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AAC5B,WAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY;;AACjC,WAAK,EAAE,CAAC;;;AAGR,aAAO,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;KACrC,CAAC,CAAC;;AAEH,WAAO,CAAC,EAAE,CAAC,oBAAoB,EAAE,UAAU,MAAM,EAAE,OAAO,EAAE;AAC1D,YAAM,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,iDAA+C,MAAM,CAAG,CAAC;KAChF,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/pid/index.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport Boom from 'boom';\nimport Promise from 'bluebird';\nimport { unlinkSync as unlink } from 'fs';\nconst writeFile = Promise.promisify(require('fs').writeFile);\n\nmodule.exports = Promise.method(function (kbnServer, server, config) {\n  const path = config.get('pid.file');\n  if (!path) return;\n\n  const pid = String(process.pid);\n\n  return writeFile(path, pid, { flag: 'wx' })\n  .catch(function (err) {\n    if (err.code !== 'EEXIST') throw err;\n\n    const log = {\n      tmpl: 'pid file already exists at <%= path %>',\n      path: path,\n      pid: pid\n    };\n\n    if (config.get('pid.exclusive')) {\n      throw Boom.create(500, _.template(log.tmpl)(log), log);\n    } else {\n      server.log(['pid', 'warning'], log);\n    }\n\n    return writeFile(path, pid);\n  })\n  .then(function () {\n\n    server.log(['pid', 'debug'], {\n      tmpl: 'wrote pid file to <%= path %>',\n      path: path,\n      pid: pid\n    });\n\n    const clean = _.once(function (code) {\n      unlink(path);\n    });\n\n    process.once('exit', clean); // for \"natural\" exits\n    process.once('SIGINT', function () { // for Ctrl-C exits\n      clean();\n\n      // resend SIGINT\n      process.kill(process.pid, 'SIGINT');\n    });\n\n    process.on('unhandledRejection', function (reason, promise) {\n      server.log(['warning'], `Detected an unhandled Promise rejection.\\n${reason}`);\n    });\n  });\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/plugins/scan.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "readdir",
              "stat"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readdir",
                "local": "readdir"
              },
              {
                "kind": "named",
                "imported": "stat",
                "local": "stat"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "each"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "each",
                "local": "each"
              }
            ]
          },
          {
            "source": "./plugin_collection",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "PluginCollection"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _bluebird = require('bluebird');\n\nvar _fs = require('fs');\n\nvar _path = require('path');\n\nvar _plugin_collection = require('./plugin_collection');\n\nvar _plugin_collection2 = _interopRequireDefault(_plugin_collection);\n\nmodule.exports = _asyncToGenerator(function* (kbnServer, server, config) {\n\n  var plugins = kbnServer.plugins = new _plugin_collection2['default'](kbnServer);\n\n  var scanDirs = [].concat(config.get('plugins.scanDirs') || []);\n  var pluginPaths = [].concat(config.get('plugins.paths') || []);\n\n  var debug = _lodash2['default'].bindKey(server, 'log', ['plugins', 'debug']);\n  var warning = _lodash2['default'].bindKey(server, 'log', ['plugins', 'warning']);\n\n  // scan all scanDirs to find pluginPaths\n  yield (0, _bluebird.each)(scanDirs, _asyncToGenerator(function* (dir) {\n    debug({ tmpl: 'Scanning `<%= dir %>` for plugins', dir: dir });\n\n    var filenames = null;\n\n    try {\n      filenames = yield (0, _bluebird.fromNode)(function (cb) {\n        return (0, _fs.readdir)(dir, cb);\n      });\n    } catch (err) {\n      if (err.code !== 'ENOENT') throw err;\n\n      filenames = [];\n      warning({\n        tmpl: '<%= err.code %>: Unable to scan non-existent directory for plugins \"<%= dir %>\"',\n        err: err,\n        dir: dir\n      });\n    }\n\n    yield (0, _bluebird.each)(filenames, _asyncToGenerator(function* (name) {\n      if (name[0] === '.') return;\n\n      var path = (0, _path.resolve)(dir, name);\n      var stats = yield (0, _bluebird.fromNode)(function (cb) {\n        return (0, _fs.stat)(path, cb);\n      });\n      if (stats.isDirectory()) {\n        pluginPaths.push(path);\n      }\n    }));\n  }));\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = pluginPaths[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var path = _step.value;\n\n      var modulePath = undefined;\n      try {\n        modulePath = require.resolve(path);\n      } catch (e) {\n        warning({ tmpl: 'Skipping non-plugin directory at <%= path %>', path: path });\n        continue;\n      }\n\n      yield plugins['new'](path);\n      debug({ tmpl: 'Found plugin at <%= path %>', path: modulePath });\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9zY2FuLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztzQkFBYyxRQUFROzs7O3dCQUNHLFVBQVU7O2tCQUNMLElBQUk7O29CQUNWLE1BQU07O2lDQUVELHFCQUFxQjs7OztBQUNsRCxNQUFNLENBQUMsT0FBTyxxQkFBRyxXQUFPLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFLOztBQUVwRCxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsT0FBTyxHQUFHLG1DQUFxQixTQUFTLENBQUMsQ0FBQzs7QUFFcEUsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7QUFDakUsTUFBTSxXQUFXLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDOztBQUVqRSxNQUFNLEtBQUssR0FBRyxvQkFBRSxPQUFPLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBQzdELE1BQU0sT0FBTyxHQUFHLG9CQUFFLE9BQU8sQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7OztBQUdqRSxRQUFNLG9CQUFLLFFBQVEsb0JBQUUsV0FBTSxHQUFHLEVBQUk7QUFDaEMsU0FBSyxDQUFDLEVBQUUsSUFBSSxFQUFFLG1DQUFtQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDOztBQUUvRCxRQUFJLFNBQVMsR0FBRyxJQUFJLENBQUM7O0FBRXJCLFFBQUk7QUFDRixlQUFTLEdBQUcsTUFBTSx3QkFBUyxVQUFBLEVBQUU7ZUFBSSxpQkFBUSxHQUFHLEVBQUUsRUFBRSxDQUFDO09BQUEsQ0FBQyxDQUFDO0tBQ3BELENBQUMsT0FBTyxHQUFHLEVBQUU7QUFDWixVQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssUUFBUSxFQUFFLE1BQU0sR0FBRyxDQUFDOztBQUVyQyxlQUFTLEdBQUcsRUFBRSxDQUFDO0FBQ2YsYUFBTyxDQUFDO0FBQ04sWUFBSSxFQUFFLGlGQUFpRjtBQUN2RixXQUFHLEVBQUUsR0FBRztBQUNSLFdBQUcsRUFBRSxHQUFHO09BQ1QsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsVUFBTSxvQkFBSyxTQUFTLG9CQUFFLFdBQU0sSUFBSSxFQUFJO0FBQ2xDLFVBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxPQUFPOztBQUU1QixVQUFNLElBQUksR0FBRyxtQkFBUSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDaEMsVUFBTSxLQUFLLEdBQUcsTUFBTSx3QkFBUyxVQUFBLEVBQUU7ZUFBSSxjQUFLLElBQUksRUFBRSxFQUFFLENBQUM7T0FBQSxDQUFDLENBQUM7QUFDbkQsVUFBSSxLQUFLLENBQUMsV0FBVyxFQUFFLEVBQUU7QUFDdkIsbUJBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7T0FDeEI7S0FDRixFQUFDLENBQUM7R0FDSixFQUFDLENBQUM7Ozs7Ozs7QUFFSCx5QkFBbUIsV0FBVyw4SEFBRTtVQUFyQixJQUFJOztBQUNiLFVBQUksVUFBVSxZQUFBLENBQUM7QUFDZixVQUFJO0FBQ0Ysa0JBQVUsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO09BQ3BDLENBQUMsT0FBTyxDQUFDLEVBQUU7QUFDVixlQUFPLENBQUMsRUFBRSxJQUFJLEVBQUUsOENBQThDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7QUFDOUUsaUJBQVM7T0FDVjs7QUFFRCxZQUFNLE9BQU8sT0FBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3hCLFdBQUssQ0FBQyxFQUFFLElBQUksRUFBRSw2QkFBNkIsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQztLQUNsRTs7Ozs7Ozs7Ozs7Ozs7O0NBQ0YsQ0FBQSxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9zY2FuLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGZyb21Ob2RlIH0gZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IHsgcmVhZGRpciwgc3RhdCB9IGZyb20gJ2ZzJztcbmltcG9ydCB7IHJlc29sdmUgfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IGVhY2ggfSBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgUGx1Z2luQ29sbGVjdGlvbiBmcm9tICcuL3BsdWdpbl9jb2xsZWN0aW9uJztcbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgKGtiblNlcnZlciwgc2VydmVyLCBjb25maWcpID0+IHtcblxuICBjb25zdCBwbHVnaW5zID0ga2JuU2VydmVyLnBsdWdpbnMgPSBuZXcgUGx1Z2luQ29sbGVjdGlvbihrYm5TZXJ2ZXIpO1xuXG4gIGNvbnN0IHNjYW5EaXJzID0gW10uY29uY2F0KGNvbmZpZy5nZXQoJ3BsdWdpbnMuc2NhbkRpcnMnKSB8fCBbXSk7XG4gIGNvbnN0IHBsdWdpblBhdGhzID0gW10uY29uY2F0KGNvbmZpZy5nZXQoJ3BsdWdpbnMucGF0aHMnKSB8fCBbXSk7XG5cbiAgY29uc3QgZGVidWcgPSBfLmJpbmRLZXkoc2VydmVyLCAnbG9nJywgWydwbHVnaW5zJywgJ2RlYnVnJ10pO1xuICBjb25zdCB3YXJuaW5nID0gXy5iaW5kS2V5KHNlcnZlciwgJ2xvZycsIFsncGx1Z2lucycsICd3YXJuaW5nJ10pO1xuXG4gIC8vIHNjYW4gYWxsIHNjYW5EaXJzIHRvIGZpbmQgcGx1Z2luUGF0aHNcbiAgYXdhaXQgZWFjaChzY2FuRGlycywgYXN5bmMgZGlyID0+IHtcbiAgICBkZWJ1Zyh7IHRtcGw6ICdTY2FubmluZyBgPCU9IGRpciAlPmAgZm9yIHBsdWdpbnMnLCBkaXI6IGRpciB9KTtcblxuICAgIGxldCBmaWxlbmFtZXMgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZpbGVuYW1lcyA9IGF3YWl0IGZyb21Ob2RlKGNiID0+IHJlYWRkaXIoZGlyLCBjYikpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyci5jb2RlICE9PSAnRU5PRU5UJykgdGhyb3cgZXJyO1xuXG4gICAgICBmaWxlbmFtZXMgPSBbXTtcbiAgICAgIHdhcm5pbmcoe1xuICAgICAgICB0bXBsOiAnPCU9IGVyci5jb2RlICU+OiBVbmFibGUgdG8gc2NhbiBub24tZXhpc3RlbnQgZGlyZWN0b3J5IGZvciBwbHVnaW5zIFwiPCU9IGRpciAlPlwiJyxcbiAgICAgICAgZXJyOiBlcnIsXG4gICAgICAgIGRpcjogZGlyXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBhd2FpdCBlYWNoKGZpbGVuYW1lcywgYXN5bmMgbmFtZSA9PiB7XG4gICAgICBpZiAobmFtZVswXSA9PT0gJy4nKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHBhdGggPSByZXNvbHZlKGRpciwgbmFtZSk7XG4gICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IGZyb21Ob2RlKGNiID0+IHN0YXQocGF0aCwgY2IpKTtcbiAgICAgIGlmIChzdGF0cy5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgIHBsdWdpblBhdGhzLnB1c2gocGF0aCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGZvciAoY29uc3QgcGF0aCBvZiBwbHVnaW5QYXRocykge1xuICAgIGxldCBtb2R1bGVQYXRoO1xuICAgIHRyeSB7XG4gICAgICBtb2R1bGVQYXRoID0gcmVxdWlyZS5yZXNvbHZlKHBhdGgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHdhcm5pbmcoeyB0bXBsOiAnU2tpcHBpbmcgbm9uLXBsdWdpbiBkaXJlY3RvcnkgYXQgPCU9IHBhdGggJT4nLCBwYXRoOiBwYXRoIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgYXdhaXQgcGx1Z2lucy5uZXcocGF0aCk7XG4gICAgZGVidWcoeyB0bXBsOiAnRm91bmQgcGx1Z2luIGF0IDwlPSBwYXRoICU+JywgcGF0aDogbW9kdWxlUGF0aCB9KTtcbiAgfVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/plugins/scan.js"
      ],
      "names": [],
      "mappings": ";;;;;;sBAAc,QAAQ;;;;wBACG,UAAU;;kBACL,IAAI;;oBACV,MAAM;;iCAED,qBAAqB;;;;AAClD,MAAM,CAAC,OAAO,qBAAG,WAAO,SAAS,EAAE,MAAM,EAAE,MAAM,EAAK;;AAEpD,MAAM,OAAO,GAAG,SAAS,CAAC,OAAO,GAAG,mCAAqB,SAAS,CAAC,CAAC;;AAEpE,MAAM,QAAQ,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC,CAAC;AACjE,MAAM,WAAW,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC;;AAEjE,MAAM,KAAK,GAAG,oBAAE,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;AAC7D,MAAM,OAAO,GAAG,oBAAE,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;;;AAGjE,QAAM,oBAAK,QAAQ,oBAAE,WAAM,GAAG,EAAI;AAChC,SAAK,CAAC,EAAE,IAAI,EAAE,mCAAmC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;;AAE/D,QAAI,SAAS,GAAG,IAAI,CAAC;;AAErB,QAAI;AACF,eAAS,GAAG,MAAM,wBAAS,UAAA,EAAE;eAAI,iBAAQ,GAAG,EAAE,EAAE,CAAC;OAAA,CAAC,CAAC;KACpD,CAAC,OAAO,GAAG,EAAE;AACZ,UAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,EAAE,MAAM,GAAG,CAAC;;AAErC,eAAS,GAAG,EAAE,CAAC;AACf,aAAO,CAAC;AACN,YAAI,EAAE,iFAAiF;AACvF,WAAG,EAAE,GAAG;AACR,WAAG,EAAE,GAAG;OACT,CAAC,CAAC;KACJ;;AAED,UAAM,oBAAK,SAAS,oBAAE,WAAM,IAAI,EAAI;AAClC,UAAI,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,OAAO;;AAE5B,UAAM,IAAI,GAAG,mBAAQ,GAAG,EAAE,IAAI,CAAC,CAAC;AAChC,UAAM,KAAK,GAAG,MAAM,wBAAS,UAAA,EAAE;eAAI,cAAK,IAAI,EAAE,EAAE,CAAC;OAAA,CAAC,CAAC;AACnD,UAAI,KAAK,CAAC,WAAW,EAAE,EAAE;AACvB,mBAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;OACxB;KACF,EAAC,CAAC;GACJ,EAAC,CAAC;;;;;;;AAEH,yBAAmB,WAAW,8HAAE;UAArB,IAAI;;AACb,UAAI,UAAU,YAAA,CAAC;AACf,UAAI;AACF,kBAAU,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;OACpC,CAAC,OAAO,CAAC,EAAE;AACV,eAAO,CAAC,EAAE,IAAI,EAAE,8CAA8C,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9E,iBAAS;OACV;;AAED,YAAM,OAAO,OAAI,CAAC,IAAI,CAAC,CAAC;AACxB,WAAK,CAAC,EAAE,IAAI,EAAE,6BAA6B,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC;KAClE;;;;;;;;;;;;;;;CACF,CAAA,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/plugins/scan.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport { fromNode } from 'bluebird';\nimport { readdir, stat } from 'fs';\nimport { resolve } from 'path';\nimport { each } from 'bluebird';\nimport PluginCollection from './plugin_collection';\nmodule.exports = async (kbnServer, server, config) => {\n\n  const plugins = kbnServer.plugins = new PluginCollection(kbnServer);\n\n  const scanDirs = [].concat(config.get('plugins.scanDirs') || []);\n  const pluginPaths = [].concat(config.get('plugins.paths') || []);\n\n  const debug = _.bindKey(server, 'log', ['plugins', 'debug']);\n  const warning = _.bindKey(server, 'log', ['plugins', 'warning']);\n\n  // scan all scanDirs to find pluginPaths\n  await each(scanDirs, async dir => {\n    debug({ tmpl: 'Scanning `<%= dir %>` for plugins', dir: dir });\n\n    let filenames = null;\n\n    try {\n      filenames = await fromNode(cb => readdir(dir, cb));\n    } catch (err) {\n      if (err.code !== 'ENOENT') throw err;\n\n      filenames = [];\n      warning({\n        tmpl: '<%= err.code %>: Unable to scan non-existent directory for plugins \"<%= dir %>\"',\n        err: err,\n        dir: dir\n      });\n    }\n\n    await each(filenames, async name => {\n      if (name[0] === '.') return;\n\n      const path = resolve(dir, name);\n      const stats = await fromNode(cb => stat(path, cb));\n      if (stats.isDirectory()) {\n        pluginPaths.push(path);\n      }\n    });\n  });\n\n  for (const path of pluginPaths) {\n    let modulePath;\n    try {\n      modulePath = require.resolve(path);\n    } catch (e) {\n      warning({ tmpl: 'Skipping non-plugin directory at <%= path %>', path: path });\n      continue;\n    }\n\n    await plugins.new(path);\n    debug({ tmpl: 'Found plugin at <%= path %>', path: modulePath });\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/plugins/plugin_collection.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./plugin_api",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "PluginApi"
              }
            ]
          },
          {
            "source": "util",
            "imported": [
              "inspect"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "inspect",
                "local": "inspect"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "get",
              "indexBy"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "indexBy",
                "local": "indexBy"
              }
            ]
          },
          {
            "source": "lodash/internal/toPath",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "toPath"
              }
            ]
          },
          {
            "source": "../../utils/collection",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Collection"
              }
            ]
          },
          {
            "source": "../config/transform_deprecations",
            "imported": [
              "transformDeprecations"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "transformDeprecations",
                "local": "transformDeprecations"
              }
            ]
          },
          {
            "source": "../../deprecation",
            "imported": [
              "createTransform"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "createTransform",
                "local": "createTransform"
              }
            ]
          },
          {
            "source": "joi",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Joi"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "to-consumable-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nvar addPluginConfig = _asyncToGenerator(function* (pluginCollection, plugin) {\n  var _pluginCollection$kbnServer = pluginCollection.kbnServer;\n  var config = _pluginCollection$kbnServer.config;\n  var server = _pluginCollection$kbnServer.server;\n  var settings = _pluginCollection$kbnServer.settings;\n\n  var transformedSettings = (0, _configTransform_deprecations.transformDeprecations)(settings);\n  var pluginSettings = (0, _lodash.get)(transformedSettings, plugin.configPrefix);\n  var deprecations = plugin.getDeprecations();\n  var transformedPluginSettings = (0, _deprecation.createTransform)(deprecations)(pluginSettings, function (message) {\n    server.log(['warning', plugin.configPrefix, 'config', 'deprecation'], message);\n  });\n\n  var configSchema = yield plugin.getConfigSchema();\n  config.extendSchema(configSchema, transformedPluginSettings, plugin.configPrefix);\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _plugin_api = require('./plugin_api');\n\nvar _plugin_api2 = _interopRequireDefault(_plugin_api);\n\nvar _util = require('util');\n\nvar _lodash = require('lodash');\n\nvar _lodashInternalToPath = require('lodash/internal/toPath');\n\nvar _lodashInternalToPath2 = _interopRequireDefault(_lodashInternalToPath);\n\nvar _utilsCollection = require('../../utils/collection');\n\nvar _utilsCollection2 = _interopRequireDefault(_utilsCollection);\n\nvar _configTransform_deprecations = require('../config/transform_deprecations');\n\nvar _deprecation = require('../../deprecation');\n\nvar _joi = require('joi');\n\nvar _joi2 = _interopRequireDefault(_joi);\n\nvar byIdCache = Symbol('byIdCache');\nvar pluginApis = Symbol('pluginApis');\n\nfunction disablePluginConfig(pluginCollection, plugin) {\n  // when disabling a plugin's config we remove the existing schema and\n  // replace it with a simple schema/config that only has enabled set to false\n  var config = pluginCollection.kbnServer.config;\n\n  config.removeSchema(plugin.configPrefix);\n  var schema = _joi2['default'].object({ enabled: _joi2['default'].bool() });\n  config.extendSchema(schema, { enabled: false }, plugin.configPrefix);\n}\n\nmodule.exports = (function (_Collection) {\n  _inherits(Plugins, _Collection);\n\n  function Plugins(kbnServer) {\n    _classCallCheck(this, Plugins);\n\n    _get(Object.getPrototypeOf(Plugins.prototype), 'constructor', this).call(this);\n    this.kbnServer = kbnServer;\n    this[pluginApis] = new Set();\n  }\n\n  _createClass(Plugins, [{\n    key: 'new',\n    value: _asyncToGenerator(function* (path) {\n      var api = new _plugin_api2['default'](this.kbnServer, path);\n      this[pluginApis].add(api);\n\n      var output = [].concat(require(path)(api) || []);\n      var config = this.kbnServer.config;\n\n      if (!output.length) return;\n\n      // clear the byIdCache\n      this[byIdCache] = null;\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = output[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var plugin = _step.value;\n\n          if (!plugin instanceof api.Plugin) {\n            throw new TypeError('unexpected plugin export ' + (0, _util.inspect)(plugin));\n          }\n\n          yield addPluginConfig(this, plugin);\n          this.add(plugin);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    })\n  }, {\n    key: 'disable',\n    value: _asyncToGenerator(function* (plugin) {\n      disablePluginConfig(this, plugin);\n      this['delete'](plugin);\n    })\n  }, {\n    key: 'getPluginApis',\n    value: function getPluginApis() {\n      return this[pluginApis];\n    }\n  }, {\n    key: 'byId',\n    get: function get() {\n      return this[byIdCache] || (this[byIdCache] = (0, _lodash.indexBy)([].concat(_toConsumableArray(this)), 'id'));\n    }\n  }]);\n\n  return Plugins;\n})(_utilsCollection2['default']);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9wbHVnaW5fY29sbGVjdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7SUFhZSxlQUFlLHFCQUE5QixXQUErQixnQkFBZ0IsRUFBRSxNQUFNLEVBQUU7b0NBQ2xCLGdCQUFnQixDQUFDLFNBQVM7TUFBdkQsTUFBTSwrQkFBTixNQUFNO01BQUUsTUFBTSwrQkFBTixNQUFNO01BQUUsUUFBUSwrQkFBUixRQUFROztBQUVoQyxNQUFNLG1CQUFtQixHQUFHLHlEQUFzQixRQUFRLENBQUMsQ0FBQztBQUM1RCxNQUFNLGNBQWMsR0FBRyxpQkFBSSxtQkFBbUIsRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDckUsTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFDO0FBQzlDLE1BQU0seUJBQXlCLEdBQUcsa0NBQWdCLFlBQVksQ0FBQyxDQUFDLGNBQWMsRUFBRSxVQUFDLE9BQU8sRUFBSztBQUMzRixVQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsUUFBUSxFQUFFLGFBQWEsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQ2hGLENBQUMsQ0FBQzs7QUFFSCxNQUFNLFlBQVksR0FBRyxNQUFNLE1BQU0sQ0FBQyxlQUFlLEVBQUUsQ0FBQztBQUNwRCxRQUFNLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSx5QkFBeUIsRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7Q0FDbkY7Ozs7Ozs7Ozs7OzswQkF4QnFCLGNBQWM7Ozs7b0JBQ1osTUFBTTs7c0JBQ0QsUUFBUTs7b0NBQ2xCLHdCQUF3Qjs7OzsrQkFDcEIsd0JBQXdCOzs7OzRDQUNULGtDQUFrQzs7MkJBQ3hDLG1CQUFtQjs7bUJBQ25DLEtBQUs7Ozs7QUFFckIsSUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ3RDLElBQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQzs7QUFnQnhDLFNBQVMsbUJBQW1CLENBQUMsZ0JBQWdCLEVBQUUsTUFBTSxFQUFFOzs7TUFHN0MsTUFBTSxHQUFLLGdCQUFnQixDQUFDLFNBQVMsQ0FBckMsTUFBTTs7QUFDZCxRQUFNLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUN6QyxNQUFNLE1BQU0sR0FBRyxpQkFBSSxNQUFNLENBQUMsRUFBRSxPQUFPLEVBQUUsaUJBQUksSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ25ELFFBQU0sQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztDQUN0RTs7QUFFRCxNQUFNLENBQUMsT0FBTztZQUFTLE9BQU87O0FBRWpCLFdBRlUsT0FBTyxDQUVoQixTQUFTLEVBQUU7MEJBRkYsT0FBTzs7QUFHMUIsK0JBSG1CLE9BQU8sNkNBR2xCO0FBQ1IsUUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7QUFDM0IsUUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7R0FDOUI7O2VBTm9CLE9BQU87OzZCQVFuQixXQUFDLElBQUksRUFBRTtBQUNkLFVBQU0sR0FBRyxHQUFHLDRCQUFjLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDaEQsVUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQzs7QUFFMUIsVUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7QUFDbkQsVUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7O0FBRXJDLFVBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU87OztBQUczQixVQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsSUFBSSxDQUFDOzs7Ozs7O0FBRXZCLDZCQUFxQixNQUFNLDhIQUFFO2NBQWxCLE1BQU07O0FBQ2YsY0FBSSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsTUFBTSxFQUFFO0FBQ2pDLGtCQUFNLElBQUksU0FBUyxDQUFDLDJCQUEyQixHQUFHLG1CQUFRLE1BQU0sQ0FBQyxDQUFDLENBQUM7V0FDcEU7O0FBRUQsZ0JBQU0sZUFBZSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNwQyxjQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2xCOzs7Ozs7Ozs7Ozs7Ozs7S0FDRjs7OzZCQUVZLFdBQUMsTUFBTSxFQUFFO0FBQ3BCLHlCQUFtQixDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNsQyxVQUFJLFVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUNyQjs7O1dBTVkseUJBQUc7QUFDZCxhQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUN6Qjs7O1NBTk8sZUFBRztBQUNULGFBQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxrREFBWSxJQUFJLElBQUcsSUFBSSxDQUFDLENBQUEsQUFBQyxDQUFDO0tBQ3hFOzs7U0FyQ29CLE9BQU87Z0NBMkM3QixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9wbHVnaW5fY29sbGVjdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IFBsdWdpbkFwaSBmcm9tICcuL3BsdWdpbl9hcGknO1xuaW1wb3J0IHsgaW5zcGVjdCB9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IHsgZ2V0LCBpbmRleEJ5IH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB0b1BhdGggZnJvbSAnbG9kYXNoL2ludGVybmFsL3RvUGF0aCc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi8uLi91dGlscy9jb2xsZWN0aW9uJztcbmltcG9ydCB7IHRyYW5zZm9ybURlcHJlY2F0aW9ucyB9IGZyb20gJy4uL2NvbmZpZy90cmFuc2Zvcm1fZGVwcmVjYXRpb25zJztcbmltcG9ydCB7IGNyZWF0ZVRyYW5zZm9ybSB9IGZyb20gJy4uLy4uL2RlcHJlY2F0aW9uJztcbmltcG9ydCBKb2kgZnJvbSAnam9pJztcblxuY29uc3QgYnlJZENhY2hlID0gU3ltYm9sKCdieUlkQ2FjaGUnKTtcbmNvbnN0IHBsdWdpbkFwaXMgPSBTeW1ib2woJ3BsdWdpbkFwaXMnKTtcblxuYXN5bmMgZnVuY3Rpb24gYWRkUGx1Z2luQ29uZmlnKHBsdWdpbkNvbGxlY3Rpb24sIHBsdWdpbikge1xuICBjb25zdCB7IGNvbmZpZywgc2VydmVyLCBzZXR0aW5ncyB9ID0gcGx1Z2luQ29sbGVjdGlvbi5rYm5TZXJ2ZXI7XG5cbiAgY29uc3QgdHJhbnNmb3JtZWRTZXR0aW5ncyA9IHRyYW5zZm9ybURlcHJlY2F0aW9ucyhzZXR0aW5ncyk7XG4gIGNvbnN0IHBsdWdpblNldHRpbmdzID0gZ2V0KHRyYW5zZm9ybWVkU2V0dGluZ3MsIHBsdWdpbi5jb25maWdQcmVmaXgpO1xuICBjb25zdCBkZXByZWNhdGlvbnMgPSBwbHVnaW4uZ2V0RGVwcmVjYXRpb25zKCk7XG4gIGNvbnN0IHRyYW5zZm9ybWVkUGx1Z2luU2V0dGluZ3MgPSBjcmVhdGVUcmFuc2Zvcm0oZGVwcmVjYXRpb25zKShwbHVnaW5TZXR0aW5ncywgKG1lc3NhZ2UpID0+IHtcbiAgICBzZXJ2ZXIubG9nKFsnd2FybmluZycsIHBsdWdpbi5jb25maWdQcmVmaXgsICdjb25maWcnLCAnZGVwcmVjYXRpb24nXSwgbWVzc2FnZSk7XG4gIH0pO1xuXG4gIGNvbnN0IGNvbmZpZ1NjaGVtYSA9IGF3YWl0IHBsdWdpbi5nZXRDb25maWdTY2hlbWEoKTtcbiAgY29uZmlnLmV4dGVuZFNjaGVtYShjb25maWdTY2hlbWEsIHRyYW5zZm9ybWVkUGx1Z2luU2V0dGluZ3MsIHBsdWdpbi5jb25maWdQcmVmaXgpO1xufVxuXG5mdW5jdGlvbiBkaXNhYmxlUGx1Z2luQ29uZmlnKHBsdWdpbkNvbGxlY3Rpb24sIHBsdWdpbikge1xuICAvLyB3aGVuIGRpc2FibGluZyBhIHBsdWdpbidzIGNvbmZpZyB3ZSByZW1vdmUgdGhlIGV4aXN0aW5nIHNjaGVtYSBhbmRcbiAgLy8gcmVwbGFjZSBpdCB3aXRoIGEgc2ltcGxlIHNjaGVtYS9jb25maWcgdGhhdCBvbmx5IGhhcyBlbmFibGVkIHNldCB0byBmYWxzZVxuICBjb25zdCB7IGNvbmZpZyB9ID0gcGx1Z2luQ29sbGVjdGlvbi5rYm5TZXJ2ZXI7XG4gIGNvbmZpZy5yZW1vdmVTY2hlbWEocGx1Z2luLmNvbmZpZ1ByZWZpeCk7XG4gIGNvbnN0IHNjaGVtYSA9IEpvaS5vYmplY3QoeyBlbmFibGVkOiBKb2kuYm9vbCgpIH0pO1xuICBjb25maWcuZXh0ZW5kU2NoZW1hKHNjaGVtYSwgeyBlbmFibGVkOiBmYWxzZSB9LCBwbHVnaW4uY29uZmlnUHJlZml4KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBQbHVnaW5zIGV4dGVuZHMgQ29sbGVjdGlvbiB7XG5cbiAgY29uc3RydWN0b3Ioa2JuU2VydmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmtiblNlcnZlciA9IGtiblNlcnZlcjtcbiAgICB0aGlzW3BsdWdpbkFwaXNdID0gbmV3IFNldCgpO1xuICB9XG5cbiAgYXN5bmMgbmV3KHBhdGgpIHtcbiAgICBjb25zdCBhcGkgPSBuZXcgUGx1Z2luQXBpKHRoaXMua2JuU2VydmVyLCBwYXRoKTtcbiAgICB0aGlzW3BsdWdpbkFwaXNdLmFkZChhcGkpO1xuXG4gICAgY29uc3Qgb3V0cHV0ID0gW10uY29uY2F0KHJlcXVpcmUocGF0aCkoYXBpKSB8fCBbXSk7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5rYm5TZXJ2ZXIuY29uZmlnO1xuXG4gICAgaWYgKCFvdXRwdXQubGVuZ3RoKSByZXR1cm47XG5cbiAgICAvLyBjbGVhciB0aGUgYnlJZENhY2hlXG4gICAgdGhpc1tieUlkQ2FjaGVdID0gbnVsbDtcblxuICAgIGZvciAoY29uc3QgcGx1Z2luIG9mIG91dHB1dCkge1xuICAgICAgaWYgKCFwbHVnaW4gaW5zdGFuY2VvZiBhcGkuUGx1Z2luKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3VuZXhwZWN0ZWQgcGx1Z2luIGV4cG9ydCAnICsgaW5zcGVjdChwbHVnaW4pKTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgYWRkUGx1Z2luQ29uZmlnKHRoaXMsIHBsdWdpbik7XG4gICAgICB0aGlzLmFkZChwbHVnaW4pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRpc2FibGUocGx1Z2luKSB7XG4gICAgZGlzYWJsZVBsdWdpbkNvbmZpZyh0aGlzLCBwbHVnaW4pO1xuICAgIHRoaXMuZGVsZXRlKHBsdWdpbik7XG4gIH1cblxuICBnZXQgYnlJZCgpIHtcbiAgICByZXR1cm4gdGhpc1tieUlkQ2FjaGVdIHx8ICh0aGlzW2J5SWRDYWNoZV0gPSBpbmRleEJ5KFsuLi50aGlzXSwgJ2lkJykpO1xuICB9XG5cbiAgZ2V0UGx1Z2luQXBpcygpIHtcbiAgICByZXR1cm4gdGhpc1twbHVnaW5BcGlzXTtcbiAgfVxuXG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/plugins/plugin_collection.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/server/plugins/plugin_collection.js",
      "sourcesContent": [
        "\nimport PluginApi from './plugin_api';\nimport { inspect } from 'util';\nimport { get, indexBy } from 'lodash';\nimport toPath from 'lodash/internal/toPath';\nimport Collection from '../../utils/collection';\nimport { transformDeprecations } from '../config/transform_deprecations';\nimport { createTransform } from '../../deprecation';\nimport Joi from 'joi';\n\nconst byIdCache = Symbol('byIdCache');\nconst pluginApis = Symbol('pluginApis');\n\nasync function addPluginConfig(pluginCollection, plugin) {\n  const { config, server, settings } = pluginCollection.kbnServer;\n\n  const transformedSettings = transformDeprecations(settings);\n  const pluginSettings = get(transformedSettings, plugin.configPrefix);\n  const deprecations = plugin.getDeprecations();\n  const transformedPluginSettings = createTransform(deprecations)(pluginSettings, (message) => {\n    server.log(['warning', plugin.configPrefix, 'config', 'deprecation'], message);\n  });\n\n  const configSchema = await plugin.getConfigSchema();\n  config.extendSchema(configSchema, transformedPluginSettings, plugin.configPrefix);\n}\n\nfunction disablePluginConfig(pluginCollection, plugin) {\n  // when disabling a plugin's config we remove the existing schema and\n  // replace it with a simple schema/config that only has enabled set to false\n  const { config } = pluginCollection.kbnServer;\n  config.removeSchema(plugin.configPrefix);\n  const schema = Joi.object({ enabled: Joi.bool() });\n  config.extendSchema(schema, { enabled: false }, plugin.configPrefix);\n}\n\nmodule.exports = class Plugins extends Collection {\n\n  constructor(kbnServer) {\n    super();\n    this.kbnServer = kbnServer;\n    this[pluginApis] = new Set();\n  }\n\n  async new(path) {\n    const api = new PluginApi(this.kbnServer, path);\n    this[pluginApis].add(api);\n\n    const output = [].concat(require(path)(api) || []);\n    const config = this.kbnServer.config;\n\n    if (!output.length) return;\n\n    // clear the byIdCache\n    this[byIdCache] = null;\n\n    for (const plugin of output) {\n      if (!plugin instanceof api.Plugin) {\n        throw new TypeError('unexpected plugin export ' + inspect(plugin));\n      }\n\n      await addPluginConfig(this, plugin);\n      this.add(plugin);\n    }\n  }\n\n  async disable(plugin) {\n    disablePluginConfig(this, plugin);\n    this.delete(plugin);\n  }\n\n  get byId() {\n    return this[byIdCache] || (this[byIdCache] = indexBy([...this], 'id'));\n  }\n\n  getPluginApis() {\n    return this[pluginApis];\n  }\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/plugins/plugin_api.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./plugin",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Plugin"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "basename",
              "join"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "basename",
                "local": "basename"
              },
              {
                "kind": "named",
                "imported": "join",
                "local": "join"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _plugin = require('./plugin');\n\nvar _plugin2 = _interopRequireDefault(_plugin);\n\nvar _path = require('path');\n\nmodule.exports = (function () {\n  function PluginApi(kibana, pluginPath) {\n    _classCallCheck(this, PluginApi);\n\n    this.config = kibana.config;\n    this.rootDir = kibana.rootDir;\n    this['package'] = require((0, _path.join)(pluginPath, 'package.json'));\n    this.Plugin = _plugin2['default'].scoped(kibana, pluginPath, this['package']);\n  }\n\n  _createClass(PluginApi, [{\n    key: 'uiExports',\n    get: function get() {\n      throw new Error('plugin.uiExports is not defined until initialize phase');\n    }\n  }, {\n    key: 'autoload',\n    get: function get() {\n      console.warn(this['package'].id + ' accessed the autoload lists which are no longer available via the Plugin API.' + 'Use the `ui/autoload/*` modules instead.');\n\n      return {\n        directives: [],\n        filters: [],\n        styles: [],\n        modules: [],\n        require: []\n      };\n    }\n  }]);\n\n  return PluginApi;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9wbHVnaW5fYXBpLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O3NCQUFjLFFBQVE7Ozs7c0JBQ0gsVUFBVTs7OztvQkFDRSxNQUFNOztBQUVyQyxNQUFNLENBQUMsT0FBTztBQUNELFdBRFUsU0FBUyxDQUNsQixNQUFNLEVBQUUsVUFBVSxFQUFFOzBCQURYLFNBQVM7O0FBRTVCLFFBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUM1QixRQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUM7QUFDOUIsUUFBSSxXQUFRLEdBQUcsT0FBTyxDQUFDLGdCQUFLLFVBQVUsRUFBRSxjQUFjLENBQUMsQ0FBQyxDQUFDO0FBQ3pELFFBQUksQ0FBQyxNQUFNLEdBQUcsb0JBQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsSUFBSSxXQUFRLENBQUMsQ0FBQztHQUMvRDs7ZUFOb0IsU0FBUzs7U0FRakIsZUFBRztBQUNkLFlBQU0sSUFBSSxLQUFLLENBQUMsd0RBQXdELENBQUMsQ0FBQztLQUMzRTs7O1NBRVcsZUFBRztBQUNiLGFBQU8sQ0FBQyxJQUFJLENBQ1YsQUFBRyxJQUFJLFdBQVEsQ0FBQyxFQUFFLHNGQUNsQiwwQ0FBMEMsQ0FDM0MsQ0FBQzs7QUFFRixhQUFPO0FBQ0wsa0JBQVUsRUFBRSxFQUFFO0FBQ2QsZUFBTyxFQUFFLEVBQUU7QUFDWCxjQUFNLEVBQUUsRUFBRTtBQUNWLGVBQU8sRUFBRSxFQUFFO0FBQ1gsZUFBTyxFQUFFLEVBQUU7T0FDWixDQUFDO0tBQ0g7OztTQXpCb0IsU0FBUztJQTBCL0IsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvc2VydmVyL3BsdWdpbnMvcGx1Z2luX2FwaS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUGx1Z2luIGZyb20gJy4vcGx1Z2luJztcbmltcG9ydCB7IGJhc2VuYW1lLCBqb2luIH0gZnJvbSAncGF0aCc7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgUGx1Z2luQXBpIHtcbiAgY29uc3RydWN0b3Ioa2liYW5hLCBwbHVnaW5QYXRoKSB7XG4gICAgdGhpcy5jb25maWcgPSBraWJhbmEuY29uZmlnO1xuICAgIHRoaXMucm9vdERpciA9IGtpYmFuYS5yb290RGlyO1xuICAgIHRoaXMucGFja2FnZSA9IHJlcXVpcmUoam9pbihwbHVnaW5QYXRoLCAncGFja2FnZS5qc29uJykpO1xuICAgIHRoaXMuUGx1Z2luID0gUGx1Z2luLnNjb3BlZChraWJhbmEsIHBsdWdpblBhdGgsIHRoaXMucGFja2FnZSk7XG4gIH1cblxuICBnZXQgdWlFeHBvcnRzKCkge1xuICAgIHRocm93IG5ldyBFcnJvcigncGx1Z2luLnVpRXhwb3J0cyBpcyBub3QgZGVmaW5lZCB1bnRpbCBpbml0aWFsaXplIHBoYXNlJyk7XG4gIH1cblxuICBnZXQgYXV0b2xvYWQoKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYCR7dGhpcy5wYWNrYWdlLmlkfSBhY2Nlc3NlZCB0aGUgYXV0b2xvYWQgbGlzdHMgd2hpY2ggYXJlIG5vIGxvbmdlciBhdmFpbGFibGUgdmlhIHRoZSBQbHVnaW4gQVBJLmAgK1xuICAgICAgJ1VzZSB0aGUgYHVpL2F1dG9sb2FkLypgIG1vZHVsZXMgaW5zdGVhZC4nXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBkaXJlY3RpdmVzOiBbXSxcbiAgICAgIGZpbHRlcnM6IFtdLFxuICAgICAgc3R5bGVzOiBbXSxcbiAgICAgIG1vZHVsZXM6IFtdLFxuICAgICAgcmVxdWlyZTogW11cbiAgICB9O1xuICB9XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/plugins/plugin_api.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;sBAAc,QAAQ;;;;sBACH,UAAU;;;;oBACE,MAAM;;AAErC,MAAM,CAAC,OAAO;AACD,WADU,SAAS,CAClB,MAAM,EAAE,UAAU,EAAE;0BADX,SAAS;;AAE5B,QAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;AAC5B,QAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;AAC9B,QAAI,WAAQ,GAAG,OAAO,CAAC,gBAAK,UAAU,EAAE,cAAc,CAAC,CAAC,CAAC;AACzD,QAAI,CAAC,MAAM,GAAG,oBAAO,MAAM,CAAC,MAAM,EAAE,UAAU,EAAE,IAAI,WAAQ,CAAC,CAAC;GAC/D;;eANoB,SAAS;;SAQjB,eAAG;AACd,YAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC,CAAC;KAC3E;;;SAEW,eAAG;AACb,aAAO,CAAC,IAAI,CACV,AAAG,IAAI,WAAQ,CAAC,EAAE,sFAClB,0CAA0C,CAC3C,CAAC;;AAEF,aAAO;AACL,kBAAU,EAAE,EAAE;AACd,eAAO,EAAE,EAAE;AACX,cAAM,EAAE,EAAE;AACV,eAAO,EAAE,EAAE;AACX,eAAO,EAAE,EAAE;OACZ,CAAC;KACH;;;SAzBoB,SAAS;IA0B/B,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/plugins/plugin_api.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport Plugin from './plugin';\nimport { basename, join } from 'path';\n\nmodule.exports = class PluginApi {\n  constructor(kibana, pluginPath) {\n    this.config = kibana.config;\n    this.rootDir = kibana.rootDir;\n    this.package = require(join(pluginPath, 'package.json'));\n    this.Plugin = Plugin.scoped(kibana, pluginPath, this.package);\n  }\n\n  get uiExports() {\n    throw new Error('plugin.uiExports is not defined until initialize phase');\n  }\n\n  get autoload() {\n    console.warn(\n      `${this.package.id} accessed the autoload lists which are no longer available via the Plugin API.` +\n      'Use the `ui/autoload/*` modules instead.'\n    );\n\n    return {\n      directives: [],\n      filters: [],\n      styles: [],\n      modules: [],\n      require: []\n    };\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/plugins/plugin.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "joi",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Joi"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "default",
              "attempt",
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Bluebird"
              },
              {
                "kind": "named",
                "imported": "attempt",
                "local": "attempt"
              },
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "basename",
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "basename",
                "local": "basename"
              },
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          },
          {
            "source": "util",
            "imported": [
              "inherits"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "inherits",
                "local": "inherits"
              }
            ]
          },
          {
            "source": "../../deprecation",
            "imported": [
              "Deprecations"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Deprecations",
                "local": "Deprecations"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "async-to-generator",
        "get",
        "inherits",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _joi = require('joi');\n\nvar _joi2 = _interopRequireDefault(_joi);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _path = require('path');\n\nvar _util = require('util');\n\nvar _deprecation = require('../../deprecation');\n\nvar extendInitFns = Symbol('extend plugin initialization');\n\nvar defaultConfigSchema = _joi2['default'].object({\n  enabled: _joi2['default'].boolean()['default'](true)\n})['default']();\n\n/**\n * The server plugin class, used to extend the server\n * and add custom behavior. A \"scoped\" plugin class is\n * created by the PluginApi class and provided to plugin\n * providers that automatically binds all but the `opts`\n * arguments.\n *\n * @class Plugin\n * @param {KbnServer} kbnServer - the KbnServer this plugin\n *                              belongs to.\n * @param {String} path - the path from which the plugin hails\n * @param {Object} pkg - the value of package.json for the plugin\n * @param {Objects} opts - the options for this plugin\n * @param {String} [opts.id=pkg.name] - the id for this plugin.\n * @param {Object} [opts.uiExports] - a mapping of UiExport types\n *                                  to UI modules or metadata about\n *                                  the UI module\n * @param {Array} [opts.require] - the other plugins that this plugin\n *                               requires. These plugins must exist and\n *                               be enabled for this plugin to function.\n *                               The require'd plugins will also be\n *                               initialized first, in order to make sure\n *                               that dependencies provided by these plugins\n *                               are available\n * @param {String} [opts.version=pkg.version] - the version of this plugin\n * @param {Function} [opts.init] - A function that will be called to initialize\n *                               this plugin at the appropriate time.\n * @param {Function} [opts.configPrefix=this.id] - The prefix to use for configuration\n *                               values in the main configuration service\n * @param {Function} [opts.config] - A function that produces a configuration\n *                                 schema using Joi, which is passed as its\n *                                 first argument.\n * @param {String|False} [opts.publicDir=path + '/public']\n *    - the public directory for this plugin. The final directory must\n *    have the name \"public\", though it can be located somewhere besides\n *    the root of the plugin. Set this to false to disable exposure of a\n *    public directory\n */\nmodule.exports = (function () {\n  function Plugin(kbnServer, path, pkg, opts) {\n    _classCallCheck(this, Plugin);\n\n    this.kbnServer = kbnServer;\n    this.pkg = pkg;\n    this.path = path;\n\n    this.id = opts.id || pkg.name;\n    this.uiExportsSpecs = opts.uiExports || {};\n    this.requiredIds = opts.require || [];\n    this.version = opts.version || pkg.version;\n\n    // Plugins must specify their version, and by default that version should match\n    // the version of kibana down to the patch level. If these two versions need\n    // to diverge, they can specify a kibana.version in the package to indicate the\n    // version of kibana the plugin is intended to work with.\n    this.kibanaVersion = opts.kibanaVersion || _lodash2['default'].get(pkg, 'kibana.version', this.version);\n    this.externalPreInit = opts.preInit || _lodash2['default'].noop;\n    this.externalInit = opts.init || _lodash2['default'].noop;\n    this.configPrefix = opts.configPrefix || this.id;\n    this.getExternalConfigSchema = opts.config || _lodash2['default'].noop;\n    this.getExternalDeprecations = opts.deprecations || _lodash2['default'].noop;\n    this.preInit = _lodash2['default'].once(this.preInit);\n    this.init = _lodash2['default'].once(this.init);\n    this[extendInitFns] = [];\n\n    if (opts.publicDir === false) {\n      this.publicDir = null;\n    } else if (!opts.publicDir) {\n      this.publicDir = (0, _path.resolve)(this.path, 'public');\n    } else {\n      this.publicDir = opts.publicDir;\n      if ((0, _path.basename)(this.publicDir) !== 'public') {\n        throw new Error('publicDir for plugin ' + this.id + ' must end with a \"public\" directory.');\n      }\n    }\n  }\n\n  _createClass(Plugin, [{\n    key: 'getConfigSchema',\n    value: _asyncToGenerator(function* () {\n      var schema = yield this.getExternalConfigSchema(_joi2['default']);\n      return schema || defaultConfigSchema;\n    })\n  }, {\n    key: 'getDeprecations',\n    value: function getDeprecations() {\n      var rules = this.getExternalDeprecations(_deprecation.Deprecations);\n      return rules || [];\n    }\n  }, {\n    key: 'preInit',\n    value: _asyncToGenerator(function* () {\n      return yield this.externalPreInit(this.kbnServer.server);\n    })\n  }, {\n    key: 'init',\n    value: _asyncToGenerator(function* () {\n      var _this = this;\n\n      var id = this.id;\n      var version = this.version;\n      var kbnServer = this.kbnServer;\n      var configPrefix = this.configPrefix;\n      var config = kbnServer.config;\n\n      // setup the hapi register function and get on with it\n      var asyncRegister = _asyncToGenerator(function* (server, options) {\n        _this.server = server;\n\n        yield Promise.all(_this[extendInitFns].map(_asyncToGenerator(function* (fn) {\n          yield fn.call(_this, server, options);\n        })));\n\n        server.log(['plugins', 'debug'], {\n          tmpl: 'Initializing plugin <%= plugin.toString() %>',\n          plugin: _this\n        });\n\n        if (_this.publicDir) {\n          server.exposeStaticDir('/plugins/' + id + '/{path*}', _this.publicDir);\n        }\n\n        // Many of the plugins are simply adding static assets to the server and we don't need\n        // to track their \"status\". Since plugins must have an init() function to even set its status\n        // we shouldn't even create a status unless the plugin can use it.\n        if (_this.externalInit !== _lodash2['default'].noop) {\n          _this.status = kbnServer.status.createForPlugin(_this);\n          server.expose('status', _this.status);\n        }\n\n        return yield (0, _bluebird.attempt)(_this.externalInit, [server, options], _this);\n      });\n\n      var register = function register(server, options, next) {\n        _bluebird2['default'].resolve(asyncRegister(server, options)).nodeify(next);\n      };\n\n      register.attributes = { name: id, version: version };\n\n      yield (0, _bluebird.fromNode)(function (cb) {\n        kbnServer.server.register({\n          register: register,\n          options: config.has(configPrefix) ? config.get(configPrefix) : null\n        }, cb);\n      });\n\n      // Only change the plugin status to green if the\n      // intial status has not been changed\n      if (this.status && this.status.state === 'uninitialized') {\n        this.status.green('Ready');\n      }\n    })\n  }, {\n    key: 'extendInit',\n    value: function extendInit(fn) {\n      this[extendInitFns].push(fn);\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return this.pkg;\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return this.id + '@' + this.version;\n    }\n  }], [{\n    key: 'scoped',\n    value: function scoped(kbnServer, path, pkg) {\n      return (function (_Plugin) {\n        _inherits(ScopedPlugin, _Plugin);\n\n        function ScopedPlugin(opts) {\n          _classCallCheck(this, ScopedPlugin);\n\n          _get(Object.getPrototypeOf(ScopedPlugin.prototype), 'constructor', this).call(this, kbnServer, path, pkg, opts || {});\n        }\n\n        return ScopedPlugin;\n      })(Plugin);\n    }\n  }]);\n\n  return Plugin;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9wbHVnaW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7c0JBQWMsUUFBUTs7OzttQkFDTixLQUFLOzs7O3dCQUN1QixVQUFVOzs7O29CQUNwQixNQUFNOztvQkFDZixNQUFNOzsyQkFDRixtQkFBbUI7O0FBRWhELElBQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDOztBQUU3RCxJQUFNLG1CQUFtQixHQUFHLGlCQUFJLE1BQU0sQ0FBQztBQUNyQyxTQUFPLEVBQUUsaUJBQUksT0FBTyxFQUFFLFdBQVEsQ0FBQyxJQUFJLENBQUM7Q0FDckMsQ0FBQyxXQUFRLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdDYixNQUFNLENBQUMsT0FBTztBQUNELFdBRFUsTUFBTSxDQUNmLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTswQkFEbkIsTUFBTTs7QUFFekIsUUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7QUFDM0IsUUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDZixRQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQzs7QUFFakIsUUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUM7QUFDOUIsUUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQztBQUMzQyxRQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO0FBQ3RDLFFBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDOzs7Ozs7QUFNM0MsUUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxJ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LG9CQUFDLEVBQUUsRUFBRTtBQUNiLFVBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDOUI7OztXQUVLLGtCQUFHO0FBQ1AsYUFBTyxJQUFJLENBQUMsR0FBRyxDQUFDO0tBQ2pCOzs7V0FFTyxvQkFBRztBQUNULGFBQVUsSUFBSSxDQUFDLEVBQUUsU0FBSSxJQUFJLENBQUMsT0FBTyxDQUFHO0tBQ3JDOzs7V0FwRlksZ0JBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUU7QUFDbEM7a0JBQWEsWUFBWTs7QUFDWixpQkFEQSxZQUFZLENBQ1gsSUFBSSxFQUFFO2dDQURQLFlBQVk7O0FBRXJCLHFDQUZTLFlBQVksNkNBRWYsU0FBUyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRTtTQUN6Qzs7ZUFIVSxZQUFZO1NBQVMsTUFBTSxFQUl0QztLQUNIOzs7U0E3Q29CLE1BQU07SUE0SDVCLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9wbHVnaW5zL3BsdWdpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgSm9pIGZyb20gJ2pvaSc7XG5pbXBvcnQgQmx1ZWJpcmQsIHsgYXR0ZW1wdCwgZnJvbU5vZGUgfSBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgeyBiYXNlbmFtZSwgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgaW5oZXJpdHMgfSBmcm9tICd1dGlsJztcbmltcG9ydCB7IERlcHJlY2F0aW9ucyB9IGZyb20gJy4uLy4uL2RlcHJlY2F0aW9uJztcblxuY29uc3QgZXh0ZW5kSW5pdEZucyA9IFN5bWJvbCgnZXh0ZW5kIHBsdWdpbiBpbml0aWFsaXphdGlvbicpO1xuXG5jb25zdCBkZWZhdWx0Q29uZmlnU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGVuYWJsZWQ6IEpvaS5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKVxufSkuZGVmYXVsdCgpO1xuXG4vKipcbiAqIFRoZSBzZXJ2ZXIgcGx1Z2luIGNsYXNzLCB1c2VkIHRvIGV4dGVuZCB0aGUgc2VydmVyXG4gKiBhbmQgYWRkIGN1c3RvbSBiZWhhdmlvci4gQSBcInNjb3BlZFwiIHBsdWdpbiBjbGFzcyBpc1xuICogY3JlYXRlZCBieSB0aGUgUGx1Z2luQXBpIGNsYXNzIGFuZCBwcm92aWRlZCB0byBwbHVnaW5cbiAqIHByb3ZpZGVycyB0aGF0IGF1dG9tYXRpY2FsbHkgYmluZHMgYWxsIGJ1dCB0aGUgYG9wdHNgXG4gKiBhcmd1bWVudHMuXG4gKlxuICogQGNsYXNzIFBsdWdpblxuICogQHBhcmFtIHtLYm5TZXJ2ZXJ9IGtiblNlcnZlciAtIHRoZSBLYm5TZXJ2ZXIgdGhpcyBwbHVnaW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVsb25ncyB0by5cbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIC0gdGhlIHBhdGggZnJvbSB3aGljaCB0aGUgcGx1Z2luIGhhaWxzXG4gKiBAcGFyYW0ge09iamVjdH0gcGtnIC0gdGhlIHZhbHVlIG9mIHBhY2thZ2UuanNvbiBmb3IgdGhlIHBsdWdpblxuICogQHBhcmFtIHtPYmplY3RzfSBvcHRzIC0gdGhlIG9wdGlvbnMgZm9yIHRoaXMgcGx1Z2luXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdHMuaWQ9cGtnLm5hbWVdIC0gdGhlIGlkIGZvciB0aGlzIHBsdWdpbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0cy51aUV4cG9ydHNdIC0gYSBtYXBwaW5nIG9mIFVpRXhwb3J0IHR5cGVzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byBVSSBtb2R1bGVzIG9yIG1ldGFkYXRhIGFib3V0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgVUkgbW9kdWxlXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0cy5yZXF1aXJlXSAtIHRoZSBvdGhlciBwbHVnaW5zIHRoYXQgdGhpcyBwbHVnaW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVzLiBUaGVzZSBwbHVnaW5zIG11c3QgZXhpc3QgYW5kXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSBlbmFibGVkIGZvciB0aGlzIHBsdWdpbiB0byBmdW5jdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSByZXF1aXJlJ2QgcGx1Z2lucyB3aWxsIGFsc28gYmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVkIGZpcnN0LCBpbiBvcmRlciB0byBtYWtlIHN1cmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQgZGVwZW5kZW5jaWVzIHByb3ZpZGVkIGJ5IHRoZXNlIHBsdWdpbnNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZSBhdmFpbGFibGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0cy52ZXJzaW9uPXBrZy52ZXJzaW9uXSAtIHRoZSB2ZXJzaW9uIG9mIHRoaXMgcGx1Z2luXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0cy5pbml0XSAtIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB0byBpbml0aWFsaXplXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIHBsdWdpbiBhdCB0aGUgYXBwcm9wcmlhdGUgdGltZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLmNvbmZpZ1ByZWZpeD10aGlzLmlkXSAtIFRoZSBwcmVmaXggdG8gdXNlIGZvciBjb25maWd1cmF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgaW4gdGhlIG1haW4gY29uZmlndXJhdGlvbiBzZXJ2aWNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0cy5jb25maWddIC0gQSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGEgY29uZmlndXJhdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWEgdXNpbmcgSm9pLCB3aGljaCBpcyBwYXNzZWQgYXMgaXRzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0IGFyZ3VtZW50LlxuICogQHBhcmFtIHtTdHJpbmd8RmFsc2V9IFtvcHRzLnB1YmxpY0Rpcj1wYXRoICsgJy9wdWJsaWMnXVxuICogICAgLSB0aGUgcHVibGljIGRpcmVjdG9yeSBmb3IgdGhpcyBwbHVnaW4uIFRoZSBmaW5hbCBkaXJlY3RvcnkgbXVzdFxuICogICAgaGF2ZSB0aGUgbmFtZSBcInB1YmxpY1wiLCB0aG91Z2ggaXQgY2FuIGJlIGxvY2F0ZWQgc29tZXdoZXJlIGJlc2lkZXNcbiAqICAgIHRoZSByb290IG9mIHRoZSBwbHVnaW4uIFNldCB0aGlzIHRvIGZhbHNlIHRvIGRpc2FibGUgZXhwb3N1cmUgb2YgYVxuICogICAgcHVibGljIGRpcmVjdG9yeVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFBsdWdpbiB7XG4gIGNvbnN0cnVjdG9yKGtiblNlcnZlciwgcGF0aCwgcGtnLCBvcHRzKSB7XG4gICAgdGhpcy5rYm5TZXJ2ZXIgPSBrYm5TZXJ2ZXI7XG4gICAgdGhpcy5wa2cgPSBwa2c7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcblxuICAgIHRoaXMuaWQgPSBvcHRzLmlkIHx8IHBrZy5uYW1lO1xuICAgIHRoaXMudWlFeHBvcnRzU3BlY3MgPSBvcHRzLnVpRXhwb3J0cyB8fCB7fTtcbiAgICB0aGlzLnJlcXVpcmVkSWRzID0gb3B0cy5yZXF1aXJlIHx8IFtdO1xuICAgIHRoaXMudmVyc2lvbiA9IG9wdHMudmVyc2lvbiB8fCBwa2cudmVyc2lvbjtcblxuICAgIC8vIFBsdWdpbnMgbXVzdCBzcGVjaWZ5IHRoZWlyIHZlcnNpb24sIGFuZCBieSBkZWZhdWx0IHRoYXQgdmVyc2lvbiBzaG91bGQgbWF0Y2hcbiAgICAvLyB0aGUgdmVyc2lvbiBvZiBraWJhbmEgZG93biB0byB0aGUgcGF0Y2ggbGV2ZWwuIElmIHRoZXNlIHR3byB2ZXJzaW9ucyBuZWVkXG4gICAgLy8gdG8gZGl2ZXJnZSwgdGhleSBjYW4gc3BlY2lmeSBhIGtpYmFuYS52ZXJzaW9uIGluIHRoZSBwYWNrYWdlIHRvIGluZGljYXRlIHRoZVxuICAgIC8vIHZlcnNpb24gb2Yga2liYW5hIHRoZSBwbHVnaW4gaXMgaW50ZW5kZWQgdG8gd29yayB3aXRoLlxuICAgIHRoaXMua2liYW5hVmVyc2lvbiA9IG9wdHMua2liYW5hVmVyc2lvbiB8fCBfLmdldChwa2csICdraWJhbmEudmVyc2lvbicsIHRoaXMudmVyc2lvbik7XG4gICAgdGhpcy5leHRlcm5hbFByZUluaXQgPSBvcHRzLnByZUluaXQgfHwgXy5ub29wO1xuICAgIHRoaXMuZXh0ZXJuYWxJbml0ID0gb3B0cy5pbml0IHx8IF8ubm9vcDtcbiAgICB0aGlzLmNvbmZpZ1ByZWZpeCA9IG9wdHMuY29uZmlnUHJlZml4IHx8IHRoaXMuaWQ7XG4gICAgdGhpcy5nZXRFeHRlcm5hbENvbmZpZ1NjaGVtYSA9IG9wdHMuY29uZmlnIHx8IF8ubm9vcDtcbiAgICB0aGlzLmdldEV4dGVybmFsRGVwcmVjYXRpb25zID0gb3B0cy5kZXByZWNhdGlvbnMgfHwgXy5ub29wO1xuICAgIHRoaXMucHJlSW5pdCA9IF8ub25jZSh0aGlzLnByZUluaXQpO1xuICAgIHRoaXMuaW5pdCA9IF8ub25jZSh0aGlzLmluaXQpO1xuICAgIHRoaXNbZXh0ZW5kSW5pdEZuc10gPSBbXTtcblxuICAgIGlmIChvcHRzLnB1YmxpY0RpciA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMucHVibGljRGlyID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoIW9wdHMucHVibGljRGlyKSB7XG4gICAgICB0aGlzLnB1YmxpY0RpciA9IHJlc29sdmUodGhpcy5wYXRoLCAncHVibGljJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5wdWJsaWNEaXIgPSBvcHRzLnB1YmxpY0RpcjtcbiAgICAgIGlmIChiYXNlbmFtZSh0aGlzLnB1YmxpY0RpcikgIT09ICdwdWJsaWMnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgcHVibGljRGlyIGZvciBwbHVnaW4gJHt0aGlzLmlkfSBtdXN0IGVuZCB3aXRoIGEgXCJwdWJsaWNcIiBkaXJlY3RvcnkuYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHNjb3BlZChrYm5TZXJ2ZXIsIHBhdGgsIHBrZykge1xuICAgIHJldHVybiBjbGFzcyBTY29wZWRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcihrYm5TZXJ2ZXIsIHBhdGgsIHBrZywgb3B0cyB8fCB7fSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGdldENvbmZpZ1NjaGVtYSgpIHtcbiAgICBjb25zdCBzY2hlbWEgPSBhd2FpdCB0aGlzLmdldEV4dGVybmFsQ29uZmlnU2NoZW1hKEpvaSk7XG4gICAgcmV0dXJuIHNjaGVtYSB8fCBkZWZhdWx0Q29uZmlnU2NoZW1hO1xuICB9XG5cbiAgZ2V0RGVwcmVjYXRpb25zKCkge1xuICAgIGNvbnN0IHJ1bGVzID0gdGhpcy5nZXRFeHRlcm5hbERlcHJlY2F0aW9ucyhEZXByZWNhdGlvbnMpO1xuICAgIHJldHVybiBydWxlcyB8fCBbXTtcbiAgfVxuXG4gIGFzeW5jIHByZUluaXQoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZXh0ZXJuYWxQcmVJbml0KHRoaXMua2JuU2VydmVyLnNlcnZlcik7XG4gIH1cblxuICBhc3luYyBpbml0KCkge1xuICAgIGNvbnN0IHsgaWQsIHZlcnNpb24sIGtiblNlcnZlciwgY29uZmlnUHJlZml4IH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSBrYm5TZXJ2ZXI7XG5cbiAgICAvLyBzZXR1cCB0aGUgaGFwaSByZWdpc3RlciBmdW5jdGlvbiBhbmQgZ2V0IG9uIHdpdGggaXRcbiAgICBjb25zdCBhc3luY1JlZ2lzdGVyID0gYXN5bmMgKHNlcnZlciwgb3B0aW9ucykgPT4ge1xuICAgICAgdGhpcy5zZXJ2ZXIgPSBzZXJ2ZXI7XG5cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRoaXNbZXh0ZW5kSW5pdEZuc10ubWFwKGFzeW5jIGZuID0+IHtcbiAgICAgICAgYXdhaXQgZm4uY2FsbCh0aGlzLCBzZXJ2ZXIsIG9wdGlvbnMpO1xuICAgICAgfSkpO1xuXG4gICAgICBzZXJ2ZXIubG9nKFsncGx1Z2lucycsICdkZWJ1ZyddLCB7XG4gICAgICAgIHRtcGw6ICdJbml0aWFsaXppbmcgcGx1Z2luIDwlPSBwbHVnaW4udG9TdHJpbmcoKSAlPicsXG4gICAgICAgIHBsdWdpbjogdGhpc1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLnB1YmxpY0Rpcikge1xuICAgICAgICBzZXJ2ZXIuZXhwb3NlU3RhdGljRGlyKGAvcGx1Z2lucy8ke2lkfS97cGF0aCp9YCwgdGhpcy5wdWJsaWNEaXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBNYW55IG9mIHRoZSBwbHVnaW5zIGFyZSBzaW1wbHkgYWRkaW5nIHN0YXRpYyBhc3NldHMgdG8gdGhlIHNlcnZlciBhbmQgd2UgZG9uJ3QgbmVlZFxuICAgICAgLy8gdG8gdHJhY2sgdGhlaXIgXCJzdGF0dXNcIi4gU2luY2UgcGx1Z2lucyBtdXN0IGhhdmUgYW4gaW5pdCgpIGZ1bmN0aW9uIHRvIGV2ZW4gc2V0IGl0cyBzdGF0dXNcbiAgICAgIC8vIHdlIHNob3VsZG4ndCBldmVuIGNyZWF0ZSBhIHN0YXR1cyB1bmxlc3MgdGhlIHBsdWdpbiBjYW4gdXNlIGl0LlxuICAgICAgaWYgKHRoaXMuZXh0ZXJuYWxJbml0ICE9PSBfLm5vb3ApIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBrYm5TZXJ2ZXIuc3RhdHVzLmNyZWF0ZUZvclBsdWdpbih0aGlzKTtcbiAgICAgICAgc2VydmVyLmV4cG9zZSgnc3RhdHVzJywgdGhpcy5zdGF0dXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXdhaXQgYXR0ZW1wdCh0aGlzLmV4dGVybmFsSW5pdCwgW3NlcnZlciwgb3B0aW9uc10sIHRoaXMpO1xuICAgIH07XG5cbiAgICBjb25zdCByZWdpc3RlciA9IChzZXJ2ZXIsIG9wdGlvbnMsIG5leHQpID0+IHtcbiAgICAgIEJsdWViaXJkLnJlc29sdmUoYXN5bmNSZWdpc3RlcihzZXJ2ZXIsIG9wdGlvbnMpKS5ub2RlaWZ5KG5leHQpO1xuICAgIH07XG5cbiAgICByZWdpc3Rlci5hdHRyaWJ1dGVzID0geyBuYW1lOiBpZCwgdmVyc2lvbjogdmVyc2lvbiB9O1xuXG4gICAgYXdhaXQgZnJvbU5vZGUoY2IgPT4ge1xuICAgICAga2JuU2VydmVyLnNlcnZlci5yZWdpc3Rlcih7XG4gICAgICAgIHJlZ2lzdGVyOiByZWdpc3RlcixcbiAgICAgICAgb3B0aW9uczogY29uZmlnLmhhcyhjb25maWdQcmVmaXgpID8gY29uZmlnLmdldChjb25maWdQcmVmaXgpIDogbnVsbFxuICAgICAgfSwgY2IpO1xuICAgIH0pO1xuXG4gICAgLy8gT25seSBjaGFuZ2UgdGhlIHBsdWdpbiBzdGF0dXMgdG8gZ3JlZW4gaWYgdGhlXG4gICAgLy8gaW50aWFsIHN0YXR1cyBoYXMgbm90IGJlZW4gY2hhbmdlZFxuICAgIGlmICh0aGlzLnN0YXR1cyAmJiB0aGlzLnN0YXR1cy5zdGF0ZSA9PT0gJ3VuaW5pdGlhbGl6ZWQnKSB7XG4gICAgICB0aGlzLnN0YXR1cy5ncmVlbignUmVhZHknKTtcbiAgICB9XG4gIH1cblxuICBleHRlbmRJbml0KGZuKSB7XG4gICAgdGhpc1tleHRlbmRJbml0Rm5zXS5wdXNoKGZuKTtcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5wa2c7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5pZH1AJHt0aGlzLnZlcnNpb259YDtcbiAgfVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/plugins/plugin.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/server/plugins/plugin.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport Joi from 'joi';\nimport Bluebird, { attempt, fromNode } from 'bluebird';\nimport { basename, resolve } from 'path';\nimport { inherits } from 'util';\nimport { Deprecations } from '../../deprecation';\n\nconst extendInitFns = Symbol('extend plugin initialization');\n\nconst defaultConfigSchema = Joi.object({\n  enabled: Joi.boolean().default(true)\n}).default();\n\n/**\n * The server plugin class, used to extend the server\n * and add custom behavior. A \"scoped\" plugin class is\n * created by the PluginApi class and provided to plugin\n * providers that automatically binds all but the `opts`\n * arguments.\n *\n * @class Plugin\n * @param {KbnServer} kbnServer - the KbnServer this plugin\n *                              belongs to.\n * @param {String} path - the path from which the plugin hails\n * @param {Object} pkg - the value of package.json for the plugin\n * @param {Objects} opts - the options for this plugin\n * @param {String} [opts.id=pkg.name] - the id for this plugin.\n * @param {Object} [opts.uiExports] - a mapping of UiExport types\n *                                  to UI modules or metadata about\n *                                  the UI module\n * @param {Array} [opts.require] - the other plugins that this plugin\n *                               requires. These plugins must exist and\n *                               be enabled for this plugin to function.\n *                               The require'd plugins will also be\n *                               initialized first, in order to make sure\n *                               that dependencies provided by these plugins\n *                               are available\n * @param {String} [opts.version=pkg.version] - the version of this plugin\n * @param {Function} [opts.init] - A function that will be called to initialize\n *                               this plugin at the appropriate time.\n * @param {Function} [opts.configPrefix=this.id] - The prefix to use for configuration\n *                               values in the main configuration service\n * @param {Function} [opts.config] - A function that produces a configuration\n *                                 schema using Joi, which is passed as its\n *                                 first argument.\n * @param {String|False} [opts.publicDir=path + '/public']\n *    - the public directory for this plugin. The final directory must\n *    have the name \"public\", though it can be located somewhere besides\n *    the root of the plugin. Set this to false to disable exposure of a\n *    public directory\n */\nmodule.exports = class Plugin {\n  constructor(kbnServer, path, pkg, opts) {\n    this.kbnServer = kbnServer;\n    this.pkg = pkg;\n    this.path = path;\n\n    this.id = opts.id || pkg.name;\n    this.uiExportsSpecs = opts.uiExports || {};\n    this.requiredIds = opts.require || [];\n    this.version = opts.version || pkg.version;\n\n    // Plugins must specify their version, and by default that version should match\n    // the version of kibana down to the patch level. If these two versions need\n    // to diverge, they can specify a kibana.version in the package to indicate the\n    // version of kibana the plugin is intended to work with.\n    this.kibanaVersion = opts.kibanaVersion || _.get(pkg, 'kibana.version', this.version);\n    this.externalPreInit = opts.preInit || _.noop;\n    this.externalInit = opts.init || _.noop;\n    this.configPrefix = opts.configPrefix || this.id;\n    this.getExternalConfigSchema = opts.config || _.noop;\n    this.getExternalDeprecations = opts.deprecations || _.noop;\n    this.preInit = _.once(this.preInit);\n    this.init = _.once(this.init);\n    this[extendInitFns] = [];\n\n    if (opts.publicDir === false) {\n      this.publicDir = null;\n    }\n    else if (!opts.publicDir) {\n      this.publicDir = resolve(this.path, 'public');\n    }\n    else {\n      this.publicDir = opts.publicDir;\n      if (basename(this.publicDir) !== 'public') {\n        throw new Error(`publicDir for plugin ${this.id} must end with a \"public\" directory.`);\n      }\n    }\n  }\n\n  static scoped(kbnServer, path, pkg) {\n    return class ScopedPlugin extends Plugin {\n      constructor(opts) {\n        super(kbnServer, path, pkg, opts || {});\n      }\n    };\n  }\n\n  async getConfigSchema() {\n    const schema = await this.getExternalConfigSchema(Joi);\n    return schema || defaultConfigSchema;\n  }\n\n  getDeprecations() {\n    const rules = this.getExternalDeprecations(Deprecations);\n    return rules || [];\n  }\n\n  async preInit() {\n    return await this.externalPreInit(this.kbnServer.server);\n  }\n\n  async init() {\n    const { id, version, kbnServer, configPrefix } = this;\n    const { config } = kbnServer;\n\n    // setup the hapi register function and get on with it\n    const asyncRegister = async (server, options) => {\n      this.server = server;\n\n      await Promise.all(this[extendInitFns].map(async fn => {\n        await fn.call(this, server, options);\n      }));\n\n      server.log(['plugins', 'debug'], {\n        tmpl: 'Initializing plugin <%= plugin.toString() %>',\n        plugin: this\n      });\n\n      if (this.publicDir) {\n        server.exposeStaticDir(`/plugins/${id}/{path*}`, this.publicDir);\n      }\n\n      // Many of the plugins are simply adding static assets to the server and we don't need\n      // to track their \"status\". Since plugins must have an init() function to even set its status\n      // we shouldn't even create a status unless the plugin can use it.\n      if (this.externalInit !== _.noop) {\n        this.status = kbnServer.status.createForPlugin(this);\n        server.expose('status', this.status);\n      }\n\n      return await attempt(this.externalInit, [server, options], this);\n    };\n\n    const register = (server, options, next) => {\n      Bluebird.resolve(asyncRegister(server, options)).nodeify(next);\n    };\n\n    register.attributes = { name: id, version: version };\n\n    await fromNode(cb => {\n      kbnServer.server.register({\n        register: register,\n        options: config.has(configPrefix) ? config.get(configPrefix) : null\n      }, cb);\n    });\n\n    // Only change the plugin status to green if the\n    // intial status has not been changed\n    if (this.status && this.status.state === 'uninitialized') {\n      this.status.green('Ready');\n    }\n  }\n\n  extendInit(fn) {\n    this[extendInitFns].push(fn);\n  }\n\n  toJSON() {\n    return this.pkg;\n  }\n\n  toString() {\n    return `${this.id}@${this.version}`;\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/utils/collection.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "to-consumable-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar set = Symbol('internal set');\n\nmodule.exports = (function () {\n  function Collection() {\n    _classCallCheck(this, Collection);\n\n    // Set's have a length of 0, mimic that\n    this[set] = new Set(arguments[0] || []);\n  }\n\n  /******\n   ** Collection API\n   ******/\n\n  _createClass(Collection, [{\n    key: 'toArray',\n    value: function toArray() {\n      return [].concat(_toConsumableArray(this.values()));\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return this.toArray();\n    }\n\n    /******\n     ** ES Set Api\n     ******/\n\n  }, {\n    key: 'add',\n    value: function add(value) {\n      return this[set].add(value);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      return this[set].clear();\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(value) {\n      return this[set]['delete'](value);\n    }\n  }, {\n    key: 'entries',\n    value: function entries() {\n      return this[set].entries();\n    }\n  }, {\n    key: 'forEach',\n    value: function forEach(callbackFn, thisArg) {\n      return this[set].forEach(callbackFn, thisArg);\n    }\n  }, {\n    key: 'has',\n    value: function has(value) {\n      return this[set].has(value);\n    }\n  }, {\n    key: 'keys',\n    value: function keys() {\n      return this[set].keys();\n    }\n  }, {\n    key: 'values',\n    value: function values() {\n      return this[set].values();\n    }\n  }, {\n    key: Symbol.iterator,\n    value: function value() {\n      return this[set][Symbol.iterator]();\n    }\n  }, {\n    key: 'size',\n    get: function get() {\n      return this[set].size;\n    }\n  }], [{\n    key: Symbol.species,\n    get: function get() {\n      return Collection;\n    }\n  }]);\n\n  return Collection;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9jb2xsZWN0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0EsSUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDOztBQUVuQyxNQUFNLENBQUMsT0FBTztBQUNELFdBRFUsVUFBVSxHQUNqQjswQkFETyxVQUFVOzs7QUFFN0IsUUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztHQUN6Qzs7Ozs7O2VBSG9CLFVBQVU7O1dBU3hCLG1CQUFHO0FBQ1IsMENBQVcsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFFO0tBQzNCOzs7V0FFSyxrQkFBRztBQUNQLGFBQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0tBQ3ZCOzs7Ozs7OztXQWNFLGFBQUMsS0FBSyxFQUFFO0FBQ1QsYUFBTyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQzdCOzs7V0FFSSxpQkFBRztBQUNOLGFBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0tBQzFCOzs7V0FFSyxpQkFBQyxLQUFLLEVBQUU7QUFDWixhQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ2hDOzs7V0FFTSxtQkFBRztBQUNSLGFBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0tBQzVCOzs7V0FFTSxpQkFBQyxVQUFVLEVBQUUsT0FBTyxFQUFFO0FBQzNCLGFBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDL0M7OztXQUVFLGFBQUMsS0FBSyxFQUFFO0FBQ1QsYUFBTyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQzdCOzs7V0FFRyxnQkFBRztBQUNMLGFBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0tBQ3pCOzs7V0FFSyxrQkFBRztBQUNQLGFBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQzNCOztTQUVBLE1BQU0sQ0FBQyxRQUFRO1dBQUMsaUJBQUc7QUFDbEIsYUFBTyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7S0FDckM7OztTQXRDTyxlQUFHO0FBQ1QsYUFBTyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO0tBQ3ZCOztTQU5XLE1BQU0sQ0FBQyxPQUFPO1NBQUMsZUFBRztBQUM1QixhQUFPLFVBQVUsQ0FBQztLQUNuQjs7O1NBdkJvQixVQUFVO0lBZ0VoQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy9jb2xsZWN0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBzZXQgPSBTeW1ib2woJ2ludGVybmFsIHNldCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIENvbGxlY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHsgLy8gU2V0J3MgaGF2ZSBhIGxlbmd0aCBvZiAwLCBtaW1pYyB0aGF0XG4gICAgdGhpc1tzZXRdID0gbmV3IFNldChhcmd1bWVudHNbMF0gfHwgW10pO1xuICB9XG5cbiAgLyoqKioqKlxuICAgKiogQ29sbGVjdGlvbiBBUElcbiAgICoqKioqKi9cblxuICB0b0FycmF5KCkge1xuICAgIHJldHVybiBbLi4udGhpcy52YWx1ZXMoKV07XG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9BcnJheSgpO1xuICB9XG5cbiAgLyoqKioqKlxuICAgKiogRVMgU2V0IEFwaVxuICAgKioqKioqL1xuXG4gIHN0YXRpYyBnZXQgW1N5bWJvbC5zcGVjaWVzXSgpIHtcbiAgICByZXR1cm4gQ29sbGVjdGlvbjtcbiAgfVxuXG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzW3NldF0uc2l6ZTtcbiAgfVxuXG4gIGFkZCh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzW3NldF0uYWRkKHZhbHVlKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHJldHVybiB0aGlzW3NldF0uY2xlYXIoKTtcbiAgfVxuXG4gIGRlbGV0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzW3NldF0uZGVsZXRlKHZhbHVlKTtcbiAgfVxuXG4gIGVudHJpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXNbc2V0XS5lbnRyaWVzKCk7XG4gIH1cblxuICBmb3JFYWNoKGNhbGxiYWNrRm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gdGhpc1tzZXRdLmZvckVhY2goY2FsbGJhY2tGbiwgdGhpc0FyZyk7XG4gIH1cblxuICBoYXModmFsdWUpIHtcbiAgICByZXR1cm4gdGhpc1tzZXRdLmhhcyh2YWx1ZSk7XG4gIH1cblxuICBrZXlzKCkge1xuICAgIHJldHVybiB0aGlzW3NldF0ua2V5cygpO1xuICB9XG5cbiAgdmFsdWVzKCkge1xuICAgIHJldHVybiB0aGlzW3NldF0udmFsdWVzKCk7XG4gIH1cblxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gdGhpc1tzZXRdW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgfVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/utils/collection.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;AACA,IAAM,GAAG,GAAG,MAAM,CAAC,cAAc,CAAC,CAAC;;AAEnC,MAAM,CAAC,OAAO;AACD,WADU,UAAU,GACjB;0BADO,UAAU;;;AAE7B,QAAI,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;GACzC;;;;;;eAHoB,UAAU;;WASxB,mBAAG;AACR,0CAAW,IAAI,CAAC,MAAM,EAAE,GAAE;KAC3B;;;WAEK,kBAAG;AACP,aAAO,IAAI,CAAC,OAAO,EAAE,CAAC;KACvB;;;;;;;;WAcE,aAAC,KAAK,EAAE;AACT,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;KAC7B;;;WAEI,iBAAG;AACN,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC;KAC1B;;;WAEK,iBAAC,KAAK,EAAE;AACZ,aAAO,IAAI,CAAC,GAAG,CAAC,UAAO,CAAC,KAAK,CAAC,CAAC;KAChC;;;WAEM,mBAAG;AACR,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC;KAC5B;;;WAEM,iBAAC,UAAU,EAAE,OAAO,EAAE;AAC3B,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;KAC/C;;;WAEE,aAAC,KAAK,EAAE;AACT,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;KAC7B;;;WAEG,gBAAG;AACL,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;KACzB;;;WAEK,kBAAG;AACP,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC;KAC3B;;SAEA,MAAM,CAAC,QAAQ;WAAC,iBAAG;AAClB,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC;KACrC;;;SAtCO,eAAG;AACT,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;KACvB;;SANW,MAAM,CAAC,OAAO;SAAC,eAAG;AAC5B,aAAO,UAAU,CAAC;KACnB;;;SAvBoB,UAAU;IAgEhC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/utils/collection.js",
      "sourcesContent": [
        "\nconst set = Symbol('internal set');\n\nmodule.exports = class Collection {\n  constructor() { // Set's have a length of 0, mimic that\n    this[set] = new Set(arguments[0] || []);\n  }\n\n  /******\n   ** Collection API\n   ******/\n\n  toArray() {\n    return [...this.values()];\n  }\n\n  toJSON() {\n    return this.toArray();\n  }\n\n  /******\n   ** ES Set Api\n   ******/\n\n  static get [Symbol.species]() {\n    return Collection;\n  }\n\n  get size() {\n    return this[set].size;\n  }\n\n  add(value) {\n    return this[set].add(value);\n  }\n\n  clear() {\n    return this[set].clear();\n  }\n\n  delete(value) {\n    return this[set].delete(value);\n  }\n\n  entries() {\n    return this[set].entries();\n  }\n\n  forEach(callbackFn, thisArg) {\n    return this[set].forEach(callbackFn, thisArg);\n  }\n\n  has(value) {\n    return this[set].has(value);\n  }\n\n  keys() {\n    return this[set].keys();\n  }\n\n  values() {\n    return this[set].values();\n  }\n\n  [Symbol.iterator]() {\n    return this[set][Symbol.iterator]();\n  }\n};\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/plugins/check_enabled.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash/internal/toPath",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "toPath"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "to-consumable-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _lodashInternalToPath = require('lodash/internal/toPath');\n\nvar _lodashInternalToPath2 = _interopRequireDefault(_lodashInternalToPath);\n\nexports['default'] = _asyncToGenerator(function* (kbnServer, server, config) {\n  var forcedOverride = {\n    console: function console(enabledInConfig) {\n      return !config.get('elasticsearch.tribe.url') && enabledInConfig;\n    }\n  };\n\n  var plugins = kbnServer.plugins;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n\n    for (var _iterator = plugins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var plugin = _step.value;\n\n      var enabledInConfig = config.get([].concat(_toConsumableArray((0, _lodashInternalToPath2['default'])(plugin.configPrefix)), ['enabled']));\n      var hasOveride = forcedOverride.hasOwnProperty(plugin.id);\n      if (hasOveride) {\n        if (!forcedOverride[plugin.id](enabledInConfig)) {\n          plugins.disable(plugin);\n        }\n      } else if (!enabledInConfig) {\n        plugins.disable(plugin);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return;\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9jaGVja19lbmFibGVkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztvQ0FBbUIsd0JBQXdCOzs7O3VDQUU1QixXQUFnQixTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRTtBQUN4RCxNQUFNLGNBQWMsR0FBRztBQUNyQixXQUFPLEVBQUUsaUJBQVUsZUFBZSxFQUFFO0FBQ2xDLGFBQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLElBQUksZUFBZSxDQUFDO0tBQ2xFO0dBQ0YsQ0FBQzs7TUFFTSxPQUFPLEdBQUssU0FBUyxDQUFyQixPQUFPOzs7Ozs7O0FBRWYseUJBQXFCLE9BQU8sOEhBQUU7VUFBbkIsTUFBTTs7QUFDZixVQUFNLGVBQWUsR0FBRyxNQUFNLENBQUMsR0FBRyw4QkFBSyx1Q0FBTyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUUsU0FBUyxHQUFFLENBQUM7QUFDaEYsVUFBTSxVQUFVLEdBQUcsY0FBYyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDNUQsVUFBSSxVQUFVLEVBQUU7QUFDZCxZQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxlQUFlLENBQUMsRUFBRTtBQUMvQyxpQkFBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN6QjtPQUNGLE1BQU0sSUFBSSxDQUFDLGVBQWUsRUFBRTtBQUMzQixlQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO09BQ3pCO0tBQ0Y7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFRCxTQUFPO0NBQ1IiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9wbHVnaW5zL2NoZWNrX2VuYWJsZWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9QYXRoIGZyb20gJ2xvZGFzaC9pbnRlcm5hbC90b1BhdGgnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiAoa2JuU2VydmVyLCBzZXJ2ZXIsIGNvbmZpZykge1xuICBjb25zdCBmb3JjZWRPdmVycmlkZSA9IHtcbiAgICBjb25zb2xlOiBmdW5jdGlvbiAoZW5hYmxlZEluQ29uZmlnKSB7XG4gICAgICByZXR1cm4gIWNvbmZpZy5nZXQoJ2VsYXN0aWNzZWFyY2gudHJpYmUudXJsJykgJiYgZW5hYmxlZEluQ29uZmlnO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB7IHBsdWdpbnMgfSA9IGtiblNlcnZlcjtcblxuICBmb3IgKGNvbnN0IHBsdWdpbiBvZiBwbHVnaW5zKSB7XG4gICAgY29uc3QgZW5hYmxlZEluQ29uZmlnID0gY29uZmlnLmdldChbLi4udG9QYXRoKHBsdWdpbi5jb25maWdQcmVmaXgpLCAnZW5hYmxlZCddKTtcbiAgICBjb25zdCBoYXNPdmVyaWRlID0gZm9yY2VkT3ZlcnJpZGUuaGFzT3duUHJvcGVydHkocGx1Z2luLmlkKTtcbiAgICBpZiAoaGFzT3ZlcmlkZSkge1xuICAgICAgaWYgKCFmb3JjZWRPdmVycmlkZVtwbHVnaW4uaWRdKGVuYWJsZWRJbkNvbmZpZykpIHtcbiAgICAgICAgcGx1Z2lucy5kaXNhYmxlKHBsdWdpbik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghZW5hYmxlZEluQ29uZmlnKSB7XG4gICAgICBwbHVnaW5zLmRpc2FibGUocGx1Z2luKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm47XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/plugins/check_enabled.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;oCAAmB,wBAAwB;;;;uCAE5B,WAAgB,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;AACxD,MAAM,cAAc,GAAG;AACrB,WAAO,EAAE,iBAAU,eAAe,EAAE;AAClC,aAAO,CAAC,MAAM,CAAC,GAAG,CAAC,yBAAyB,CAAC,IAAI,eAAe,CAAC;KAClE;GACF,CAAC;;MAEM,OAAO,GAAK,SAAS,CAArB,OAAO;;;;;;;AAEf,yBAAqB,OAAO,8HAAE;UAAnB,MAAM;;AACf,UAAM,eAAe,GAAG,MAAM,CAAC,GAAG,8BAAK,uCAAO,MAAM,CAAC,YAAY,CAAC,IAAE,SAAS,GAAE,CAAC;AAChF,UAAM,UAAU,GAAG,cAAc,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;AAC5D,UAAI,UAAU,EAAE;AACd,YAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,eAAe,CAAC,EAAE;AAC/C,iBAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;SACzB;OACF,MAAM,IAAI,CAAC,eAAe,EAAE;AAC3B,eAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;OACzB;KACF;;;;;;;;;;;;;;;;AAED,SAAO;CACR",
      "file": "/Users/osagiefo/kibana-aws/src/server/plugins/check_enabled.js",
      "sourcesContent": [
        "import toPath from 'lodash/internal/toPath';\n\nexport default async function (kbnServer, server, config) {\n  const forcedOverride = {\n    console: function (enabledInConfig) {\n      return !config.get('elasticsearch.tribe.url') && enabledInConfig;\n    }\n  };\n\n  const { plugins } = kbnServer;\n\n  for (const plugin of plugins) {\n    const enabledInConfig = config.get([...toPath(plugin.configPrefix), 'enabled']);\n    const hasOveride = forcedOverride.hasOwnProperty(plugin.id);\n    if (hasOveride) {\n      if (!forcedOverride[plugin.id](enabledInConfig)) {\n        plugins.disable(plugin);\n      }\n    } else if (!enabledInConfig) {\n      plugins.disable(plugin);\n    }\n  }\n\n  return;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/plugins/check_version.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "../../utils/version",
            "imported": [
              "cleanVersion",
              "versionSatisfies"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "cleanVersion",
                "local": "cleanVersion"
              },
              {
                "kind": "named",
                "imported": "versionSatisfies",
                "local": "versionSatisfies"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "get"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _utilsVersion = require('../../utils/version');\n\nvar _lodash = require('lodash');\n\nfunction compatibleWithKibana(kbnServer, plugin) {\n  //core plugins have a version of 'kibana' and are always compatible\n  if (plugin.kibanaVersion === 'kibana') return true;\n\n  var pluginKibanaVersion = (0, _utilsVersion.cleanVersion)(plugin.kibanaVersion);\n  var kibanaVersion = (0, _utilsVersion.cleanVersion)(kbnServer.version);\n\n  return (0, _utilsVersion.versionSatisfies)(pluginKibanaVersion, kibanaVersion);\n}\n\nexports['default'] = _asyncToGenerator(function* (kbnServer, server, config) {\n  //because a plugin pack can contain more than one actual plugin, (for example x-pack)\n  //we make sure that the warning messages are unique\n  var warningMessages = new Set();\n  var plugins = kbnServer.plugins;\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = plugins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var plugin = _step.value;\n\n      var version = plugin.kibanaVersion;\n      var _name = (0, _lodash.get)(plugin, 'pkg.name');\n\n      if (!compatibleWithKibana(kbnServer, plugin)) {\n        var message = 'Plugin \"' + _name + '\" was disabled because it expected Kibana version \"' + version + '\", and found \"' + kbnServer.version + '\".';\n        warningMessages.add(message);\n        plugins.disable(plugin);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = warningMessages[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var message = _step2.value;\n\n      server.log(['warning'], message);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return;\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9jaGVja192ZXJzaW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OzRCQUErQyxxQkFBcUI7O3NCQUNoRCxRQUFROztBQUU1QixTQUFTLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUU7O0FBRS9DLE1BQUksTUFBTSxDQUFDLGFBQWEsS0FBSyxRQUFRLEVBQUUsT0FBTyxJQUFJLENBQUM7O0FBRW5ELE1BQU0sbUJBQW1CLEdBQUcsZ0NBQWEsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQy9ELE1BQU0sYUFBYSxHQUFHLGdDQUFhLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQzs7QUFFdEQsU0FBTyxvQ0FBaUIsbUJBQW1CLEVBQUUsYUFBYSxDQUFDLENBQUM7Q0FDN0Q7O3VDQUVjLFdBQWdCLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFOzs7QUFHeEQsTUFBTSxlQUFlLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUNsQyxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDOzs7Ozs7O0FBRWxDLHlCQUFxQixPQUFPLDhIQUFFO1VBQW5CLE1BQU07O0FBQ2YsVUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQztBQUNyQyxVQUFNLEtBQUksR0FBRyxpQkFBSSxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7O0FBRXJDLFVBQUksQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLEVBQUU7QUFDNUMsWUFBTSxPQUFPLGdCQUFjLEtBQUksMkRBQXNELE9BQU8sc0JBQWlCLFNBQVMsQ0FBQyxPQUFPLE9BQUksQ0FBQztBQUNuSSx1QkFBZSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM3QixlQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO09BQ3pCO0tBQ0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVELDBCQUFzQixlQUFlLG1JQUFFO1VBQTVCLE9BQU87O0FBQ2hCLFlBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztLQUNsQzs7Ozs7Ozs7Ozs7Ozs7OztBQUVELFNBQU87Q0FDUiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvc2VydmVyL3BsdWdpbnMvY2hlY2tfdmVyc2lvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsZWFuVmVyc2lvbiwgdmVyc2lvblNhdGlzZmllcyB9IGZyb20gJy4uLy4uL3V0aWxzL3ZlcnNpb24nO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnbG9kYXNoJztcblxuZnVuY3Rpb24gY29tcGF0aWJsZVdpdGhLaWJhbmEoa2JuU2VydmVyLCBwbHVnaW4pIHtcbiAgLy9jb3JlIHBsdWdpbnMgaGF2ZSBhIHZlcnNpb24gb2YgJ2tpYmFuYScgYW5kIGFyZSBhbHdheXMgY29tcGF0aWJsZVxuICBpZiAocGx1Z2luLmtpYmFuYVZlcnNpb24gPT09ICdraWJhbmEnKSByZXR1cm4gdHJ1ZTtcblxuICBjb25zdCBwbHVnaW5LaWJhbmFWZXJzaW9uID0gY2xlYW5WZXJzaW9uKHBsdWdpbi5raWJhbmFWZXJzaW9uKTtcbiAgY29uc3Qga2liYW5hVmVyc2lvbiA9IGNsZWFuVmVyc2lvbihrYm5TZXJ2ZXIudmVyc2lvbik7XG5cbiAgcmV0dXJuIHZlcnNpb25TYXRpc2ZpZXMocGx1Z2luS2liYW5hVmVyc2lvbiwga2liYW5hVmVyc2lvbik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIChrYm5TZXJ2ZXIsIHNlcnZlciwgY29uZmlnKSB7XG4gIC8vYmVjYXVzZSBhIHBsdWdpbiBwYWNrIGNhbiBjb250YWluIG1vcmUgdGhhbiBvbmUgYWN0dWFsIHBsdWdpbiwgKGZvciBleGFtcGxlIHgtcGFjaylcbiAgLy93ZSBtYWtlIHN1cmUgdGhhdCB0aGUgd2FybmluZyBtZXNzYWdlcyBhcmUgdW5pcXVlXG4gIGNvbnN0IHdhcm5pbmdNZXNzYWdlcyA9IG5ldyBTZXQoKTtcbiAgY29uc3QgcGx1Z2lucyA9IGtiblNlcnZlci5wbHVnaW5zO1xuXG4gIGZvciAoY29uc3QgcGx1Z2luIG9mIHBsdWdpbnMpIHtcbiAgICBjb25zdCB2ZXJzaW9uID0gcGx1Z2luLmtpYmFuYVZlcnNpb247XG4gICAgY29uc3QgbmFtZSA9IGdldChwbHVnaW4sICdwa2cubmFtZScpO1xuXG4gICAgaWYgKCFjb21wYXRpYmxlV2l0aEtpYmFuYShrYm5TZXJ2ZXIsIHBsdWdpbikpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgUGx1Z2luIFwiJHtuYW1lfVwiIHdhcyBkaXNhYmxlZCBiZWNhdXNlIGl0IGV4cGVjdGVkIEtpYmFuYSB2ZXJzaW9uIFwiJHt2ZXJzaW9ufVwiLCBhbmQgZm91bmQgXCIke2tiblNlcnZlci52ZXJzaW9ufVwiLmA7XG4gICAgICB3YXJuaW5nTWVzc2FnZXMuYWRkKG1lc3NhZ2UpO1xuICAgICAgcGx1Z2lucy5kaXNhYmxlKHBsdWdpbik7XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHdhcm5pbmdNZXNzYWdlcykge1xuICAgIHNlcnZlci5sb2coWyd3YXJuaW5nJ10sIG1lc3NhZ2UpO1xuICB9XG5cbiAgcmV0dXJuO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/plugins/check_version.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;4BAA+C,qBAAqB;;sBAChD,QAAQ;;AAE5B,SAAS,oBAAoB,CAAC,SAAS,EAAE,MAAM,EAAE;;AAE/C,MAAI,MAAM,CAAC,aAAa,KAAK,QAAQ,EAAE,OAAO,IAAI,CAAC;;AAEnD,MAAM,mBAAmB,GAAG,gCAAa,MAAM,CAAC,aAAa,CAAC,CAAC;AAC/D,MAAM,aAAa,GAAG,gCAAa,SAAS,CAAC,OAAO,CAAC,CAAC;;AAEtD,SAAO,oCAAiB,mBAAmB,EAAE,aAAa,CAAC,CAAC;CAC7D;;uCAEc,WAAgB,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;;;AAGxD,MAAM,eAAe,GAAG,IAAI,GAAG,EAAE,CAAC;AAClC,MAAM,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;;;;;;;AAElC,yBAAqB,OAAO,8HAAE;UAAnB,MAAM;;AACf,UAAM,OAAO,GAAG,MAAM,CAAC,aAAa,CAAC;AACrC,UAAM,KAAI,GAAG,iBAAI,MAAM,EAAE,UAAU,CAAC,CAAC;;AAErC,UAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,MAAM,CAAC,EAAE;AAC5C,YAAM,OAAO,gBAAc,KAAI,2DAAsD,OAAO,sBAAiB,SAAS,CAAC,OAAO,OAAI,CAAC;AACnI,uBAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAC7B,eAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;OACzB;KACF;;;;;;;;;;;;;;;;;;;;;AAED,0BAAsB,eAAe,mIAAE;UAA5B,OAAO;;AAChB,YAAM,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;KAClC;;;;;;;;;;;;;;;;AAED,SAAO;CACR",
      "file": "/Users/osagiefo/kibana-aws/src/server/plugins/check_version.js",
      "sourcesContent": [
        "import { cleanVersion, versionSatisfies } from '../../utils/version';\nimport { get } from 'lodash';\n\nfunction compatibleWithKibana(kbnServer, plugin) {\n  //core plugins have a version of 'kibana' and are always compatible\n  if (plugin.kibanaVersion === 'kibana') return true;\n\n  const pluginKibanaVersion = cleanVersion(plugin.kibanaVersion);\n  const kibanaVersion = cleanVersion(kbnServer.version);\n\n  return versionSatisfies(pluginKibanaVersion, kibanaVersion);\n}\n\nexport default async function (kbnServer, server, config) {\n  //because a plugin pack can contain more than one actual plugin, (for example x-pack)\n  //we make sure that the warning messages are unique\n  const warningMessages = new Set();\n  const plugins = kbnServer.plugins;\n\n  for (const plugin of plugins) {\n    const version = plugin.kibanaVersion;\n    const name = get(plugin, 'pkg.name');\n\n    if (!compatibleWithKibana(kbnServer, plugin)) {\n      const message = `Plugin \"${name}\" was disabled because it expected Kibana version \"${version}\", and found \"${kbnServer.version}\".`;\n      warningMessages.add(message);\n      plugins.disable(plugin);\n    }\n  }\n\n  for (const message of warningMessages) {\n    server.log(['warning'], message);\n  }\n\n  return;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/utils/version.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "semver",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "semver"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "versionSatisfies",
            "cleanActual",
            "cleanExpected",
            "cleanVersion",
            "version"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "versionSatisfies",
              "exported": "versionSatisfies"
            },
            {
              "kind": "local",
              "local": "cleanActual",
              "exported": "cleanActual"
            },
            {
              "kind": "local",
              "local": "cleanExpected",
              "exported": "cleanExpected"
            },
            {
              "kind": "local",
              "local": "cleanVersion",
              "exported": "cleanVersion"
            },
            {
              "kind": "local",
              "local": "version",
              "exported": "version"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.versionSatisfies = versionSatisfies;\nexports.cleanVersion = cleanVersion;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _semver = require('semver');\n\nvar _semver2 = _interopRequireDefault(_semver);\n\nfunction versionSatisfies(cleanActual, cleanExpected) {\n  try {\n    return cleanActual === cleanExpected;\n  } catch (err) {\n    return false;\n  }\n}\n\nfunction cleanVersion(version) {\n  var match = version.match(/\\d+\\.\\d+\\.\\d+/);\n  if (!match) return version;\n  return match[0];\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy92ZXJzaW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7c0JBQW1CLFFBQVE7Ozs7QUFFcEIsU0FBUyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsYUFBYSxFQUFFO0FBQzNELE1BQUk7QUFDRixXQUFRLFdBQVcsS0FBSyxhQUFhLENBQUU7R0FDeEMsQ0FBQyxPQUFPLEdBQUcsRUFBRTtBQUNaLFdBQU8sS0FBSyxDQUFDO0dBQ2Q7Q0FDRjs7QUFFTSxTQUFTLFlBQVksQ0FBQyxPQUFPLEVBQUU7QUFDcEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUM3QyxNQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sT0FBTyxDQUFDO0FBQzNCLFNBQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ2pCIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91dGlscy92ZXJzaW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNlbXZlciBmcm9tICdzZW12ZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gdmVyc2lvblNhdGlzZmllcyhjbGVhbkFjdHVhbCwgY2xlYW5FeHBlY3RlZCkge1xuICB0cnkge1xuICAgIHJldHVybiAoY2xlYW5BY3R1YWwgPT09IGNsZWFuRXhwZWN0ZWQpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuVmVyc2lvbih2ZXJzaW9uKSB7XG4gIGNvbnN0IG1hdGNoID0gdmVyc2lvbi5tYXRjaCgvXFxkK1xcLlxcZCtcXC5cXGQrLyk7XG4gIGlmICghbWF0Y2gpIHJldHVybiB2ZXJzaW9uO1xuICByZXR1cm4gbWF0Y2hbMF07XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/utils/version.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;sBAAmB,QAAQ;;;;AAEpB,SAAS,gBAAgB,CAAC,WAAW,EAAE,aAAa,EAAE;AAC3D,MAAI;AACF,WAAQ,WAAW,KAAK,aAAa,CAAE;GACxC,CAAC,OAAO,GAAG,EAAE;AACZ,WAAO,KAAK,CAAC;GACd;CACF;;AAEM,SAAS,YAAY,CAAC,OAAO,EAAE;AACpC,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AAC7C,MAAI,CAAC,KAAK,EAAE,OAAO,OAAO,CAAC;AAC3B,SAAO,KAAK,CAAC,CAAC,CAAC,CAAC;CACjB",
      "file": "/Users/osagiefo/kibana-aws/src/utils/version.js",
      "sourcesContent": [
        "import semver from 'semver';\n\nexport function versionSatisfies(cleanActual, cleanExpected) {\n  try {\n    return (cleanActual === cleanExpected);\n  } catch (err) {\n    return false;\n  }\n}\n\nexport function cleanVersion(version) {\n  const match = version.match(/\\d+\\.\\d+\\.\\d+/);\n  if (!match) return version;\n  return match[0];\n}\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/config/complete.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "difference",
              "keys"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "difference",
                "local": "difference"
              },
              {
                "kind": "named",
                "imported": "keys",
                "local": "keys"
              }
            ]
          },
          {
            "source": "./transform_deprecations",
            "imported": [
              "transformDeprecations"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "transformDeprecations",
                "local": "transformDeprecations"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _lodash = require('lodash');\n\nvar _transform_deprecations = require('./transform_deprecations');\n\nvar getUnusedSettings = function getUnusedSettings(settings, configValues) {\n  return (0, _lodash.difference)((0, _lodash.keys)((0, _transform_deprecations.transformDeprecations)(settings)), (0, _lodash.keys)(configValues));\n};\n\nexports['default'] = function (kbnServer, server, config) {\n\n  server.decorate('server', 'config', function () {\n    return kbnServer.config;\n  });\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = getUnusedSettings(kbnServer.settings, config.get())[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var key = _step.value;\n\n      server.log(['warning', 'config'], 'Settings for \"' + key + '\" were not applied, check for spelling errors and ensure the plugin is loaded.');\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvY29uZmlnL2NvbXBsZXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztzQkFBaUMsUUFBUTs7c0NBQ0gsMEJBQTBCOztBQUVoRSxJQUFNLGlCQUFpQixHQUFHLFNBQXBCLGlCQUFpQixDQUFJLFFBQVEsRUFBRSxZQUFZLEVBQUs7QUFDcEQsU0FBTyx3QkFBVyxrQkFBSyxtREFBc0IsUUFBUSxDQUFDLENBQUMsRUFBRSxrQkFBSyxZQUFZLENBQUMsQ0FBQyxDQUFDO0NBQzlFLENBQUM7O3FCQUVhLFVBQVUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUU7O0FBRWxELFFBQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxZQUFZO0FBQzlDLFdBQU8sU0FBUyxDQUFDLE1BQU0sQ0FBQztHQUN6QixDQUFDLENBQUM7Ozs7Ozs7QUFFSCx5QkFBa0IsaUJBQWlCLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsOEhBQUU7VUFBNUQsR0FBRzs7QUFDWixZQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxxQkFBbUIsR0FBRyxvRkFBaUYsQ0FBQztLQUN6STs7Ozs7Ozs7Ozs7Ozs7O0NBQ0YiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9jb25maWcvY29tcGxldGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkaWZmZXJlbmNlLCBrZXlzIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHRyYW5zZm9ybURlcHJlY2F0aW9ucyB9IGZyb20gJy4vdHJhbnNmb3JtX2RlcHJlY2F0aW9ucyc7XG5cbmNvbnN0IGdldFVudXNlZFNldHRpbmdzID0gKHNldHRpbmdzLCBjb25maWdWYWx1ZXMpID0+IHtcbiAgcmV0dXJuIGRpZmZlcmVuY2Uoa2V5cyh0cmFuc2Zvcm1EZXByZWNhdGlvbnMoc2V0dGluZ3MpKSwga2V5cyhjb25maWdWYWx1ZXMpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChrYm5TZXJ2ZXIsIHNlcnZlciwgY29uZmlnKSB7XG5cbiAgc2VydmVyLmRlY29yYXRlKCdzZXJ2ZXInLCAnY29uZmlnJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBrYm5TZXJ2ZXIuY29uZmlnO1xuICB9KTtcblxuICBmb3IgKGNvbnN0IGtleSBvZiBnZXRVbnVzZWRTZXR0aW5ncyhrYm5TZXJ2ZXIuc2V0dGluZ3MsIGNvbmZpZy5nZXQoKSkpIHtcbiAgICBzZXJ2ZXIubG9nKFsnd2FybmluZycsICdjb25maWcnXSwgYFNldHRpbmdzIGZvciBcIiR7a2V5fVwiIHdlcmUgbm90IGFwcGxpZWQsIGNoZWNrIGZvciBzcGVsbGluZyBlcnJvcnMgYW5kIGVuc3VyZSB0aGUgcGx1Z2luIGlzIGxvYWRlZC5gKTtcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/config/complete.js"
      ],
      "names": [],
      "mappings": ";;;;;;sBAAiC,QAAQ;;sCACH,0BAA0B;;AAEhE,IAAM,iBAAiB,GAAG,SAApB,iBAAiB,CAAI,QAAQ,EAAE,YAAY,EAAK;AACpD,SAAO,wBAAW,kBAAK,mDAAsB,QAAQ,CAAC,CAAC,EAAE,kBAAK,YAAY,CAAC,CAAC,CAAC;CAC9E,CAAC;;qBAEa,UAAU,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;;AAElD,QAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,EAAE,YAAY;AAC9C,WAAO,SAAS,CAAC,MAAM,CAAC;GACzB,CAAC,CAAC;;;;;;;AAEH,yBAAkB,iBAAiB,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC,8HAAE;UAA5D,GAAG;;AACZ,YAAM,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,QAAQ,CAAC,qBAAmB,GAAG,oFAAiF,CAAC;KACzI;;;;;;;;;;;;;;;CACF",
      "file": "/Users/osagiefo/kibana-aws/src/server/config/complete.js",
      "sourcesContent": [
        "import { difference, keys } from 'lodash';\nimport { transformDeprecations } from './transform_deprecations';\n\nconst getUnusedSettings = (settings, configValues) => {\n  return difference(keys(transformDeprecations(settings)), keys(configValues));\n};\n\nexport default function (kbnServer, server, config) {\n\n  server.decorate('server', 'config', function () {\n    return kbnServer.config;\n  });\n\n  for (const key of getUnusedSettings(kbnServer.settings, config.get())) {\n    server.log(['warning', 'config'], `Settings for \"${key}\" were not applied, check for spelling errors and ensure the plugin is loaded.`);\n  }\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "url",
            "imported": [
              "format"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "format",
                "local": "formatUrl"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "readFileSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readFileSync",
                "local": "readFile"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "defaults"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "defaults",
                "local": "defaults"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "props"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "props",
                "local": "props"
              }
            ]
          },
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "reduce"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "reduce",
                "local": "reduceAsync"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          },
          {
            "source": "../utils/from_root",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fromRoot"
              }
            ]
          },
          {
            "source": "./ui_exports",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UiExports"
              }
            ]
          },
          {
            "source": "./ui_bundle",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UiBundle"
              }
            ]
          },
          {
            "source": "./ui_bundle_collection",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UiBundleCollection"
              }
            ]
          },
          {
            "source": "./ui_bundler_env",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UiBundlerEnv"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _url = require('url');\n\nvar _fs = require('fs');\n\nvar _lodash = require('lodash');\n\nvar _bluebird = require('bluebird');\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nvar _path = require('path');\n\nvar _utilsFrom_root = require('../utils/from_root');\n\nvar _utilsFrom_root2 = _interopRequireDefault(_utilsFrom_root);\n\nvar _ui_exports = require('./ui_exports');\n\nvar _ui_exports2 = _interopRequireDefault(_ui_exports);\n\nvar _ui_bundle = require('./ui_bundle');\n\nvar _ui_bundle2 = _interopRequireDefault(_ui_bundle);\n\nvar _ui_bundle_collection = require('./ui_bundle_collection');\n\nvar _ui_bundle_collection2 = _interopRequireDefault(_ui_bundle_collection);\n\nvar _ui_bundler_env = require('./ui_bundler_env');\n\nvar _ui_bundler_env2 = _interopRequireDefault(_ui_bundler_env);\n\nexports['default'] = _asyncToGenerator(function* (kbnServer, server, config) {\n  var getKibanaPayload = _asyncToGenerator(function* (_ref) {\n    var app = _ref.app;\n    var request = _ref.request;\n    var includeUserProvidedConfig = _ref.includeUserProvidedConfig;\n\n    var uiSettings = server.uiSettings();\n\n    return {\n      app: app,\n      nav: uiExports.navLinks.inOrder,\n      version: kbnServer.version,\n      buildNum: config.get('pkg.buildNum'),\n      buildSha: config.get('pkg.buildSha'),\n      basePath: config.get('server.basePath'),\n      serverName: config.get('server.name'),\n      devMode: config.get('env.dev'),\n      uiSettings: yield (0, _bluebird.props)({\n        defaults: uiSettings.getDefaults(),\n        user: includeUserProvidedConfig && uiSettings.getUserProvided(request)\n      }),\n      vars: yield (0, _bluebird.reduce)(uiExports.injectedVarsReplacers, _asyncToGenerator(function* (acc, replacer) {\n        return yield replacer(acc, request, server);\n      }), (0, _lodash.defaults)((yield app.getInjectedVars()) || {}, uiExports.defaultInjectedVars))\n    };\n  });\n\n  var renderApp = _asyncToGenerator(function* (_ref2) {\n    var app = _ref2.app;\n    var reply = _ref2.reply;\n    var _ref2$includeUserProvidedConfig = _ref2.includeUserProvidedConfig;\n    var includeUserProvidedConfig = _ref2$includeUserProvidedConfig === undefined ? true : _ref2$includeUserProvidedConfig;\n\n    try {\n      return reply.view(app.templateName, {\n        app: app,\n        kibanaPayload: yield getKibanaPayload({\n          app: app,\n          request: reply.request,\n          includeUserProvidedConfig: includeUserProvidedConfig\n        }),\n        bundlePath: config.get('server.basePath') + '/bundles'\n      });\n    } catch (err) {\n      reply(err);\n    }\n  });\n\n  var uiExports = kbnServer.uiExports = new _ui_exports2['default']({\n    urlBasePath: config.get('server.basePath')\n  });\n\n  var bundlerEnv = new _ui_bundler_env2['default'](config.get('optimize.bundleDir'));\n  bundlerEnv.addContext('env', config.get('env.name'));\n  bundlerEnv.addContext('urlBasePath', config.get('server.basePath'));\n  bundlerEnv.addContext('sourceMaps', config.get('optimize.sourceMaps'));\n  bundlerEnv.addContext('kbnVersion', config.get('pkg.version'));\n  bundlerEnv.addContext('buildNum', config.get('pkg.buildNum'));\n  uiExports.addConsumer(bundlerEnv);\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = kbnServer.plugins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var plugin = _step.value;\n\n      uiExports.consumePlugin(plugin);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var bundles = kbnServer.bundles = new _ui_bundle_collection2['default'](bundlerEnv, config.get('optimize.bundleFilter'));\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = uiExports.getAllApps()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var app = _step2.value;\n\n      bundles.addApp(app);\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = uiExports.getBundleProviders()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var gen = _step3.value;\n\n      var bundle = yield gen(_ui_bundle2['default'], bundlerEnv, uiExports.getAllApps(), kbnServer.plugins);\n      if (bundle) bundles.add(bundle);\n    }\n\n    // render all views from the ui/views directory\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  server.setupViews((0, _path.resolve)(__dirname, 'views'));\n\n  server.route({\n    path: '/app/{id}',\n    method: 'GET',\n    handler: _asyncToGenerator(function* (req, reply) {\n      var id = req.params.id;\n      var app = uiExports.apps.byId[id];\n      if (!app) return reply(_boom2['default'].notFound('Unknown app ' + id));\n\n      try {\n        if (kbnServer.status.isGreen()) {\n          yield reply.renderApp(app);\n        } else {\n          yield reply.renderStatusPage();\n        }\n      } catch (err) {\n        reply(_boom2['default'].wrap(err));\n      }\n    })\n  });\n\n  server.decorate('reply', 'renderApp', function (app) {\n    return renderApp({\n      app: app,\n      reply: this,\n      includeUserProvidedConfig: true\n    });\n  });\n\n  server.decorate('reply', 'renderAppWithDefaultConfig', function (app) {\n    return renderApp({\n      app: app,\n      reply: this,\n      includeUserProvidedConfig: false\n    });\n  });\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O21CQUFvQyxLQUFLOztrQkFDQSxJQUFJOztzQkFDcEIsUUFBUTs7d0JBQ1gsVUFBVTs7b0JBQ2YsTUFBTTs7OztvQkFFQyxNQUFNOzs4QkFDVCxvQkFBb0I7Ozs7MEJBQ25CLGNBQWM7Ozs7eUJBQ2YsYUFBYTs7OztvQ0FDSCx3QkFBd0I7Ozs7OEJBQzlCLGtCQUFrQjs7Ozt1Q0FFNUIsV0FBTyxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBSztNQW1EbkMsZ0JBQWdCLHFCQUEvQixXQUFnQyxJQUEyQyxFQUFFO1FBQTNDLEdBQUcsR0FBTCxJQUEyQyxDQUF6QyxHQUFHO1FBQUUsT0FBTyxHQUFkLElBQTJDLENBQXBDLE9BQU87UUFBRSx5QkFBeUIsR0FBekMsSUFBMkMsQ0FBM0IseUJBQXlCOztBQUN2RSxRQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxFQUFFLENBQUM7O0FBRXZDLFdBQU87QUFDTCxTQUFHLEVBQUUsR0FBRztBQUNSLFNBQUcsRUFBRSxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU87QUFDL0IsYUFBTyxFQUFFLFNBQVMsQ0FBQyxPQUFPO0FBQzFCLGNBQVEsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQztBQUNwQyxjQUFRLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7QUFDcEMsY0FBUSxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUM7QUFDdkMsZ0JBQVUsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQztBQUNyQyxhQUFPLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUM7QUFDOUIsZ0JBQVUsRUFBRSxNQUFNLHFCQUFNO0FBQ3RCLGdCQUFRLEVBQUUsVUFBVSxDQUFDLFdBQVcsRUFBRTtBQUNsQyxZQUFJLEVB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LEVBQUUsSUFBSTtBQUNYLCtCQUF5QixFQUFFLElBQUk7S0FDaEMsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDOztBQUVILFFBQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLDRCQUE0QixFQUFFLFVBQVUsR0FBRyxFQUFFO0FBQ3BFLFdBQU8sU0FBUyxDQUFDO0FBQ2YsU0FBRyxFQUFILEdBQUc7QUFDSCxXQUFLLEVBQUUsSUFBSTtBQUNYLCtCQUF5QixFQUFFLEtBQUs7S0FDakMsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3VpL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9ybWF0IGFzIGZvcm1hdFVybCB9IGZyb20gJ3VybCc7XG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgYXMgcmVhZEZpbGUgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBkZWZhdWx0cyB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBwcm9wcyB9IGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCBCb29tIGZyb20gJ2Jvb20nO1xuaW1wb3J0IHsgcmVkdWNlIGFzIHJlZHVjZUFzeW5jIH0gZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IGZyb21Sb290IGZyb20gJy4uL3V0aWxzL2Zyb21fcm9vdCc7XG5pbXBvcnQgVWlFeHBvcnRzIGZyb20gJy4vdWlfZXhwb3J0cyc7XG5pbXBvcnQgVWlCdW5kbGUgZnJvbSAnLi91aV9idW5kbGUnO1xuaW1wb3J0IFVpQnVuZGxlQ29sbGVjdGlvbiBmcm9tICcuL3VpX2J1bmRsZV9jb2xsZWN0aW9uJztcbmltcG9ydCBVaUJ1bmRsZXJFbnYgZnJvbSAnLi91aV9idW5kbGVyX2Vudic7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChrYm5TZXJ2ZXIsIHNlcnZlciwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IHVpRXhwb3J0cyA9IGtiblNlcnZlci51aUV4cG9ydHMgPSBuZXcgVWlFeHBvcnRzKHtcbiAgICB1cmxCYXNlUGF0aDogY29uZmlnLmdldCgnc2VydmVyLmJhc2VQYXRoJylcbiAgfSk7XG5cbiAgY29uc3QgYnVuZGxlckVudiA9IG5ldyBVaUJ1bmRsZXJFbnYoY29uZmlnLmdldCgnb3B0aW1pemUuYnVuZGxlRGlyJykpO1xuICBidW5kbGVyRW52LmFkZENvbnRleHQoJ2VudicsIGNvbmZpZy5nZXQoJ2Vudi5uYW1lJykpO1xuICBidW5kbGVyRW52LmFkZENvbnRleHQoJ3VybEJhc2VQYXRoJywgY29uZmlnLmdldCgnc2VydmVyLmJhc2VQYXRoJykpO1xuICBidW5kbGVyRW52LmFkZENvbnRleHQoJ3NvdXJjZU1hcHMnLCBjb25maWcuZ2V0KCdvcHRpbWl6ZS5zb3VyY2VNYXBzJykpO1xuICBidW5kbGVyRW52LmFkZENvbnRleHQoJ2tiblZlcnNpb24nLCBjb25maWcuZ2V0KCdwa2cudmVyc2lvbicpKTtcbiAgYnVuZGxlckVudi5hZGRDb250ZXh0KCdidWlsZE51bScsIGNvbmZpZy5nZXQoJ3BrZy5idWlsZE51bScpKTtcbiAgdWlFeHBvcnRzLmFkZENvbnN1bWVyKGJ1bmRsZXJFbnYpO1xuXG4gIGZvciAoY29uc3QgcGx1Z2luIG9mIGtiblNlcnZlci5wbHVnaW5zKSB7XG4gICAgdWlFeHBvcnRzLmNvbnN1bWVQbHVnaW4ocGx1Z2luKTtcbiAgfVxuXG4gIGNvbnN0IGJ1bmRsZXMgPSBrYm5TZXJ2ZXIuYnVuZGxlcyA9IG5ldyBVaUJ1bmRsZUNvbGxlY3Rpb24oYnVuZGxlckVudiwgY29uZmlnLmdldCgnb3B0aW1pemUuYnVuZGxlRmlsdGVyJykpO1xuXG4gIGZvciAoY29uc3QgYXBwIG9mIHVpRXhwb3J0cy5nZXRBbGxBcHBzKCkpIHtcbiAgICBidW5kbGVzLmFkZEFwcChhcHApO1xuICB9XG5cbiAgZm9yIChjb25zdCBnZW4gb2YgdWlFeHBvcnRzLmdldEJ1bmRsZVByb3ZpZGVycygpKSB7XG4gICAgY29uc3QgYnVuZGxlID0gYXdhaXQgZ2VuKFVpQnVuZGxlLCBidW5kbGVyRW52LCB1aUV4cG9ydHMuZ2V0QWxsQXBwcygpLCBrYm5TZXJ2ZXIucGx1Z2lucyk7XG4gICAgaWYgKGJ1bmRsZSkgYnVuZGxlcy5hZGQoYnVuZGxlKTtcbiAgfVxuXG4gIC8vIHJlbmRlciBhbGwgdmlld3MgZnJvbSB0aGUgdWkvdmlld3MgZGlyZWN0b3J5XG4gIHNlcnZlci5zZXR1cFZpZXdzKHJlc29sdmUoX19kaXJuYW1lLCAndmlld3MnKSk7XG5cbiAgc2VydmVyLnJvdXRlKHtcbiAgICBwYXRoOiAnL2FwcC97aWR9JyxcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIGFzeW5jIGhhbmRsZXIocmVxLCByZXBseSkge1xuICAgICAgY29uc3QgaWQgPSByZXEucGFyYW1zLmlkO1xuICAgICAgY29uc3QgYXBwID0gdWlFeHBvcnRzLmFwcHMuYnlJZFtpZF07XG4gICAgICBpZiAoIWFwcCkgcmV0dXJuIHJlcGx5KEJvb20ubm90Rm91bmQoJ1Vua25vd24gYXBwICcgKyBpZCkpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoa2JuU2VydmVyLnN0YXR1cy5pc0dyZWVuKCkpIHtcbiAgICAgICAgICBhd2FpdCByZXBseS5yZW5kZXJBcHAoYXBwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhd2FpdCByZXBseS5yZW5kZXJTdGF0dXNQYWdlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXBseShCb29tLndyYXAoZXJyKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBhc3luYyBmdW5jdGlvbiBnZXRLaWJhbmFQYXlsb2FkKHsgYXBwLCByZXF1ZXN0LCBpbmNsdWRlVXNlclByb3ZpZGVkQ29uZmlnIH0pIHtcbiAgICBjb25zdCB1aVNldHRpbmdzID0gc2VydmVyLnVpU2V0dGluZ3MoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBhcHA6IGFwcCxcbiAgICAgIG5hdjogdWlFeHBvcnRzLm5hdkxpbmtzLmluT3JkZXIsXG4gICAgICB2ZXJzaW9uOiBrYm5TZXJ2ZXIudmVyc2lvbixcbiAgICAgIGJ1aWxkTnVtOiBjb25maWcuZ2V0KCdwa2cuYnVpbGROdW0nKSxcbiAgICAgIGJ1aWxkU2hhOiBjb25maWcuZ2V0KCdwa2cuYnVpbGRTaGEnKSxcbiAgICAgIGJhc2VQYXRoOiBjb25maWcuZ2V0KCdzZXJ2ZXIuYmFzZVBhdGgnKSxcbiAgICAgIHNlcnZlck5hbWU6IGNvbmZpZy5nZXQoJ3NlcnZlci5uYW1lJyksXG4gICAgICBkZXZNb2RlOiBjb25maWcuZ2V0KCdlbnYuZGV2JyksXG4gICAgICB1aVNldHRpbmdzOiBhd2FpdCBwcm9wcyh7XG4gICAgICAgIGRlZmF1bHRzOiB1aVNldHRpbmdzLmdldERlZmF1bHRzKCksXG4gICAgICAgIHVzZXI6IGluY2x1ZGVVc2VyUHJvdmlkZWRDb25maWcgJiYgdWlTZXR0aW5ncy5nZXRVc2VyUHJvdmlkZWQocmVxdWVzdClcbiAgICAgIH0pLFxuICAgICAgdmFyczogYXdhaXQgcmVkdWNlQXN5bmMoXG4gICAgICAgIHVpRXhwb3J0cy5pbmplY3RlZFZhcnNSZXBsYWNlcnMsXG4gICAgICAgIGFzeW5jIChhY2MsIHJlcGxhY2VyKSA9PiBhd2FpdCByZXBsYWNlcihhY2MsIHJlcXVlc3QsIHNlcnZlciksXG4gICAgICAgIGRlZmF1bHRzKGF3YWl0IGFwcC5nZXRJbmplY3RlZFZhcnMoKSB8fCB7fSwgdWlFeHBvcnRzLmRlZmF1bHRJbmplY3RlZFZhcnMpXG4gICAgICApLFxuICAgIH07XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiByZW5kZXJBcHAoeyBhcHAsIHJlcGx5LCBpbmNsdWRlVXNlclByb3ZpZGVkQ29uZmlnID0gdHJ1ZSB9KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiByZXBseS52aWV3KGFwcC50ZW1wbGF0ZU5hbWUsIHtcbiAgICAgICAgYXBwLFxuICAgICAgICBraWJhbmFQYXlsb2FkOiBhd2FpdCBnZXRLaWJhbmFQYXlsb2FkKHtcbiAgICAgICAgICBhcHAsXG4gICAgICAgICAgcmVxdWVzdDogcmVwbHkucmVxdWVzdCxcbiAgICAgICAgICBpbmNsdWRlVXNlclByb3ZpZGVkQ29uZmlnXG4gICAgICAgIH0pLFxuICAgICAgICBidW5kbGVQYXRoOiBgJHtjb25maWcuZ2V0KCdzZXJ2ZXIuYmFzZVBhdGgnKX0vYnVuZGxlc2AsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJlcGx5KGVycik7XG4gICAgfVxuICB9XG5cbiAgc2VydmVyLmRlY29yYXRlKCdyZXBseScsICdyZW5kZXJBcHAnLCBmdW5jdGlvbiAoYXBwKSB7XG4gICAgcmV0dXJuIHJlbmRlckFwcCh7XG4gICAgICBhcHAsXG4gICAgICByZXBseTogdGhpcyxcbiAgICAgIGluY2x1ZGVVc2VyUHJvdmlkZWRDb25maWc6IHRydWUsXG4gICAgfSk7XG4gIH0pO1xuXG4gIHNlcnZlci5kZWNvcmF0ZSgncmVwbHknLCAncmVuZGVyQXBwV2l0aERlZmF1bHRDb25maWcnLCBmdW5jdGlvbiAoYXBwKSB7XG4gICAgcmV0dXJuIHJlbmRlckFwcCh7XG4gICAgICBhcHAsXG4gICAgICByZXBseTogdGhpcyxcbiAgICAgIGluY2x1ZGVVc2VyUHJvdmlkZWRDb25maWc6IGZhbHNlLFxuICAgIH0pO1xuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;mBAAoC,KAAK;;kBACA,IAAI;;sBACpB,QAAQ;;wBACX,UAAU;;oBACf,MAAM;;;;oBAEC,MAAM;;8BACT,oBAAoB;;;;0BACnB,cAAc;;;;yBACf,aAAa;;;;oCACH,wBAAwB;;;;8BAC9B,kBAAkB;;;;uCAE5B,WAAO,SAAS,EAAE,MAAM,EAAE,MAAM,EAAK;MAmDnC,gBAAgB,qBAA/B,WAAgC,IAA2C,EAAE;QAA3C,GAAG,GAAL,IAA2C,CAAzC,GAAG;QAAE,OAAO,GAAd,IAA2C,CAApC,OAAO;QAAE,yBAAyB,GAAzC,IAA2C,CAA3B,yBAAyB;;AACvE,QAAM,UAAU,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;;AAEvC,WAAO;AACL,SAAG,EAAE,GAAG;AACR,SAAG,EAAE,SAAS,CAAC,QAAQ,CAAC,OAAO;AAC/B,aAAO,EAAE,SAAS,CAAC,OAAO;AAC1B,cAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AACpC,cAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AACpC,cAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC;AACvC,gBAAU,EAAE,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC;AACrC,aAAO,EAAE,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC;AAC9B,gBAAU,EAAE,MAAM,qBAAM;AACtB,gBAAQ,EAAE,UAAU,CAAC,WAAW,EAAE;AAClC,YAAI,EAAE,yBAAyB,IAAI,UAAU,CAAC,eAAe,CAAC,OAAO,CAAC;OACvE,CAAC;AACF,UAAI,EAAE,MAAM,sBACV,SAAS,CAAC,qBAAqB,oBAC/B,WAAO,GAAG,EAAE,QAAQ;eAAK,MAAM,QAAQ,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC;OAAA,GAC7D,sBAAS,CAAA,MAAM,GAAG,CAAC,eAAe,EAAE,CAAA,IAAI,EAAE,EAAE,SAAS,CAAC,mBAAmB,CAAC,CAC3E;KACF,CAAC;GACH;;MAEc,SAAS,qBAAxB,WAAyB,KAAgD,EAAE;QAAhD,GAAG,GAAL,KAAgD,CAA9C,GAAG;QAAE,KAAK,GAAZ,KAAgD,CAAzC,KAAK;0CAAZ,KAAgD,CAAlC,yBAAyB;QAAzB,yBAAyB,mDAAG,IAAI;;AACrE,QAAI;AACF,aAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE;AAClC,WAAG,EAAH,GAAG;AACH,qBAAa,EAAE,MAAM,gBAAgB,CAAC;AACpC,aAAG,EAAH,GAAG;AACH,iBAAO,EAAE,KAAK,CAAC,OAAO;AACtB,mCAAyB,EAAzB,yBAAyB;SAC1B,CAAC;AACF,kBAAU,EAAK,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,aAAU;OACvD,CAAC,CAAC;KACJ,CAAC,OAAO,GAAG,EAAE;AACZ,WAAK,CAAC,GAAG,CAAC,CAAC;KACZ;GACF;;AAxFD,MAAM,SAAS,GAAG,SAAS,CAAC,SAAS,GAAG,4BAAc;AACpD,eAAW,EAAE,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC;GAC3C,CAAC,CAAC;;AAEH,MAAM,UAAU,GAAG,gCAAiB,MAAM,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC;AACtE,YAAU,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;AACrD,YAAU,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC;AACpE,YAAU,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC;AACvE,YAAU,CAAC,UAAU,CAAC,YAAY,EAAE,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC;AAC/D,YAAU,CAAC,UAAU,CAAC,UAAU,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC;AAC9D,WAAS,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;;;;;;;AAElC,yBAAqB,SAAS,CAAC,OAAO,8HAAE;UAA7B,MAAM;;AACf,eAAS,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;KACjC;;;;;;;;;;;;;;;;AAED,MAAM,OAAO,GAAG,SAAS,CAAC,OAAO,GAAG,sCAAuB,UAAU,EAAE,MAAM,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC,CAAC;;;;;;;AAE5G,0BAAkB,SAAS,CAAC,UAAU,EAAE,mIAAE;UAA/B,GAAG;;AACZ,aAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACrB;;;;;;;;;;;;;;;;;;;;;AAED,0BAAkB,SAAS,CAAC,kBAAkB,EAAE,mIAAE;UAAvC,GAAG;;AACZ,UAAM,MAAM,GAAG,MAAM,GAAG,yBAAW,UAAU,EAAE,SAAS,CAAC,UAAU,EAAE,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;AAC1F,UAAI,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;KACjC;;;;;;;;;;;;;;;;;;AAGD,QAAM,CAAC,UAAU,CAAC,mBAAQ,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;;AAE/C,QAAM,CAAC,KAAK,CAAC;AACX,QAAI,EAAE,WAAW;AACjB,UAAM,EAAE,KAAK;AACb,AAAM,WAAO,oBAAA,WAAC,GAAG,EAAE,KAAK,EAAE;AACxB,UAAM,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;AACzB,UAAM,GAAG,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACpC,UAAI,CAAC,GAAG,EAAE,OAAO,KAAK,CAAC,kBAAK,QAAQ,CAAC,cAAc,GAAG,EAAE,CAAC,CAAC,CAAC;;AAE3D,UAAI;AACF,YAAI,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE;AAC9B,gBAAM,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;SAC5B,MAAM;AACL,gBAAM,KAAK,CAAC,gBAAgB,EAAE,CAAC;SAChC;OACF,CAAC,OAAO,GAAG,EAAE;AACZ,aAAK,CAAC,kBAAK,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;OACvB;KACF,CAAA;GACF,CAAC,CAAC;;AA0CH,QAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,WAAW,EAAE,UAAU,GAAG,EAAE;AACnD,WAAO,SAAS,CAAC;AACf,SAAG,EAAH,GAAG;AACH,WAAK,EAAE,IAAI;AACX,+BAAyB,EAAE,IAAI;KAChC,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,QAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,4BAA4B,EAAE,UAAU,GAAG,EAAE;AACpE,WAAO,SAAS,CAAC;AACf,SAAG,EAAH,GAAG;AACH,WAAK,EAAE,IAAI;AACX,+BAAyB,EAAE,KAAK;KACjC,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/ui/index.js",
      "sourcesContent": [
        "import { format as formatUrl } from 'url';\nimport { readFileSync as readFile } from 'fs';\nimport { defaults } from 'lodash';\nimport { props } from 'bluebird';\nimport Boom from 'boom';\nimport { reduce as reduceAsync } from 'bluebird';\nimport { resolve } from 'path';\nimport fromRoot from '../utils/from_root';\nimport UiExports from './ui_exports';\nimport UiBundle from './ui_bundle';\nimport UiBundleCollection from './ui_bundle_collection';\nimport UiBundlerEnv from './ui_bundler_env';\n\nexport default async (kbnServer, server, config) => {\n  const uiExports = kbnServer.uiExports = new UiExports({\n    urlBasePath: config.get('server.basePath')\n  });\n\n  const bundlerEnv = new UiBundlerEnv(config.get('optimize.bundleDir'));\n  bundlerEnv.addContext('env', config.get('env.name'));\n  bundlerEnv.addContext('urlBasePath', config.get('server.basePath'));\n  bundlerEnv.addContext('sourceMaps', config.get('optimize.sourceMaps'));\n  bundlerEnv.addContext('kbnVersion', config.get('pkg.version'));\n  bundlerEnv.addContext('buildNum', config.get('pkg.buildNum'));\n  uiExports.addConsumer(bundlerEnv);\n\n  for (const plugin of kbnServer.plugins) {\n    uiExports.consumePlugin(plugin);\n  }\n\n  const bundles = kbnServer.bundles = new UiBundleCollection(bundlerEnv, config.get('optimize.bundleFilter'));\n\n  for (const app of uiExports.getAllApps()) {\n    bundles.addApp(app);\n  }\n\n  for (const gen of uiExports.getBundleProviders()) {\n    const bundle = await gen(UiBundle, bundlerEnv, uiExports.getAllApps(), kbnServer.plugins);\n    if (bundle) bundles.add(bundle);\n  }\n\n  // render all views from the ui/views directory\n  server.setupViews(resolve(__dirname, 'views'));\n\n  server.route({\n    path: '/app/{id}',\n    method: 'GET',\n    async handler(req, reply) {\n      const id = req.params.id;\n      const app = uiExports.apps.byId[id];\n      if (!app) return reply(Boom.notFound('Unknown app ' + id));\n\n      try {\n        if (kbnServer.status.isGreen()) {\n          await reply.renderApp(app);\n        } else {\n          await reply.renderStatusPage();\n        }\n      } catch (err) {\n        reply(Boom.wrap(err));\n      }\n    }\n  });\n\n  async function getKibanaPayload({ app, request, includeUserProvidedConfig }) {\n    const uiSettings = server.uiSettings();\n\n    return {\n      app: app,\n      nav: uiExports.navLinks.inOrder,\n      version: kbnServer.version,\n      buildNum: config.get('pkg.buildNum'),\n      buildSha: config.get('pkg.buildSha'),\n      basePath: config.get('server.basePath'),\n      serverName: config.get('server.name'),\n      devMode: config.get('env.dev'),\n      uiSettings: await props({\n        defaults: uiSettings.getDefaults(),\n        user: includeUserProvidedConfig && uiSettings.getUserProvided(request)\n      }),\n      vars: await reduceAsync(\n        uiExports.injectedVarsReplacers,\n        async (acc, replacer) => await replacer(acc, request, server),\n        defaults(await app.getInjectedVars() || {}, uiExports.defaultInjectedVars)\n      ),\n    };\n  }\n\n  async function renderApp({ app, reply, includeUserProvidedConfig = true }) {\n    try {\n      return reply.view(app.templateName, {\n        app,\n        kibanaPayload: await getKibanaPayload({\n          app,\n          request: reply.request,\n          includeUserProvidedConfig\n        }),\n        bundlePath: `${config.get('server.basePath')}/bundles`,\n      });\n    } catch (err) {\n      reply(err);\n    }\n  }\n\n  server.decorate('reply', 'renderApp', function (app) {\n    return renderApp({\n      app,\n      reply: this,\n      includeUserProvidedConfig: true,\n    });\n  });\n\n  server.decorate('reply', 'renderAppWithDefaultConfig', function (app) {\n    return renderApp({\n      app,\n      reply: this,\n      includeUserProvidedConfig: false,\n    });\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/ui_exports.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "minimatch",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "minimatch"
              }
            ]
          },
          {
            "source": "./ui_app_collection",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UiAppCollection"
              }
            ]
          },
          {
            "source": "./ui_nav_link_collection",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UiNavLinkCollection"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "async-to-generator",
        "to-consumable-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _minimatch = require('minimatch');\n\nvar _minimatch2 = _interopRequireDefault(_minimatch);\n\nvar _ui_app_collection = require('./ui_app_collection');\n\nvar _ui_app_collection2 = _interopRequireDefault(_ui_app_collection);\n\nvar _ui_nav_link_collection = require('./ui_nav_link_collection');\n\nvar _ui_nav_link_collection2 = _interopRequireDefault(_ui_nav_link_collection);\n\nvar UiExports = (function () {\n  function UiExports(_ref) {\n    var urlBasePath = _ref.urlBasePath;\n\n    _classCallCheck(this, UiExports);\n\n    this.navLinks = new _ui_nav_link_collection2['default'](this);\n    this.apps = new _ui_app_collection2['default'](this);\n    this.aliases = {};\n    this.urlBasePath = urlBasePath;\n    this.exportConsumer = _lodash2['default'].memoize(this.exportConsumer);\n    this.consumers = [];\n    this.bundleProviders = [];\n    this.defaultInjectedVars = {};\n    this.injectedVarsReplacers = [];\n  }\n\n  _createClass(UiExports, [{\n    key: 'consumePlugin',\n    value: function consumePlugin(plugin) {\n      var _this = this;\n\n      plugin.apps = new _ui_app_collection2['default'](this);\n\n      var types = _lodash2['default'].keys(plugin.uiExportsSpecs);\n      if (!types) return false;\n\n      var unkown = _lodash2['default'].reject(types, this.exportConsumer, this);\n      if (unkown.length) {\n        throw new Error('unknown export types ' + unkown.join(', ') + ' in plugin ' + plugin.id);\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.consumers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var consumer = _step.value;\n\n          consumer.consumePlugin && consumer.consumePlugin(plugin);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      types.forEach(function (type) {\n        _this.exportConsumer(type)(plugin, plugin.uiExportsSpecs[type]);\n      });\n    }\n  }, {\n    key: 'addConsumer',\n    value: function addConsumer(consumer) {\n      this.consumers.push(consumer);\n    }\n  }, {\n    key: 'exportConsumer',\n    value: function exportConsumer(type) {\n      var _this2 = this;\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.consumers[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var consumer = _step2.value;\n\n          if (!consumer.exportConsumer) continue;\n          var fn = consumer.exportConsumer(type);\n          if (fn) return fn;\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      switch (type) {\n        case 'app':\n        case 'apps':\n          return function (plugin, specs) {\n            var id = plugin.id;\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n              var _loop = function () {\n                var spec = _step3.value;\n\n                var app = _this2.apps['new'](_lodash2['default'].defaults({}, spec, {\n                  id: plugin.id,\n                  urlBasePath: _this2.urlBasePath\n                }));\n\n                plugin.extendInit(function (server, options) {\n                  // eslint-disable-line no-loop-func\n                  var wrapped = app.getInjectedVars;\n                  app.getInjectedVars = function () {\n                    return wrapped.call(plugin, server, options);\n                  };\n                });\n\n                plugin.apps.add(app);\n              };\n\n              for (var _iterator3 = [].concat(specs || [])[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                _loop();\n              }\n            } catch (err) {\n              _didIteratorError3 = true;\n              _iteratorError3 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n                  _iterator3['return']();\n                }\n              } finally {\n                if (_didIteratorError3) {\n                  throw _iteratorError3;\n                }\n              }\n            }\n          };\n\n        case 'link':\n        case 'links':\n          return function (plugin, spec) {\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n              for (var _iterator4 = [].concat(spec || [])[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                var _spec = _step4.value;\n\n                _this2.navLinks['new'](_spec);\n              }\n            } catch (err) {\n              _didIteratorError4 = true;\n              _iteratorError4 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n                  _iterator4['return']();\n                }\n              } finally {\n                if (_didIteratorError4) {\n                  throw _iteratorError4;\n                }\n              }\n            }\n          };\n\n        case 'visTypes':\n        case 'fieldFormats':\n        case 'spyModes':\n        case 'chromeNavControls':\n        case 'navbarExtensions':\n        case 'managementSections':\n        case 'devTools':\n        case 'docViews':\n        case 'hacks':\n          return function (plugin, spec) {\n            _this2.aliases[type] = _lodash2['default'].union(_this2.aliases[type] || [], spec);\n          };\n\n        case 'visTypeEnhancers':\n          return function (plugin, spec) {\n            //used for plugins that augment capabilities of an existing visualization\n            _this2.aliases.visTypes = _lodash2['default'].union(_this2.aliases.visTypes || [], spec);\n          };\n\n        case 'bundle':\n          return function (plugin, spec) {\n            _this2.bundleProviders.push(spec);\n          };\n\n        case 'aliases':\n          return function (plugin, specs) {\n            _lodash2['default'].forOwn(specs, function (spec, adhocType) {\n              _this2.aliases[adhocType] = _lodash2['default'].union(_this2.aliases[adhocType] || [], spec);\n            });\n          };\n\n        case 'injectDefaultVars':\n          return function (plugin, injector) {\n            plugin.extendInit(_asyncToGenerator(function* (server, options) {\n              _lodash2['default'].merge(_this2.defaultInjectedVars, (yield injector.call(plugin, server, options)));\n            }));\n          };\n\n        case 'replaceInjectedVars':\n          return function (plugin, replacer) {\n            _this2.injectedVarsReplacers.push(replacer);\n          };\n      }\n    }\n  }, {\n    key: 'find',\n    value: function find(patterns) {\n      var aliases = this.aliases;\n      var names = _lodash2['default'].keys(aliases);\n      var matcher = _lodash2['default'].partialRight(_minimatch2['default'].filter, { matchBase: true });\n\n      return _lodash2['default'].chain(patterns).map(function (pattern) {\n        return names.filter(matcher(pattern));\n      }).flattenDeep().reduce(function (found, name) {\n        return found.concat(aliases[name]);\n      }, []).value();\n    }\n  }, {\n    key: 'getAllApps',\n    value: function getAllApps() {\n      var _ref2;\n\n      var apps = this.apps;\n\n      return (_ref2 = [].concat(_toConsumableArray(apps))).concat.apply(_ref2, _toConsumableArray(apps.hidden));\n    }\n  }, {\n    key: 'getApp',\n    value: function getApp(id) {\n      return this.apps.byId[id];\n    }\n  }, {\n    key: 'getHiddenApp',\n    value: function getHiddenApp(id) {\n      return this.apps.hidden.byId[id];\n    }\n  }, {\n    key: 'getBundleProviders',\n    value: function getBundleProviders() {\n      return this.bundleProviders;\n    }\n  }]);\n\n  return UiExports;\n})();\n\nmodule.exports = UiExports;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9leHBvcnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztzQkFBYyxRQUFROzs7O3lCQUNBLFdBQVc7Ozs7aUNBRUwscUJBQXFCOzs7O3NDQUNqQiwwQkFBMEI7Ozs7SUFFcEQsU0FBUztBQUNGLFdBRFAsU0FBUyxDQUNELElBQWUsRUFBRTtRQUFmLFdBQVcsR0FBYixJQUFlLENBQWIsV0FBVzs7MEJBRHJCLFNBQVM7O0FBRVgsUUFBSSxDQUFDLFFBQVEsR0FBRyx3Q0FBd0IsSUFBSSxDQUFDLENBQUM7QUFDOUMsUUFBSSxDQUFDLElBQUksR0FBRyxtQ0FBb0IsSUFBSSxDQUFDLENBQUM7QUFDdEMsUUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7QUFDbEIsUUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7QUFDL0IsUUFBSSxDQUFDLGNBQWMsR0FBRyxvQkFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ3JELFFBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLFFBQUksQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDO0FBQzFCLFFBQUksQ0FBQyxtQkFBbUIsR0FBRyxFQUFFLENBQUM7QUFDOUIsUUFBSSxDQUFDLHFCQUFxQixHQUFHLEVBQUUsQ0FBQztHQUNqQzs7ZUFYRyxTQUFTOztXQWFBLHVCQUFDLE1BQU0sRUFBRTs7O0FBQ3BCLFlBQU0sQ0FBQyxJQUFJLEdBQUcsbUNBQW9CLElBQUksQ0FBQyxDQUFDOztBQUV4QyxVQUFNLEtBQUssR0FBRyxvQkFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQzVDLFVBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxLQUFLLENBQUM7O0FBRXpCLFVBQU0sTUFBTSxHQUFHLG9CQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxJ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Qjs7O1dBRVcsc0JBQUMsRUFBRSxFQUFFO0FBQ2YsYUFBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDbEM7OztXQUVpQiw4QkFBRztBQUNuQixhQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7S0FDN0I7OztTQXJKRyxTQUFTOzs7QUF3SmYsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3VpL3VpX2V4cG9ydHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IG1pbmltYXRjaCBmcm9tICdtaW5pbWF0Y2gnO1xuXG5pbXBvcnQgVWlBcHBDb2xsZWN0aW9uIGZyb20gJy4vdWlfYXBwX2NvbGxlY3Rpb24nO1xuaW1wb3J0IFVpTmF2TGlua0NvbGxlY3Rpb24gZnJvbSAnLi91aV9uYXZfbGlua19jb2xsZWN0aW9uJztcblxuY2xhc3MgVWlFeHBvcnRzIHtcbiAgY29uc3RydWN0b3IoeyB1cmxCYXNlUGF0aCB9KSB7XG4gICAgdGhpcy5uYXZMaW5rcyA9IG5ldyBVaU5hdkxpbmtDb2xsZWN0aW9uKHRoaXMpO1xuICAgIHRoaXMuYXBwcyA9IG5ldyBVaUFwcENvbGxlY3Rpb24odGhpcyk7XG4gICAgdGhpcy5hbGlhc2VzID0ge307XG4gICAgdGhpcy51cmxCYXNlUGF0aCA9IHVybEJhc2VQYXRoO1xuICAgIHRoaXMuZXhwb3J0Q29uc3VtZXIgPSBfLm1lbW9pemUodGhpcy5leHBvcnRDb25zdW1lcik7XG4gICAgdGhpcy5jb25zdW1lcnMgPSBbXTtcbiAgICB0aGlzLmJ1bmRsZVByb3ZpZGVycyA9IFtdO1xuICAgIHRoaXMuZGVmYXVsdEluamVjdGVkVmFycyA9IHt9O1xuICAgIHRoaXMuaW5qZWN0ZWRWYXJzUmVwbGFjZXJzID0gW107XG4gIH1cblxuICBjb25zdW1lUGx1Z2luKHBsdWdpbikge1xuICAgIHBsdWdpbi5hcHBzID0gbmV3IFVpQXBwQ29sbGVjdGlvbih0aGlzKTtcblxuICAgIGNvbnN0IHR5cGVzID0gXy5rZXlzKHBsdWdpbi51aUV4cG9ydHNTcGVjcyk7XG4gICAgaWYgKCF0eXBlcykgcmV0dXJuIGZhbHNlO1xuXG4gICAgY29uc3QgdW5rb3duID0gXy5yZWplY3QodHlwZXMsIHRoaXMuZXhwb3J0Q29uc3VtZXIsIHRoaXMpO1xuICAgIGlmICh1bmtvd24ubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gZXhwb3J0IHR5cGVzICcgKyB1bmtvd24uam9pbignLCAnKSArICcgaW4gcGx1Z2luICcgKyBwbHVnaW4uaWQpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgY29uc3VtZXIgb2YgdGhpcy5jb25zdW1lcnMpIHtcbiAgICAgIGNvbnN1bWVyLmNvbnN1bWVQbHVnaW4gJiYgY29uc3VtZXIuY29uc3VtZVBsdWdpbihwbHVnaW4pO1xuICAgIH1cblxuICAgIHR5cGVzLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgIHRoaXMuZXhwb3J0Q29uc3VtZXIodHlwZSkocGx1Z2luLCBwbHVnaW4udWlFeHBvcnRzU3BlY3NbdHlwZV0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkQ29uc3VtZXIoY29uc3VtZXIpIHtcbiAgICB0aGlzLmNvbnN1bWVycy5wdXNoKGNvbnN1bWVyKTtcbiAgfVxuXG4gIGV4cG9ydENvbnN1bWVyKHR5cGUpIHtcbiAgICBmb3IgKGNvbnN0IGNvbnN1bWVyIG9mIHRoaXMuY29uc3VtZXJzKSB7XG4gICAgICBpZiAoIWNvbnN1bWVyLmV4cG9ydENvbnN1bWVyKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGZuID0gY29uc3VtZXIuZXhwb3J0Q29uc3VtZXIodHlwZSk7XG4gICAgICBpZiAoZm4pIHJldHVybiBmbjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2FwcCc6XG4gICAgICBjYXNlICdhcHBzJzpcbiAgICAgICAgcmV0dXJuIChwbHVnaW4sIHNwZWNzKSA9PiB7XG4gICAgICAgICAgY29uc3QgaWQgPSBwbHVnaW4uaWQ7XG4gICAgICAgICAgZm9yIChjb25zdCBzcGVjIG9mIFtdLmNvbmNhdChzcGVjcyB8fCBbXSkpIHtcblxuICAgICAgICAgICAgY29uc3QgYXBwID0gdGhpcy5hcHBzLm5ldyhfLmRlZmF1bHRzKHt9LCBzcGVjLCB7XG4gICAgICAgICAgICAgIGlkOiBwbHVnaW4uaWQsXG4gICAgICAgICAgICAgIHVybEJhc2VQYXRoOiB0aGlzLnVybEJhc2VQYXRoXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIHBsdWdpbi5leHRlbmRJbml0KChzZXJ2ZXIsIG9wdGlvbnMpID0+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb29wLWZ1bmNcbiAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZCA9IGFwcC5nZXRJbmplY3RlZFZhcnM7XG4gICAgICAgICAgICAgIGFwcC5nZXRJbmplY3RlZFZhcnMgPSAoKSA9PiB3cmFwcGVkLmNhbGwocGx1Z2luLCBzZXJ2ZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHBsdWdpbi5hcHBzLmFkZChhcHApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgY2FzZSAnbGluayc6XG4gICAgICBjYXNlICdsaW5rcyc6XG4gICAgICAgIHJldHVybiAocGx1Z2luLCBzcGVjKSA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBzcGVjIG9mIFtdLmNvbmNhdChzcGVjIHx8IFtdKSkge1xuICAgICAgICAgICAgdGhpcy5uYXZMaW5rcy5uZXcoc3BlYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICBjYXNlICd2aXNUeXBlcyc6XG4gICAgICBjYXNlICdmaWVsZEZvcm1hdHMnOlxuICAgICAgY2FzZSAnc3B5TW9kZXMnOlxuICAgICAgY2FzZSAnY2hyb21lTmF2Q29udHJvbHMnOlxuICAgICAgY2FzZSAnbmF2YmFyRXh0ZW5zaW9ucyc6XG4gICAgICBjYXNlICdtYW5hZ2VtZW50U2VjdGlvbnMnOlxuICAgICAgY2FzZSAnZGV2VG9vbHMnOlxuICAgICAgY2FzZSAnZG9jVmlld3MnOlxuICAgICAgY2FzZSAnaGFja3MnOlxuICAgICAgICByZXR1cm4gKHBsdWdpbiwgc3BlYykgPT4ge1xuICAgICAgICAgIHRoaXMuYWxpYXNlc1t0eXBlXSA9IF8udW5pb24odGhpcy5hbGlhc2VzW3R5cGVdIHx8IFtdLCBzcGVjKTtcbiAgICAgICAgfTtcblxuICAgICAgY2FzZSAndmlzVHlwZUVuaGFuY2Vycyc6XG4gICAgICAgIHJldHVybiAocGx1Z2luLCBzcGVjKSA9PiB7XG4gICAgICAgICAgLy91c2VkIGZvciBwbHVnaW5zIHRoYXQgYXVnbWVudCBjYXBhYmlsaXRpZXMgb2YgYW4gZXhpc3RpbmcgdmlzdWFsaXphdGlvblxuICAgICAgICAgIHRoaXMuYWxpYXNlcy52aXNUeXBlcyA9IF8udW5pb24odGhpcy5hbGlhc2VzLnZpc1R5cGVzIHx8IFtdLCBzcGVjKTtcbiAgICAgICAgfTtcblxuICAgICAgY2FzZSAnYnVuZGxlJzpcbiAgICAgICAgcmV0dXJuIChwbHVnaW4sIHNwZWMpID0+IHtcbiAgICAgICAgICB0aGlzLmJ1bmRsZVByb3ZpZGVycy5wdXNoKHNwZWMpO1xuICAgICAgICB9O1xuXG4gICAgICBjYXNlICdhbGlhc2VzJzpcbiAgICAgICAgcmV0dXJuIChwbHVnaW4sIHNwZWNzKSA9PiB7XG4gICAgICAgICAgXy5mb3JPd24oc3BlY3MsIChzcGVjLCBhZGhvY1R5cGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWxpYXNlc1thZGhvY1R5cGVdID0gXy51bmlvbih0aGlzLmFsaWFzZXNbYWRob2NUeXBlXSB8fCBbXSwgc3BlYyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgIGNhc2UgJ2luamVjdERlZmF1bHRWYXJzJzpcbiAgICAgICAgcmV0dXJuIChwbHVnaW4sIGluamVjdG9yKSA9PiB7XG4gICAgICAgICAgcGx1Z2luLmV4dGVuZEluaXQoYXN5bmMgKHNlcnZlciwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgXy5tZXJnZSh0aGlzLmRlZmF1bHRJbmplY3RlZFZhcnMsIGF3YWl0IGluamVjdG9yLmNhbGwocGx1Z2luLCBzZXJ2ZXIsIG9wdGlvbnMpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgY2FzZSAncmVwbGFjZUluamVjdGVkVmFycyc6XG4gICAgICAgIHJldHVybiAocGx1Z2luLCByZXBsYWNlcikgPT4ge1xuICAgICAgICAgIHRoaXMuaW5qZWN0ZWRWYXJzUmVwbGFjZXJzLnB1c2gocmVwbGFjZXIpO1xuICAgICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGZpbmQocGF0dGVybnMpIHtcbiAgICBjb25zdCBhbGlhc2VzID0gdGhpcy5hbGlhc2VzO1xuICAgIGNvbnN0IG5hbWVzID0gXy5rZXlzKGFsaWFzZXMpO1xuICAgIGNvbnN0IG1hdGNoZXIgPSBfLnBhcnRpYWxSaWdodChtaW5pbWF0Y2guZmlsdGVyLCB7IG1hdGNoQmFzZTogdHJ1ZSB9KTtcblxuICAgIHJldHVybiBfLmNoYWluKHBhdHRlcm5zKVxuICAgIC5tYXAoZnVuY3Rpb24gKHBhdHRlcm4pIHtcbiAgICAgIHJldHVybiBuYW1lcy5maWx0ZXIobWF0Y2hlcihwYXR0ZXJuKSk7XG4gICAgfSlcbiAgICAuZmxhdHRlbkRlZXAoKVxuICAgIC5yZWR1Y2UoZnVuY3Rpb24gKGZvdW5kLCBuYW1lKSB7XG4gICAgICByZXR1cm4gZm91bmQuY29uY2F0KGFsaWFzZXNbbmFtZV0pO1xuICAgIH0sIFtdKVxuICAgIC52YWx1ZSgpO1xuICB9XG5cbiAgZ2V0QWxsQXBwcygpIHtcbiAgICBjb25zdCB7IGFwcHMgfSA9IHRoaXM7XG4gICAgcmV0dXJuIFsuLi5hcHBzXS5jb25jYXQoLi4uYXBwcy5oaWRkZW4pO1xuICB9XG5cbiAgZ2V0QXBwKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBwcy5ieUlkW2lkXTtcbiAgfVxuXG4gIGdldEhpZGRlbkFwcChpZCkge1xuICAgIHJldHVybiB0aGlzLmFwcHMuaGlkZGVuLmJ5SWRbaWRdO1xuICB9XG5cbiAgZ2V0QnVuZGxlUHJvdmlkZXJzKCkge1xuICAgIHJldHVybiB0aGlzLmJ1bmRsZVByb3ZpZGVycztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFVpRXhwb3J0cztcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/ui_exports.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/ui/ui_exports.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport minimatch from 'minimatch';\n\nimport UiAppCollection from './ui_app_collection';\nimport UiNavLinkCollection from './ui_nav_link_collection';\n\nclass UiExports {\n  constructor({ urlBasePath }) {\n    this.navLinks = new UiNavLinkCollection(this);\n    this.apps = new UiAppCollection(this);\n    this.aliases = {};\n    this.urlBasePath = urlBasePath;\n    this.exportConsumer = _.memoize(this.exportConsumer);\n    this.consumers = [];\n    this.bundleProviders = [];\n    this.defaultInjectedVars = {};\n    this.injectedVarsReplacers = [];\n  }\n\n  consumePlugin(plugin) {\n    plugin.apps = new UiAppCollection(this);\n\n    const types = _.keys(plugin.uiExportsSpecs);\n    if (!types) return false;\n\n    const unkown = _.reject(types, this.exportConsumer, this);\n    if (unkown.length) {\n      throw new Error('unknown export types ' + unkown.join(', ') + ' in plugin ' + plugin.id);\n    }\n\n    for (const consumer of this.consumers) {\n      consumer.consumePlugin && consumer.consumePlugin(plugin);\n    }\n\n    types.forEach((type) => {\n      this.exportConsumer(type)(plugin, plugin.uiExportsSpecs[type]);\n    });\n  }\n\n  addConsumer(consumer) {\n    this.consumers.push(consumer);\n  }\n\n  exportConsumer(type) {\n    for (const consumer of this.consumers) {\n      if (!consumer.exportConsumer) continue;\n      const fn = consumer.exportConsumer(type);\n      if (fn) return fn;\n    }\n\n    switch (type) {\n      case 'app':\n      case 'apps':\n        return (plugin, specs) => {\n          const id = plugin.id;\n          for (const spec of [].concat(specs || [])) {\n\n            const app = this.apps.new(_.defaults({}, spec, {\n              id: plugin.id,\n              urlBasePath: this.urlBasePath\n            }));\n\n            plugin.extendInit((server, options) => { // eslint-disable-line no-loop-func\n              const wrapped = app.getInjectedVars;\n              app.getInjectedVars = () => wrapped.call(plugin, server, options);\n            });\n\n            plugin.apps.add(app);\n          }\n        };\n\n      case 'link':\n      case 'links':\n        return (plugin, spec) => {\n          for (const spec of [].concat(spec || [])) {\n            this.navLinks.new(spec);\n          }\n        };\n\n      case 'visTypes':\n      case 'fieldFormats':\n      case 'spyModes':\n      case 'chromeNavControls':\n      case 'navbarExtensions':\n      case 'managementSections':\n      case 'devTools':\n      case 'docViews':\n      case 'hacks':\n        return (plugin, spec) => {\n          this.aliases[type] = _.union(this.aliases[type] || [], spec);\n        };\n\n      case 'visTypeEnhancers':\n        return (plugin, spec) => {\n          //used for plugins that augment capabilities of an existing visualization\n          this.aliases.visTypes = _.union(this.aliases.visTypes || [], spec);\n        };\n\n      case 'bundle':\n        return (plugin, spec) => {\n          this.bundleProviders.push(spec);\n        };\n\n      case 'aliases':\n        return (plugin, specs) => {\n          _.forOwn(specs, (spec, adhocType) => {\n            this.aliases[adhocType] = _.union(this.aliases[adhocType] || [], spec);\n          });\n        };\n\n      case 'injectDefaultVars':\n        return (plugin, injector) => {\n          plugin.extendInit(async (server, options) => {\n            _.merge(this.defaultInjectedVars, await injector.call(plugin, server, options));\n          });\n        };\n\n      case 'replaceInjectedVars':\n        return (plugin, replacer) => {\n          this.injectedVarsReplacers.push(replacer);\n        };\n    }\n  }\n\n  find(patterns) {\n    const aliases = this.aliases;\n    const names = _.keys(aliases);\n    const matcher = _.partialRight(minimatch.filter, { matchBase: true });\n\n    return _.chain(patterns)\n    .map(function (pattern) {\n      return names.filter(matcher(pattern));\n    })\n    .flattenDeep()\n    .reduce(function (found, name) {\n      return found.concat(aliases[name]);\n    }, [])\n    .value();\n  }\n\n  getAllApps() {\n    const { apps } = this;\n    return [...apps].concat(...apps.hidden);\n  }\n\n  getApp(id) {\n    return this.apps.byId[id];\n  }\n\n  getHiddenApp(id) {\n    return this.apps.hidden.byId[id];\n  }\n\n  getBundleProviders() {\n    return this.bundleProviders;\n  }\n}\n\nmodule.exports = UiExports;\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/ui_app_collection.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./ui_app",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UiApp"
              }
            ]
          },
          {
            "source": "../utils/collection",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Collection"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "to-consumable-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _ui_app = require('./ui_app');\n\nvar _ui_app2 = _interopRequireDefault(_ui_app);\n\nvar _utilsCollection = require('../utils/collection');\n\nvar _utilsCollection2 = _interopRequireDefault(_utilsCollection);\n\nvar byIdCache = Symbol('byId');\n\nmodule.exports = (function (_Collection) {\n  _inherits(UiAppCollection, _Collection);\n\n  function UiAppCollection(uiExports, parent) {\n    _classCallCheck(this, UiAppCollection);\n\n    _get(Object.getPrototypeOf(UiAppCollection.prototype), 'constructor', this).call(this);\n\n    this.uiExports = uiExports;\n\n    if (!parent) {\n      this.claimedIds = [];\n      this.hidden = new UiAppCollection(uiExports, this);\n    } else {\n      this.claimedIds = parent.claimedIds;\n    }\n  }\n\n  _createClass(UiAppCollection, [{\n    key: 'new',\n    value: function _new(spec) {\n      if (this.hidden && spec.hidden) {\n        return this.hidden['new'](spec);\n      }\n\n      var app = new _ui_app2['default'](this.uiExports, spec);\n\n      if (_lodash2['default'].includes(this.claimedIds, app.id)) {\n        throw new Error('Unable to create two apps with the id ' + app.id + '.');\n      } else {\n        this.claimedIds.push(app.id);\n      }\n\n      this[byIdCache] = null;\n      this.add(app);\n      return app;\n    }\n  }, {\n    key: 'byId',\n    get: function get() {\n      return this[byIdCache] || (this[byIdCache] = _lodash2['default'].indexBy([].concat(_toConsumableArray(this)), 'id'));\n    }\n  }]);\n\n  return UiAppCollection;\n})(_utilsCollection2['default']);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9hcHBfY29sbGVjdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztzQkFBYyxRQUFROzs7O3NCQUNKLFVBQVU7Ozs7K0JBQ0wscUJBQXFCOzs7O0FBRTVDLElBQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFakMsTUFBTSxDQUFDLE9BQU87WUFBUyxlQUFlOztBQUV6QixXQUZVLGVBQWUsQ0FFeEIsU0FBUyxFQUFFLE1BQU0sRUFBRTswQkFGVixlQUFlOztBQUdsQywrQkFIbUIsZUFBZSw2Q0FHMUI7O0FBRVIsUUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7O0FBRTNCLFFBQUksQ0FBQyxNQUFNLEVBQUU7QUFDWCxVQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUNyQixVQUFJLENBQUMsTUFBTSxHQUFHLElBQUksZUFBZSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUNwRCxNQUFNO0FBQ0wsVUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDO0tBQ3JDO0dBRUY7O2VBZG9CLGVBQWU7O1dBZ0JqQyxjQUFDLElBQUksRUFBRTtBQUNSLFVBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQzlCLGVBQU8sSUFBSSxDQUFDLE1BQU0sT0FBSSxDQUFDLElBQUksQ0FBQyxDQUFDO09BQzlCOztBQUVELFVBQU0sR0FBRyxHQUFHLHdCQUFVLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7O0FBRTVDLFVBQUksb0JBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ3ZDLGNBQU0sSUFBSSxLQUFLLENBQUMsd0NBQXdDLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQztPQUMxRSxNQUFNO0FBQ0wsWUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO09BQzlCOztBQUVELFVBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDdkIsVUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNkLGFBQU8sR0FBRyxDQUFDO0tBQ1o7OztTQUVPLGVBQUc7QUFDVCxhQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsb0JBQUUsT0FBTyw4QkFBSyxJQUFJLElBQUcsSUFBSSxDQUFDLENBQUEsQUFBQyxDQUFDO0tBQzFFOzs7U0FwQ29CLGVBQWU7Z0NBc0NyQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9hcHBfY29sbGVjdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgVWlBcHAgZnJvbSAnLi91aV9hcHAnO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi4vdXRpbHMvY29sbGVjdGlvbic7XG5cbmNvbnN0IGJ5SWRDYWNoZSA9IFN5bWJvbCgnYnlJZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFVpQXBwQ29sbGVjdGlvbiBleHRlbmRzIENvbGxlY3Rpb24ge1xuXG4gIGNvbnN0cnVjdG9yKHVpRXhwb3J0cywgcGFyZW50KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMudWlFeHBvcnRzID0gdWlFeHBvcnRzO1xuXG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgIHRoaXMuY2xhaW1lZElkcyA9IFtdO1xuICAgICAgdGhpcy5oaWRkZW4gPSBuZXcgVWlBcHBDb2xsZWN0aW9uKHVpRXhwb3J0cywgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xhaW1lZElkcyA9IHBhcmVudC5jbGFpbWVkSWRzO1xuICAgIH1cblxuICB9XG5cbiAgbmV3KHNwZWMpIHtcbiAgICBpZiAodGhpcy5oaWRkZW4gJiYgc3BlYy5oaWRkZW4pIHtcbiAgICAgIHJldHVybiB0aGlzLmhpZGRlbi5uZXcoc3BlYyk7XG4gICAgfVxuXG4gICAgY29uc3QgYXBwID0gbmV3IFVpQXBwKHRoaXMudWlFeHBvcnRzLCBzcGVjKTtcblxuICAgIGlmIChfLmluY2x1ZGVzKHRoaXMuY2xhaW1lZElkcywgYXBwLmlkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gY3JlYXRlIHR3byBhcHBzIHdpdGggdGhlIGlkICcgKyBhcHAuaWQgKyAnLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsYWltZWRJZHMucHVzaChhcHAuaWQpO1xuICAgIH1cblxuICAgIHRoaXNbYnlJZENhY2hlXSA9IG51bGw7XG4gICAgdGhpcy5hZGQoYXBwKTtcbiAgICByZXR1cm4gYXBwO1xuICB9XG5cbiAgZ2V0IGJ5SWQoKSB7XG4gICAgcmV0dXJuIHRoaXNbYnlJZENhY2hlXSB8fCAodGhpc1tieUlkQ2FjaGVdID0gXy5pbmRleEJ5KFsuLi50aGlzXSwgJ2lkJykpO1xuICB9XG5cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/ui_app_collection.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;sBAAc,QAAQ;;;;sBACJ,UAAU;;;;+BACL,qBAAqB;;;;AAE5C,IAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;;AAEjC,MAAM,CAAC,OAAO;YAAS,eAAe;;AAEzB,WAFU,eAAe,CAExB,SAAS,EAAE,MAAM,EAAE;0BAFV,eAAe;;AAGlC,+BAHmB,eAAe,6CAG1B;;AAER,QAAI,CAAC,SAAS,GAAG,SAAS,CAAC;;AAE3B,QAAI,CAAC,MAAM,EAAE;AACX,UAAI,CAAC,UAAU,GAAG,EAAE,CAAC;AACrB,UAAI,CAAC,MAAM,GAAG,IAAI,eAAe,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;KACpD,MAAM;AACL,UAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;KACrC;GAEF;;eAdoB,eAAe;;WAgBjC,cAAC,IAAI,EAAE;AACR,UAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,EAAE;AAC9B,eAAO,IAAI,CAAC,MAAM,OAAI,CAAC,IAAI,CAAC,CAAC;OAC9B;;AAED,UAAM,GAAG,GAAG,wBAAU,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;;AAE5C,UAAI,oBAAE,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,CAAC,EAAE,CAAC,EAAE;AACvC,cAAM,IAAI,KAAK,CAAC,wCAAwC,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;OAC1E,MAAM;AACL,YAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;OAC9B;;AAED,UAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;AACvB,UAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACd,aAAO,GAAG,CAAC;KACZ;;;SAEO,eAAG;AACT,aAAO,IAAI,CAAC,SAAS,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,GAAG,oBAAE,OAAO,8BAAK,IAAI,IAAG,IAAI,CAAC,CAAA,AAAC,CAAC;KAC1E;;;SApCoB,eAAe;gCAsCrC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/ui/ui_app_collection.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport UiApp from './ui_app';\nimport Collection from '../utils/collection';\n\nconst byIdCache = Symbol('byId');\n\nmodule.exports = class UiAppCollection extends Collection {\n\n  constructor(uiExports, parent) {\n    super();\n\n    this.uiExports = uiExports;\n\n    if (!parent) {\n      this.claimedIds = [];\n      this.hidden = new UiAppCollection(uiExports, this);\n    } else {\n      this.claimedIds = parent.claimedIds;\n    }\n\n  }\n\n  new(spec) {\n    if (this.hidden && spec.hidden) {\n      return this.hidden.new(spec);\n    }\n\n    const app = new UiApp(this.uiExports, spec);\n\n    if (_.includes(this.claimedIds, app.id)) {\n      throw new Error('Unable to create two apps with the id ' + app.id + '.');\n    } else {\n      this.claimedIds.push(app.id);\n    }\n\n    this[byIdCache] = null;\n    this.add(app);\n    return app;\n  }\n\n  get byId() {\n    return this[byIdCache] || (this[byIdCache] = _.indexBy([...this], 'id'));\n  }\n\n};\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/ui_app.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "chain",
              "get",
              "noop",
              "once",
              "pick"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "chain",
                "local": "chain"
              },
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "noop",
                "local": "noop"
              },
              {
                "kind": "named",
                "imported": "once",
                "local": "once"
              },
              {
                "kind": "named",
                "imported": "pick",
                "local": "pick"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar UiApp = (function () {\n  function UiApp(uiExports, spec) {\n    _classCallCheck(this, UiApp);\n\n    this.uiExports = uiExports;\n    this.spec = spec || {};\n\n    this.id = this.spec.id;\n    if (!this.id) {\n      throw new Error('Every app must specify it\\'s id');\n    }\n\n    this.main = this.spec.main;\n    this.title = this.spec.title;\n    this.order = this.spec.order || 0;\n    this.description = this.spec.description;\n    this.icon = this.spec.icon;\n    this.hidden = !!this.spec.hidden;\n    this.listed = this.spec.listed == null ? !this.hidden : this.spec.listed;\n    this.templateName = this.spec.templateName || 'ui_app';\n\n    if (!this.hidden) {\n      // any non-hidden app has a url, so it gets a \"navLink\"\n      this.navLink = this.uiExports.navLinks['new']({\n        id: this.id,\n        title: this.title,\n        order: this.order,\n        description: this.description,\n        icon: this.icon,\n        url: this.spec.url || '/app/' + this.id\n      });\n\n      if (!this.listed) {\n        // unlisted apps remove their navLinks from the uiExports collection though\n        this.uiExports.navLinks['delete'](this.navLink);\n      }\n    }\n\n    if (this.spec.autoload) {\n      console.warn('\"autoload\" (used by ' + this.id + ' app) is no longer a valid app configuration directive.' + 'Use the \\`ui/autoload/*\\` modules instead.');\n    }\n\n    // once this resolves, no reason to run it again\n    this.getModules = (0, _lodash.once)(this.getModules);\n\n    // variables that are injected into the browser, must serialize to JSON\n    this.getInjectedVars = this.spec.injectVars || _lodash.noop;\n  }\n\n  _createClass(UiApp, [{\n    key: 'getModules',\n    value: function getModules() {\n      return (0, _lodash.chain)([this.uiExports.find((0, _lodash.get)(this, 'spec.uses', [])), this.uiExports.find(['chromeNavControls', 'hacks'])]).flatten().uniq().unshift(this.main).value();\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return (0, _lodash.pick)(this, ['id', 'title', 'description', 'icon', 'main', 'navLink']);\n    }\n  }]);\n\n  return UiApp;\n})();\n\nmodule.exports = UiApp;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9hcHAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7c0JBQTZDLFFBQVE7Ozs7SUFHL0MsS0FBSztBQUNFLFdBRFAsS0FBSyxDQUNHLFNBQVMsRUFBRSxJQUFJLEVBQUU7MEJBRHpCLEtBQUs7O0FBRVAsUUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7QUFDM0IsUUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDOztBQUV2QixRQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFO0FBQ1osWUFBTSxJQUFJLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0tBQ3BEOztBQUVELFFBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDM0IsUUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztBQUM3QixRQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztBQUNsQyxRQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO0FBQ3pDLFFBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDM0IsUUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDakMsUUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQ3pFLFFBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLElBQUksUUFBUSxDQUFDOztBQUV2RCxRQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTs7QUFFaEIsVUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsT0FBSSxDQUFDO0FBQ3pDLFVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtBQUNYLGFBQUssRUFBRSxJQUFJLENBQUMsS0FBSztBQUNqQixhQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7QUFDakIsbUJBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztBQUM3QixZQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7QUFDZixXQUFHLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLGNBQVksSUFBSSxDQUFDLEVBQUUsQUFBRTtPQUN4QyxDQUFDLENBQUM7O0FBRUgsVUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7O0FBRWhCLFlBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxVQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO09BQzlDO0tBQ0Y7O0FBRUQsUUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtBQUN0QixhQUFPLENBQUMsSUFBSSxDQUNWLHlCQUF1QixJQUFJLENBQUMsRUFBRSwrREFDOUIsNENBQTRDLENBQzdDLENBQUM7S0FDSDs7O0FBR0QsUUFBSSxDQUFDLFVBQVUsR0FBRyxrQkFBSyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7OztBQUd4QyxRQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxnQkFBUSxDQUFDO0dBQ3JEOztlQWhERyxLQUFLOztXQWtEQyxzQkFBRztBQUNYLGFBQU8sbUJBQU0sQ0FDWCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxpQkFBSSxJQUFJLEVBQUUsV0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQy9DLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsbUJBQW1CLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FDcEQsQ0FBQyxDQUNELE9BQU8sRUFBRSxDQUNULElBQUksRUFBRSxDQUNOLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQ2xCLEtBQUssRUFBRSxDQUFDO0tBQ1Y7OztXQUVLLGtCQUFHO0FBQ1AsYUFBTyxrQkFBSyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7S0FDOUU7OztTQS9ERyxLQUFLOzs7QUFrRVgsTUFBTSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3VpL3VpX2FwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNoYWluLCBnZXQsIG5vb3AsIG9uY2UsIHBpY2sgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuY2xhc3MgVWlBcHAge1xuICBjb25zdHJ1Y3Rvcih1aUV4cG9ydHMsIHNwZWMpIHtcbiAgICB0aGlzLnVpRXhwb3J0cyA9IHVpRXhwb3J0cztcbiAgICB0aGlzLnNwZWMgPSBzcGVjIHx8IHt9O1xuXG4gICAgdGhpcy5pZCA9IHRoaXMuc3BlYy5pZDtcbiAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXZlcnkgYXBwIG11c3Qgc3BlY2lmeSBpdFxcJ3MgaWQnKTtcbiAgICB9XG5cbiAgICB0aGlzLm1haW4gPSB0aGlzLnNwZWMubWFpbjtcbiAgICB0aGlzLnRpdGxlID0gdGhpcy5zcGVjLnRpdGxlO1xuICAgIHRoaXMub3JkZXIgPSB0aGlzLnNwZWMub3JkZXIgfHwgMDtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gdGhpcy5zcGVjLmRlc2NyaXB0aW9uO1xuICAgIHRoaXMuaWNvbiA9IHRoaXMuc3BlYy5pY29uO1xuICAgIHRoaXMuaGlkZGVuID0gISF0aGlzLnNwZWMuaGlkZGVuO1xuICAgIHRoaXMubGlzdGVkID0gdGhpcy5zcGVjLmxpc3RlZCA9PSBudWxsID8gIXRoaXMuaGlkZGVuIDogdGhpcy5zcGVjLmxpc3RlZDtcbiAgICB0aGlzLnRlbXBsYXRlTmFtZSA9IHRoaXMuc3BlYy50ZW1wbGF0ZU5hbWUgfHwgJ3VpX2FwcCc7XG5cbiAgICBpZiAoIXRoaXMuaGlkZGVuKSB7XG4gICAgICAvLyBhbnkgbm9uLWhpZGRlbiBhcHAgaGFzIGEgdXJsLCBzbyBpdCBnZXRzIGEgXCJuYXZMaW5rXCJcbiAgICAgIHRoaXMubmF2TGluayA9IHRoaXMudWlFeHBvcnRzLm5hdkxpbmtzLm5ldyh7XG4gICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgICAgb3JkZXI6IHRoaXMub3JkZXIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgICBpY29uOiB0aGlzLmljb24sXG4gICAgICAgIHVybDogdGhpcy5zcGVjLnVybCB8fCBgL2FwcC8ke3RoaXMuaWR9YFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghdGhpcy5saXN0ZWQpIHtcbiAgICAgICAgLy8gdW5saXN0ZWQgYXBwcyByZW1vdmUgdGhlaXIgbmF2TGlua3MgZnJvbSB0aGUgdWlFeHBvcnRzIGNvbGxlY3Rpb24gdGhvdWdoXG4gICAgICAgIHRoaXMudWlFeHBvcnRzLm5hdkxpbmtzLmRlbGV0ZSh0aGlzLm5hdkxpbmspO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnNwZWMuYXV0b2xvYWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFwiYXV0b2xvYWRcIiAodXNlZCBieSAke3RoaXMuaWR9IGFwcCkgaXMgbm8gbG9uZ2VyIGEgdmFsaWQgYXBwIGNvbmZpZ3VyYXRpb24gZGlyZWN0aXZlLmAgK1xuICAgICAgICAnVXNlIHRoZSBcXGB1aS9hdXRvbG9hZC8qXFxgIG1vZHVsZXMgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIG9uY2UgdGhpcyByZXNvbHZlcywgbm8gcmVhc29uIHRvIHJ1biBpdCBhZ2FpblxuICAgIHRoaXMuZ2V0TW9kdWxlcyA9IG9uY2UodGhpcy5nZXRNb2R1bGVzKTtcblxuICAgIC8vIHZhcmlhYmxlcyB0aGF0IGFyZSBpbmplY3RlZCBpbnRvIHRoZSBicm93c2VyLCBtdXN0IHNlcmlhbGl6ZSB0byBKU09OXG4gICAgdGhpcy5nZXRJbmplY3RlZFZhcnMgPSB0aGlzLnNwZWMuaW5qZWN0VmFycyB8fCBub29wO1xuICB9XG5cbiAgZ2V0TW9kdWxlcygpIHtcbiAgICByZXR1cm4gY2hhaW4oW1xuICAgICAgdGhpcy51aUV4cG9ydHMuZmluZChnZXQodGhpcywgJ3NwZWMudXNlcycsIFtdKSksXG4gICAgICB0aGlzLnVpRXhwb3J0cy5maW5kKFsnY2hyb21lTmF2Q29udHJvbHMnLCAnaGFja3MnXSksXG4gICAgXSlcbiAgICAuZmxhdHRlbigpXG4gICAgLnVuaXEoKVxuICAgIC51bnNoaWZ0KHRoaXMubWFpbilcbiAgICAudmFsdWUoKTtcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gcGljayh0aGlzLCBbJ2lkJywgJ3RpdGxlJywgJ2Rlc2NyaXB0aW9uJywgJ2ljb24nLCAnbWFpbicsICduYXZMaW5rJ10pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVWlBcHA7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/ui_app.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/ui/ui_app.js",
      "sourcesContent": [
        "import { chain, get, noop, once, pick } from 'lodash';\nimport _ from 'lodash';\n\nclass UiApp {\n  constructor(uiExports, spec) {\n    this.uiExports = uiExports;\n    this.spec = spec || {};\n\n    this.id = this.spec.id;\n    if (!this.id) {\n      throw new Error('Every app must specify it\\'s id');\n    }\n\n    this.main = this.spec.main;\n    this.title = this.spec.title;\n    this.order = this.spec.order || 0;\n    this.description = this.spec.description;\n    this.icon = this.spec.icon;\n    this.hidden = !!this.spec.hidden;\n    this.listed = this.spec.listed == null ? !this.hidden : this.spec.listed;\n    this.templateName = this.spec.templateName || 'ui_app';\n\n    if (!this.hidden) {\n      // any non-hidden app has a url, so it gets a \"navLink\"\n      this.navLink = this.uiExports.navLinks.new({\n        id: this.id,\n        title: this.title,\n        order: this.order,\n        description: this.description,\n        icon: this.icon,\n        url: this.spec.url || `/app/${this.id}`\n      });\n\n      if (!this.listed) {\n        // unlisted apps remove their navLinks from the uiExports collection though\n        this.uiExports.navLinks.delete(this.navLink);\n      }\n    }\n\n    if (this.spec.autoload) {\n      console.warn(\n        `\"autoload\" (used by ${this.id} app) is no longer a valid app configuration directive.` +\n        'Use the \\`ui/autoload/*\\` modules instead.'\n      );\n    }\n\n    // once this resolves, no reason to run it again\n    this.getModules = once(this.getModules);\n\n    // variables that are injected into the browser, must serialize to JSON\n    this.getInjectedVars = this.spec.injectVars || noop;\n  }\n\n  getModules() {\n    return chain([\n      this.uiExports.find(get(this, 'spec.uses', [])),\n      this.uiExports.find(['chromeNavControls', 'hacks']),\n    ])\n    .flatten()\n    .uniq()\n    .unshift(this.main)\n    .value();\n  }\n\n  toJSON() {\n    return pick(this, ['id', 'title', 'description', 'icon', 'main', 'navLink']);\n  }\n}\n\nmodule.exports = UiApp;\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/ui_nav_link_collection.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "sortBy"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "sortBy",
                "local": "sortBy"
              }
            ]
          },
          {
            "source": "./ui_nav_link",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UiNavLink"
              }
            ]
          },
          {
            "source": "../utils/collection",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Collection"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "UiNavLinkCollection"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "UiNavLinkCollection",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "to-consumable-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _lodash = require('lodash');\n\nvar _ui_nav_link = require('./ui_nav_link');\n\nvar _ui_nav_link2 = _interopRequireDefault(_ui_nav_link);\n\nvar _utilsCollection = require('../utils/collection');\n\nvar _utilsCollection2 = _interopRequireDefault(_utilsCollection);\n\nvar inOrderCache = Symbol('inOrder');\n\nvar UiNavLinkCollection = (function (_Collection) {\n  _inherits(UiNavLinkCollection, _Collection);\n\n  function UiNavLinkCollection(uiExports, parent) {\n    _classCallCheck(this, UiNavLinkCollection);\n\n    _get(Object.getPrototypeOf(UiNavLinkCollection.prototype), 'constructor', this).call(this);\n    this.uiExports = uiExports;\n  }\n\n  _createClass(UiNavLinkCollection, [{\n    key: 'new',\n    value: function _new(spec) {\n      var link = new _ui_nav_link2['default'](this.uiExports, spec);\n      this[inOrderCache] = null;\n      this.add(link);\n      return link;\n    }\n  }, {\n    key: 'delete',\n    value: function _delete(value) {\n      this[inOrderCache] = null;\n      return _get(Object.getPrototypeOf(UiNavLinkCollection.prototype), 'delete', this).call(this, value);\n    }\n  }, {\n    key: 'inOrder',\n    get: function get() {\n      if (!this[inOrderCache]) {\n        this[inOrderCache] = (0, _lodash.sortBy)([].concat(_toConsumableArray(this)), 'order');\n      }\n\n      return this[inOrderCache];\n    }\n  }]);\n\n  return UiNavLinkCollection;\n})(_utilsCollection2['default']);\n\nexports['default'] = UiNavLinkCollection;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9uYXZfbGlua19jb2xsZWN0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQkFBdUIsUUFBUTs7MkJBQ1QsZUFBZTs7OzsrQkFDZCxxQkFBcUI7Ozs7QUFFNUMsSUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDOztJQUVsQixtQkFBbUI7WUFBbkIsbUJBQW1COztBQUUzQixXQUZRLG1CQUFtQixDQUUxQixTQUFTLEVBQUUsTUFBTSxFQUFFOzBCQUZaLG1CQUFtQjs7QUFHcEMsK0JBSGlCLG1CQUFtQiw2Q0FHNUI7QUFDUixRQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztHQUM1Qjs7ZUFMa0IsbUJBQW1COztXQU9uQyxjQUFDLElBQUksRUFBRTtBQUNSLFVBQU0sSUFBSSxHQUFHLDZCQUFjLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDakQsVUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLElBQUksQ0FBQztBQUMxQixVQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2YsYUFBTyxJQUFJLENBQUM7S0FDYjs7O1dBVUssaUJBQUMsS0FBSyxFQUFFO0FBQ1osVUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLElBQUksQ0FBQztBQUMxQix3Q0F4QmlCLG1CQUFtQix3Q0F3QmhCLEtBQUssRUFBRTtLQUM1Qjs7O1NBWFUsZUFBRztBQUNaLFVBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7QUFDdkIsWUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLGlEQUFXLElBQUksSUFBRyxPQUFPLENBQUMsQ0FBQztPQUNqRDs7QUFFRCxhQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztLQUMzQjs7O1NBcEJrQixtQkFBbUI7OztxQkFBbkIsbUJBQW1CIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9uYXZfbGlua19jb2xsZWN0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc29ydEJ5IH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBVaU5hdkxpbmsgZnJvbSAnLi91aV9uYXZfbGluayc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuLi91dGlscy9jb2xsZWN0aW9uJztcblxuY29uc3QgaW5PcmRlckNhY2hlID0gU3ltYm9sKCdpbk9yZGVyJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVpTmF2TGlua0NvbGxlY3Rpb24gZXh0ZW5kcyBDb2xsZWN0aW9uIHtcblxuICBjb25zdHJ1Y3Rvcih1aUV4cG9ydHMsIHBhcmVudCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy51aUV4cG9ydHMgPSB1aUV4cG9ydHM7XG4gIH1cblxuICBuZXcoc3BlYykge1xuICAgIGNvbnN0IGxpbmsgPSBuZXcgVWlOYXZMaW5rKHRoaXMudWlFeHBvcnRzLCBzcGVjKTtcbiAgICB0aGlzW2luT3JkZXJDYWNoZV0gPSBudWxsO1xuICAgIHRoaXMuYWRkKGxpbmspO1xuICAgIHJldHVybiBsaW5rO1xuICB9XG5cbiAgZ2V0IGluT3JkZXIoKSB7XG4gICAgaWYgKCF0aGlzW2luT3JkZXJDYWNoZV0pIHtcbiAgICAgIHRoaXNbaW5PcmRlckNhY2hlXSA9IHNvcnRCeShbLi4udGhpc10sICdvcmRlcicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzW2luT3JkZXJDYWNoZV07XG4gIH1cblxuICBkZWxldGUodmFsdWUpIHtcbiAgICB0aGlzW2luT3JkZXJDYWNoZV0gPSBudWxsO1xuICAgIHJldHVybiBzdXBlci5kZWxldGUodmFsdWUpO1xuICB9XG5cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/ui_nav_link_collection.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;sBAAuB,QAAQ;;2BACT,eAAe;;;;+BACd,qBAAqB;;;;AAE5C,IAAM,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;;IAElB,mBAAmB;YAAnB,mBAAmB;;AAE3B,WAFQ,mBAAmB,CAE1B,SAAS,EAAE,MAAM,EAAE;0BAFZ,mBAAmB;;AAGpC,+BAHiB,mBAAmB,6CAG5B;AACR,QAAI,CAAC,SAAS,GAAG,SAAS,CAAC;GAC5B;;eALkB,mBAAmB;;WAOnC,cAAC,IAAI,EAAE;AACR,UAAM,IAAI,GAAG,6BAAc,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AACjD,UAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;AAC1B,UAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACf,aAAO,IAAI,CAAC;KACb;;;WAUK,iBAAC,KAAK,EAAE;AACZ,UAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;AAC1B,wCAxBiB,mBAAmB,wCAwBhB,KAAK,EAAE;KAC5B;;;SAXU,eAAG;AACZ,UAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE;AACvB,YAAI,CAAC,YAAY,CAAC,GAAG,iDAAW,IAAI,IAAG,OAAO,CAAC,CAAC;OACjD;;AAED,aAAO,IAAI,CAAC,YAAY,CAAC,CAAC;KAC3B;;;SApBkB,mBAAmB;;;qBAAnB,mBAAmB",
      "file": "/Users/osagiefo/kibana-aws/src/ui/ui_nav_link_collection.js",
      "sourcesContent": [
        "import { sortBy } from 'lodash';\nimport UiNavLink from './ui_nav_link';\nimport Collection from '../utils/collection';\n\nconst inOrderCache = Symbol('inOrder');\n\nexport default class UiNavLinkCollection extends Collection {\n\n  constructor(uiExports, parent) {\n    super();\n    this.uiExports = uiExports;\n  }\n\n  new(spec) {\n    const link = new UiNavLink(this.uiExports, spec);\n    this[inOrderCache] = null;\n    this.add(link);\n    return link;\n  }\n\n  get inOrder() {\n    if (!this[inOrderCache]) {\n      this[inOrderCache] = sortBy([...this], 'order');\n    }\n\n    return this[inOrderCache];\n  }\n\n  delete(value) {\n    this[inOrderCache] = null;\n    return super.delete(value);\n  }\n\n}\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/ui_nav_link.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "UiNavLink"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "UiNavLink",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar UiNavLink = function UiNavLink(uiExports, spec) {\n  _classCallCheck(this, UiNavLink);\n\n  this.id = spec.id;\n  this.title = spec.title;\n  this.order = spec.order || 0;\n  this.url = '' + (uiExports.urlBasePath || '') + spec.url;\n  this.subUrlBase = '' + (uiExports.urlBasePath || '') + (spec.subUrlBase || spec.url);\n  this.description = spec.description;\n  this.icon = spec.icon;\n  this.linkToLastSubUrl = spec.linkToLastSubUrl === false ? false : true;\n  this.hidden = spec.hidden || false;\n  this.disabled = spec.disabled || false;\n  this.tooltip = spec.tooltip || '';\n};\n\nexports['default'] = UiNavLink;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9uYXZfbGluay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztJQUFxQixTQUFTLEdBQ2pCLFNBRFEsU0FBUyxDQUNoQixTQUFTLEVBQUUsSUFBSSxFQUFFO3dCQURWLFNBQVM7O0FBRTFCLE1BQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUNsQixNQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDeEIsTUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztBQUM3QixNQUFJLENBQUMsR0FBRyxTQUFNLFNBQVMsQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFBLEdBQUcsSUFBSSxDQUFDLEdBQUcsQUFBRSxDQUFDO0FBQ3ZELE1BQUksQ0FBQyxVQUFVLFNBQU0sU0FBUyxDQUFDLFdBQVcsSUFBSSxFQUFFLENBQUEsSUFBRyxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUEsQUFBRSxDQUFDO0FBQ2pGLE1BQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztBQUNwQyxNQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDdEIsTUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsS0FBSyxLQUFLLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQztBQUN2RSxNQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDO0FBQ25DLE1BQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxLQUFLLENBQUM7QUFDdkMsTUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQztDQUNuQzs7cUJBYmtCLFNBQVMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3VpL3VpX25hdl9saW5rLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVWlOYXZMaW5rIHtcbiAgY29uc3RydWN0b3IodWlFeHBvcnRzLCBzcGVjKSB7XG4gICAgdGhpcy5pZCA9IHNwZWMuaWQ7XG4gICAgdGhpcy50aXRsZSA9IHNwZWMudGl0bGU7XG4gICAgdGhpcy5vcmRlciA9IHNwZWMub3JkZXIgfHwgMDtcbiAgICB0aGlzLnVybCA9IGAke3VpRXhwb3J0cy51cmxCYXNlUGF0aCB8fCAnJ30ke3NwZWMudXJsfWA7XG4gICAgdGhpcy5zdWJVcmxCYXNlID0gYCR7dWlFeHBvcnRzLnVybEJhc2VQYXRoIHx8ICcnfSR7c3BlYy5zdWJVcmxCYXNlIHx8IHNwZWMudXJsfWA7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IHNwZWMuZGVzY3JpcHRpb247XG4gICAgdGhpcy5pY29uID0gc3BlYy5pY29uO1xuICAgIHRoaXMubGlua1RvTGFzdFN1YlVybCA9IHNwZWMubGlua1RvTGFzdFN1YlVybCA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7XG4gICAgdGhpcy5oaWRkZW4gPSBzcGVjLmhpZGRlbiB8fCBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVkID0gc3BlYy5kaXNhYmxlZCB8fCBmYWxzZTtcbiAgICB0aGlzLnRvb2x0aXAgPSBzcGVjLnRvb2x0aXAgfHwgJyc7XG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/ui_nav_link.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;IAAqB,SAAS,GACjB,SADQ,SAAS,CAChB,SAAS,EAAE,IAAI,EAAE;wBADV,SAAS;;AAE1B,MAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;AAClB,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AACxB,MAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;AAC7B,MAAI,CAAC,GAAG,SAAM,SAAS,CAAC,WAAW,IAAI,EAAE,CAAA,GAAG,IAAI,CAAC,GAAG,AAAE,CAAC;AACvD,MAAI,CAAC,UAAU,SAAM,SAAS,CAAC,WAAW,IAAI,EAAE,CAAA,IAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,GAAG,CAAA,AAAE,CAAC;AACjF,MAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;AACpC,MAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AACtB,MAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,KAAK,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;AACvE,MAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC;AACnC,MAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC;AACvC,MAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;CACnC;;qBAbkB,SAAS",
      "file": "/Users/osagiefo/kibana-aws/src/ui/ui_nav_link.js",
      "sourcesContent": [
        "export default class UiNavLink {\n  constructor(uiExports, spec) {\n    this.id = spec.id;\n    this.title = spec.title;\n    this.order = spec.order || 0;\n    this.url = `${uiExports.urlBasePath || ''}${spec.url}`;\n    this.subUrlBase = `${uiExports.urlBasePath || ''}${spec.subUrlBase || spec.url}`;\n    this.description = spec.description;\n    this.icon = spec.icon;\n    this.linkToLastSubUrl = spec.linkToLastSubUrl === false ? false : true;\n    this.hidden = spec.hidden || false;\n    this.disabled = spec.disabled || false;\n    this.tooltip = spec.tooltip || '';\n  }\n}\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/ui_bundle.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "join"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "join",
                "local": "join"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "promisify"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "promisify",
                "local": "promisify"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "async-to-generator"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _path = require('path');\n\nvar _bluebird = require('bluebird');\n\nvar read = (0, _bluebird.promisify)(require('fs').readFile);\nvar write = (0, _bluebird.promisify)(require('fs').writeFile);\nvar unlink = (0, _bluebird.promisify)(require('fs').unlink);\nvar stat = (0, _bluebird.promisify)(require('fs').stat);\n\nmodule.exports = (function () {\n  function UiBundle(opts) {\n    _classCallCheck(this, UiBundle);\n\n    opts = opts || {};\n    this.id = opts.id;\n    this.modules = opts.modules;\n    this.template = opts.template;\n    this.env = opts.env;\n\n    var pathBase = (0, _path.join)(this.env.workingDir, this.id);\n    this.entryPath = pathBase + '.entry.js';\n    this.outputPath = pathBase + '.bundle.js';\n  }\n\n  _createClass(UiBundle, [{\n    key: 'renderContent',\n    value: function renderContent() {\n      return this.template({\n        env: this.env,\n        bundle: this\n      });\n    }\n  }, {\n    key: 'readEntryFile',\n    value: _asyncToGenerator(function* () {\n      try {\n        var content = yield read(this.entryPath);\n        return content.toString('utf8');\n      } catch (e) {\n        return null;\n      }\n    })\n  }, {\n    key: 'writeEntryFile',\n    value: _asyncToGenerator(function* () {\n      return yield write(this.entryPath, this.renderContent(), { encoding: 'utf8' });\n    })\n  }, {\n    key: 'clearBundleFile',\n    value: _asyncToGenerator(function* () {\n      try {\n        yield unlink(this.outputPath);\n      } catch (e) {\n        return null;\n      }\n    })\n  }, {\n    key: 'checkForExistingOutput',\n    value: _asyncToGenerator(function* () {\n      try {\n        yield stat(this.outputPath);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    })\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return {\n        id: this.id,\n        modules: this.modules,\n        entryPath: this.entryPath,\n        outputPath: this.outputPath\n      };\n    }\n  }]);\n\n  return UiBundle;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9idW5kbGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7b0JBQXFCLE1BQU07O3dCQUNELFVBQVU7O0FBRXBDLElBQU0sSUFBSSxHQUFHLHlCQUFVLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMvQyxJQUFNLEtBQUssR0FBRyx5QkFBVSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDakQsSUFBTSxNQUFNLEdBQUcseUJBQVUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQy9DLElBQU0sSUFBSSxHQUFHLHlCQUFVLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFM0MsTUFBTSxDQUFDLE9BQU87QUFDRCxXQURVLFFBQVEsQ0FDakIsSUFBSSxFQUFFOzBCQURHLFFBQVE7O0FBRzNCLFFBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0FBQ2xCLFFBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUNsQixRQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7QUFDNUIsUUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0FBQzlCLFFBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQzs7QUFFcEIsUUFBTSxRQUFRLEdBQUcsZ0JBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3BELFFBQUksQ0FBQyxTQUFTLEdBQU0sUUFBUSxjQUFXLENBQUM7QUFDeEMsUUFBSSxDQUFDLFVBQVUsR0FBTSxRQUFRLGVBQVksQ0FBQztHQUUzQzs7ZUFib0IsUUFBUTs7V0FlaEIseUJBQUc7QUFDZCxhQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7QUFDbkIsV0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO0FBQ2IsY0FBTSxFQUFFLElBQUk7T0FDYixDQUFDLENBQUM7S0FDSjs7OzZCQUVrQixhQUFHO0FBQ3BCLFVBQUk7QUFDRixZQUFNLE9BQU8sR0FBRyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDM0MsZUFBTyxPQUFPLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO09BQ2pDLENBQ0QsT0FBTyxDQUFDLEVBQUU7QUFDUixlQUFPLElBQUksQ0FBQztPQUNiO0tBQ0Y7Ozs2QkFFbUIsYUFBRztBQUNyQixhQUFPLE1BQU0sS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7S0FDaEY7Ozs2QkFFb0IsYUFBRztBQUN0QixVQUFJO0FBQUUsY0FBTSxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO09BQUUsQ0FDdEMsT0FBTyxDQUFDLEVBQUU7QUFBRSxlQUFPLElBQUksQ0FBQztPQUFFO0tBQzNCOzs7NkJBRTJCLGFBQUc7QUFDN0IsVUFBSTtBQUNGLGNBQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUM1QixlQUFPLElBQUksQ0FBQztPQUNiLENBQ0QsT0FBTyxDQUFDLEVBQUU7QUFDUixlQUFPLEtBQUssQ0FBQztPQUNkO0tBQ0Y7OztXQUVLLGtCQUFHO0FBQ1AsYUFBTztBQUNMLFVBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtBQUNYLGVBQU8sRUFBRSxJQUFJLENBQUMsT0FBTztBQUNyQixpQkFBUyxFQUFFLElBQUksQ0FBQyxTQUFTO0FBQ3pCLGtCQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVU7T0FDNUIsQ0FBQztLQUNIOzs7U0ExRG9CLFFBQVE7SUEyRDlCLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3VpL3VpX2J1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ2JsdWViaXJkJztcblxuY29uc3QgcmVhZCA9IHByb21pc2lmeShyZXF1aXJlKCdmcycpLnJlYWRGaWxlKTtcbmNvbnN0IHdyaXRlID0gcHJvbWlzaWZ5KHJlcXVpcmUoJ2ZzJykud3JpdGVGaWxlKTtcbmNvbnN0IHVubGluayA9IHByb21pc2lmeShyZXF1aXJlKCdmcycpLnVubGluayk7XG5jb25zdCBzdGF0ID0gcHJvbWlzaWZ5KHJlcXVpcmUoJ2ZzJykuc3RhdCk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgVWlCdW5kbGUge1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG5cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICB0aGlzLmlkID0gb3B0cy5pZDtcbiAgICB0aGlzLm1vZHVsZXMgPSBvcHRzLm1vZHVsZXM7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IG9wdHMudGVtcGxhdGU7XG4gICAgdGhpcy5lbnYgPSBvcHRzLmVudjtcblxuICAgIGNvbnN0IHBhdGhCYXNlID0gam9pbih0aGlzLmVudi53b3JraW5nRGlyLCB0aGlzLmlkKTtcbiAgICB0aGlzLmVudHJ5UGF0aCA9IGAke3BhdGhCYXNlfS5lbnRyeS5qc2A7XG4gICAgdGhpcy5vdXRwdXRQYXRoID0gYCR7cGF0aEJhc2V9LmJ1bmRsZS5qc2A7XG5cbiAgfVxuXG4gIHJlbmRlckNvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGVtcGxhdGUoe1xuICAgICAgZW52OiB0aGlzLmVudixcbiAgICAgIGJ1bmRsZTogdGhpc1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgcmVhZEVudHJ5RmlsZSgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHJlYWQodGhpcy5lbnRyeVBhdGgpO1xuICAgICAgcmV0dXJuIGNvbnRlbnQudG9TdHJpbmcoJ3V0ZjgnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHdyaXRlRW50cnlGaWxlKCkge1xuICAgIHJldHVybiBhd2FpdCB3cml0ZSh0aGlzLmVudHJ5UGF0aCwgdGhpcy5yZW5kZXJDb250ZW50KCksIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcbiAgfVxuXG4gIGFzeW5jIGNsZWFyQnVuZGxlRmlsZSgpIHtcbiAgICB0cnkgeyBhd2FpdCB1bmxpbmsodGhpcy5vdXRwdXRQYXRoKTsgfVxuICAgIGNhdGNoIChlKSB7IHJldHVybiBudWxsOyB9XG4gIH1cblxuICBhc3luYyBjaGVja0ZvckV4aXN0aW5nT3V0cHV0KCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzdGF0KHRoaXMub3V0cHV0UGF0aCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgbW9kdWxlczogdGhpcy5tb2R1bGVzLFxuICAgICAgZW50cnlQYXRoOiB0aGlzLmVudHJ5UGF0aCxcbiAgICAgIG91dHB1dFBhdGg6IHRoaXMub3V0cHV0UGF0aFxuICAgIH07XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/ui_bundle.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;oBAAqB,MAAM;;wBACD,UAAU;;AAEpC,IAAM,IAAI,GAAG,yBAAU,OAAO,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AAC/C,IAAM,KAAK,GAAG,yBAAU,OAAO,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC;AACjD,IAAM,MAAM,GAAG,yBAAU,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC;AAC/C,IAAM,IAAI,GAAG,yBAAU,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;;AAE3C,MAAM,CAAC,OAAO;AACD,WADU,QAAQ,CACjB,IAAI,EAAE;0BADG,QAAQ;;AAG3B,QAAI,GAAG,IAAI,IAAI,EAAE,CAAC;AAClB,QAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;AAClB,QAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AAC5B,QAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;AAC9B,QAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;;AAEpB,QAAM,QAAQ,GAAG,gBAAK,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;AACpD,QAAI,CAAC,SAAS,GAAM,QAAQ,cAAW,CAAC;AACxC,QAAI,CAAC,UAAU,GAAM,QAAQ,eAAY,CAAC;GAE3C;;eAboB,QAAQ;;WAehB,yBAAG;AACd,aAAO,IAAI,CAAC,QAAQ,CAAC;AACnB,WAAG,EAAE,IAAI,CAAC,GAAG;AACb,cAAM,EAAE,IAAI;OACb,CAAC,CAAC;KACJ;;;6BAEkB,aAAG;AACpB,UAAI;AACF,YAAM,OAAO,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC3C,eAAO,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;OACjC,CACD,OAAO,CAAC,EAAE;AACR,eAAO,IAAI,CAAC;OACb;KACF;;;6BAEmB,aAAG;AACrB,aAAO,MAAM,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;KAChF;;;6BAEoB,aAAG;AACtB,UAAI;AAAE,cAAM,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;OAAE,CACtC,OAAO,CAAC,EAAE;AAAE,eAAO,IAAI,CAAC;OAAE;KAC3B;;;6BAE2B,aAAG;AAC7B,UAAI;AACF,cAAM,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC5B,eAAO,IAAI,CAAC;OACb,CACD,OAAO,CAAC,EAAE;AACR,eAAO,KAAK,CAAC;OACd;KACF;;;WAEK,kBAAG;AACP,aAAO;AACL,UAAE,EAAE,IAAI,CAAC,EAAE;AACX,eAAO,EAAE,IAAI,CAAC,OAAO;AACrB,iBAAS,EAAE,IAAI,CAAC,SAAS;AACzB,kBAAU,EAAE,IAAI,CAAC,UAAU;OAC5B,CAAC;KACH;;;SA1DoB,QAAQ;IA2D9B,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/ui/ui_bundle.js",
      "sourcesContent": [
        "import { join } from 'path';\nimport { promisify } from 'bluebird';\n\nconst read = promisify(require('fs').readFile);\nconst write = promisify(require('fs').writeFile);\nconst unlink = promisify(require('fs').unlink);\nconst stat = promisify(require('fs').stat);\n\nmodule.exports = class UiBundle {\n  constructor(opts) {\n\n    opts = opts || {};\n    this.id = opts.id;\n    this.modules = opts.modules;\n    this.template = opts.template;\n    this.env = opts.env;\n\n    const pathBase = join(this.env.workingDir, this.id);\n    this.entryPath = `${pathBase}.entry.js`;\n    this.outputPath = `${pathBase}.bundle.js`;\n\n  }\n\n  renderContent() {\n    return this.template({\n      env: this.env,\n      bundle: this\n    });\n  }\n\n  async readEntryFile() {\n    try {\n      const content = await read(this.entryPath);\n      return content.toString('utf8');\n    }\n    catch (e) {\n      return null;\n    }\n  }\n\n  async writeEntryFile() {\n    return await write(this.entryPath, this.renderContent(), { encoding: 'utf8' });\n  }\n\n  async clearBundleFile() {\n    try { await unlink(this.outputPath); }\n    catch (e) { return null; }\n  }\n\n  async checkForExistingOutput() {\n    try {\n      await stat(this.outputPath);\n      return true;\n    }\n    catch (e) {\n      return false;\n    }\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      modules: this.modules,\n      entryPath: this.entryPath,\n      outputPath: this.outputPath\n    };\n  }\n};\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/ui_bundle_collection.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./ui_bundle",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UiBundle"
              }
            ]
          },
          {
            "source": "./app_entry_template",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "appEntryTemplate"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "readFileSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readFileSync",
                "local": "readSync"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "pull",
              "transform",
              "pluck"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "pull",
                "local": "pull"
              },
              {
                "kind": "named",
                "imported": "transform",
                "local": "transform"
              },
              {
                "kind": "named",
                "imported": "pluck",
                "local": "pluck"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "promisify"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "promisify",
                "local": "promisify"
              }
            ]
          },
          {
            "source": "minimatch",
            "imported": [
              "makeRe"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "makeRe",
                "local": "makeRe"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _ui_bundle = require('./ui_bundle');\n\nvar _ui_bundle2 = _interopRequireDefault(_ui_bundle);\n\nvar _app_entry_template = require('./app_entry_template');\n\nvar _app_entry_template2 = _interopRequireDefault(_app_entry_template);\n\nvar _fs = require('fs');\n\nvar _lodash = require('lodash');\n\nvar _bluebird = require('bluebird');\n\nvar _minimatch = require('minimatch');\n\nvar rimraf = (0, _bluebird.promisify)(require('rimraf'));\nvar mkdirp = (0, _bluebird.promisify)(require('mkdirp'));\nvar unlink = (0, _bluebird.promisify)(require('fs').unlink);\nvar readdir = (0, _bluebird.promisify)(require('fs').readdir);\n\nvar UiBundleCollection = (function () {\n  function UiBundleCollection(bundlerEnv, filter) {\n    _classCallCheck(this, UiBundleCollection);\n\n    this.each = [];\n    this.env = bundlerEnv;\n    this.filter = (0, _minimatch.makeRe)(filter || '*', {\n      noglobstar: true,\n      noext: true,\n      matchBase: true\n    });\n  }\n\n  _createClass(UiBundleCollection, [{\n    key: 'add',\n    value: function add(bundle) {\n      if (!(bundle instanceof _ui_bundle2['default'])) {\n        throw new TypeError('expected bundle to be an instance of UiBundle');\n      }\n\n      if (this.filter.test(bundle.id)) {\n        this.each.push(bundle);\n      }\n    }\n  }, {\n    key: 'addApp',\n    value: function addApp(app) {\n      this.add(new _ui_bundle2['default']({\n        id: app.id,\n        modules: app.getModules(),\n        template: _app_entry_template2['default'],\n        env: this.env\n      }));\n    }\n  }, {\n    key: 'desc',\n    value: function desc() {\n      switch (this.each.length) {\n        case 0:\n          return '0 bundles';\n        case 1:\n          return 'bundle for ' + this.each[0].id;\n        default:\n          var ids = this.getIds();\n          var last = ids.pop();\n          var commas = ids.join(', ');\n          return 'bundles for ' + commas + ' and ' + last;\n      }\n    }\n  }, {\n    key: 'ensureDir',\n    value: _asyncToGenerator(function* () {\n      yield mkdirp(this.env.workingDir);\n    })\n  }, {\n    key: 'writeEntryFiles',\n    value: _asyncToGenerator(function* () {\n      yield this.ensureDir();\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.each[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var bundle = _step.value;\n\n          var existing = yield bundle.readEntryFile();\n          var expected = bundle.renderContent();\n\n          if (existing !== expected) {\n            yield bundle.writeEntryFile();\n            yield bundle.clearBundleFile();\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    })\n  }, {\n    key: 'getInvalidBundles',\n    value: _asyncToGenerator(function* () {\n      var invalids = new UiBundleCollection(this.env);\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.each[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var bundle = _step2.value;\n\n          var exists = yield bundle.checkForExistingOutput();\n          if (!exists) {\n            invalids.add(bundle);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return invalids;\n    })\n  }, {\n    key: 'toWebpackEntries',\n    value: function toWebpackEntries() {\n      return (0, _lodash.transform)(this.each, function (entries, bundle) {\n        entries[bundle.id] = bundle.entryPath;\n      }, {});\n    }\n  }, {\n    key: 'getIds',\n    value: function getIds() {\n      return (0, _lodash.pluck)(this.each, 'id');\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return this.each;\n    }\n  }]);\n\n  return UiBundleCollection;\n})();\n\nmodule.exports = UiBundleCollection;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9idW5kbGVfY29sbGVjdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3lCQUFxQixhQUFhOzs7O2tDQUNMLHNCQUFzQjs7OztrQkFDVixJQUFJOztzQkFDTixRQUFROzt3QkFDckIsVUFBVTs7eUJBQ2IsV0FBVzs7QUFFbEMsSUFBTSxNQUFNLEdBQUcseUJBQVUsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDNUMsSUFBTSxNQUFNLEdBQUcseUJBQVUsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDNUMsSUFBTSxNQUFNLEdBQUcseUJBQVUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQy9DLElBQU0sT0FBTyxHQUFHLHlCQUFVLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQzs7SUFFM0Msa0JBQWtCO0FBQ1gsV0FEUCxrQkFBa0IsQ0FDVixVQUFVLEVBQUUsTUFBTSxFQUFFOzBCQUQ1QixrQkFBa0I7O0FBRXBCLFFBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQ2YsUUFBSSxDQUFDLEdBQUcsR0FBRyxVQUFVLENBQUM7QUFDdEIsUUFBSSxDQUFDLE1BQU0sR0FBRyx1QkFBTyxNQUFNLElBQUksR0FBRyxFQUFFO0FBQ2xDLGdCQUFVLEVBQUUsSUFBSTtBQUNoQixXQUFLLEVBQUUsSUFBSTtBQUNYLGVBQVMsRUFBRSxJQUFJO0tBQ2hCLENBQUMsQ0FBQztHQUNKOztlQVRHLGtCQUFrQjs7V0FXbkIsYUFBQyxNQUFNLEVBQUU7QUFDVixVQUFJLEVBQUUsTUFBTSxtQ0FBb0IsQUFBQyxFQUFFO0FBQ2pDLGNBQU0sSUFBSSxTQUFTLENBQUMsK0NBQStDLENBQUMsQ0FBQztPQUN0RTs7QUFFRCxVQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUMvQixZQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztPQUN4QjtLQUNGOzs7V0FFSyxnQkFBQyxHQUFHLEVBQUU7QUFDVixVQUFJLENBQUMsR0FBRyxDQUFDLDJCQUFhO0FBQ3BCLFVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRTtBQUNWLGVBQU8sRUFBRSxHQUFHLENBQUMsVUFBVSxFQUFFO0FBQ3pCLGdCQUFRLGlDQUFrQjtBQUMxQixXQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7T0FDZCxDQUFDLENBQUMsQ0FBQztLQUNMOzs7V0FFRyxnQkFBRztBQUNMLGNBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNO0FBQ3RCLGFBQUssQ0FBQztBQUNKLGlCQUFPLFdBQVcsQ0FBQztBQUFBLEFBQ3JCLGFBQUssQ0FBQztBQUNKLGlDQUFxQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBRztBQUFBLEFBQ3pDO0FBQ0UsY0FBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQzFCLGNBQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUN2QixjQUFNLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzlCLGtDQUFzQixNQUFNLGFBQVEsSUFBSSxDQUFHO0FBQUEsT0FDOUM7S0FDRjs7OzZCQUVjLGFBQUc7QUFDaEIsWUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUNuQzs7OzZCQUVvQixhQUFHO0FBQ3RCLFlBQU0sSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDOzs7Ozs7O0FBRXZCLDZCQUFxQixJQUFJLENBQUMsSUFBSSw4SEFBRTtjQUFyQixNQUFNOztBQUNmLGNBQU0sUUFBUSxHQUFHLE1BQU0sTUFBTSxDQUFDLGFBQWEsRUFBRSxDQUFDO0FBQzlDLGNBQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxhQUFhLEVBQUUsQ0FBQzs7QUFFeEMsY0FBSSxRQUFRLEtBQUssUUFBUSxFQUFFO0FBQ3pCLGtCQUFNLE1BQU0sQ0FBQyxjQUFjLEVBQUUsQ0FBQztBQUM5QixrQkFBTSxNQUFNLENBQUMsZUFBZSxFQUFFLENBQUM7V0FDaEM7U0FDRjs7Ozs7Ozs7Ozs7Ozs7O0tBQ0Y7Ozs2QkFFc0IsYUFBRztBQUN4QixVQUFNLFFBQVEsR0FBRyxJQUFJLGtCQUFrQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzs7Ozs7OztBQUVsRCw4QkFBcUIsSUFBSSxDQUFDLElBQUksbUlBQUU7Y0FBckIsTUFBTTs7QUFDZixjQUFNLE1BQU0sR0FBRyxNQUFNLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ3JELGNBQUksQ0FBQyxNQUFNLEVBQUU7QUFDWCxvQkFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztXQUN0QjtTQUNGOzs7Ozs7Ozs7Ozs7Ozs7O0FBRUQsYUFBTyxRQUFRLENBQUM7S0FDakI7OztXQUVlLDRCQUFHO0FBQ2pCLGFBQU8sdUJBQVUsSUFBSSxDQUFDLElBQUksRUFBRSxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFDckQsZUFBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO09BQ3ZDLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDUjs7O1dBRUssa0JBQUc7QUFDUCxhQUFPLG1CQUFNLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDL0I7OztXQUVLLGtCQUFHO0FBQ1AsYUFBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0tBQ2xCOzs7U0F2Rkcsa0JBQWtCOzs7QUEwRnhCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsa0JBQWtCLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3VpL3VpX2J1bmRsZV9jb2xsZWN0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVpQnVuZGxlIGZyb20gJy4vdWlfYnVuZGxlJztcbmltcG9ydCBhcHBFbnRyeVRlbXBsYXRlIGZyb20gJy4vYXBwX2VudHJ5X3RlbXBsYXRlJztcbmltcG9ydCB7IHJlYWRGaWxlU3luYyBhcyByZWFkU3luYyB9IGZyb20gJ2ZzJztcbmltcG9ydCB7IHB1bGwsIHRyYW5zZm9ybSwgcGx1Y2sgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgcHJvbWlzaWZ5IH0gZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IHsgbWFrZVJlIH0gZnJvbSAnbWluaW1hdGNoJztcblxuY29uc3QgcmltcmFmID0gcHJvbWlzaWZ5KHJlcXVpcmUoJ3JpbXJhZicpKTtcbmNvbnN0IG1rZGlycCA9IHByb21pc2lmeShyZXF1aXJlKCdta2RpcnAnKSk7XG5jb25zdCB1bmxpbmsgPSBwcm9taXNpZnkocmVxdWlyZSgnZnMnKS51bmxpbmspO1xuY29uc3QgcmVhZGRpciA9IHByb21pc2lmeShyZXF1aXJlKCdmcycpLnJlYWRkaXIpO1xuXG5jbGFzcyBVaUJ1bmRsZUNvbGxlY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihidW5kbGVyRW52LCBmaWx0ZXIpIHtcbiAgICB0aGlzLmVhY2ggPSBbXTtcbiAgICB0aGlzLmVudiA9IGJ1bmRsZXJFbnY7XG4gICAgdGhpcy5maWx0ZXIgPSBtYWtlUmUoZmlsdGVyIHx8ICcqJywge1xuICAgICAgbm9nbG9ic3RhcjogdHJ1ZSxcbiAgICAgIG5vZXh0OiB0cnVlLFxuICAgICAgbWF0Y2hCYXNlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBhZGQoYnVuZGxlKSB7XG4gICAgaWYgKCEoYnVuZGxlIGluc3RhbmNlb2YgVWlCdW5kbGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleHBlY3RlZCBidW5kbGUgdG8gYmUgYW4gaW5zdGFuY2Ugb2YgVWlCdW5kbGUnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5maWx0ZXIudGVzdChidW5kbGUuaWQpKSB7XG4gICAgICB0aGlzLmVhY2gucHVzaChidW5kbGUpO1xuICAgIH1cbiAgfVxuXG4gIGFkZEFwcChhcHApIHtcbiAgICB0aGlzLmFkZChuZXcgVWlCdW5kbGUoe1xuICAgICAgaWQ6IGFwcC5pZCxcbiAgICAgIG1vZHVsZXM6IGFwcC5nZXRNb2R1bGVzKCksXG4gICAgICB0ZW1wbGF0ZTogYXBwRW50cnlUZW1wbGF0ZSxcbiAgICAgIGVudjogdGhpcy5lbnZcbiAgICB9KSk7XG4gIH1cblxuICBkZXNjKCkge1xuICAgIHN3aXRjaCAodGhpcy5lYWNoLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gJzAgYnVuZGxlcyc7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBgYnVuZGxlIGZvciAke3RoaXMuZWFjaFswXS5pZH1gO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc3QgaWRzID0gdGhpcy5nZXRJZHMoKTtcbiAgICAgICAgY29uc3QgbGFzdCA9IGlkcy5wb3AoKTtcbiAgICAgICAgY29uc3QgY29tbWFzID0gaWRzLmpvaW4oJywgJyk7XG4gICAgICAgIHJldHVybiBgYnVuZGxlcyBmb3IgJHtjb21tYXN9IGFuZCAke2xhc3R9YDtcbiAgICB9XG4gIH1cblxuICBhc3luYyBlbnN1cmVEaXIoKSB7XG4gICAgYXdhaXQgbWtkaXJwKHRoaXMuZW52LndvcmtpbmdEaXIpO1xuICB9XG5cbiAgYXN5bmMgd3JpdGVFbnRyeUZpbGVzKCkge1xuICAgIGF3YWl0IHRoaXMuZW5zdXJlRGlyKCk7XG5cbiAgICBmb3IgKGNvbnN0IGJ1bmRsZSBvZiB0aGlzLmVhY2gpIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgYnVuZGxlLnJlYWRFbnRyeUZpbGUoKTtcbiAgICAgIGNvbnN0IGV4cGVjdGVkID0gYnVuZGxlLnJlbmRlckNvbnRlbnQoKTtcblxuICAgICAgaWYgKGV4aXN0aW5nICE9PSBleHBlY3RlZCkge1xuICAgICAgICBhd2FpdCBidW5kbGUud3JpdGVFbnRyeUZpbGUoKTtcbiAgICAgICAgYXdhaXQgYnVuZGxlLmNsZWFyQnVuZGxlRmlsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEludmFsaWRCdW5kbGVzKCkge1xuICAgIGNvbnN0IGludmFsaWRzID0gbmV3IFVpQnVuZGxlQ29sbGVjdGlvbih0aGlzLmVudik7XG5cbiAgICBmb3IgKGNvbnN0IGJ1bmRsZSBvZiB0aGlzLmVhY2gpIHtcbiAgICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IGJ1bmRsZS5jaGVja0ZvckV4aXN0aW5nT3V0cHV0KCk7XG4gICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICBpbnZhbGlkcy5hZGQoYnVuZGxlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW52YWxpZHM7XG4gIH1cblxuICB0b1dlYnBhY2tFbnRyaWVzKCkge1xuICAgIHJldHVybiB0cmFuc2Zvcm0odGhpcy5lYWNoLCBmdW5jdGlvbiAoZW50cmllcywgYnVuZGxlKSB7XG4gICAgICBlbnRyaWVzW2J1bmRsZS5pZF0gPSBidW5kbGUuZW50cnlQYXRoO1xuICAgIH0sIHt9KTtcbiAgfVxuXG4gIGdldElkcygpIHtcbiAgICByZXR1cm4gcGx1Y2sodGhpcy5lYWNoLCAnaWQnKTtcbiAgfVxuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVWlCdW5kbGVDb2xsZWN0aW9uO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/ui_bundle_collection.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/ui/ui_bundle_collection.js",
      "sourcesContent": [
        "import UiBundle from './ui_bundle';\nimport appEntryTemplate from './app_entry_template';\nimport { readFileSync as readSync } from 'fs';\nimport { pull, transform, pluck } from 'lodash';\nimport { promisify } from 'bluebird';\nimport { makeRe } from 'minimatch';\n\nconst rimraf = promisify(require('rimraf'));\nconst mkdirp = promisify(require('mkdirp'));\nconst unlink = promisify(require('fs').unlink);\nconst readdir = promisify(require('fs').readdir);\n\nclass UiBundleCollection {\n  constructor(bundlerEnv, filter) {\n    this.each = [];\n    this.env = bundlerEnv;\n    this.filter = makeRe(filter || '*', {\n      noglobstar: true,\n      noext: true,\n      matchBase: true\n    });\n  }\n\n  add(bundle) {\n    if (!(bundle instanceof UiBundle)) {\n      throw new TypeError('expected bundle to be an instance of UiBundle');\n    }\n\n    if (this.filter.test(bundle.id)) {\n      this.each.push(bundle);\n    }\n  }\n\n  addApp(app) {\n    this.add(new UiBundle({\n      id: app.id,\n      modules: app.getModules(),\n      template: appEntryTemplate,\n      env: this.env\n    }));\n  }\n\n  desc() {\n    switch (this.each.length) {\n      case 0:\n        return '0 bundles';\n      case 1:\n        return `bundle for ${this.each[0].id}`;\n      default:\n        const ids = this.getIds();\n        const last = ids.pop();\n        const commas = ids.join(', ');\n        return `bundles for ${commas} and ${last}`;\n    }\n  }\n\n  async ensureDir() {\n    await mkdirp(this.env.workingDir);\n  }\n\n  async writeEntryFiles() {\n    await this.ensureDir();\n\n    for (const bundle of this.each) {\n      const existing = await bundle.readEntryFile();\n      const expected = bundle.renderContent();\n\n      if (existing !== expected) {\n        await bundle.writeEntryFile();\n        await bundle.clearBundleFile();\n      }\n    }\n  }\n\n  async getInvalidBundles() {\n    const invalids = new UiBundleCollection(this.env);\n\n    for (const bundle of this.each) {\n      const exists = await bundle.checkForExistingOutput();\n      if (!exists) {\n        invalids.add(bundle);\n      }\n    }\n\n    return invalids;\n  }\n\n  toWebpackEntries() {\n    return transform(this.each, function (entries, bundle) {\n      entries[bundle.id] = bundle.entryPath;\n    }, {});\n  }\n\n  getIds() {\n    return pluck(this.each, 'id');\n  }\n\n  toJSON() {\n    return this.each;\n  }\n}\n\nmodule.exports = UiBundleCollection;\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/app_entry_template.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (_ref) {\n  var env = _ref.env;\n  var bundle = _ref.bundle;\n\n  var pluginSlug = env.pluginInfo.sort().map(function (p) {\n    return ' *  - ' + p;\n  }).join('\\n');\n\n  var requires = bundle.modules.map(function (m) {\n    return 'require(\\'' + m + '\\');';\n  }).join('\\n');\n\n  return '\\n/**\\n * Test entry file\\n *\\n * This is programatically created and updated, do not modify\\n *\\n * context: ' + JSON.stringify(env.context) + '\\n * includes code from:\\n' + pluginSlug + '\\n *\\n */\\n\\nrequire(\\'ui/chrome\\');\\n' + requires + '\\nrequire(\\'ui/chrome\\').bootstrap(/* xoxo */);\\n\\n';\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS9hcHBfZW50cnlfdGVtcGxhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsSUFBZSxFQUFFO01BQWYsR0FBRyxHQUFMLElBQWUsQ0FBYixHQUFHO01BQUUsTUFBTSxHQUFiLElBQWUsQ0FBUixNQUFNOztBQUV0QyxNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUN2QyxHQUFHLENBQUMsVUFBQSxDQUFDO1dBQUksUUFBUSxHQUFHLENBQUM7R0FBQSxDQUFDLENBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFWixNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUM5QixHQUFHLENBQUMsVUFBQSxDQUFDOzBCQUFnQixDQUFDO0dBQUssQ0FBQyxDQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRVosNEhBTVksSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLGtDQUV2QyxVQUFVLDhDQUtWLFFBQVEseURBR1I7Q0FFRCxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS9hcHBfZW50cnlfdGVtcGxhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh7IGVudiwgYnVuZGxlIH0pIHtcblxuICBjb25zdCBwbHVnaW5TbHVnID0gZW52LnBsdWdpbkluZm8uc29ydCgpXG4gIC5tYXAocCA9PiAnICogIC0gJyArIHApXG4gIC5qb2luKCdcXG4nKTtcblxuICBjb25zdCByZXF1aXJlcyA9IGJ1bmRsZS5tb2R1bGVzXG4gIC5tYXAobSA9PiBgcmVxdWlyZSgnJHttfScpO2ApXG4gIC5qb2luKCdcXG4nKTtcblxuICByZXR1cm4gYFxuLyoqXG4gKiBUZXN0IGVudHJ5IGZpbGVcbiAqXG4gKiBUaGlzIGlzIHByb2dyYW1hdGljYWxseSBjcmVhdGVkIGFuZCB1cGRhdGVkLCBkbyBub3QgbW9kaWZ5XG4gKlxuICogY29udGV4dDogJHtKU09OLnN0cmluZ2lmeShlbnYuY29udGV4dCl9XG4gKiBpbmNsdWRlcyBjb2RlIGZyb206XG4ke3BsdWdpblNsdWd9XG4gKlxuICovXG5cbnJlcXVpcmUoJ3VpL2Nocm9tZScpO1xuJHtyZXF1aXJlc31cbnJlcXVpcmUoJ3VpL2Nocm9tZScpLmJvb3RzdHJhcCgvKiB4b3hvICovKTtcblxuYDtcblxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/app_entry_template.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,IAAe,EAAE;MAAf,GAAG,GAAL,IAAe,CAAb,GAAG;MAAE,MAAM,GAAb,IAAe,CAAR,MAAM;;AAEtC,MAAM,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,CACvC,GAAG,CAAC,UAAA,CAAC;WAAI,QAAQ,GAAG,CAAC;GAAA,CAAC,CACtB,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEZ,MAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAC9B,GAAG,CAAC,UAAA,CAAC;0BAAgB,CAAC;GAAK,CAAC,CAC5B,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEZ,4HAMY,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,kCAEvC,UAAU,8CAKV,QAAQ,yDAGR;CAED,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/ui/app_entry_template.js",
      "sourcesContent": [
        "module.exports = function ({ env, bundle }) {\n\n  const pluginSlug = env.pluginInfo.sort()\n  .map(p => ' *  - ' + p)\n  .join('\\n');\n\n  const requires = bundle.modules\n  .map(m => `require('${m}');`)\n  .join('\\n');\n\n  return `\n/**\n * Test entry file\n *\n * This is programatically created and updated, do not modify\n *\n * context: ${JSON.stringify(env.context)}\n * includes code from:\n${pluginSlug}\n *\n */\n\nrequire('ui/chrome');\n${requires}\nrequire('ui/chrome').bootstrap(/* xoxo */);\n\n`;\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/ui_bundler_env.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "../utils/from_root",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fromRoot"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "includes",
              "flow",
              "escapeRegExp"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "includes",
                "local": "includes"
              },
              {
                "kind": "named",
                "imported": "flow",
                "local": "flow"
              },
              {
                "kind": "named",
                "imported": "escapeRegExp",
                "local": "escapeRegExp"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "isString",
              "isArray",
              "isPlainObject",
              "get"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "isString",
                "local": "isString"
              },
              {
                "kind": "named",
                "imported": "isArray",
                "local": "isArray"
              },
              {
                "kind": "named",
                "imported": "isPlainObject",
                "local": "isPlainObject"
              },
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "keys"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "keys",
                "local": "keys"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _utilsFrom_root = require('../utils/from_root');\n\nvar _utilsFrom_root2 = _interopRequireDefault(_utilsFrom_root);\n\nvar _lodash = require('lodash');\n\nvar asRegExp = (0, _lodash.flow)(_lodash.escapeRegExp, function (path) {\n  var last = path.slice(-1);\n  if (last === '/' || last === '\\\\') {\n    // match a directory explicitly\n    return path + '.*';\n  } else {\n    // match a directory or files or just the absolute path\n    return path + '(?:\\\\.js$|$|\\\\\\\\|\\\\/)?';\n  }\n}, RegExp);\n\nvar arr = function arr(v) {\n  return [].concat(v || []);\n};\n\nmodule.exports = (function () {\n  function UiBundlerEnv(workingDir) {\n    _classCallCheck(this, UiBundlerEnv);\n\n    // the location that bundle entry files and all compiles files will\n    // be written\n    this.workingDir = workingDir;\n\n    // the context that the bundler is running in, this is not officially\n    // used for anything but it is serialized into the entry file to ensure\n    // that they are invalidated when the context changes\n    this.context = {};\n\n    // the plugins that are used to build this environment\n    // are tracked and embedded into the entry file so that when the\n    // environment changes we can rebuild the bundles\n    this.pluginInfo = [];\n\n    // regular expressions which will prevent webpack from parsing the file\n    this.noParse = [/node_modules[\\/\\\\](angular|elasticsearch-browser)[\\/\\\\]/, /node_modules[\\/\\\\](mocha|moment)[\\/\\\\]/];\n\n    // webpack aliases, like require paths, mapping a prefix to a directory\n    this.aliases = {\n      ui: (0, _utilsFrom_root2['default'])('src/ui/public'),\n      test_harness: (0, _utilsFrom_root2['default'])('src/test_harness/public'),\n      querystring: 'querystring-browser'\n    };\n\n    // map of which plugins created which aliases\n    this.aliasOwners = {};\n\n    // loaders that are applied to webpack modules after all other processing\n    // NOTE: this is intentionally not exposed as a uiExport because it leaks\n    // too much of the webpack implementation to plugins, but is used by test_bundle\n    // core plugin to inject the instrumentation loader\n    this.postLoaders = [];\n  }\n\n  _createClass(UiBundlerEnv, [{\n    key: 'consumePlugin',\n    value: function consumePlugin(plugin) {\n      var tag = plugin.id + '@' + plugin.version;\n      if ((0, _lodash.includes)(this.pluginInfo, tag)) return;\n\n      if (plugin.publicDir) {\n        this.aliases['plugins/' + plugin.id] = plugin.publicDir;\n      }\n\n      this.pluginInfo.push(tag);\n    }\n  }, {\n    key: 'exportConsumer',\n    value: function exportConsumer(type) {\n      var _this = this;\n\n      switch (type) {\n        case 'noParse':\n          return function (plugin, spec) {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n              for (var _iterator = arr(spec)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var re = _step.value;\n                _this.addNoParse(re);\n              }\n            } catch (err) {\n              _didIteratorError = true;\n              _iteratorError = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion && _iterator['return']) {\n                  _iterator['return']();\n                }\n              } finally {\n                if (_didIteratorError) {\n                  throw _iteratorError;\n                }\n              }\n            }\n          };\n\n        case '__globalImportAliases__':\n          return function (plugin, spec) {\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n              for (var _iterator2 = Object.keys(spec)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var key = _step2.value;\n\n                _this.aliases[key] = spec[key];\n              }\n            } catch (err) {\n              _didIteratorError2 = true;\n              _iteratorError2 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n                  _iterator2['return']();\n                }\n              } finally {\n                if (_didIteratorError2) {\n                  throw _iteratorError2;\n                }\n              }\n            }\n          };\n      }\n    }\n  }, {\n    key: 'addContext',\n    value: function addContext(key, val) {\n      this.context[key] = val;\n    }\n  }, {\n    key: 'addPostLoader',\n    value: function addPostLoader(loader) {\n      this.postLoaders.push(loader);\n    }\n  }, {\n    key: 'addNoParse',\n    value: function addNoParse(regExp) {\n      this.noParse.push(regExp);\n    }\n  }]);\n\n  return UiBundlerEnv;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9idW5kbGVyX2Vudi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs4QkFBcUIsb0JBQW9COzs7O3NCQUNJLFFBQVE7O0FBSXJELElBQU0sUUFBUSxHQUFHLHdDQUVmLFVBQVUsSUFBSSxFQUFFO0FBQ2QsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzVCLE1BQUksSUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFOztBQUVqQyxXQUFPLElBQUksR0FBRyxJQUFJLENBQUM7R0FDcEIsTUFBTTs7QUFFTCxXQUFPLElBQUksR0FBRyx3QkFBd0IsQ0FBQztHQUN4QztDQUNGLEVBQ0QsTUFBTSxDQUNQLENBQUM7O0FBRUYsSUFBTSxHQUFHLEdBQUcsU0FBTixHQUFHLENBQUcsQ0FBQztTQUFJLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztDQUFBLENBQUM7O0FBRXBDLE1BQU0sQ0FBQyxPQUFPO0FBQ0QsV0FEVSxZQUFZLENBQ3JCLFVBQVUsRUFBRTswQkFESCxZQUFZOzs7O0FBSy9CLFFBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDOzs7OztBQUs3QixRQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQzs7Ozs7QUFLbEIsUUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7OztBQUdyQixRQUFJLENBQUMsT0FBTyxHQUFHLENBQ2IseURBQXlELEVBQ3pELHdDQUF3QyxDQUN6QyxDQUFDOzs7QUFHRixRQUFJLENBQUMsT0FBTyxHQUFHO0FBQ2IsUUFBRSxFQUFFLGlDQUFTLGVBQWUsQ0FBQztBQUM3QixrQkFBWSxFQUFFLGlDQUFTLHlCQUF5QixDQUFDO0FBQ2pELGlCQUFXLEVBQUUscUJBQXFCO0tBQ25DLENBQUM7OztBQUdGLFFBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDOzs7Ozs7QUFNdEIsUUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7R0FDdkI7O2VBdENvQixZQUFZOztXQXdDcEIsdUJBQUMsTUFBTSxFQUFFO0FBQ3BCLFVBQU0sR0FBRyxHQUFNLE1BQU0sQ0FBQyxFQUFFLFNBQUksTUFBTSxDQUFDLE9BQU8sQUFBRSxDQUFDO0FBQzdDLFVBQUksc0JBQVMsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsRUFBRSxPQUFPOztBQUUzQyxVQUFJLE1BQU0sQ0FBQyxTQUFTLEVBQUU7QUFDcEIsWUFBSSxDQUFDLE9BQU8sY0FBWSxNQUFNLENBQUMsRUFBRSxDQUFHLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztPQUN6RDs7QUFFRCxVQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUMzQjs7O1dBRWEsd0JBQUMsSUFBSSxFQUFFOzs7QUFDbkIsY0FBUSxJQUFJO0FBQ1YsYUFBSyxTQUFTO0FBQ1osaUJBQU8sVUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFLOzs7Ozs7QUFDdkIsbUNBQWlCLEdBQUcsQ0FBQyxJQUFJLENBQUM7b0JBQWYsRUFBRTtBQUFlLHNCQUFLLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztlQUFBOzs7Ozs7Ozs7Ozs7Ozs7V0FDakQsQ0FBQzs7QUFBQSxBQUVKLGFBQUsseUJBQXlCO0FBQzVCLGlCQUFPLFVBQUMsTUFBTSxFQUFFLElBQUksRUFBSzs7Ozs7O0FBQ3ZCLG9DQUFrQixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtSUFBRTtvQkFBMUIsR0FBRzs7QUFDWixzQkFBSyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2VBQy9COzs7Ozs7Ozs7Ozs7Ozs7V0FDRixDQUFDO0FBQUEsT0FDTDtLQUNGOzs7V0FFUyxvQkFBQyxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQ25CLFVBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO0tBQ3pCOzs7V0FFWSx1QkFBQyxNQUFNLEVBQUU7QUFDcEIsVUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDL0I7OztXQUVTLG9CQUFDLE1BQU0sRUFBRTtBQUNqQixVQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUMzQjs7O1NBN0VvQixZQUFZO0lBOEVsQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS91aV9idW5kbGVyX2Vudi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcm9tUm9vdCBmcm9tICcuLi91dGlscy9mcm9tX3Jvb3QnO1xuaW1wb3J0IHsgaW5jbHVkZXMsIGZsb3csIGVzY2FwZVJlZ0V4cCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBpc1N0cmluZywgaXNBcnJheSwgaXNQbGFpbk9iamVjdCwgZ2V0IH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGtleXMgfSBmcm9tICdsb2Rhc2gnO1xuXG5jb25zdCBhc1JlZ0V4cCA9IGZsb3coXG4gIGVzY2FwZVJlZ0V4cCxcbiAgZnVuY3Rpb24gKHBhdGgpIHtcbiAgICBjb25zdCBsYXN0ID0gcGF0aC5zbGljZSgtMSk7XG4gICAgaWYgKGxhc3QgPT09ICcvJyB8fCBsYXN0ID09PSAnXFxcXCcpIHtcbiAgICAgIC8vIG1hdGNoIGEgZGlyZWN0b3J5IGV4cGxpY2l0bHlcbiAgICAgIHJldHVybiBwYXRoICsgJy4qJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWF0Y2ggYSBkaXJlY3Rvcnkgb3IgZmlsZXMgb3IganVzdCB0aGUgYWJzb2x1dGUgcGF0aFxuICAgICAgcmV0dXJuIHBhdGggKyAnKD86XFxcXC5qcyR8JHxcXFxcXFxcXHxcXFxcLyk/JztcbiAgICB9XG4gIH0sXG4gIFJlZ0V4cFxuKTtcblxuY29uc3QgYXJyID0gdiA9PiBbXS5jb25jYXQodiB8fCBbXSk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgVWlCdW5kbGVyRW52IHtcbiAgY29uc3RydWN0b3Iod29ya2luZ0Rpcikge1xuXG4gICAgLy8gdGhlIGxvY2F0aW9uIHRoYXQgYnVuZGxlIGVudHJ5IGZpbGVzIGFuZCBhbGwgY29tcGlsZXMgZmlsZXMgd2lsbFxuICAgIC8vIGJlIHdyaXR0ZW5cbiAgICB0aGlzLndvcmtpbmdEaXIgPSB3b3JraW5nRGlyO1xuXG4gICAgLy8gdGhlIGNvbnRleHQgdGhhdCB0aGUgYnVuZGxlciBpcyBydW5uaW5nIGluLCB0aGlzIGlzIG5vdCBvZmZpY2lhbGx5XG4gICAgLy8gdXNlZCBmb3IgYW55dGhpbmcgYnV0IGl0IGlzIHNlcmlhbGl6ZWQgaW50byB0aGUgZW50cnkgZmlsZSB0byBlbnN1cmVcbiAgICAvLyB0aGF0IHRoZXkgYXJlIGludmFsaWRhdGVkIHdoZW4gdGhlIGNvbnRleHQgY2hhbmdlc1xuICAgIHRoaXMuY29udGV4dCA9IHt9O1xuXG4gICAgLy8gdGhlIHBsdWdpbnMgdGhhdCBhcmUgdXNlZCB0byBidWlsZCB0aGlzIGVudmlyb25tZW50XG4gICAgLy8gYXJlIHRyYWNrZWQgYW5kIGVtYmVkZGVkIGludG8gdGhlIGVudHJ5IGZpbGUgc28gdGhhdCB3aGVuIHRoZVxuICAgIC8vIGVudmlyb25tZW50IGNoYW5nZXMgd2UgY2FuIHJlYnVpbGQgdGhlIGJ1bmRsZXNcbiAgICB0aGlzLnBsdWdpbkluZm8gPSBbXTtcblxuICAgIC8vIHJlZ3VsYXIgZXhwcmVzc2lvbnMgd2hpY2ggd2lsbCBwcmV2ZW50IHdlYnBhY2sgZnJvbSBwYXJzaW5nIHRoZSBmaWxlXG4gICAgdGhpcy5ub1BhcnNlID0gW1xuICAgICAgL25vZGVfbW9kdWxlc1tcXC9cXFxcXShhbmd1bGFyfGVsYXN0aWNzZWFyY2gtYnJvd3NlcilbXFwvXFxcXF0vLFxuICAgICAgL25vZGVfbW9kdWxlc1tcXC9cXFxcXShtb2NoYXxtb21lbnQpW1xcL1xcXFxdL1xuICAgIF07XG5cbiAgICAvLyB3ZWJwYWNrIGFsaWFzZXMsIGxpa2UgcmVxdWlyZSBwYXRocywgbWFwcGluZyBhIHByZWZpeCB0byBhIGRpcmVjdG9yeVxuICAgIHRoaXMuYWxpYXNlcyA9IHtcbiAgICAgIHVpOiBmcm9tUm9vdCgnc3JjL3VpL3B1YmxpYycpLFxuICAgICAgdGVzdF9oYXJuZXNzOiBmcm9tUm9vdCgnc3JjL3Rlc3RfaGFybmVzcy9wdWJsaWMnKSxcbiAgICAgIHF1ZXJ5c3RyaW5nOiAncXVlcnlzdHJpbmctYnJvd3NlcicsXG4gICAgfTtcblxuICAgIC8vIG1hcCBvZiB3aGljaCBwbHVnaW5zIGNyZWF0ZWQgd2hpY2ggYWxpYXNlc1xuICAgIHRoaXMuYWxpYXNPd25lcnMgPSB7fTtcblxuICAgIC8vIGxvYWRlcnMgdGhhdCBhcmUgYXBwbGllZCB0byB3ZWJwYWNrIG1vZHVsZXMgYWZ0ZXIgYWxsIG90aGVyIHByb2Nlc3NpbmdcbiAgICAvLyBOT1RFOiB0aGlzIGlzIGludGVudGlvbmFsbHkgbm90IGV4cG9zZWQgYXMgYSB1aUV4cG9ydCBiZWNhdXNlIGl0IGxlYWtzXG4gICAgLy8gdG9vIG11Y2ggb2YgdGhlIHdlYnBhY2sgaW1wbGVtZW50YXRpb24gdG8gcGx1Z2lucywgYnV0IGlzIHVzZWQgYnkgdGVzdF9idW5kbGVcbiAgICAvLyBjb3JlIHBsdWdpbiB0byBpbmplY3QgdGhlIGluc3RydW1lbnRhdGlvbiBsb2FkZXJcbiAgICB0aGlzLnBvc3RMb2FkZXJzID0gW107XG4gIH1cblxuICBjb25zdW1lUGx1Z2luKHBsdWdpbikge1xuICAgIGNvbnN0IHRhZyA9IGAke3BsdWdpbi5pZH1AJHtwbHVnaW4udmVyc2lvbn1gO1xuICAgIGlmIChpbmNsdWRlcyh0aGlzLnBsdWdpbkluZm8sIHRhZykpIHJldHVybjtcblxuICAgIGlmIChwbHVnaW4ucHVibGljRGlyKSB7XG4gICAgICB0aGlzLmFsaWFzZXNbYHBsdWdpbnMvJHtwbHVnaW4uaWR9YF0gPSBwbHVnaW4ucHVibGljRGlyO1xuICAgIH1cblxuICAgIHRoaXMucGx1Z2luSW5mby5wdXNoKHRhZyk7XG4gIH1cblxuICBleHBvcnRDb25zdW1lcih0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdub1BhcnNlJzpcbiAgICAgICAgcmV0dXJuIChwbHVnaW4sIHNwZWMpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHJlIG9mIGFycihzcGVjKSkgdGhpcy5hZGROb1BhcnNlKHJlKTtcbiAgICAgICAgfTtcblxuICAgICAgY2FzZSAnX19nbG9iYWxJbXBvcnRBbGlhc2VzX18nOlxuICAgICAgICByZXR1cm4gKHBsdWdpbiwgc3BlYykgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHNwZWMpKSB7XG4gICAgICAgICAgICB0aGlzLmFsaWFzZXNba2V5XSA9IHNwZWNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgYWRkQ29udGV4dChrZXksIHZhbCkge1xuICAgIHRoaXMuY29udGV4dFtrZXldID0gdmFsO1xuICB9XG5cbiAgYWRkUG9zdExvYWRlcihsb2FkZXIpIHtcbiAgICB0aGlzLnBvc3RMb2FkZXJzLnB1c2gobG9hZGVyKTtcbiAgfVxuXG4gIGFkZE5vUGFyc2UocmVnRXhwKSB7XG4gICAgdGhpcy5ub1BhcnNlLnB1c2gocmVnRXhwKTtcbiAgfVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/ui_bundler_env.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;8BAAqB,oBAAoB;;;;sBACI,QAAQ;;AAIrD,IAAM,QAAQ,GAAG,wCAEf,UAAU,IAAI,EAAE;AACd,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,MAAI,IAAI,KAAK,GAAG,IAAI,IAAI,KAAK,IAAI,EAAE;;AAEjC,WAAO,IAAI,GAAG,IAAI,CAAC;GACpB,MAAM;;AAEL,WAAO,IAAI,GAAG,wBAAwB,CAAC;GACxC;CACF,EACD,MAAM,CACP,CAAC;;AAEF,IAAM,GAAG,GAAG,SAAN,GAAG,CAAG,CAAC;SAAI,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;CAAA,CAAC;;AAEpC,MAAM,CAAC,OAAO;AACD,WADU,YAAY,CACrB,UAAU,EAAE;0BADH,YAAY;;;;AAK/B,QAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;;;;AAK7B,QAAI,CAAC,OAAO,GAAG,EAAE,CAAC;;;;;AAKlB,QAAI,CAAC,UAAU,GAAG,EAAE,CAAC;;;AAGrB,QAAI,CAAC,OAAO,GAAG,CACb,yDAAyD,EACzD,wCAAwC,CACzC,CAAC;;;AAGF,QAAI,CAAC,OAAO,GAAG;AACb,QAAE,EAAE,iCAAS,eAAe,CAAC;AAC7B,kBAAY,EAAE,iCAAS,yBAAyB,CAAC;AACjD,iBAAW,EAAE,qBAAqB;KACnC,CAAC;;;AAGF,QAAI,CAAC,WAAW,GAAG,EAAE,CAAC;;;;;;AAMtB,QAAI,CAAC,WAAW,GAAG,EAAE,CAAC;GACvB;;eAtCoB,YAAY;;WAwCpB,uBAAC,MAAM,EAAE;AACpB,UAAM,GAAG,GAAM,MAAM,CAAC,EAAE,SAAI,MAAM,CAAC,OAAO,AAAE,CAAC;AAC7C,UAAI,sBAAS,IAAI,CAAC,UAAU,EAAE,GAAG,CAAC,EAAE,OAAO;;AAE3C,UAAI,MAAM,CAAC,SAAS,EAAE;AACpB,YAAI,CAAC,OAAO,cAAY,MAAM,CAAC,EAAE,CAAG,GAAG,MAAM,CAAC,SAAS,CAAC;OACzD;;AAED,UAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KAC3B;;;WAEa,wBAAC,IAAI,EAAE;;;AACnB,cAAQ,IAAI;AACV,aAAK,SAAS;AACZ,iBAAO,UAAC,MAAM,EAAE,IAAI,EAAK;;;;;;AACvB,mCAAiB,GAAG,CAAC,IAAI,CAAC;oBAAf,EAAE;AAAe,sBAAK,UAAU,CAAC,EAAE,CAAC,CAAC;eAAA;;;;;;;;;;;;;;;WACjD,CAAC;;AAAA,AAEJ,aAAK,yBAAyB;AAC5B,iBAAO,UAAC,MAAM,EAAE,IAAI,EAAK;;;;;;AACvB,oCAAkB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,mIAAE;oBAA1B,GAAG;;AACZ,sBAAK,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;eAC/B;;;;;;;;;;;;;;;WACF,CAAC;AAAA,OACL;KACF;;;WAES,oBAAC,GAAG,EAAE,GAAG,EAAE;AACnB,UAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;KACzB;;;WAEY,uBAAC,MAAM,EAAE;AACpB,UAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/B;;;WAES,oBAAC,MAAM,EAAE;AACjB,UAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC3B;;;SA7EoB,YAAY;IA8ElC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/ui/ui_bundler_env.js",
      "sourcesContent": [
        "import fromRoot from '../utils/from_root';\nimport { includes, flow, escapeRegExp } from 'lodash';\nimport { isString, isArray, isPlainObject, get } from 'lodash';\nimport { keys } from 'lodash';\n\nconst asRegExp = flow(\n  escapeRegExp,\n  function (path) {\n    const last = path.slice(-1);\n    if (last === '/' || last === '\\\\') {\n      // match a directory explicitly\n      return path + '.*';\n    } else {\n      // match a directory or files or just the absolute path\n      return path + '(?:\\\\.js$|$|\\\\\\\\|\\\\/)?';\n    }\n  },\n  RegExp\n);\n\nconst arr = v => [].concat(v || []);\n\nmodule.exports = class UiBundlerEnv {\n  constructor(workingDir) {\n\n    // the location that bundle entry files and all compiles files will\n    // be written\n    this.workingDir = workingDir;\n\n    // the context that the bundler is running in, this is not officially\n    // used for anything but it is serialized into the entry file to ensure\n    // that they are invalidated when the context changes\n    this.context = {};\n\n    // the plugins that are used to build this environment\n    // are tracked and embedded into the entry file so that when the\n    // environment changes we can rebuild the bundles\n    this.pluginInfo = [];\n\n    // regular expressions which will prevent webpack from parsing the file\n    this.noParse = [\n      /node_modules[\\/\\\\](angular|elasticsearch-browser)[\\/\\\\]/,\n      /node_modules[\\/\\\\](mocha|moment)[\\/\\\\]/\n    ];\n\n    // webpack aliases, like require paths, mapping a prefix to a directory\n    this.aliases = {\n      ui: fromRoot('src/ui/public'),\n      test_harness: fromRoot('src/test_harness/public'),\n      querystring: 'querystring-browser',\n    };\n\n    // map of which plugins created which aliases\n    this.aliasOwners = {};\n\n    // loaders that are applied to webpack modules after all other processing\n    // NOTE: this is intentionally not exposed as a uiExport because it leaks\n    // too much of the webpack implementation to plugins, but is used by test_bundle\n    // core plugin to inject the instrumentation loader\n    this.postLoaders = [];\n  }\n\n  consumePlugin(plugin) {\n    const tag = `${plugin.id}@${plugin.version}`;\n    if (includes(this.pluginInfo, tag)) return;\n\n    if (plugin.publicDir) {\n      this.aliases[`plugins/${plugin.id}`] = plugin.publicDir;\n    }\n\n    this.pluginInfo.push(tag);\n  }\n\n  exportConsumer(type) {\n    switch (type) {\n      case 'noParse':\n        return (plugin, spec) => {\n          for (const re of arr(spec)) this.addNoParse(re);\n        };\n\n      case '__globalImportAliases__':\n        return (plugin, spec) => {\n          for (const key of Object.keys(spec)) {\n            this.aliases[key] = spec[key];\n          }\n        };\n    }\n  }\n\n  addContext(key, val) {\n    this.context[key] = val;\n  }\n\n  addPostLoader(loader) {\n    this.postLoaders.push(loader);\n  }\n\n  addNoParse(regExp) {\n    this.noParse.push(regExp);\n  }\n};\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/settings/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "defaultsDeep",
              "partial"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "defaultsDeep",
                "local": "defaultsDeep"
              },
              {
                "kind": "named",
                "imported": "partial",
                "local": "partial"
              }
            ]
          },
          {
            "source": "./defaults",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "defaultsProvider"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Bluebird"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "setupSettings",
            "kbnServer",
            "server",
            "config"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "setupSettings",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "kbnServer",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "config",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "extends",
        "define-property",
        "sliced-to-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = setupSettings;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _lodash = require('lodash');\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nfunction setupSettings(kbnServer, server, config) {\n  var get = _asyncToGenerator(function* (req, key) {\n    assertRequest(req);\n    return getAll(req).then(function (all) {\n      return all[key];\n    });\n  });\n\n  var getAll = _asyncToGenerator(function* (req) {\n    assertRequest(req);\n    return getRaw(req).then(function (raw) {\n      return Object.keys(raw).reduce(function (all, key) {\n        var item = raw[key];\n        var hasUserValue = ('userValue' in item);\n        all[key] = hasUserValue ? item.userValue : item.value;\n        return all;\n      }, {});\n    });\n  });\n\n  var getRaw = _asyncToGenerator(function* (req) {\n    assertRequest(req);\n    return Promise.all([getDefaults(), getUserProvided(req)]).then(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2);\n\n      var defaults = _ref2[0];\n      var user = _ref2[1];\n      return (0, _lodash.defaultsDeep)(user, defaults);\n    });\n  });\n\n  var getUserProvided = _asyncToGenerator(function* (req) {\n    var _Bluebird$resolve;\n\n    var _ref3 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var _ref3$ignore401Errors = _ref3.ignore401Errors;\n    var ignore401Errors = _ref3$ignore401Errors === undefined ? false : _ref3$ignore401Errors;\n\n    assertRequest(req);\n\n    var _server$plugins$elasticsearch$getCluster = server.plugins.elasticsearch.getCluster('admin');\n\n    var callWithRequest = _server$plugins$elasticsearch$getCluster.callWithRequest;\n    var errors = _server$plugins$elasticsearch$getCluster.errors;\n\n    // If the ui settings status isn't green, we shouldn't be attempting to get\n    // user settings, since we can't be sure that all the necessary conditions\n    // (e.g. elasticsearch being available) are met.\n    if (status.state !== 'green') {\n      return hydrateUserSettings({});\n    }\n\n    var params = getClientSettings(config);\n    var allowedErrors = [errors[404], errors[403], errors.NoConnections];\n    if (ignore401Errors) allowedErrors.push(errors[401]);\n\n    return (_Bluebird$resolve = _bluebird2['default'].resolve(callWithRequest(req, 'get', params, { wrap401Errors: !ignore401Errors })))['catch'].apply(_Bluebird$resolve, allowedErrors.concat([function (err) {\n      return {};\n    }])).then(function (resp) {\n      return resp._source || {};\n    }).then(function (source) {\n      return hydrateUserSettings(source);\n    });\n  });\n\n  var setMany = _asyncToGenerator(function* (req, changes) {\n    assertRequest(req);\n\n    var _server$plugins$elasticsearch$getCluster2 = server.plugins.elasticsearch.getCluster('admin');\n\n    var callWithRequest = _server$plugins$elasticsearch$getCluster2.callWithRequest;\n\n    var clientParams = _extends({}, getClientSettings(config), {\n      body: { doc: changes }\n    });\n    return callWithRequest(req, 'update', clientParams).then(function () {\n      return {};\n    });\n  });\n\n  var set = _asyncToGenerator(function* (req, key, value) {\n    assertRequest(req);\n    return setMany(req, _defineProperty({}, key, value));\n  });\n\n  var remove = _asyncToGenerator(function* (req, key) {\n    assertRequest(req);\n    return set(req, key, null);\n  });\n\n  var removeMany = _asyncToGenerator(function* (req, keys) {\n    assertRequest(req);\n    var changes = {};\n    keys.forEach(function (key) {\n      changes[key] = null;\n    });\n    return setMany(req, changes);\n  });\n\n  var status = kbnServer.status.create('ui settings');\n\n  if (!config.get('uiSettings.enabled')) {\n    status.disabled('uiSettings.enabled config is set to `false`');\n    return;\n  }\n\n  var uiSettings = {\n    // returns a Promise for the value of the requested setting\n    get: get,\n    // returns a Promise for a hash of setting key/value pairs\n    getAll: getAll,\n    // .set(key, value), returns a Promise for persisting the new value to ES\n    set: set,\n    // takes a key/value hash, returns a Promise for persisting the new values to ES\n    setMany: setMany,\n    // returns a Promise for removing the provided key from user-specific settings\n    remove: remove,\n    // takes an array, returns a Promise for removing every provided key from user-specific settings\n    removeMany: removeMany,\n\n    // returns a Promise for the default settings, follows metadata format (see ./defaults)\n    getDefaults: getDefaults,\n    // returns a Promise for user-specific settings stored in ES, follows metadata format\n    getUserProvided: getUserProvided,\n    // returns a Promise merging results of getDefaults & getUserProvided, follows metadata format\n    getRaw: getRaw\n  };\n\n  server.decorate('server', 'uiSettings', function () {\n    return uiSettings;\n  });\n  kbnServer.ready().then(mirrorEsStatus);\n\n  function getDefaults() {\n    return Promise.resolve((0, _defaults2['default'])());\n  }\n\n  function mirrorEsStatus() {\n    var esStatus = kbnServer.status.getForPluginId('elasticsearch');\n\n    if (!esStatus) {\n      status.red('UI Settings requires the elasticsearch plugin');\n      return;\n    }\n\n    copyStatus();\n    esStatus.on('change', copyStatus);\n\n    function copyStatus() {\n      var state = esStatus.state;\n\n      var statusMessage = state === 'green' ? 'Ready' : 'Elasticsearch plugin is ' + state;\n      status[state](statusMessage);\n    }\n  }\n}\n\nfunction hydrateUserSettings(user) {\n  return Object.keys(user).reduce(expand, {});\n  function expand(expanded, key) {\n    var userValue = user[key];\n    if (userValue !== null) {\n      expanded[key] = { userValue: userValue };\n    }\n    return expanded;\n  }\n}\n\nfunction getClientSettings(config) {\n  var index = config.get('kibana.index');\n  var id = config.get('pkg.version');\n  var type = 'config';\n  return { index: index, type: type, id: id };\n}\n\nfunction assertRequest(req) {\n  if (typeof req === 'object' && typeof req.path === 'string' && typeof req.headers === 'object') return;\n\n  throw new TypeError('all uiSettings methods must be passed a hapi.Request object');\n}\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS9zZXR0aW5ncy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3FCQUl3QixhQUFhOzs7Ozs7OztzQkFKQyxRQUFROzt3QkFDakIsWUFBWTs7Ozt3QkFDcEIsVUFBVTs7OztBQUVoQixTQUFTLGFBQWEsQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRTtNQWlDaEQsR0FBRyxxQkFBbEIsV0FBbUIsR0FBRyxFQUFFLEdBQUcsRUFBRTtBQUMzQixpQkFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25CLFdBQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLEdBQUc7YUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDO0tBQUEsQ0FBQyxDQUFDO0dBQzFDOztNQUVjLE1BQU0scUJBQXJCLFdBQXNCLEdBQUcsRUFBRTtBQUN6QixpQkFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25CLFdBQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUNqQixJQUFJLENBQUMsVUFBQSxHQUFHO2FBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FDMUIsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBSztBQUNwQixZQUFNLElBQUksR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDdEIsWUFBTSxZQUFZLElBQUcsV0FBVyxJQUFJLElBQUksQ0FBQSxDQUFDO0FBQ3pDLFdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ3RELGVBQU8sR0FBRyxDQUFDO09BQ1osRUFBRSxFQUFFLENBQUM7S0FBQSxDQUNQLENBQUM7R0FDSDs7TUFFYyxNQUFNLHFCQUFyQixXQUFzQixHQUFHLEVBQUU7QUFDekIsaUJBQWEsQ0FBQyxHQUFHLENBQUMsQ0FB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LEtBQUssUUFBUSxJQUN2QixPQUFPLEdBQUcsQ0FBQyxJQUFJLEtBQUssUUFBUSxJQUM1QixPQUFPLEdBQUcsQ0FBQyxPQUFPLEtBQUssUUFBUSxFQUMvQixPQUFPOztBQUVULFFBQU0sSUFBSSxTQUFTLENBQUMsNkRBQTZELENBQUMsQ0FBQztDQUNwRiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvdWkvc2V0dGluZ3MvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0c0RlZXAsIHBhcnRpYWwgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IGRlZmF1bHRzUHJvdmlkZXIgZnJvbSAnLi9kZWZhdWx0cyc7XG5pbXBvcnQgQmx1ZWJpcmQgZnJvbSAnYmx1ZWJpcmQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXR1cFNldHRpbmdzKGtiblNlcnZlciwgc2VydmVyLCBjb25maWcpIHtcbiAgY29uc3Qgc3RhdHVzID0ga2JuU2VydmVyLnN0YXR1cy5jcmVhdGUoJ3VpIHNldHRpbmdzJyk7XG5cbiAgaWYgKCFjb25maWcuZ2V0KCd1aVNldHRpbmdzLmVuYWJsZWQnKSkge1xuICAgIHN0YXR1cy5kaXNhYmxlZCgndWlTZXR0aW5ncy5lbmFibGVkIGNvbmZpZyBpcyBzZXQgdG8gYGZhbHNlYCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHVpU2V0dGluZ3MgPSB7XG4gICAgLy8gcmV0dXJucyBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZiB0aGUgcmVxdWVzdGVkIHNldHRpbmdcbiAgICBnZXQsXG4gICAgLy8gcmV0dXJucyBhIFByb21pc2UgZm9yIGEgaGFzaCBvZiBzZXR0aW5nIGtleS92YWx1ZSBwYWlyc1xuICAgIGdldEFsbCxcbiAgICAvLyAuc2V0KGtleSwgdmFsdWUpLCByZXR1cm5zIGEgUHJvbWlzZSBmb3IgcGVyc2lzdGluZyB0aGUgbmV3IHZhbHVlIHRvIEVTXG4gICAgc2V0LFxuICAgIC8vIHRha2VzIGEga2V5L3ZhbHVlIGhhc2gsIHJldHVybnMgYSBQcm9taXNlIGZvciBwZXJzaXN0aW5nIHRoZSBuZXcgdmFsdWVzIHRvIEVTXG4gICAgc2V0TWFueSxcbiAgICAvLyByZXR1cm5zIGEgUHJvbWlzZSBmb3IgcmVtb3ZpbmcgdGhlIHByb3ZpZGVkIGtleSBmcm9tIHVzZXItc3BlY2lmaWMgc2V0dGluZ3NcbiAgICByZW1vdmUsXG4gICAgLy8gdGFrZXMgYW4gYXJyYXksIHJldHVybnMgYSBQcm9taXNlIGZvciByZW1vdmluZyBldmVyeSBwcm92aWRlZCBrZXkgZnJvbSB1c2VyLXNwZWNpZmljIHNldHRpbmdzXG4gICAgcmVtb3ZlTWFueSxcblxuICAgIC8vIHJldHVybnMgYSBQcm9taXNlIGZvciB0aGUgZGVmYXVsdCBzZXR0aW5ncywgZm9sbG93cyBtZXRhZGF0YSBmb3JtYXQgKHNlZSAuL2RlZmF1bHRzKVxuICAgIGdldERlZmF1bHRzLFxuICAgIC8vIHJldHVybnMgYSBQcm9taXNlIGZvciB1c2VyLXNwZWNpZmljIHNldHRpbmdzIHN0b3JlZCBpbiBFUywgZm9sbG93cyBtZXRhZGF0YSBmb3JtYXRcbiAgICBnZXRVc2VyUHJvdmlkZWQsXG4gICAgLy8gcmV0dXJucyBhIFByb21pc2UgbWVyZ2luZyByZXN1bHRzIG9mIGdldERlZmF1bHRzICYgZ2V0VXNlclByb3ZpZGVkLCBmb2xsb3dzIG1ldGFkYXRhIGZvcm1hdFxuICAgIGdldFJhd1xuICB9O1xuXG4gIHNlcnZlci5kZWNvcmF0ZSgnc2VydmVyJywgJ3VpU2V0dGluZ3MnLCAoKSA9PiB1aVNldHRpbmdzKTtcbiAga2JuU2VydmVyLnJlYWR5KCkudGhlbihtaXJyb3JFc1N0YXR1cyk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gZ2V0KHJlcSwga2V5KSB7XG4gICAgYXNzZXJ0UmVxdWVzdChyZXEpO1xuICAgIHJldHVybiBnZXRBbGwocmVxKS50aGVuKGFsbCA9PiBhbGxba2V5XSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBnZXRBbGwocmVxKSB7XG4gICAgYXNzZXJ0UmVxdWVzdChyZXEpO1xuICAgIHJldHVybiBnZXRSYXcocmVxKVxuICAgIC50aGVuKHJhdyA9PiBPYmplY3Qua2V5cyhyYXcpXG4gICAgICAucmVkdWNlKChhbGwsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gcmF3W2tleV07XG4gICAgICAgIGNvbnN0IGhhc1VzZXJWYWx1ZSA9ICd1c2VyVmFsdWUnIGluIGl0ZW07XG4gICAgICAgIGFsbFtrZXldID0gaGFzVXNlclZhbHVlID8gaXRlbS51c2VyVmFsdWUgOiBpdGVtLnZhbHVlO1xuICAgICAgICByZXR1cm4gYWxsO1xuICAgICAgfSwge30pXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldFJhdyhyZXEpIHtcbiAgICBhc3NlcnRSZXF1ZXN0KHJlcSk7XG4gICAgcmV0dXJuIFByb21pc2VcbiAgICAgIC5hbGwoW2dldERlZmF1bHRzKCksIGdldFVzZXJQcm92aWRlZChyZXEpXSlcbiAgICAgIC50aGVuKChbZGVmYXVsdHMsIHVzZXJdKSA9PiBkZWZhdWx0c0RlZXAodXNlciwgZGVmYXVsdHMpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERlZmF1bHRzKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVmYXVsdHNQcm92aWRlcigpKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJQcm92aWRlZChyZXEsIHsgaWdub3JlNDAxRXJyb3JzID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgYXNzZXJ0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IHsgY2FsbFdpdGhSZXF1ZXN0LCBlcnJvcnMgfSA9IHNlcnZlci5wbHVnaW5zLmVsYXN0aWNzZWFyY2guZ2V0Q2x1c3RlcignYWRtaW4nKTtcblxuICAgIC8vIElmIHRoZSB1aSBzZXR0aW5ncyBzdGF0dXMgaXNuJ3QgZ3JlZW4sIHdlIHNob3VsZG4ndCBiZSBhdHRlbXB0aW5nIHRvIGdldFxuICAgIC8vIHVzZXIgc2V0dGluZ3MsIHNpbmNlIHdlIGNhbid0IGJlIHN1cmUgdGhhdCBhbGwgdGhlIG5lY2Vzc2FyeSBjb25kaXRpb25zXG4gICAgLy8gKGUuZy4gZWxhc3RpY3NlYXJjaCBiZWluZyBhdmFpbGFibGUpIGFyZSBtZXQuXG4gICAgaWYgKHN0YXR1cy5zdGF0ZSAhPT0gJ2dyZWVuJykge1xuICAgICAgcmV0dXJuIGh5ZHJhdGVVc2VyU2V0dGluZ3Moe30pO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IGdldENsaWVudFNldHRpbmdzKGNvbmZpZyk7XG4gICAgY29uc3QgYWxsb3dlZEVycm9ycyA9IFtlcnJvcnNbNDA0XSwgZXJyb3JzWzQwM10sIGVycm9ycy5Ob0Nvbm5lY3Rpb25zXTtcbiAgICBpZiAoaWdub3JlNDAxRXJyb3JzKSBhbGxvd2VkRXJyb3JzLnB1c2goZXJyb3JzWzQwMV0pO1xuXG4gICAgcmV0dXJuIEJsdWViaXJkLnJlc29sdmUoY2FsbFdpdGhSZXF1ZXN0KHJlcSwgJ2dldCcsIHBhcmFtcywgeyB3cmFwNDAxRXJyb3JzOiAhaWdub3JlNDAxRXJyb3JzIH0pKVxuICAgICAgLmNhdGNoKC4uLmFsbG93ZWRFcnJvcnMsIGVyciA9PiAoe30pKVxuICAgICAgLnRoZW4ocmVzcCA9PiByZXNwLl9zb3VyY2UgfHwge30pXG4gICAgICAudGhlbihzb3VyY2UgPT4gaHlkcmF0ZVVzZXJTZXR0aW5ncyhzb3VyY2UpKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHNldE1hbnkocmVxLCBjaGFuZ2VzKSB7XG4gICAgYXNzZXJ0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IHsgY2FsbFdpdGhSZXF1ZXN0IH0gPSBzZXJ2ZXIucGx1Z2lucy5lbGFzdGljc2VhcmNoLmdldENsdXN0ZXIoJ2FkbWluJyk7XG4gICAgY29uc3QgY2xpZW50UGFyYW1zID0ge1xuICAgICAgLi4uZ2V0Q2xpZW50U2V0dGluZ3MoY29uZmlnKSxcbiAgICAgIGJvZHk6IHsgZG9jOiBjaGFuZ2VzIH1cbiAgICB9O1xuICAgIHJldHVybiBjYWxsV2l0aFJlcXVlc3QocmVxLCAndXBkYXRlJywgY2xpZW50UGFyYW1zKVxuICAgICAgLnRoZW4oKCkgPT4gKHt9KSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBzZXQocmVxLCBrZXksIHZhbHVlKSB7XG4gICAgYXNzZXJ0UmVxdWVzdChyZXEpO1xuICAgIHJldHVybiBzZXRNYW55KHJlcSwgeyBba2V5XTogdmFsdWUgfSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiByZW1vdmUocmVxLCBrZXkpIHtcbiAgICBhc3NlcnRSZXF1ZXN0KHJlcSk7XG4gICAgcmV0dXJuIHNldChyZXEsIGtleSwgbnVsbCk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiByZW1vdmVNYW55KHJlcSwga2V5cykge1xuICAgIGFzc2VydFJlcXVlc3QocmVxKTtcbiAgICBjb25zdCBjaGFuZ2VzID0ge307XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjaGFuZ2VzW2tleV0gPSBudWxsO1xuICAgIH0pO1xuICAgIHJldHVybiBzZXRNYW55KHJlcSwgY2hhbmdlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBtaXJyb3JFc1N0YXR1cygpIHtcbiAgICBjb25zdCBlc1N0YXR1cyA9IGtiblNlcnZlci5zdGF0dXMuZ2V0Rm9yUGx1Z2luSWQoJ2VsYXN0aWNzZWFyY2gnKTtcblxuICAgIGlmICghZXNTdGF0dXMpIHtcbiAgICAgIHN0YXR1cy5yZWQoJ1VJIFNldHRpbmdzIHJlcXVpcmVzIHRoZSBlbGFzdGljc2VhcmNoIHBsdWdpbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvcHlTdGF0dXMoKTtcbiAgICBlc1N0YXR1cy5vbignY2hhbmdlJywgY29weVN0YXR1cyk7XG5cbiAgICBmdW5jdGlvbiBjb3B5U3RhdHVzKCkge1xuICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gZXNTdGF0dXM7XG4gICAgICBjb25zdCBzdGF0dXNNZXNzYWdlID0gc3RhdGUgPT09ICdncmVlbicgPyAnUmVhZHknIDogYEVsYXN0aWNzZWFyY2ggcGx1Z2luIGlzICR7c3RhdGV9YDtcbiAgICAgIHN0YXR1c1tzdGF0ZV0oc3RhdHVzTWVzc2FnZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGh5ZHJhdGVVc2VyU2V0dGluZ3ModXNlcikge1xuICByZXR1cm4gT2JqZWN0LmtleXModXNlcikucmVkdWNlKGV4cGFuZCwge30pO1xuICBmdW5jdGlvbiBleHBhbmQoZXhwYW5kZWQsIGtleSkge1xuICAgIGNvbnN0IHVzZXJWYWx1ZSA9IHVzZXJba2V5XTtcbiAgICBpZiAodXNlclZhbHVlICE9PSBudWxsKSB7XG4gICAgICBleHBhbmRlZFtrZXldID0geyB1c2VyVmFsdWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGFuZGVkO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldENsaWVudFNldHRpbmdzKGNvbmZpZykge1xuICBjb25zdCBpbmRleCA9IGNvbmZpZy5nZXQoJ2tpYmFuYS5pbmRleCcpO1xuICBjb25zdCBpZCA9IGNvbmZpZy5nZXQoJ3BrZy52ZXJzaW9uJyk7XG4gIGNvbnN0IHR5cGUgPSAnY29uZmlnJztcbiAgcmV0dXJuIHsgaW5kZXgsIHR5cGUsIGlkIH07XG59XG5cbmZ1bmN0aW9uIGFzc2VydFJlcXVlc3QocmVxKSB7XG4gIGlmIChcbiAgICB0eXBlb2YgcmVxID09PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiByZXEucGF0aCA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgcmVxLmhlYWRlcnMgPT09ICdvYmplY3QnXG4gICkgcmV0dXJuO1xuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FsbCB1aVNldHRpbmdzIG1ldGhvZHMgbXVzdCBiZSBwYXNzZWQgYSBoYXBpLlJlcXVlc3Qgb2JqZWN0Jyk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/settings/index.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/ui/settings/index.js",
      "sourcesContent": [
        "import { defaultsDeep, partial } from 'lodash';\nimport defaultsProvider from './defaults';\nimport Bluebird from 'bluebird';\n\nexport default function setupSettings(kbnServer, server, config) {\n  const status = kbnServer.status.create('ui settings');\n\n  if (!config.get('uiSettings.enabled')) {\n    status.disabled('uiSettings.enabled config is set to `false`');\n    return;\n  }\n\n  const uiSettings = {\n    // returns a Promise for the value of the requested setting\n    get,\n    // returns a Promise for a hash of setting key/value pairs\n    getAll,\n    // .set(key, value), returns a Promise for persisting the new value to ES\n    set,\n    // takes a key/value hash, returns a Promise for persisting the new values to ES\n    setMany,\n    // returns a Promise for removing the provided key from user-specific settings\n    remove,\n    // takes an array, returns a Promise for removing every provided key from user-specific settings\n    removeMany,\n\n    // returns a Promise for the default settings, follows metadata format (see ./defaults)\n    getDefaults,\n    // returns a Promise for user-specific settings stored in ES, follows metadata format\n    getUserProvided,\n    // returns a Promise merging results of getDefaults & getUserProvided, follows metadata format\n    getRaw\n  };\n\n  server.decorate('server', 'uiSettings', () => uiSettings);\n  kbnServer.ready().then(mirrorEsStatus);\n\n  async function get(req, key) {\n    assertRequest(req);\n    return getAll(req).then(all => all[key]);\n  }\n\n  async function getAll(req) {\n    assertRequest(req);\n    return getRaw(req)\n    .then(raw => Object.keys(raw)\n      .reduce((all, key) => {\n        const item = raw[key];\n        const hasUserValue = 'userValue' in item;\n        all[key] = hasUserValue ? item.userValue : item.value;\n        return all;\n      }, {})\n    );\n  }\n\n  async function getRaw(req) {\n    assertRequest(req);\n    return Promise\n      .all([getDefaults(), getUserProvided(req)])\n      .then(([defaults, user]) => defaultsDeep(user, defaults));\n  }\n\n  function getDefaults() {\n    return Promise.resolve(defaultsProvider());\n  }\n\n  async function getUserProvided(req, { ignore401Errors = false } = {}) {\n    assertRequest(req);\n    const { callWithRequest, errors } = server.plugins.elasticsearch.getCluster('admin');\n\n    // If the ui settings status isn't green, we shouldn't be attempting to get\n    // user settings, since we can't be sure that all the necessary conditions\n    // (e.g. elasticsearch being available) are met.\n    if (status.state !== 'green') {\n      return hydrateUserSettings({});\n    }\n\n    const params = getClientSettings(config);\n    const allowedErrors = [errors[404], errors[403], errors.NoConnections];\n    if (ignore401Errors) allowedErrors.push(errors[401]);\n\n    return Bluebird.resolve(callWithRequest(req, 'get', params, { wrap401Errors: !ignore401Errors }))\n      .catch(...allowedErrors, err => ({}))\n      .then(resp => resp._source || {})\n      .then(source => hydrateUserSettings(source));\n  }\n\n  async function setMany(req, changes) {\n    assertRequest(req);\n    const { callWithRequest } = server.plugins.elasticsearch.getCluster('admin');\n    const clientParams = {\n      ...getClientSettings(config),\n      body: { doc: changes }\n    };\n    return callWithRequest(req, 'update', clientParams)\n      .then(() => ({}));\n  }\n\n  async function set(req, key, value) {\n    assertRequest(req);\n    return setMany(req, { [key]: value });\n  }\n\n  async function remove(req, key) {\n    assertRequest(req);\n    return set(req, key, null);\n  }\n\n  async function removeMany(req, keys) {\n    assertRequest(req);\n    const changes = {};\n    keys.forEach(key => {\n      changes[key] = null;\n    });\n    return setMany(req, changes);\n  }\n\n  function mirrorEsStatus() {\n    const esStatus = kbnServer.status.getForPluginId('elasticsearch');\n\n    if (!esStatus) {\n      status.red('UI Settings requires the elasticsearch plugin');\n      return;\n    }\n\n    copyStatus();\n    esStatus.on('change', copyStatus);\n\n    function copyStatus() {\n      const { state } = esStatus;\n      const statusMessage = state === 'green' ? 'Ready' : `Elasticsearch plugin is ${state}`;\n      status[state](statusMessage);\n    }\n  }\n}\n\nfunction hydrateUserSettings(user) {\n  return Object.keys(user).reduce(expand, {});\n  function expand(expanded, key) {\n    const userValue = user[key];\n    if (userValue !== null) {\n      expanded[key] = { userValue };\n    }\n    return expanded;\n  }\n}\n\nfunction getClientSettings(config) {\n  const index = config.get('kibana.index');\n  const id = config.get('pkg.version');\n  const type = 'config';\n  return { index, type, id };\n}\n\nfunction assertRequest(req) {\n  if (\n    typeof req === 'object' &&\n    typeof req.path === 'string' &&\n    typeof req.headers === 'object'\n  ) return;\n\n  throw new TypeError('all uiSettings methods must be passed a hapi.Request object');\n}\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/ui/settings/defaults.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "moment-timezone",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "moment"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "defaultSettingsProvider"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "defaultSettingsProvider",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "to-consumable-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nexports['default'] = defaultSettingsProvider;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _momentTimezone = require('moment-timezone');\n\nvar _momentTimezone2 = _interopRequireDefault(_momentTimezone);\n\nfunction defaultSettingsProvider() {\n  var weekdays = _momentTimezone2['default'].weekdays().slice();\n\n  var _weekdays = _slicedToArray(weekdays, 1);\n\n  var defaultWeekday = _weekdays[0];\n\n  // wrapped in provider so that a new instance is given to each app/test\n  return {\n    'buildNum': {\n      readonly: true\n    },\n    'query:queryString:options': {\n      value: '{ \"analyze_wildcard\": true }',\n      description: '<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html\" target=\"_blank\">Options</a> for the lucene query string parser',\n      type: 'json'\n    },\n    'sort:options': {\n      value: '{ \"unmapped_type\": \"boolean\" }',\n      description: '<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-sort.html\" target=\"_blank\">Options</a> for the Elasticsearch sort parameter',\n      type: 'json'\n    },\n    'dateFormat': {\n      value: 'MMMM Do YYYY, HH:mm:ss.SSS',\n      description: 'When displaying a pretty formatted date, use this <a href=\"http://momentjs.com/docs/#/displaying/format/\" target=\"_blank\">format</a>'\n    },\n    'dateFormat:tz': {\n      value: 'Browser',\n      description: 'Which timezone should be used.  \"Browser\" will use the timezone detected by your browser.',\n      type: 'select',\n      options: ['Browser'].concat(_toConsumableArray(_momentTimezone2['default'].tz.names()))\n    },\n    'dateFormat:scaled': {\n      type: 'json',\n      value: '[\\n  [\"\", \"HH:mm:ss.SSS\"],\\n  [\"PT1S\", \"HH:mm:ss\"],\\n  [\"PT1M\", \"HH:mm\"],\\n  [\"PT1H\", \"YYYY-MM-DD HH:mm\"],\\n  [\"P1DT\", \"YYYY-MM-DD\"],\\n  [\"P1YT\", \"YYYY\"]\\n]',\n      description: 'Values that define the format used in situations where timebased' + ' data is rendered in order, and formatted timestamps should adapt to the' + ' interval between measurements. Keys are' + ' <a href=\"http://en.wikipedia.org/wiki/ISO_8601#Time_intervals\" target=\"_blank\">' + 'ISO8601 intervals.</a>'\n    },\n    'dateFormat:dow': {\n      value: defaultWeekday,\n      description: 'What day should weeks start on?',\n      type: 'select',\n      options: weekdays\n    },\n    'defaultIndex': {\n      value: null,\n      description: 'The index to access if no index is set'\n    },\n    'defaultColumns': {\n      value: ['_source'],\n      description: 'Columns displayed by default in the Discovery tab'\n    },\n    'metaFields': {\n      value: ['_source', '_id', '_type', '_index', '_score'],\n      description: 'Fields that exist outside of _source to merge into our document when displaying it'\n    },\n    'discover:sampleSize': {\n      value: 500,\n      description: 'The number of rows to show in the table'\n    },\n    'doc_table:highlight': {\n      value: true,\n      description: 'Highlight results in Discover and Saved Searches Dashboard.' + 'Highlighting makes requests slow when working on big documents.'\n    },\n    'doc_table:highlight:all_fields': {\n      value: true,\n      description: 'Improves highlighting by using a separate \"highlight_query\" that uses \"all_fields\" mode on \"query_string\" queries. ' + 'Set to false if you are using a \"default_field\" in your index.'\n    },\n    'courier:maxSegmentCount': {\n      value: 30,\n      description: 'Requests in discover are split into segments to prevent massive requests from being sent to ' + 'elasticsearch. This setting attempts to prevent the list of segments from getting too long, which might ' + 'cause requests to take much longer to process'\n    },\n    'courier:ignoreFilterIfFieldNotInIndex': {\n      value: false,\n      description: 'This configuration enhances support for dashboards containing visualizations accessing dissimilar indexes. ' + 'When set to false, all filters are applied to all visualizations. ' + 'When set to true, filter(s) will be ignored for a visualization ' + 'when the visualization\\'s index does not contain the filtering field.'\n    },\n    'fields:popularLimit': {\n      value: 10,\n      description: 'The top N most popular fields to show'\n    },\n    'histogram:barTarget': {\n      value: 50,\n      description: 'Attempt to generate around this many bars when using \"auto\" interval in date histograms'\n    },\n    'histogram:maxBars': {\n      value: 100,\n      description: 'Never show more than this many bars in date histograms, scale values if needed'\n    },\n    'visualization:tileMap:maxPrecision': {\n      value: 7,\n      description: 'The maximum geoHash precision displayed on tile maps: 7 is high, 10 is very high, ' + '12 is the max. ' + '<a href=\"http://www.elastic.co/guide/en/elasticsearch/reference/current/' + 'search-aggregations-bucket-geohashgrid-aggregation.html#_cell_dimensions_at_the_equator\" target=\"_blank\">' + 'Explanation of cell dimensions</a>'\n    },\n    'visualization:tileMap:WMSdefaults': {\n      value: JSON.stringify({\n        enabled: false,\n        url: 'https://basemap.nationalmap.gov/arcgis/services/USGSTopo/MapServer/WMSServer',\n        options: {\n          version: '1.3.0',\n          layers: '0',\n          format: 'image/png',\n          transparent: true,\n          attribution: 'Maps provided by USGS',\n          styles: ''\n        }\n      }, null, 2),\n      type: 'json',\n      description: 'Default <a href=\"http://leafletjs.com/reference.html#tilelayer-wms\" target=\"_blank\">properties</a> for the WMS map server support in the tile map'\n    },\n    'visualization:colorMapping': {\n      type: 'json',\n      value: JSON.stringify({\n        Count: '#6eadc1'\n      }),\n      description: 'Maps values to specified colors within visualizations'\n    },\n    'visualization:loadingDelay': {\n      value: '2s',\n      description: 'Time to wait before dimming visualizations during query'\n    },\n    'visualization:dimmingOpacity': {\n      type: 'number',\n      value: 0.5,\n      description: 'The opacity of the chart items that are dimmed when highlighting another element of the chart. ' + 'The lower this number, the more the highlighted element will stand out.' + 'This must be a number between 0 and 1.'\n    },\n    'csv:separator': {\n      value: ',',\n      description: 'Separate exported values with this string'\n    },\n    'csv:quoteValues': {\n      value: true,\n      description: 'Should values be quoted in csv exports?'\n    },\n    'history:limit': {\n      value: 10,\n      description: 'In fields that have history (e.g. query inputs), show this many recent values'\n    },\n    'shortDots:enable': {\n      value: false,\n      description: 'Shorten long fields, for example, instead of foo.bar.baz, show f.b.baz'\n    },\n    'truncate:maxHeight': {\n      value: 115,\n      description: 'The maximum height that a cell in a table should occupy. Set to 0 to disable truncation'\n    },\n    'indexPattern:fieldMapping:lookBack': {\n      value: 5,\n      description: 'For index patterns containing timestamps in their names, look for this many recent matching ' + 'patterns from which to query the field mapping'\n    },\n    'format:defaultTypeMap': {\n      type: 'json',\n      value: '{\\n  \"ip\": { \"id\": \"ip\", \"params\": {} },\\n  \"date\": { \"id\": \"date\", \"params\": {} },\\n  \"number\": { \"id\": \"number\", \"params\": {} },\\n  \"boolean\": { \"id\": \"boolean\", \"params\": {} },\\n  \"_source\": { \"id\": \"_source\", \"params\": {} },\\n  \"_default_\": { \"id\": \"string\", \"params\": {} }\\n}',\n      description: 'Map of the format name to use by default for each field type. ' + '\"_default_\" is used if the field type is not mentioned explicitly'\n    },\n    'format:number:defaultPattern': {\n      type: 'string',\n      value: '0,0.[000]',\n      description: 'Default <a href=\"http://numeraljs.com/\" target=\"_blank\">numeral format</a> for the \"number\" format'\n    },\n    'format:bytes:defaultPattern': {\n      type: 'string',\n      value: '0,0.[000]b',\n      description: 'Default <a href=\"http://numeraljs.com/\" target=\"_blank\">numeral format</a> for the \"bytes\" format'\n    },\n    'format:percent:defaultPattern': {\n      type: 'string',\n      value: '0,0.[000]%',\n      description: 'Default <a href=\"http://numeraljs.com/\" target=\"_blank\">numeral format</a> for the \"percent\" format'\n    },\n    'format:currency:defaultPattern': {\n      type: 'string',\n      value: '($0,0.[00])',\n      description: 'Default <a href=\"http://numeraljs.com/\" target=\"_blank\">numeral format</a> for the \"currency\" format'\n    },\n    'savedObjects:perPage': {\n      type: 'number',\n      value: 5,\n      description: 'Number of objects to show per page in the load dialog'\n    },\n    'timepicker:timeDefaults': {\n      type: 'json',\n      value: '{\\n  \"from\": \"now-15m\",\\n  \"to\": \"now\",\\n  \"mode\": \"quick\"\\n}',\n      description: 'The timefilter selection to use when Kibana is started without one'\n    },\n    'timepicker:refreshIntervalDefaults': {\n      type: 'json',\n      value: '{\\n  \"display\": \"Off\",\\n  \"pause\": false,\\n  \"value\": 0\\n}',\n      description: 'The timefilter\\'s default refresh interval'\n    },\n    'dashboard:defaultDarkTheme': {\n      value: false,\n      description: 'New dashboards use dark theme by default'\n    },\n    'filters:pinnedByDefault': {\n      value: false,\n      description: 'Whether the filters should have a global state (be pinned) by default'\n    },\n    'notifications:banner': {\n      type: 'markdown',\n      description: 'A custom banner intended for temporary notices to all users. <a href=\"https://help.github.com/articles/basic-writing-and-formatting-syntax/\" target=\"_blank\">Markdown supported</a>.',\n      value: ''\n    },\n    'notifications:lifetime:banner': {\n      value: 3000000,\n      description: 'The time in milliseconds which a banner notification ' + 'will be displayed on-screen for. Setting to Infinity will disable.'\n    },\n    'notifications:lifetime:error': {\n      value: 300000,\n      description: 'The time in milliseconds which an error notification ' + 'will be displayed on-screen for. Setting to Infinity will disable.'\n    },\n    'notifications:lifetime:warning': {\n      value: 10000,\n      description: 'The time in milliseconds which a warning notification ' + 'will be displayed on-screen for. Setting to Infinity will disable.'\n    },\n    'notifications:lifetime:info': {\n      value: 5000,\n      description: 'The time in milliseconds which an information notification ' + 'will be displayed on-screen for. Setting to Infinity will disable.'\n    },\n    // Timelion stuff\n    'timelion:showTutorial': {\n      value: false,\n      description: 'Should I show the tutorial by default when entering the timelion app?'\n    },\n    'timelion:es.timefield': {\n      value: '@timestamp',\n      description: 'Default field containing a timestamp when using .es()'\n    },\n    'timelion:es.default_index': {\n      value: '_all',\n      description: 'Default elasticsearch index to search with .es()'\n    },\n    'timelion:target_buckets': {\n      value: 200,\n      description: 'The number of buckets to shoot for when using auto intervals'\n    },\n    'timelion:max_buckets': {\n      value: 2000,\n      description: 'The maximum number of buckets a single datasource can return'\n    },\n    'timelion:default_columns': {\n      value: 2,\n      description: 'Number of columns on a timelion sheet by default'\n    },\n    'timelion:default_rows': {\n      value: 2,\n      description: 'Number of rows on a timelion sheet by default'\n    },\n    'timelion:graphite.url': {\n      value: 'https://www.hostedgraphite.com/UID/ACCESS_KEY/graphite',\n      description: '<em>[experimental]</em> The URL of your graphite host'\n    },\n    'timelion:quandl.key': {\n      value: 'someKeyHere',\n      description: '<em>[experimental]</em> Your API key from www.quandl.com'\n    },\n    'state:storeInSessionStorage': {\n      value: false,\n      description: 'The URL can sometimes grow to be too large for some browsers to ' + 'handle. To counter-act this we are testing if storing parts of the URL in ' + 'sessions storage could help. Please let us know how it goes!'\n    },\n    'indexPattern:placeholder': {\n      value: 'logstash-*',\n      description: 'The placeholder for the field \"Index name or pattern\" in the \"Settings > Indices\" tab.'\n    }\n  };\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS9zZXR0aW5ncy9kZWZhdWx0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztxQkFFd0IsdUJBQXVCOzs7Ozs7OEJBRjVCLGlCQUFpQjs7OztBQUVyQixTQUFTLHVCQUF1QixHQUFHO0FBQ2hELE1BQU0sUUFBUSxHQUFHLDRCQUFPLFFBQVEsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDOztpQ0FDbEIsUUFBUTs7TUFBMUIsY0FBYzs7O0FBR3JCLFNBQU87QUFDTCxjQUFVLEVBQUU7QUFDVixjQUFRLEVBQUUsSUFBSTtLQUNmO0FBQ0QsK0JBQTJCLEVBQUU7QUFDM0IsV0FBSyxFQUFFLDhCQUE4QjtBQUNyQyxpQkFBVyxFQUFFLDRLQUE0SztBQUN6TCxVQUFJLEVBQUUsTUFBTTtLQUNiO0FBQ0Qsa0JBQWMsRUFBRTtBQUNkLFdBQUssRUFBRSxnQ0FBZ0M7QUFDdkMsaUJBQVcsRUFBRSxxS0FBcUs7QUFDbEwsVUFBSSxFQUFFLE1BQU07S0FDYjtBQUNELGdCQUFZLEVBQUU7QUFDWixXQUFLLEVBQUUsNEJBQTRCO0FBQ25DLGlCQUFXLEVBQUUsc0lBQXNJO0tBQ3BKO0FBQ0QsbUJBQWUsRUFBRTtBQUNmLFdBQUssRUFBRSxTQUFTO0FBQ2hCLGlCQUFXLEVBQUUsMkZBQTJGO0FBQ3hHLFVBQUksRUFBRSxRQUFRO0FBQ2QsYUFBTyxHQUFHLFNBQVMsNEJBQUssNEJBQU8sRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFDO0tBQzNDO0FBQ0QsdUJBQW1CLEVBQUU7QUFDbkIsVUFBSSxFQUFFLE1BQU07QUFDWixXQUFLLGdLQVFUO0FBQ0ksaUJBQVcsRUFDVCxrRUFBa0UsR0FDbEUsMEVBQTBFLEdBQzFFLDBDQUEwQyxHQUMxQyxrRkFBa0YsR0FDbEYsd0JBQXdCLEFBQ3pCO0tBQ0Y7QUFDRCxvQkFBZ0IsRUFBRTtBQUNoQixXQUFLLEVBQUUsY0FBYztBQUNyQixpQkFBVyxFQUFFLGlDQUFpQztB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QUFFLDhEQUE4RDtLQUM1RTtBQUNELDBCQUFzQixFQUFFO0FBQ3RCLFdBQUssRUFBRSxJQUFJO0FBQ1gsaUJBQVcsRUFBRSw4REFBOEQ7S0FDNUU7QUFDRCw4QkFBMEIsRUFBRTtBQUMxQixXQUFLLEVBQUUsQ0FBQztBQUNSLGlCQUFXLEVBQUUsa0RBQWtEO0tBQ2hFO0FBQ0QsMkJBQXVCLEVBQUU7QUFDdkIsV0FBSyxFQUFFLENBQUM7QUFDUixpQkFBVyxFQUFFLCtDQUErQztLQUM3RDtBQUNELDJCQUF1QixFQUFFO0FBQ3ZCLFdBQUssRUFBRSx3REFBd0Q7QUFDL0QsaUJBQVcsRUFBRSx1REFBdUQ7S0FDckU7QUFDRCx5QkFBcUIsRUFBRTtBQUNyQixXQUFLLEVBQUUsYUFBYTtBQUNwQixpQkFBVyxFQUFFLDBEQUEwRDtLQUN4RTtBQUNELGlDQUE2QixFQUFFO0FBQzdCLFdBQUssRUFBRSxLQUFLO0FBQ1osaUJBQVcsRUFBRSxrRUFBa0UsR0FDN0UsNEVBQTRFLEdBQzVFLDhEQUE4RDtLQUNqRTtBQUNELDhCQUEwQixFQUFFO0FBQzFCLFdBQUssRUFBRSxZQUFZO0FBQ25CLGlCQUFXLEVBQUUsd0ZBQXdGO0tBQ3RHO0dBQ0YsQ0FBQztDQUNIIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy91aS9zZXR0aW5ncy9kZWZhdWx0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50LXRpbWV6b25lJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVmYXVsdFNldHRpbmdzUHJvdmlkZXIoKSB7XG4gIGNvbnN0IHdlZWtkYXlzID0gbW9tZW50LndlZWtkYXlzKCkuc2xpY2UoKTtcbiAgY29uc3QgW2RlZmF1bHRXZWVrZGF5XSA9IHdlZWtkYXlzO1xuXG4gIC8vIHdyYXBwZWQgaW4gcHJvdmlkZXIgc28gdGhhdCBhIG5ldyBpbnN0YW5jZSBpcyBnaXZlbiB0byBlYWNoIGFwcC90ZXN0XG4gIHJldHVybiB7XG4gICAgJ2J1aWxkTnVtJzoge1xuICAgICAgcmVhZG9ubHk6IHRydWVcbiAgICB9LFxuICAgICdxdWVyeTpxdWVyeVN0cmluZzpvcHRpb25zJzoge1xuICAgICAgdmFsdWU6ICd7IFwiYW5hbHl6ZV93aWxkY2FyZFwiOiB0cnVlIH0nLFxuICAgICAgZGVzY3JpcHRpb246ICc8YSBocmVmPVwiaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9jdXJyZW50L3F1ZXJ5LWRzbC1xdWVyeS1zdHJpbmctcXVlcnkuaHRtbFwiIHRhcmdldD1cIl9ibGFua1wiPk9wdGlvbnM8L2E+IGZvciB0aGUgbHVjZW5lIHF1ZXJ5IHN0cmluZyBwYXJzZXInLFxuICAgICAgdHlwZTogJ2pzb24nXG4gICAgfSxcbiAgICAnc29ydDpvcHRpb25zJzoge1xuICAgICAgdmFsdWU6ICd7IFwidW5tYXBwZWRfdHlwZVwiOiBcImJvb2xlYW5cIiB9JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnPGEgaHJlZj1cImh0dHBzOi8vd3d3LmVsYXN0aWMuY28vZ3VpZGUvZW4vZWxhc3RpY3NlYXJjaC9yZWZlcmVuY2UvY3VycmVudC9zZWFyY2gtcmVxdWVzdC1zb3J0Lmh0bWxcIiB0YXJnZXQ9XCJfYmxhbmtcIj5PcHRpb25zPC9hPiBmb3IgdGhlIEVsYXN0aWNzZWFyY2ggc29ydCBwYXJhbWV0ZXInLFxuICAgICAgdHlwZTogJ2pzb24nXG4gICAgfSxcbiAgICAnZGF0ZUZvcm1hdCc6IHtcbiAgICAgIHZhbHVlOiAnTU1NTSBEbyBZWVlZLCBISDptbTpzcy5TU1MnLFxuICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGRpc3BsYXlpbmcgYSBwcmV0dHkgZm9ybWF0dGVkIGRhdGUsIHVzZSB0aGlzIDxhIGhyZWY9XCJodHRwOi8vbW9tZW50anMuY29tL2RvY3MvIy9kaXNwbGF5aW5nL2Zvcm1hdC9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5mb3JtYXQ8L2E+JyxcbiAgICB9LFxuICAgICdkYXRlRm9ybWF0OnR6Jzoge1xuICAgICAgdmFsdWU6ICdCcm93c2VyJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnV2hpY2ggdGltZXpvbmUgc2hvdWxkIGJlIHVzZWQuICBcIkJyb3dzZXJcIiB3aWxsIHVzZSB0aGUgdGltZXpvbmUgZGV0ZWN0ZWQgYnkgeW91ciBicm93c2VyLicsXG4gICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgIG9wdGlvbnM6IFsnQnJvd3NlcicsIC4uLm1vbWVudC50ei5uYW1lcygpXVxuICAgIH0sXG4gICAgJ2RhdGVGb3JtYXQ6c2NhbGVkJzoge1xuICAgICAgdHlwZTogJ2pzb24nLFxuICAgICAgdmFsdWU6XG5gW1xuICBbXCJcIiwgXCJISDptbTpzcy5TU1NcIl0sXG4gIFtcIlBUMVNcIiwgXCJISDptbTpzc1wiXSxcbiAgW1wiUFQxTVwiLCBcIkhIOm1tXCJdLFxuICBbXCJQVDFIXCIsIFwiWVlZWS1NTS1ERCBISDptbVwiXSxcbiAgW1wiUDFEVFwiLCBcIllZWVktTU0tRERcIl0sXG4gIFtcIlAxWVRcIiwgXCJZWVlZXCJdXG5dYCxcbiAgICAgIGRlc2NyaXB0aW9uOiAoXG4gICAgICAgICdWYWx1ZXMgdGhhdCBkZWZpbmUgdGhlIGZvcm1hdCB1c2VkIGluIHNpdHVhdGlvbnMgd2hlcmUgdGltZWJhc2VkJyArXG4gICAgICAgICcgZGF0YSBpcyByZW5kZXJlZCBpbiBvcmRlciwgYW5kIGZvcm1hdHRlZCB0aW1lc3RhbXBzIHNob3VsZCBhZGFwdCB0byB0aGUnICtcbiAgICAgICAgJyBpbnRlcnZhbCBiZXR3ZWVuIG1lYXN1cmVtZW50cy4gS2V5cyBhcmUnICtcbiAgICAgICAgJyA8YSBocmVmPVwiaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fODYwMSNUaW1lX2ludGVydmFsc1wiIHRhcmdldD1cIl9ibGFua1wiPicgK1xuICAgICAgICAnSVNPODYwMSBpbnRlcnZhbHMuPC9hPidcbiAgICAgIClcbiAgICB9LFxuICAgICdkYXRlRm9ybWF0OmRvdyc6IHtcbiAgICAgIHZhbHVlOiBkZWZhdWx0V2Vla2RheSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnV2hhdCBkYXkgc2hvdWxkIHdlZWtzIHN0YXJ0IG9uPycsXG4gICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgIG9wdGlvbnM6IHdlZWtkYXlzXG4gICAgfSxcbiAgICAnZGVmYXVsdEluZGV4Jzoge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBpbmRleCB0byBhY2Nlc3MgaWYgbm8gaW5kZXggaXMgc2V0JyxcbiAgICB9LFxuICAgICdkZWZhdWx0Q29sdW1ucyc6IHtcbiAgICAgIHZhbHVlOiBbJ19zb3VyY2UnXSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQ29sdW1ucyBkaXNwbGF5ZWQgYnkgZGVmYXVsdCBpbiB0aGUgRGlzY292ZXJ5IHRhYicsXG4gICAgfSxcbiAgICAnbWV0YUZpZWxkcyc6IHtcbiAgICAgIHZhbHVlOiBbJ19zb3VyY2UnLCAnX2lkJywgJ190eXBlJywgJ19pbmRleCcsICdfc2NvcmUnXSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRmllbGRzIHRoYXQgZXhpc3Qgb3V0c2lkZSBvZiBfc291cmNlIHRvIG1lcmdlIGludG8gb3VyIGRvY3VtZW50IHdoZW4gZGlzcGxheWluZyBpdCcsXG4gICAgfSxcbiAgICAnZGlzY292ZXI6c2FtcGxlU2l6ZSc6IHtcbiAgICAgIHZhbHVlOiA1MDAsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIgb2Ygcm93cyB0byBzaG93IGluIHRoZSB0YWJsZScsXG4gICAgfSxcbiAgICAnZG9jX3RhYmxlOmhpZ2hsaWdodCc6IHtcbiAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgZGVzY3JpcHRpb246ICdIaWdobGlnaHQgcmVzdWx0cyBpbiBEaXNjb3ZlciBhbmQgU2F2ZWQgU2VhcmNoZXMgRGFzaGJvYXJkLicgK1xuICAgICAgICAnSGlnaGxpZ2h0aW5nIG1ha2VzIHJlcXVlc3RzIHNsb3cgd2hlbiB3b3JraW5nIG9uIGJpZyBkb2N1bWVudHMuJyxcbiAgICB9LFxuICAgICdkb2NfdGFibGU6aGlnaGxpZ2h0OmFsbF9maWVsZHMnOiB7XG4gICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSW1wcm92ZXMgaGlnaGxpZ2h0aW5nIGJ5IHVzaW5nIGEgc2VwYXJhdGUgXCJoaWdobGlnaHRfcXVlcnlcIiB0aGF0IHVzZXMgXCJhbGxfZmllbGRzXCIgbW9kZSBvbiBcInF1ZXJ5X3N0cmluZ1wiIHF1ZXJpZXMuICcgK1xuICAgICAgICAnU2V0IHRvIGZhbHNlIGlmIHlvdSBhcmUgdXNpbmcgYSBcImRlZmF1bHRfZmllbGRcIiBpbiB5b3VyIGluZGV4LicsXG4gICAgfSxcbiAgICAnY291cmllcjptYXhTZWdtZW50Q291bnQnOiB7XG4gICAgICB2YWx1ZTogMzAsXG4gICAgICBkZXNjcmlwdGlvbjogJ1JlcXVlc3RzIGluIGRpc2NvdmVyIGFyZSBzcGxpdCBpbnRvIHNlZ21lbnRzIHRvIHByZXZlbnQgbWFzc2l2ZSByZXF1ZXN0cyBmcm9tIGJlaW5nIHNlbnQgdG8gJyArXG4gICAgICAgICdlbGFzdGljc2VhcmNoLiBUaGlzIHNldHRpbmcgYXR0ZW1wdHMgdG8gcHJldmVudCB0aGUgbGlzdCBvZiBzZWdtZW50cyBmcm9tIGdldHRpbmcgdG9vIGxvbmcsIHdoaWNoIG1pZ2h0ICcgK1xuICAgICAgICAnY2F1c2UgcmVxdWVzdHMgdG8gdGFrZSBtdWNoIGxvbmdlciB0byBwcm9jZXNzJ1xuICAgIH0sXG4gICAgJ2NvdXJpZXI6aWdub3JlRmlsdGVySWZGaWVsZE5vdEluSW5kZXgnOiB7XG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoaXMgY29uZmlndXJhdGlvbiBlbmhhbmNlcyBzdXBwb3J0IGZvciBkYXNoYm9hcmRzIGNvbnRhaW5pbmcgdmlzdWFsaXphdGlvbnMgYWNjZXNzaW5nIGRpc3NpbWlsYXIgaW5kZXhlcy4gJyArXG4gICAgICAgICdXaGVuIHNldCB0byBmYWxzZSwgYWxsIGZpbHRlcnMgYXJlIGFwcGxpZWQgdG8gYWxsIHZpc3VhbGl6YXRpb25zLiAnICtcbiAgICAgICAgJ1doZW4gc2V0IHRvIHRydWUsIGZpbHRlcihzKSB3aWxsIGJlIGlnbm9yZWQgZm9yIGEgdmlzdWFsaXphdGlvbiAnICtcbiAgICAgICAgJ3doZW4gdGhlIHZpc3VhbGl6YXRpb25cXCdzIGluZGV4IGRvZXMgbm90IGNvbnRhaW4gdGhlIGZpbHRlcmluZyBmaWVsZC4nXG4gICAgfSxcbiAgICAnZmllbGRzOnBvcHVsYXJMaW1pdCc6IHtcbiAgICAgIHZhbHVlOiAxMCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRvcCBOIG1vc3QgcG9wdWxhciBmaWVsZHMgdG8gc2hvdycsXG4gICAgfSxcbiAgICAnaGlzdG9ncmFtOmJhclRhcmdldCc6IHtcbiAgICAgIHZhbHVlOiA1MCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQXR0ZW1wdCB0byBnZW5lcmF0ZSBhcm91bmQgdGhpcyBtYW55IGJhcnMgd2hlbiB1c2luZyBcImF1dG9cIiBpbnRlcnZhbCBpbiBkYXRlIGhpc3RvZ3JhbXMnLFxuICAgIH0sXG4gICAgJ2hpc3RvZ3JhbTptYXhCYXJzJzoge1xuICAgICAgdmFsdWU6IDEwMCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnTmV2ZXIgc2hvdyBtb3JlIHRoYW4gdGhpcyBtYW55IGJhcnMgaW4gZGF0ZSBoaXN0b2dyYW1zLCBzY2FsZSB2YWx1ZXMgaWYgbmVlZGVkJyxcbiAgICB9LFxuICAgICd2aXN1YWxpemF0aW9uOnRpbGVNYXA6bWF4UHJlY2lzaW9uJzoge1xuICAgICAgdmFsdWU6IDcsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBtYXhpbXVtIGdlb0hhc2ggcHJlY2lzaW9uIGRpc3BsYXllZCBvbiB0aWxlIG1hcHM6IDcgaXMgaGlnaCwgMTAgaXMgdmVyeSBoaWdoLCAnICtcbiAgICAgICcxMiBpcyB0aGUgbWF4LiAnICtcbiAgICAgICc8YSBocmVmPVwiaHR0cDovL3d3dy5lbGFzdGljLmNvL2d1aWRlL2VuL2VsYXN0aWNzZWFyY2gvcmVmZXJlbmNlL2N1cnJlbnQvJyArXG4gICAgICAnc2VhcmNoLWFnZ3JlZ2F0aW9ucy1idWNrZXQtZ2VvaGFzaGdyaWQtYWdncmVnYXRpb24uaHRtbCNfY2VsbF9kaW1lbnNpb25zX2F0X3RoZV9lcXVhdG9yXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JyArXG4gICAgICAnRXhwbGFuYXRpb24gb2YgY2VsbCBkaW1lbnNpb25zPC9hPicsXG4gICAgfSxcbiAgICAndmlzdWFsaXphdGlvbjp0aWxlTWFwOldNU2RlZmF1bHRzJzoge1xuICAgICAgdmFsdWU6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vYmFzZW1hcC5uYXRpb25hbG1hcC5nb3YvYXJjZ2lzL3NlcnZpY2VzL1VTR1NUb3BvL01hcFNlcnZlci9XTVNTZXJ2ZXInLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgdmVyc2lvbjogJzEuMy4wJyxcbiAgICAgICAgICBsYXllcnM6ICcwJyxcbiAgICAgICAgICBmb3JtYXQ6ICdpbWFnZS9wbmcnLFxuICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgICAgICAgIGF0dHJpYnV0aW9uOiAnTWFwcyBwcm92aWRlZCBieSBVU0dTJyxcbiAgICAgICAgICBzdHlsZXM6ICcnLFxuICAgICAgICB9XG4gICAgICB9LCBudWxsLCAyKSxcbiAgICAgIHR5cGU6ICdqc29uJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRGVmYXVsdCA8YSBocmVmPVwiaHR0cDovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLmh0bWwjdGlsZWxheWVyLXdtc1wiIHRhcmdldD1cIl9ibGFua1wiPnByb3BlcnRpZXM8L2E+IGZvciB0aGUgV01TIG1hcCBzZXJ2ZXIgc3VwcG9ydCBpbiB0aGUgdGlsZSBtYXAnXG4gICAgfSxcbiAgICAndmlzdWFsaXphdGlvbjpjb2xvck1hcHBpbmcnOiB7XG4gICAgICB0eXBlOiAnanNvbicsXG4gICAgICB2YWx1ZTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBDb3VudDogJyM2ZWFkYzEnXG4gICAgICB9KSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnTWFwcyB2YWx1ZXMgdG8gc3BlY2lmaWVkIGNvbG9ycyB3aXRoaW4gdmlzdWFsaXphdGlvbnMnXG4gICAgfSxcbiAgICAndmlzdWFsaXphdGlvbjpsb2FkaW5nRGVsYXknOiB7XG4gICAgICB2YWx1ZTogJzJzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGltZSB0byB3YWl0IGJlZm9yZSBkaW1taW5nIHZpc3VhbGl6YXRpb25zIGR1cmluZyBxdWVyeSdcbiAgICB9LFxuICAgICd2aXN1YWxpemF0aW9uOmRpbW1pbmdPcGFjaXR5Jzoge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICB2YWx1ZTogMC41LFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgb3BhY2l0eSBvZiB0aGUgY2hhcnQgaXRlbXMgdGhhdCBhcmUgZGltbWVkIHdoZW4gaGlnaGxpZ2h0aW5nIGFub3RoZXIgZWxlbWVudCBvZiB0aGUgY2hhcnQuICcgK1xuICAgICAgJ1RoZSBsb3dlciB0aGlzIG51bWJlciwgdGhlIG1vcmUgdGhlIGhpZ2hsaWdodGVkIGVsZW1lbnQgd2lsbCBzdGFuZCBvdXQuJyArXG4gICAgICAnVGhpcyBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4nXG4gICAgfSxcbiAgICAnY3N2OnNlcGFyYXRvcic6IHtcbiAgICAgIHZhbHVlOiAnLCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ1NlcGFyYXRlIGV4cG9ydGVkIHZhbHVlcyB3aXRoIHRoaXMgc3RyaW5nJyxcbiAgICB9LFxuICAgICdjc3Y6cXVvdGVWYWx1ZXMnOiB7XG4gICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnU2hvdWxkIHZhbHVlcyBiZSBxdW90ZWQgaW4gY3N2IGV4cG9ydHM/JyxcbiAgICB9LFxuICAgICdoaXN0b3J5OmxpbWl0Jzoge1xuICAgICAgdmFsdWU6IDEwLFxuICAgICAgZGVzY3JpcHRpb246ICdJbiBmaWVsZHMgdGhhdCBoYXZlIGhpc3RvcnkgKGUuZy4gcXVlcnkgaW5wdXRzKSwgc2hvdyB0aGlzIG1hbnkgcmVjZW50IHZhbHVlcycsXG4gICAgfSxcbiAgICAnc2hvcnREb3RzOmVuYWJsZSc6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnU2hvcnRlbiBsb25nIGZpZWxkcywgZm9yIGV4YW1wbGUsIGluc3RlYWQgb2YgZm9vLmJhci5iYXosIHNob3cgZi5iLmJheicsXG4gICAgfSxcbiAgICAndHJ1bmNhdGU6bWF4SGVpZ2h0Jzoge1xuICAgICAgdmFsdWU6IDExNSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1heGltdW0gaGVpZ2h0IHRoYXQgYSBjZWxsIGluIGEgdGFibGUgc2hvdWxkIG9jY3VweS4gU2V0IHRvIDAgdG8gZGlzYWJsZSB0cnVuY2F0aW9uJ1xuICAgIH0sXG4gICAgJ2luZGV4UGF0dGVybjpmaWVsZE1hcHBpbmc6bG9va0JhY2snOiB7XG4gICAgICB2YWx1ZTogNSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRm9yIGluZGV4IHBhdHRlcm5zIGNvbnRhaW5pbmcgdGltZXN0YW1wcyBpbiB0aGVpciBuYW1lcywgbG9vayBmb3IgdGhpcyBtYW55IHJlY2VudCBtYXRjaGluZyAnICtcbiAgICAgICAgJ3BhdHRlcm5zIGZyb20gd2hpY2ggdG8gcXVlcnkgdGhlIGZpZWxkIG1hcHBpbmcnXG4gICAgfSxcbiAgICAnZm9ybWF0OmRlZmF1bHRUeXBlTWFwJzoge1xuICAgICAgdHlwZTogJ2pzb24nLFxuICAgICAgdmFsdWU6XG5ge1xuICBcImlwXCI6IHsgXCJpZFwiOiBcImlwXCIsIFwicGFyYW1zXCI6IHt9IH0sXG4gIFwiZGF0ZVwiOiB7IFwiaWRcIjogXCJkYXRlXCIsIFwicGFyYW1zXCI6IHt9IH0sXG4gIFwibnVtYmVyXCI6IHsgXCJpZFwiOiBcIm51bWJlclwiLCBcInBhcmFtc1wiOiB7fSB9LFxuICBcImJvb2xlYW5cIjogeyBcImlkXCI6IFwiYm9vbGVhblwiLCBcInBhcmFtc1wiOiB7fSB9LFxuICBcIl9zb3VyY2VcIjogeyBcImlkXCI6IFwiX3NvdXJjZVwiLCBcInBhcmFtc1wiOiB7fSB9LFxuICBcIl9kZWZhdWx0X1wiOiB7IFwiaWRcIjogXCJzdHJpbmdcIiwgXCJwYXJhbXNcIjoge30gfVxufWAsXG4gICAgICBkZXNjcmlwdGlvbjogJ01hcCBvZiB0aGUgZm9ybWF0IG5hbWUgdG8gdXNlIGJ5IGRlZmF1bHQgZm9yIGVhY2ggZmllbGQgdHlwZS4gJyArXG4gICAgICAgICdcIl9kZWZhdWx0X1wiIGlzIHVzZWQgaWYgdGhlIGZpZWxkIHR5cGUgaXMgbm90IG1lbnRpb25lZCBleHBsaWNpdGx5J1xuICAgIH0sXG4gICAgJ2Zvcm1hdDpudW1iZXI6ZGVmYXVsdFBhdHRlcm4nOiB7XG4gICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIHZhbHVlOiAnMCwwLlswMDBdJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRGVmYXVsdCA8YSBocmVmPVwiaHR0cDovL251bWVyYWxqcy5jb20vXCIgdGFyZ2V0PVwiX2JsYW5rXCI+bnVtZXJhbCBmb3JtYXQ8L2E+IGZvciB0aGUgXCJudW1iZXJcIiBmb3JtYXQnXG4gICAgfSxcbiAgICAnZm9ybWF0OmJ5dGVzOmRlZmF1bHRQYXR0ZXJuJzoge1xuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICB2YWx1ZTogJzAsMC5bMDAwXWInLFxuICAgICAgZGVzY3JpcHRpb246ICdEZWZhdWx0IDxhIGhyZWY9XCJodHRwOi8vbnVtZXJhbGpzLmNvbS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5udW1lcmFsIGZvcm1hdDwvYT4gZm9yIHRoZSBcImJ5dGVzXCIgZm9ybWF0J1xuICAgIH0sXG4gICAgJ2Zvcm1hdDpwZXJjZW50OmRlZmF1bHRQYXR0ZXJuJzoge1xuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICB2YWx1ZTogJzAsMC5bMDAwXSUnLFxuICAgICAgZGVzY3JpcHRpb246ICdEZWZhdWx0IDxhIGhyZWY9XCJodHRwOi8vbnVtZXJhbGpzLmNvbS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5udW1lcmFsIGZvcm1hdDwvYT4gZm9yIHRoZSBcInBlcmNlbnRcIiBmb3JtYXQnXG4gICAgfSxcbiAgICAnZm9ybWF0OmN1cnJlbmN5OmRlZmF1bHRQYXR0ZXJuJzoge1xuICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICB2YWx1ZTogJygkMCwwLlswMF0pJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnRGVmYXVsdCA8YSBocmVmPVwiaHR0cDovL251bWVyYWxqcy5jb20vXCIgdGFyZ2V0PVwiX2JsYW5rXCI+bnVtZXJhbCBmb3JtYXQ8L2E+IGZvciB0aGUgXCJjdXJyZW5jeVwiIGZvcm1hdCdcbiAgICB9LFxuICAgICdzYXZlZE9iamVjdHM6cGVyUGFnZSc6IHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgdmFsdWU6IDUsXG4gICAgICBkZXNjcmlwdGlvbjogJ051bWJlciBvZiBvYmplY3RzIHRvIHNob3cgcGVyIHBhZ2UgaW4gdGhlIGxvYWQgZGlhbG9nJ1xuICAgIH0sXG4gICAgJ3RpbWVwaWNrZXI6dGltZURlZmF1bHRzJzoge1xuICAgICAgdHlwZTogJ2pzb24nLFxuICAgICAgdmFsdWU6XG5ge1xuICBcImZyb21cIjogXCJub3ctMTVtXCIsXG4gIFwidG9cIjogXCJub3dcIixcbiAgXCJtb2RlXCI6IFwicXVpY2tcIlxufWAsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSB0aW1lZmlsdGVyIHNlbGVjdGlvbiB0byB1c2Ugd2hlbiBLaWJhbmEgaXMgc3RhcnRlZCB3aXRob3V0IG9uZSdcbiAgICB9LFxuICAgICd0aW1lcGlja2VyOnJlZnJlc2hJbnRlcnZhbERlZmF1bHRzJzoge1xuICAgICAgdHlwZTogJ2pzb24nLFxuICAgICAgdmFsdWU6XG5ge1xuICBcImRpc3BsYXlcIjogXCJPZmZcIixcbiAgXCJwYXVzZVwiOiBmYWxzZSxcbiAgXCJ2YWx1ZVwiOiAwXG59YCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRpbWVmaWx0ZXJcXCdzIGRlZmF1bHQgcmVmcmVzaCBpbnRlcnZhbCdcbiAgICB9LFxuICAgICdkYXNoYm9hcmQ6ZGVmYXVsdERhcmtUaGVtZSc6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnTmV3IGRhc2hib2FyZHMgdXNlIGRhcmsgdGhlbWUgYnkgZGVmYXVsdCdcbiAgICB9LFxuICAgICdmaWx0ZXJzOnBpbm5lZEJ5RGVmYXVsdCc6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnV2hldGhlciB0aGUgZmlsdGVycyBzaG91bGQgaGF2ZSBhIGdsb2JhbCBzdGF0ZSAoYmUgcGlubmVkKSBieSBkZWZhdWx0J1xuICAgIH0sXG4gICAgJ25vdGlmaWNhdGlvbnM6YmFubmVyJzoge1xuICAgICAgdHlwZTogJ21hcmtkb3duJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQSBjdXN0b20gYmFubmVyIGludGVuZGVkIGZvciB0ZW1wb3Jhcnkgbm90aWNlcyB0byBhbGwgdXNlcnMuIDxhIGhyZWY9XCJodHRwczovL2hlbHAuZ2l0aHViLmNvbS9hcnRpY2xlcy9iYXNpYy13cml0aW5nLWFuZC1mb3JtYXR0aW5nLXN5bnRheC9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5NYXJrZG93biBzdXBwb3J0ZWQ8L2E+LicsXG4gICAgICB2YWx1ZTogJydcbiAgICB9LFxuICAgICdub3RpZmljYXRpb25zOmxpZmV0aW1lOmJhbm5lcic6IHtcbiAgICAgIHZhbHVlOiAzMDAwMDAwLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgd2hpY2ggYSBiYW5uZXIgbm90aWZpY2F0aW9uICcgK1xuICAgICAgJ3dpbGwgYmUgZGlzcGxheWVkIG9uLXNjcmVlbiBmb3IuIFNldHRpbmcgdG8gSW5maW5pdHkgd2lsbCBkaXNhYmxlLidcbiAgICB9LFxuICAgICdub3RpZmljYXRpb25zOmxpZmV0aW1lOmVycm9yJzoge1xuICAgICAgdmFsdWU6IDMwMDAwMCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHdoaWNoIGFuIGVycm9yIG5vdGlmaWNhdGlvbiAnICtcbiAgICAgICd3aWxsIGJlIGRpc3BsYXllZCBvbi1zY3JlZW4gZm9yLiBTZXR0aW5nIHRvIEluZmluaXR5IHdpbGwgZGlzYWJsZS4nXG4gICAgfSxcbiAgICAnbm90aWZpY2F0aW9uczpsaWZldGltZTp3YXJuaW5nJzoge1xuICAgICAgdmFsdWU6IDEwMDAwLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgd2hpY2ggYSB3YXJuaW5nIG5vdGlmaWNhdGlvbiAnICtcbiAgICAgICAgJ3dpbGwgYmUgZGlzcGxheWVkIG9uLXNjcmVlbiBmb3IuIFNldHRpbmcgdG8gSW5maW5pdHkgd2lsbCBkaXNhYmxlLidcbiAgICB9LFxuICAgICdub3RpZmljYXRpb25zOmxpZmV0aW1lOmluZm8nOiB7XG4gICAgICB2YWx1ZTogNTAwMCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHdoaWNoIGFuIGluZm9ybWF0aW9uIG5vdGlmaWNhdGlvbiAnICtcbiAgICAgICAgJ3dpbGwgYmUgZGlzcGxheWVkIG9uLXNjcmVlbiBmb3IuIFNldHRpbmcgdG8gSW5maW5pdHkgd2lsbCBkaXNhYmxlLidcbiAgICB9LFxuICAgIC8vIFRpbWVsaW9uIHN0dWZmXG4gICAgJ3RpbWVsaW9uOnNob3dUdXRvcmlhbCc6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnU2hvdWxkIEkgc2hvdyB0aGUgdHV0b3JpYWwgYnkgZGVmYXVsdCB3aGVuIGVudGVyaW5nIHRoZSB0aW1lbGlvbiBhcHA/J1xuICAgIH0sXG4gICAgJ3RpbWVsaW9uOmVzLnRpbWVmaWVsZCc6IHtcbiAgICAgIHZhbHVlOiAnQHRpbWVzdGFtcCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ0RlZmF1bHQgZmllbGQgY29udGFpbmluZyBhIHRpbWVzdGFtcCB3aGVuIHVzaW5nIC5lcygpJ1xuICAgIH0sXG4gICAgJ3RpbWVsaW9uOmVzLmRlZmF1bHRfaW5kZXgnOiB7XG4gICAgICB2YWx1ZTogJ19hbGwnLFxuICAgICAgZGVzY3JpcHRpb246ICdEZWZhdWx0IGVsYXN0aWNzZWFyY2ggaW5kZXggdG8gc2VhcmNoIHdpdGggLmVzKCknXG4gICAgfSxcbiAgICAndGltZWxpb246dGFyZ2V0X2J1Y2tldHMnOiB7XG4gICAgICB2YWx1ZTogMjAwLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgbnVtYmVyIG9mIGJ1Y2tldHMgdG8gc2hvb3QgZm9yIHdoZW4gdXNpbmcgYXV0byBpbnRlcnZhbHMnXG4gICAgfSxcbiAgICAndGltZWxpb246bWF4X2J1Y2tldHMnOiB7XG4gICAgICB2YWx1ZTogMjAwMCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1heGltdW0gbnVtYmVyIG9mIGJ1Y2tldHMgYSBzaW5nbGUgZGF0YXNvdXJjZSBjYW4gcmV0dXJuJ1xuICAgIH0sXG4gICAgJ3RpbWVsaW9uOmRlZmF1bHRfY29sdW1ucyc6IHtcbiAgICAgIHZhbHVlOiAyLFxuICAgICAgZGVzY3JpcHRpb246ICdOdW1iZXIgb2YgY29sdW1ucyBvbiBhIHRpbWVsaW9uIHNoZWV0IGJ5IGRlZmF1bHQnXG4gICAgfSxcbiAgICAndGltZWxpb246ZGVmYXVsdF9yb3dzJzoge1xuICAgICAgdmFsdWU6IDIsXG4gICAgICBkZXNjcmlwdGlvbjogJ051bWJlciBvZiByb3dzIG9uIGEgdGltZWxpb24gc2hlZXQgYnkgZGVmYXVsdCdcbiAgICB9LFxuICAgICd0aW1lbGlvbjpncmFwaGl0ZS51cmwnOiB7XG4gICAgICB2YWx1ZTogJ2h0dHBzOi8vd3d3Lmhvc3RlZGdyYXBoaXRlLmNvbS9VSUQvQUNDRVNTX0tFWS9ncmFwaGl0ZScsXG4gICAgICBkZXNjcmlwdGlvbjogJzxlbT5bZXhwZXJpbWVudGFsXTwvZW0+IFRoZSBVUkwgb2YgeW91ciBncmFwaGl0ZSBob3N0J1xuICAgIH0sXG4gICAgJ3RpbWVsaW9uOnF1YW5kbC5rZXknOiB7XG4gICAgICB2YWx1ZTogJ3NvbWVLZXlIZXJlJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnPGVtPltleHBlcmltZW50YWxdPC9lbT4gWW91ciBBUEkga2V5IGZyb20gd3d3LnF1YW5kbC5jb20nXG4gICAgfSxcbiAgICAnc3RhdGU6c3RvcmVJblNlc3Npb25TdG9yYWdlJzoge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGUgVVJMIGNhbiBzb21ldGltZXMgZ3JvdyB0byBiZSB0b28gbGFyZ2UgZm9yIHNvbWUgYnJvd3NlcnMgdG8gJyArXG4gICAgICAgICdoYW5kbGUuIFRvIGNvdW50ZXItYWN0IHRoaXMgd2UgYXJlIHRlc3RpbmcgaWYgc3RvcmluZyBwYXJ0cyBvZiB0aGUgVVJMIGluICcgK1xuICAgICAgICAnc2Vzc2lvbnMgc3RvcmFnZSBjb3VsZCBoZWxwLiBQbGVhc2UgbGV0IHVzIGtub3cgaG93IGl0IGdvZXMhJ1xuICAgIH0sXG4gICAgJ2luZGV4UGF0dGVybjpwbGFjZWhvbGRlcic6IHtcbiAgICAgIHZhbHVlOiAnbG9nc3Rhc2gtKicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwbGFjZWhvbGRlciBmb3IgdGhlIGZpZWxkIFwiSW5kZXggbmFtZSBvciBwYXR0ZXJuXCIgaW4gdGhlIFwiU2V0dGluZ3MgPiBJbmRpY2VzXCIgdGFiLicsXG4gICAgfVxuICB9O1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/ui/settings/defaults.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/ui/settings/defaults.js",
      "sourcesContent": [
        "import moment from 'moment-timezone';\n\nexport default function defaultSettingsProvider() {\n  const weekdays = moment.weekdays().slice();\n  const [defaultWeekday] = weekdays;\n\n  // wrapped in provider so that a new instance is given to each app/test\n  return {\n    'buildNum': {\n      readonly: true\n    },\n    'query:queryString:options': {\n      value: '{ \"analyze_wildcard\": true }',\n      description: '<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html\" target=\"_blank\">Options</a> for the lucene query string parser',\n      type: 'json'\n    },\n    'sort:options': {\n      value: '{ \"unmapped_type\": \"boolean\" }',\n      description: '<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-sort.html\" target=\"_blank\">Options</a> for the Elasticsearch sort parameter',\n      type: 'json'\n    },\n    'dateFormat': {\n      value: 'MMMM Do YYYY, HH:mm:ss.SSS',\n      description: 'When displaying a pretty formatted date, use this <a href=\"http://momentjs.com/docs/#/displaying/format/\" target=\"_blank\">format</a>',\n    },\n    'dateFormat:tz': {\n      value: 'Browser',\n      description: 'Which timezone should be used.  \"Browser\" will use the timezone detected by your browser.',\n      type: 'select',\n      options: ['Browser', ...moment.tz.names()]\n    },\n    'dateFormat:scaled': {\n      type: 'json',\n      value:\n`[\n  [\"\", \"HH:mm:ss.SSS\"],\n  [\"PT1S\", \"HH:mm:ss\"],\n  [\"PT1M\", \"HH:mm\"],\n  [\"PT1H\", \"YYYY-MM-DD HH:mm\"],\n  [\"P1DT\", \"YYYY-MM-DD\"],\n  [\"P1YT\", \"YYYY\"]\n]`,\n      description: (\n        'Values that define the format used in situations where timebased' +\n        ' data is rendered in order, and formatted timestamps should adapt to the' +\n        ' interval between measurements. Keys are' +\n        ' <a href=\"http://en.wikipedia.org/wiki/ISO_8601#Time_intervals\" target=\"_blank\">' +\n        'ISO8601 intervals.</a>'\n      )\n    },\n    'dateFormat:dow': {\n      value: defaultWeekday,\n      description: 'What day should weeks start on?',\n      type: 'select',\n      options: weekdays\n    },\n    'defaultIndex': {\n      value: null,\n      description: 'The index to access if no index is set',\n    },\n    'defaultColumns': {\n      value: ['_source'],\n      description: 'Columns displayed by default in the Discovery tab',\n    },\n    'metaFields': {\n      value: ['_source', '_id', '_type', '_index', '_score'],\n      description: 'Fields that exist outside of _source to merge into our document when displaying it',\n    },\n    'discover:sampleSize': {\n      value: 500,\n      description: 'The number of rows to show in the table',\n    },\n    'doc_table:highlight': {\n      value: true,\n      description: 'Highlight results in Discover and Saved Searches Dashboard.' +\n        'Highlighting makes requests slow when working on big documents.',\n    },\n    'doc_table:highlight:all_fields': {\n      value: true,\n      description: 'Improves highlighting by using a separate \"highlight_query\" that uses \"all_fields\" mode on \"query_string\" queries. ' +\n        'Set to false if you are using a \"default_field\" in your index.',\n    },\n    'courier:maxSegmentCount': {\n      value: 30,\n      description: 'Requests in discover are split into segments to prevent massive requests from being sent to ' +\n        'elasticsearch. This setting attempts to prevent the list of segments from getting too long, which might ' +\n        'cause requests to take much longer to process'\n    },\n    'courier:ignoreFilterIfFieldNotInIndex': {\n      value: false,\n      description: 'This configuration enhances support for dashboards containing visualizations accessing dissimilar indexes. ' +\n        'When set to false, all filters are applied to all visualizations. ' +\n        'When set to true, filter(s) will be ignored for a visualization ' +\n        'when the visualization\\'s index does not contain the filtering field.'\n    },\n    'fields:popularLimit': {\n      value: 10,\n      description: 'The top N most popular fields to show',\n    },\n    'histogram:barTarget': {\n      value: 50,\n      description: 'Attempt to generate around this many bars when using \"auto\" interval in date histograms',\n    },\n    'histogram:maxBars': {\n      value: 100,\n      description: 'Never show more than this many bars in date histograms, scale values if needed',\n    },\n    'visualization:tileMap:maxPrecision': {\n      value: 7,\n      description: 'The maximum geoHash precision displayed on tile maps: 7 is high, 10 is very high, ' +\n      '12 is the max. ' +\n      '<a href=\"http://www.elastic.co/guide/en/elasticsearch/reference/current/' +\n      'search-aggregations-bucket-geohashgrid-aggregation.html#_cell_dimensions_at_the_equator\" target=\"_blank\">' +\n      'Explanation of cell dimensions</a>',\n    },\n    'visualization:tileMap:WMSdefaults': {\n      value: JSON.stringify({\n        enabled: false,\n        url: 'https://basemap.nationalmap.gov/arcgis/services/USGSTopo/MapServer/WMSServer',\n        options: {\n          version: '1.3.0',\n          layers: '0',\n          format: 'image/png',\n          transparent: true,\n          attribution: 'Maps provided by USGS',\n          styles: '',\n        }\n      }, null, 2),\n      type: 'json',\n      description: 'Default <a href=\"http://leafletjs.com/reference.html#tilelayer-wms\" target=\"_blank\">properties</a> for the WMS map server support in the tile map'\n    },\n    'visualization:colorMapping': {\n      type: 'json',\n      value: JSON.stringify({\n        Count: '#6eadc1'\n      }),\n      description: 'Maps values to specified colors within visualizations'\n    },\n    'visualization:loadingDelay': {\n      value: '2s',\n      description: 'Time to wait before dimming visualizations during query'\n    },\n    'visualization:dimmingOpacity': {\n      type: 'number',\n      value: 0.5,\n      description: 'The opacity of the chart items that are dimmed when highlighting another element of the chart. ' +\n      'The lower this number, the more the highlighted element will stand out.' +\n      'This must be a number between 0 and 1.'\n    },\n    'csv:separator': {\n      value: ',',\n      description: 'Separate exported values with this string',\n    },\n    'csv:quoteValues': {\n      value: true,\n      description: 'Should values be quoted in csv exports?',\n    },\n    'history:limit': {\n      value: 10,\n      description: 'In fields that have history (e.g. query inputs), show this many recent values',\n    },\n    'shortDots:enable': {\n      value: false,\n      description: 'Shorten long fields, for example, instead of foo.bar.baz, show f.b.baz',\n    },\n    'truncate:maxHeight': {\n      value: 115,\n      description: 'The maximum height that a cell in a table should occupy. Set to 0 to disable truncation'\n    },\n    'indexPattern:fieldMapping:lookBack': {\n      value: 5,\n      description: 'For index patterns containing timestamps in their names, look for this many recent matching ' +\n        'patterns from which to query the field mapping'\n    },\n    'format:defaultTypeMap': {\n      type: 'json',\n      value:\n`{\n  \"ip\": { \"id\": \"ip\", \"params\": {} },\n  \"date\": { \"id\": \"date\", \"params\": {} },\n  \"number\": { \"id\": \"number\", \"params\": {} },\n  \"boolean\": { \"id\": \"boolean\", \"params\": {} },\n  \"_source\": { \"id\": \"_source\", \"params\": {} },\n  \"_default_\": { \"id\": \"string\", \"params\": {} }\n}`,\n      description: 'Map of the format name to use by default for each field type. ' +\n        '\"_default_\" is used if the field type is not mentioned explicitly'\n    },\n    'format:number:defaultPattern': {\n      type: 'string',\n      value: '0,0.[000]',\n      description: 'Default <a href=\"http://numeraljs.com/\" target=\"_blank\">numeral format</a> for the \"number\" format'\n    },\n    'format:bytes:defaultPattern': {\n      type: 'string',\n      value: '0,0.[000]b',\n      description: 'Default <a href=\"http://numeraljs.com/\" target=\"_blank\">numeral format</a> for the \"bytes\" format'\n    },\n    'format:percent:defaultPattern': {\n      type: 'string',\n      value: '0,0.[000]%',\n      description: 'Default <a href=\"http://numeraljs.com/\" target=\"_blank\">numeral format</a> for the \"percent\" format'\n    },\n    'format:currency:defaultPattern': {\n      type: 'string',\n      value: '($0,0.[00])',\n      description: 'Default <a href=\"http://numeraljs.com/\" target=\"_blank\">numeral format</a> for the \"currency\" format'\n    },\n    'savedObjects:perPage': {\n      type: 'number',\n      value: 5,\n      description: 'Number of objects to show per page in the load dialog'\n    },\n    'timepicker:timeDefaults': {\n      type: 'json',\n      value:\n`{\n  \"from\": \"now-15m\",\n  \"to\": \"now\",\n  \"mode\": \"quick\"\n}`,\n      description: 'The timefilter selection to use when Kibana is started without one'\n    },\n    'timepicker:refreshIntervalDefaults': {\n      type: 'json',\n      value:\n`{\n  \"display\": \"Off\",\n  \"pause\": false,\n  \"value\": 0\n}`,\n      description: 'The timefilter\\'s default refresh interval'\n    },\n    'dashboard:defaultDarkTheme': {\n      value: false,\n      description: 'New dashboards use dark theme by default'\n    },\n    'filters:pinnedByDefault': {\n      value: false,\n      description: 'Whether the filters should have a global state (be pinned) by default'\n    },\n    'notifications:banner': {\n      type: 'markdown',\n      description: 'A custom banner intended for temporary notices to all users. <a href=\"https://help.github.com/articles/basic-writing-and-formatting-syntax/\" target=\"_blank\">Markdown supported</a>.',\n      value: ''\n    },\n    'notifications:lifetime:banner': {\n      value: 3000000,\n      description: 'The time in milliseconds which a banner notification ' +\n      'will be displayed on-screen for. Setting to Infinity will disable.'\n    },\n    'notifications:lifetime:error': {\n      value: 300000,\n      description: 'The time in milliseconds which an error notification ' +\n      'will be displayed on-screen for. Setting to Infinity will disable.'\n    },\n    'notifications:lifetime:warning': {\n      value: 10000,\n      description: 'The time in milliseconds which a warning notification ' +\n        'will be displayed on-screen for. Setting to Infinity will disable.'\n    },\n    'notifications:lifetime:info': {\n      value: 5000,\n      description: 'The time in milliseconds which an information notification ' +\n        'will be displayed on-screen for. Setting to Infinity will disable.'\n    },\n    // Timelion stuff\n    'timelion:showTutorial': {\n      value: false,\n      description: 'Should I show the tutorial by default when entering the timelion app?'\n    },\n    'timelion:es.timefield': {\n      value: '@timestamp',\n      description: 'Default field containing a timestamp when using .es()'\n    },\n    'timelion:es.default_index': {\n      value: '_all',\n      description: 'Default elasticsearch index to search with .es()'\n    },\n    'timelion:target_buckets': {\n      value: 200,\n      description: 'The number of buckets to shoot for when using auto intervals'\n    },\n    'timelion:max_buckets': {\n      value: 2000,\n      description: 'The maximum number of buckets a single datasource can return'\n    },\n    'timelion:default_columns': {\n      value: 2,\n      description: 'Number of columns on a timelion sheet by default'\n    },\n    'timelion:default_rows': {\n      value: 2,\n      description: 'Number of rows on a timelion sheet by default'\n    },\n    'timelion:graphite.url': {\n      value: 'https://www.hostedgraphite.com/UID/ACCESS_KEY/graphite',\n      description: '<em>[experimental]</em> The URL of your graphite host'\n    },\n    'timelion:quandl.key': {\n      value: 'someKeyHere',\n      description: '<em>[experimental]</em> Your API key from www.quandl.com'\n    },\n    'state:storeInSessionStorage': {\n      value: false,\n      description: 'The URL can sometimes grow to be too large for some browsers to ' +\n        'handle. To counter-act this we are testing if storing parts of the URL in ' +\n        'sessions storage could help. Please let us know how it goes!'\n    },\n    'indexPattern:placeholder': {\n      value: 'logstash-*',\n      description: 'The placeholder for the field \"Index name or pattern\" in the \"Settings > Indices\" tab.',\n    }\n  };\n}\n"
      ]
    },
    "mtime": 1499984634000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/optimize/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./fs_optimizer",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "FsOptimizer"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _fs_optimizer = require('./fs_optimizer');\n\nvar _fs_optimizer2 = _interopRequireDefault(_fs_optimizer);\n\nmodule.exports = _asyncToGenerator(function* (kbnServer, server, config) {\n  if (!config.get('optimize.enabled')) return;\n\n  // the lazy optimizer sets up two threads, one is the server listening\n  // on 5601 and the other is a server listening on 5602 that builds the\n  // bundles in a \"middleware\" style.\n  //\n  // the server listening on 5601 may be restarted a number of times, depending\n  // on the watch setup managed by the cli. It proxies all bundles/* requests to\n  // the other server. The server on 5602 is long running, in order to prevent\n  // complete rebuilds of the optimize content.\n  var lazy = config.get('optimize.lazy');\n  if (lazy) {\n    return yield kbnServer.mixin(require('./lazy/lazy'));\n  }\n\n  var bundles = kbnServer.bundles;\n  server.exposeStaticDir('/bundles/{path*}', bundles.env.workingDir);\n  yield bundles.writeEntryFiles();\n\n  // in prod, only bundle when someing is missing or invalid\n  var invalidBundles = config.get('optimize.useBundleCache') ? (yield bundles.getInvalidBundles()) : bundles;\n\n  // we might not have any work to do\n  if (!invalidBundles.getIds().length) {\n    server.log(['debug', 'optimize'], 'All bundles are cached and ready to go!');\n    return;\n  }\n\n  // only require the FsOptimizer when we need to\n  var optimizer = new _fs_optimizer2['default']({\n    env: bundles.env,\n    bundles: bundles,\n    profile: config.get('optimize.profile'),\n    urlBasePath: config.get('server.basePath'),\n    sourceMaps: config.get('optimize.sourceMaps'),\n    unsafeCache: config.get('optimize.unsafeCache')\n  });\n\n  server.log(['info', 'optimize'], 'Optimizing and caching ' + bundles.desc() + '. This may take a few minutes');\n\n  var start = Date.now();\n  yield optimizer.run();\n  var seconds = ((Date.now() - start) / 1000).toFixed(2);\n\n  server.log(['info', 'optimize'], 'Optimization of ' + bundles.desc() + ' complete in ' + seconds + ' seconds');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7NEJBQXdCLGdCQUFnQjs7OztBQUN4QyxNQUFNLENBQUMsT0FBTyxxQkFBRyxXQUFPLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFLO0FBQ3BELE1BQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLEVBQUUsT0FBTzs7Ozs7Ozs7OztBQVU1QyxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ3pDLE1BQUksSUFBSSxFQUFFO0FBQ1IsV0FBTyxNQUFNLFNBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7R0FDdEQ7O0FBRUQsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQztBQUNsQyxRQUFNLENBQUMsZUFBZSxDQUFDLGtCQUFrQixFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDbkUsUUFBTSxPQUFPLENBQUMsZUFBZSxFQUFFLENBQUM7OztBQUdoQyxNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLElBQUcsTUFBTSxPQUFPLENBQUMsaUJBQWlCLEVBQUUsQ0FBQSxHQUFHLE9BQU8sQ0FBQzs7O0FBRzNHLE1BQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUMsTUFBTSxFQUFFO0FBQ25DLFVBQU0sQ0FBQyxHQUFHLENBQ1IsQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLDRDQUV0QixDQUFDO0FBQ0YsV0FBTztHQUNSOzs7QUFHRCxNQUFNLFNBQVMsR0FBRyw4QkFBZ0I7QUFDaEMsT0FBRyxFQUFFLE9BQU8sQ0FBQyxHQUFHO0FBQ2hCLFdBQU8sRUFBRSxPQUFPO0FBQ2hCLFdBQU8sRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDO0FBQ3ZDLGVBQVcsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDO0FBQzFDLGNBQVUsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDO0FBQzdDLGVBQVcsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDO0dBQ2hELENBQUMsQ0FBQzs7QUFFSCxRQUFNLENBQUMsR0FBRyxDQUNSLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyw4QkFDTSxPQUFPLENBQUMsSUFBSSxFQUFFLG1DQUN6QyxDQUFDOztBQUVGLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUN6QixRQUFNLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUN0QixNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQUssQ0FBQSxHQUFJLElBQUksQ0FBQSxDQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFekQsUUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsdUJBQXFCLE9BQU8sQ0FBQyxJQUFJLEVBQUUscUJBQWdCLE9BQU8sY0FBVyxDQUFDO0NBQ3RHLENBQUEsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvb3B0aW1pemUvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRnNPcHRpbWl6ZXIgZnJvbSAnLi9mc19vcHRpbWl6ZXInO1xubW9kdWxlLmV4cG9ydHMgPSBhc3luYyAoa2JuU2VydmVyLCBzZXJ2ZXIsIGNvbmZpZykgPT4ge1xuICBpZiAoIWNvbmZpZy5nZXQoJ29wdGltaXplLmVuYWJsZWQnKSkgcmV0dXJuO1xuXG4gIC8vIHRoZSBsYXp5IG9wdGltaXplciBzZXRzIHVwIHR3byB0aHJlYWRzLCBvbmUgaXMgdGhlIHNlcnZlciBsaXN0ZW5pbmdcbiAgLy8gb24gNTYwMSBhbmQgdGhlIG90aGVyIGlzIGEgc2VydmVyIGxpc3RlbmluZyBvbiA1NjAyIHRoYXQgYnVpbGRzIHRoZVxuICAvLyBidW5kbGVzIGluIGEgXCJtaWRkbGV3YXJlXCIgc3R5bGUuXG4gIC8vXG4gIC8vIHRoZSBzZXJ2ZXIgbGlzdGVuaW5nIG9uIDU2MDEgbWF5IGJlIHJlc3RhcnRlZCBhIG51bWJlciBvZiB0aW1lcywgZGVwZW5kaW5nXG4gIC8vIG9uIHRoZSB3YXRjaCBzZXR1cCBtYW5hZ2VkIGJ5IHRoZSBjbGkuIEl0IHByb3hpZXMgYWxsIGJ1bmRsZXMvKiByZXF1ZXN0cyB0b1xuICAvLyB0aGUgb3RoZXIgc2VydmVyLiBUaGUgc2VydmVyIG9uIDU2MDIgaXMgbG9uZyBydW5uaW5nLCBpbiBvcmRlciB0byBwcmV2ZW50XG4gIC8vIGNvbXBsZXRlIHJlYnVpbGRzIG9mIHRoZSBvcHRpbWl6ZSBjb250ZW50LlxuICBjb25zdCBsYXp5ID0gY29uZmlnLmdldCgnb3B0aW1pemUubGF6eScpO1xuICBpZiAobGF6eSkge1xuICAgIHJldHVybiBhd2FpdCBrYm5TZXJ2ZXIubWl4aW4ocmVxdWlyZSgnLi9sYXp5L2xhenknKSk7XG4gIH1cblxuICBjb25zdCBidW5kbGVzID0ga2JuU2VydmVyLmJ1bmRsZXM7XG4gIHNlcnZlci5leHBvc2VTdGF0aWNEaXIoJy9idW5kbGVzL3twYXRoKn0nLCBidW5kbGVzLmVudi53b3JraW5nRGlyKTtcbiAgYXdhaXQgYnVuZGxlcy53cml0ZUVudHJ5RmlsZXMoKTtcblxuICAvLyBpbiBwcm9kLCBvbmx5IGJ1bmRsZSB3aGVuIHNvbWVpbmcgaXMgbWlzc2luZyBvciBpbnZhbGlkXG4gIGNvbnN0IGludmFsaWRCdW5kbGVzID0gY29uZmlnLmdldCgnb3B0aW1pemUudXNlQnVuZGxlQ2FjaGUnKSA/IGF3YWl0IGJ1bmRsZXMuZ2V0SW52YWxpZEJ1bmRsZXMoKSA6IGJ1bmRsZXM7XG5cbiAgLy8gd2UgbWlnaHQgbm90IGhhdmUgYW55IHdvcmsgdG8gZG9cbiAgaWYgKCFpbnZhbGlkQnVuZGxlcy5nZXRJZHMoKS5sZW5ndGgpIHtcbiAgICBzZXJ2ZXIubG9nKFxuICAgICAgWydkZWJ1ZycsICdvcHRpbWl6ZSddLFxuICAgICAgYEFsbCBidW5kbGVzIGFyZSBjYWNoZWQgYW5kIHJlYWR5IHRvIGdvIWBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIG9ubHkgcmVxdWlyZSB0aGUgRnNPcHRpbWl6ZXIgd2hlbiB3ZSBuZWVkIHRvXG4gIGNvbnN0IG9wdGltaXplciA9IG5ldyBGc09wdGltaXplcih7XG4gICAgZW52OiBidW5kbGVzLmVudixcbiAgICBidW5kbGVzOiBidW5kbGVzLFxuICAgIHByb2ZpbGU6IGNvbmZpZy5nZXQoJ29wdGltaXplLnByb2ZpbGUnKSxcbiAgICB1cmxCYXNlUGF0aDogY29uZmlnLmdldCgnc2VydmVyLmJhc2VQYXRoJyksXG4gICAgc291cmNlTWFwczogY29uZmlnLmdldCgnb3B0aW1pemUuc291cmNlTWFwcycpLFxuICAgIHVuc2FmZUNhY2hlOiBjb25maWcuZ2V0KCdvcHRpbWl6ZS51bnNhZmVDYWNoZScpLFxuICB9KTtcblxuICBzZXJ2ZXIubG9nKFxuICAgIFsnaW5mbycsICdvcHRpbWl6ZSddLFxuICAgIGBPcHRpbWl6aW5nIGFuZCBjYWNoaW5nICR7YnVuZGxlcy5kZXNjKCl9LiBUaGlzIG1heSB0YWtlIGEgZmV3IG1pbnV0ZXNgXG4gICk7XG5cbiAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICBhd2FpdCBvcHRpbWl6ZXIucnVuKCk7XG4gIGNvbnN0IHNlY29uZHMgPSAoKERhdGUubm93KCkgLSBzdGFydCkgLyAxMDAwKS50b0ZpeGVkKDIpO1xuXG4gIHNlcnZlci5sb2coWydpbmZvJywgJ29wdGltaXplJ10sIGBPcHRpbWl6YXRpb24gb2YgJHtidW5kbGVzLmRlc2MoKX0gY29tcGxldGUgaW4gJHtzZWNvbmRzfSBzZWNvbmRzYCk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/optimize/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;4BAAwB,gBAAgB;;;;AACxC,MAAM,CAAC,OAAO,qBAAG,WAAO,SAAS,EAAE,MAAM,EAAE,MAAM,EAAK;AACpD,MAAI,CAAC,MAAM,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,OAAO;;;;;;;;;;AAU5C,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AACzC,MAAI,IAAI,EAAE;AACR,WAAO,MAAM,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;GACtD;;AAED,MAAM,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;AAClC,QAAM,CAAC,eAAe,CAAC,kBAAkB,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AACnE,QAAM,OAAO,CAAC,eAAe,EAAE,CAAC;;;AAGhC,MAAM,cAAc,GAAG,MAAM,CAAC,GAAG,CAAC,yBAAyB,CAAC,IAAG,MAAM,OAAO,CAAC,iBAAiB,EAAE,CAAA,GAAG,OAAO,CAAC;;;AAG3G,MAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE;AACnC,UAAM,CAAC,GAAG,CACR,CAAC,OAAO,EAAE,UAAU,CAAC,4CAEtB,CAAC;AACF,WAAO;GACR;;;AAGD,MAAM,SAAS,GAAG,8BAAgB;AAChC,OAAG,EAAE,OAAO,CAAC,GAAG;AAChB,WAAO,EAAE,OAAO;AAChB,WAAO,EAAE,MAAM,CAAC,GAAG,CAAC,kBAAkB,CAAC;AACvC,eAAW,EAAE,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC;AAC1C,cAAU,EAAE,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC;AAC7C,eAAW,EAAE,MAAM,CAAC,GAAG,CAAC,sBAAsB,CAAC;GAChD,CAAC,CAAC;;AAEH,QAAM,CAAC,GAAG,CACR,CAAC,MAAM,EAAE,UAAU,CAAC,8BACM,OAAO,CAAC,IAAI,EAAE,mCACzC,CAAC;;AAEF,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;AACzB,QAAM,SAAS,CAAC,GAAG,EAAE,CAAC;AACtB,MAAM,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CAAA,GAAI,IAAI,CAAA,CAAE,OAAO,CAAC,CAAC,CAAC,CAAC;;AAEzD,QAAM,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,UAAU,CAAC,uBAAqB,OAAO,CAAC,IAAI,EAAE,qBAAgB,OAAO,cAAW,CAAC;CACtG,CAAA,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/optimize/index.js",
      "sourcesContent": [
        "import FsOptimizer from './fs_optimizer';\nmodule.exports = async (kbnServer, server, config) => {\n  if (!config.get('optimize.enabled')) return;\n\n  // the lazy optimizer sets up two threads, one is the server listening\n  // on 5601 and the other is a server listening on 5602 that builds the\n  // bundles in a \"middleware\" style.\n  //\n  // the server listening on 5601 may be restarted a number of times, depending\n  // on the watch setup managed by the cli. It proxies all bundles/* requests to\n  // the other server. The server on 5602 is long running, in order to prevent\n  // complete rebuilds of the optimize content.\n  const lazy = config.get('optimize.lazy');\n  if (lazy) {\n    return await kbnServer.mixin(require('./lazy/lazy'));\n  }\n\n  const bundles = kbnServer.bundles;\n  server.exposeStaticDir('/bundles/{path*}', bundles.env.workingDir);\n  await bundles.writeEntryFiles();\n\n  // in prod, only bundle when someing is missing or invalid\n  const invalidBundles = config.get('optimize.useBundleCache') ? await bundles.getInvalidBundles() : bundles;\n\n  // we might not have any work to do\n  if (!invalidBundles.getIds().length) {\n    server.log(\n      ['debug', 'optimize'],\n      `All bundles are cached and ready to go!`\n    );\n    return;\n  }\n\n  // only require the FsOptimizer when we need to\n  const optimizer = new FsOptimizer({\n    env: bundles.env,\n    bundles: bundles,\n    profile: config.get('optimize.profile'),\n    urlBasePath: config.get('server.basePath'),\n    sourceMaps: config.get('optimize.sourceMaps'),\n    unsafeCache: config.get('optimize.unsafeCache'),\n  });\n\n  server.log(\n    ['info', 'optimize'],\n    `Optimizing and caching ${bundles.desc()}. This may take a few minutes`\n  );\n\n  const start = Date.now();\n  await optimizer.run();\n  const seconds = ((Date.now() - start) / 1000).toFixed(2);\n\n  server.log(['info', 'optimize'], `Optimization of ${bundles.desc()} complete in ${seconds} seconds`);\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/optimize/fs_optimizer.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./base_optimizer",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "BaseOptimizer"
              }
            ]
          },
          {
            "source": "../utils/from_root",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fromRoot"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "writeFile"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "writeFile",
                "local": "writeFile"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _base_optimizer = require('./base_optimizer');\n\nvar _base_optimizer2 = _interopRequireDefault(_base_optimizer);\n\nvar _utilsFrom_root = require('../utils/from_root');\n\nvar _utilsFrom_root2 = _interopRequireDefault(_utilsFrom_root);\n\nvar _bluebird = require('bluebird');\n\nvar _fs = require('fs');\n\nmodule.exports = (function (_BaseOptimizer) {\n  _inherits(FsOptimizer, _BaseOptimizer);\n\n  function FsOptimizer() {\n    _classCallCheck(this, FsOptimizer);\n\n    _get(Object.getPrototypeOf(FsOptimizer.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(FsOptimizer, [{\n    key: 'init',\n    value: _asyncToGenerator(function* () {\n      yield this.initCompiler();\n    })\n  }, {\n    key: 'run',\n    value: _asyncToGenerator(function* () {\n      var _this = this;\n\n      if (!this.compiler) yield this.init();\n\n      var stats = yield (0, _bluebird.fromNode)(function (cb) {\n        _this.compiler.run(function (err, stats) {\n          if (err || !stats) return cb(err);\n\n          if (stats.hasErrors() || stats.hasWarnings()) {\n            return cb(_this.failedStatsToError(stats));\n          } else {\n            cb(null, stats);\n          }\n        });\n      });\n    })\n  }]);\n\n  return FsOptimizer;\n})(_base_optimizer2['default']);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9mc19vcHRpbWl6ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OEJBQzBCLGtCQUFrQjs7Ozs4QkFDdkIsb0JBQW9COzs7O3dCQUNoQixVQUFVOztrQkFDVCxJQUFJOztBQUU5QixNQUFNLENBQUMsT0FBTztZQUFTLFdBQVc7O1dBQVgsV0FBVzswQkFBWCxXQUFXOzsrQkFBWCxXQUFXOzs7ZUFBWCxXQUFXOzs2QkFDdEIsYUFBRztBQUNYLFlBQU0sSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0tBQzNCOzs7NkJBRVEsYUFBRzs7O0FBQ1YsVUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsTUFBTSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7O0FBRXRDLFVBQU0sS0FBSyxHQUFHLE1BQU0sd0JBQVMsVUFBQSxFQUFFLEVBQUk7QUFDakMsY0FBSyxRQUFRLENBQUMsR0FBRyxDQUFDLFVBQUMsR0FBRyxFQUFFLEtBQUssRUFBSztBQUNoQyxjQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQzs7QUFFbEMsY0FBSSxLQUFLLENBQUMsU0FBUyxFQUFFLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRSxFQUFFO0FBQzVDLG1CQUFPLEVBQUUsQ0FBQyxNQUFLLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7V0FDM0MsTUFDSTtBQUNILGNBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7V0FDakI7U0FDRixDQUFDLENBQUM7T0FDSixDQUFDLENBQUM7S0FDSjs7O1NBcEJvQixXQUFXOytCQXFCakMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvb3B0aW1pemUvZnNfb3B0aW1pemVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgQmFzZU9wdGltaXplciBmcm9tICcuL2Jhc2Vfb3B0aW1pemVyJztcbmltcG9ydCBmcm9tUm9vdCBmcm9tICcuLi91dGlscy9mcm9tX3Jvb3QnO1xuaW1wb3J0IHsgZnJvbU5vZGUgfSBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgeyB3cml0ZUZpbGUgfSBmcm9tICdmcyc7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgRnNPcHRpbWl6ZXIgZXh0ZW5kcyBCYXNlT3B0aW1pemVyIHtcbiAgYXN5bmMgaW5pdCgpIHtcbiAgICBhd2FpdCB0aGlzLmluaXRDb21waWxlcigpO1xuICB9XG5cbiAgYXN5bmMgcnVuKCkge1xuICAgIGlmICghdGhpcy5jb21waWxlcikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICBjb25zdCBzdGF0cyA9IGF3YWl0IGZyb21Ob2RlKGNiID0+IHtcbiAgICAgIHRoaXMuY29tcGlsZXIucnVuKChlcnIsIHN0YXRzKSA9PiB7XG4gICAgICAgIGlmIChlcnIgfHwgIXN0YXRzKSByZXR1cm4gY2IoZXJyKTtcblxuICAgICAgICBpZiAoc3RhdHMuaGFzRXJyb3JzKCkgfHwgc3RhdHMuaGFzV2FybmluZ3MoKSkge1xuICAgICAgICAgIHJldHVybiBjYih0aGlzLmZhaWxlZFN0YXRzVG9FcnJvcihzdGF0cykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNiKG51bGwsIHN0YXRzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/optimize/fs_optimizer.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;8BAC0B,kBAAkB;;;;8BACvB,oBAAoB;;;;wBAChB,UAAU;;kBACT,IAAI;;AAE9B,MAAM,CAAC,OAAO;YAAS,WAAW;;WAAX,WAAW;0BAAX,WAAW;;+BAAX,WAAW;;;eAAX,WAAW;;6BACtB,aAAG;AACX,YAAM,IAAI,CAAC,YAAY,EAAE,CAAC;KAC3B;;;6BAEQ,aAAG;;;AACV,UAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;;AAEtC,UAAM,KAAK,GAAG,MAAM,wBAAS,UAAA,EAAE,EAAI;AACjC,cAAK,QAAQ,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,KAAK,EAAK;AAChC,cAAI,GAAG,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC;;AAElC,cAAI,KAAK,CAAC,SAAS,EAAE,IAAI,KAAK,CAAC,WAAW,EAAE,EAAE;AAC5C,mBAAO,EAAE,CAAC,MAAK,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC;WAC3C,MACI;AACH,cAAE,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;WACjB;SACF,CAAC,CAAC;OACJ,CAAC,CAAC;KACJ;;;SApBoB,WAAW;+BAqBjC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/optimize/fs_optimizer.js",
      "sourcesContent": [
        "\nimport BaseOptimizer from './base_optimizer';\nimport fromRoot from '../utils/from_root';\nimport { fromNode } from 'bluebird';\nimport { writeFile } from 'fs';\n\nmodule.exports = class FsOptimizer extends BaseOptimizer {\n  async init() {\n    await this.initCompiler();\n  }\n\n  async run() {\n    if (!this.compiler) await this.init();\n\n    const stats = await fromNode(cb => {\n      this.compiler.run((err, stats) => {\n        if (err || !stats) return cb(err);\n\n        if (stats.hasErrors() || stats.hasWarnings()) {\n          return cb(this.failedStatsToError(stats));\n        }\n        else {\n          cb(null, stats);\n        }\n      });\n    });\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/optimize/base_optimizer.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "path",
            "imported": [
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "writeFile"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "writeFile",
                "local": "writeFile"
              }
            ]
          },
          {
            "source": "webpack",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "webpack"
              }
            ]
          },
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          },
          {
            "source": "@elastic/webpack-directory-name-as-main",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "DirectoryNameAsMain"
              }
            ]
          },
          {
            "source": "extract-text-webpack-plugin",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ExtractTextPlugin"
              }
            ]
          },
          {
            "source": "webpack/lib/optimize/CommonsChunkPlugin",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "CommonsChunkPlugin"
              }
            ]
          },
          {
            "source": "webpack/lib/DefinePlugin",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "DefinePlugin"
              }
            ]
          },
          {
            "source": "webpack/lib/optimize/UglifyJsPlugin",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "UglifyJsPlugin"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "defaults",
              "transform"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "defaults",
                "local": "defaults"
              },
              {
                "kind": "named",
                "imported": "transform",
                "local": "transform"
              }
            ]
          },
          {
            "source": "../utils/from_root",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fromRoot"
              }
            ]
          },
          {
            "source": "./babel_options",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "babelOptions"
              }
            ]
          },
          {
            "source": "../../package.json",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "pkg"
              }
            ]
          },
          {
            "source": "./loaders",
            "imported": [
              "setLoaderQueryParam",
              "makeLoaderString"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "setLoaderQueryParam",
                "local": "setLoaderQueryParam"
              },
              {
                "kind": "named",
                "imported": "makeLoaderString",
                "local": "makeLoaderString"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "async-to-generator",
        "to-consumable-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _path = require('path');\n\nvar _fs = require('fs');\n\nvar _webpack = require('webpack');\n\nvar _webpack2 = _interopRequireDefault(_webpack);\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nvar _elasticWebpackDirectoryNameAsMain = require('@elastic/webpack-directory-name-as-main');\n\nvar _elasticWebpackDirectoryNameAsMain2 = _interopRequireDefault(_elasticWebpackDirectoryNameAsMain);\n\nvar _extractTextWebpackPlugin = require('extract-text-webpack-plugin');\n\nvar _extractTextWebpackPlugin2 = _interopRequireDefault(_extractTextWebpackPlugin);\n\nvar _webpackLibOptimizeCommonsChunkPlugin = require('webpack/lib/optimize/CommonsChunkPlugin');\n\nvar _webpackLibOptimizeCommonsChunkPlugin2 = _interopRequireDefault(_webpackLibOptimizeCommonsChunkPlugin);\n\nvar _webpackLibDefinePlugin = require('webpack/lib/DefinePlugin');\n\nvar _webpackLibDefinePlugin2 = _interopRequireDefault(_webpackLibDefinePlugin);\n\nvar _webpackLibOptimizeUglifyJsPlugin = require('webpack/lib/optimize/UglifyJsPlugin');\n\nvar _webpackLibOptimizeUglifyJsPlugin2 = _interopRequireDefault(_webpackLibOptimizeUglifyJsPlugin);\n\nvar _lodash = require('lodash');\n\nvar _utilsFrom_root = require('../utils/from_root');\n\nvar _utilsFrom_root2 = _interopRequireDefault(_utilsFrom_root);\n\nvar _babel_options = require('./babel_options');\n\nvar _babel_options2 = _interopRequireDefault(_babel_options);\n\nvar _packageJson = require('../../package.json');\n\nvar _packageJson2 = _interopRequireDefault(_packageJson);\n\nvar _loaders = require('./loaders');\n\nvar babelExclude = [/[\\/\\\\](webpackShims|node_modules|bower_components)[\\/\\\\]/];\n\nvar BaseOptimizer = (function () {\n  function BaseOptimizer(opts) {\n    _classCallCheck(this, BaseOptimizer);\n\n    this.env = opts.env;\n    this.urlBasePath = opts.urlBasePath;\n    this.bundles = opts.bundles;\n    this.profile = opts.profile || false;\n\n    switch (opts.sourceMaps) {\n      case true:\n        this.sourceMaps = 'source-map';\n        break;\n\n      case 'fast':\n        this.sourceMaps = 'cheap-module-eval-source-map';\n        break;\n\n      default:\n        this.sourceMaps = opts.sourceMaps || false;\n        break;\n    }\n\n    this.unsafeCache = opts.unsafeCache || false;\n    if (typeof this.unsafeCache === 'string') {\n      this.unsafeCache = [new RegExp(this.unsafeCache.slice(1, -1))];\n    }\n  }\n\n  _createClass(BaseOptimizer, [{\n    key: 'initCompiler',\n    value: _asyncToGenerator(function* () {\n      var _this = this;\n\n      if (this.compiler) return this.compiler;\n\n      var compilerConfig = this.getConfig();\n      this.compiler = (0, _webpack2['default'])(compilerConfig);\n\n      this.compiler.plugin('done', function (stats) {\n        if (!_this.profile) return;\n\n        var path = (0, _path.resolve)(_this.env.workingDir, 'stats.json');\n        var content = JSON.stringify(stats.toJson());\n        (0, _fs.writeFile)(path, content, function (err) {\n          if (err) throw err;\n        });\n      });\n\n      return this.compiler;\n    })\n  }, {\n    key: 'getConfig',\n    value: function getConfig() {\n      var _this2 = this;\n\n      var loaderWithSourceMaps = function loaderWithSourceMaps(loader) {\n        return (0, _loaders.setLoaderQueryParam)(loader, 'sourceMap', !!_this2.sourceMaps);\n      };\n\n      var makeStyleLoader = function makeStyleLoader(preprocessor) {\n        var loaders = [loaderWithSourceMaps('css-loader?autoprefixer=false'), {\n          name: 'postcss-loader',\n          query: {\n            config: require.resolve('./postcss.config')\n          }\n        }];\n\n        if (preprocessor) {\n          loaders = [].concat(_toConsumableArray(loaders), [loaderWithSourceMaps(preprocessor)]);\n        }\n\n        return _extractTextWebpackPlugin2['default'].extract((0, _loaders.makeLoaderString)(loaders));\n      };\n\n      return {\n        node: { fs: 'empty' },\n        context: (0, _utilsFrom_root2['default'])('.'),\n        entry: this.bundles.toWebpackEntries(),\n\n        devtool: this.sourceMaps,\n        profile: this.profile || false,\n\n        output: {\n          path: this.env.workingDir,\n          filename: '[name].bundle.js',\n          sourceMapFilename: '[file].map',\n          publicPath: (this.urlBasePath || '') + '/bundles/',\n          devtoolModuleFilenameTemplate: '[absolute-resource-path]'\n        },\n\n        recordsPath: (0, _path.resolve)(this.env.workingDir, 'webpack.records'),\n\n        plugins: [new _webpack2['default'].ResolverPlugin([new _elasticWebpackDirectoryNameAsMain2['default']()]), new _webpack2['default'].NoErrorsPlugin(), new _extractTextWebpackPlugin2['default']('[name].style.css', {\n          allChunks: true\n        }), new _webpackLibOptimizeCommonsChunkPlugin2['default']({\n          name: 'commons',\n          filename: 'commons.bundle.js'\n        })].concat(_toConsumableArray(this.pluginsForEnv(this.env.context.env))),\n\n        module: {\n          loaders: [{ test: /\\.less$/, loader: makeStyleLoader('less-loader') }, { test: /\\.css$/, loader: makeStyleLoader() }, { test: /\\.jade$/, loader: 'jade-loader' }, { test: /\\.json$/, loader: 'json-loader' }, { test: /\\.(html|tmpl)$/, loader: 'raw-loader' }, { test: /\\.png$/, loader: 'url-loader' }, { test: /\\.(woff|woff2|ttf|eot|svg|ico)(\\?|$)/, loader: 'file-loader' }, { test: /[\\/\\\\]src[\\/\\\\](core_plugins|ui)[\\/\\\\].+\\.js$/, loader: loaderWithSourceMaps('rjs-repack-loader') }, {\n            test: /\\.jsx?$/,\n            exclude: babelExclude.concat(this.env.noParse),\n            loader: (0, _loaders.makeLoaderString)([{\n              name: 'babel-loader',\n              query: _babel_options2['default'].webpack\n            }])\n          }],\n          postLoaders: this.env.postLoaders || [],\n          noParse: this.env.noParse\n        },\n\n        resolve: {\n          extensions: ['.js', '.json', '.jsx', '.less', ''],\n          postfixes: [''],\n          modulesDirectories: ['webpackShims', 'node_modules'],\n          fallback: [(0, _utilsFrom_root2['default'])('webpackShims'), (0, _utilsFrom_root2['default'])('node_modules')],\n          loaderPostfixes: ['-loader', ''],\n          root: (0, _utilsFrom_root2['default'])('.'),\n          alias: this.env.aliases,\n          unsafeCache: this.unsafeCache\n        },\n\n        resolveLoader: {\n          alias: (0, _lodash.transform)(_packageJson2['default'].dependencies, function (aliases, version, name) {\n            if (name.endsWith('-loader')) {\n              aliases[name] = require.resolve(name);\n            }\n          }, {})\n        }\n      };\n    }\n  }, {\n    key: 'pluginsForEnv',\n    value: function pluginsForEnv(env) {\n      if (env !== 'production') {\n        return [];\n      }\n\n      return [new _webpackLibDefinePlugin2['default']({\n        'process.env': {\n          'NODE_ENV': '\"production\"'\n        }\n      }), new _webpackLibOptimizeUglifyJsPlugin2['default']({\n        compress: {\n          warnings: false\n        },\n        sourceMap: false,\n        mangle: false\n      })];\n    }\n  }, {\n    key: 'failedStatsToError',\n    value: function failedStatsToError(stats) {\n      var statFormatOpts = {\n        hash: false, // add the hash of the compilation\n        version: false, // add webpack version information\n        timings: false, // add timing information\n        assets: false, // add assets information\n        chunks: false, // add chunk information\n        chunkModules: false, // add built modules information to chunk information\n        modules: false, // add built modules information\n        cached: false, // add also information about cached (not built) modules\n        reasons: false, // add information about the reasons why modules are included\n        source: false, // add the source code of modules\n        errorDetails: false, // add details to errors (like resolving log)\n        chunkOrigins: false, // add the origins of chunks and chunk merging info\n        modulesSort: false, // (string) sort the modules by that field\n        chunksSort: false, // (string) sort the chunks by that field\n        assetsSort: false, // (string) sort the assets by that field\n        children: false\n      };\n\n      var details = stats.toString((0, _lodash.defaults)({ colors: true }, statFormatOpts));\n\n      return _boom2['default'].create(500, 'Optimizations failure.\\n' + details.split('\\n').join('\\n    ') + '\\n', stats.toJson(statFormatOpts));\n    }\n  }]);\n\n  return BaseOptimizer;\n})();\n\nmodule.exports = BaseOptimizer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9iYXNlX29wdGltaXplci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7b0JBQXdCLE1BQU07O2tCQUNKLElBQUk7O3VCQUVWLFNBQVM7Ozs7b0JBQ1osTUFBTTs7OztpREFDUyx5Q0FBeUM7Ozs7d0NBQzNDLDZCQUE2Qjs7OztvREFDNUIseUNBQXlDOzs7O3NDQUMvQywwQkFBMEI7Ozs7Z0RBQ3hCLHFDQUFxQzs7OztzQkFDNUIsUUFBUTs7OEJBRXZCLG9CQUFvQjs7Ozs2QkFDaEIsaUJBQWlCOzs7OzJCQUMxQixvQkFBb0I7Ozs7dUJBQ2tCLFdBQVc7O0FBRWpFLElBQU0sWUFBWSxHQUFHLENBQUMsMERBQTBELENBQUMsQ0FBQzs7SUFFNUUsYUFBYTtBQUNOLFdBRFAsYUFBYSxDQUNMLElBQUksRUFBRTswQkFEZCxhQUFhOztBQUVmLFFBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztBQUNwQixRQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7QUFDcEMsUUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO0FBQzVCLFFBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUM7O0FBRXJDLFlBQVEsSUFBSSxDQUFDLFVBQVU7QUFDckIsV0FBSyxJQUFJO0FBQ1AsWUFBSSxDQUFDLFVBQVUsR0FBRyxZQUFZLENBQUM7QUFDL0IsY0FBTTs7QUFBQSxBQUVSLFdBQUssTUFBTTtBQUNULFlBQUksQ0FBQyxVQUFVLEdBQUcsOEJBQThCLENBQUM7QUFDakQsY0FBTTs7QUFBQSxBQUVSO0FBQ0UsWUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQztBQUMzQyxjQUFNO0FBQUEsS0FDVDs7QUFFRCxRQUFJLENBQUMsV0FBVyxHQUFHLElBQUks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LEVBQUUsS0FBSztTQUNoQjtBQUNELGlCQUFTLEVBQUUsS0FBSztBQUNoQixjQUFNLEVBQUUsS0FBSztPQUNkLENBQUMsQ0FDSCxDQUFDO0tBQ0g7OztXQUVpQiw0QkFBQyxLQUFLLEVBQUU7QUFDeEIsVUFBTSxjQUFjLEdBQUc7QUFDckIsWUFBSSxFQUFFLEtBQUs7QUFDWCxlQUFPLEVBQUUsS0FBSztBQUNkLGVBQU8sRUFBRSxLQUFLO0FBQ2QsY0FBTSxFQUFFLEtBQUs7QUFDYixjQUFNLEVBQUUsS0FBSztBQUNiLG9CQUFZLEVBQUUsS0FBSztBQUNuQixlQUFPLEVBQUUsS0FBSztBQUNkLGNBQU0sRUFBRSxLQUFLO0FBQ2IsZUFBTyxFQUFFLEtBQUs7QUFDZCxjQUFNLEVBQUUsS0FBSztBQUNiLG9CQUFZLEVBQUUsS0FBSztBQUNuQixvQkFBWSxFQUFFLEtBQUs7QUFDbkIsbUJBQVcsRUFBRSxLQUFLO0FBQ2xCLGtCQUFVLEVBQUUsS0FBSztBQUNqQixrQkFBVSxFQUFFLEtBQUs7QUFDakIsZ0JBQVEsRUFBRSxLQUFLO09BQ2hCLENBQUM7O0FBRUYsVUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxzQkFBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRSxjQUFjLENBQUMsQ0FBQyxDQUFDOztBQUUzRSxhQUFPLGtCQUFLLE1BQU0sQ0FDaEIsR0FBRywrQkFDd0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQzdELEtBQUssQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQzdCLENBQUM7S0FDSDs7O1NBeE1HLGFBQWE7OztBQTJNbkIsTUFBTSxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL29wdGltaXplL2Jhc2Vfb3B0aW1pemVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzb2x2ZSB9IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgd3JpdGVGaWxlIH0gZnJvbSAnZnMnO1xuXG5pbXBvcnQgd2VicGFjayBmcm9tICd3ZWJwYWNrJztcbmltcG9ydCBCb29tIGZyb20gJ2Jvb20nO1xuaW1wb3J0IERpcmVjdG9yeU5hbWVBc01haW4gZnJvbSAnQGVsYXN0aWMvd2VicGFjay1kaXJlY3RvcnktbmFtZS1hcy1tYWluJztcbmltcG9ydCBFeHRyYWN0VGV4dFBsdWdpbiBmcm9tICdleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW4nO1xuaW1wb3J0IENvbW1vbnNDaHVua1BsdWdpbiBmcm9tICd3ZWJwYWNrL2xpYi9vcHRpbWl6ZS9Db21tb25zQ2h1bmtQbHVnaW4nO1xuaW1wb3J0IERlZmluZVBsdWdpbiBmcm9tICd3ZWJwYWNrL2xpYi9EZWZpbmVQbHVnaW4nO1xuaW1wb3J0IFVnbGlmeUpzUGx1Z2luIGZyb20gJ3dlYnBhY2svbGliL29wdGltaXplL1VnbGlmeUpzUGx1Z2luJztcbmltcG9ydCB7IGRlZmF1bHRzLCB0cmFuc2Zvcm0gfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgZnJvbVJvb3QgZnJvbSAnLi4vdXRpbHMvZnJvbV9yb290JztcbmltcG9ydCBiYWJlbE9wdGlvbnMgZnJvbSAnLi9iYWJlbF9vcHRpb25zJztcbmltcG9ydCBwa2cgZnJvbSAnLi4vLi4vcGFja2FnZS5qc29uJztcbmltcG9ydCB7IHNldExvYWRlclF1ZXJ5UGFyYW0sIG1ha2VMb2FkZXJTdHJpbmcgfSBmcm9tICcuL2xvYWRlcnMnO1xuXG5jb25zdCBiYWJlbEV4Y2x1ZGUgPSBbL1tcXC9cXFxcXSh3ZWJwYWNrU2hpbXN8bm9kZV9tb2R1bGVzfGJvd2VyX2NvbXBvbmVudHMpW1xcL1xcXFxdL107XG5cbmNsYXNzIEJhc2VPcHRpbWl6ZXIge1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgdGhpcy5lbnYgPSBvcHRzLmVudjtcbiAgICB0aGlzLnVybEJhc2VQYXRoID0gb3B0cy51cmxCYXNlUGF0aDtcbiAgICB0aGlzLmJ1bmRsZXMgPSBvcHRzLmJ1bmRsZXM7XG4gICAgdGhpcy5wcm9maWxlID0gb3B0cy5wcm9maWxlIHx8IGZhbHNlO1xuXG4gICAgc3dpdGNoIChvcHRzLnNvdXJjZU1hcHMpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgdGhpcy5zb3VyY2VNYXBzID0gJ3NvdXJjZS1tYXAnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZmFzdCc6XG4gICAgICAgIHRoaXMuc291cmNlTWFwcyA9ICdjaGVhcC1tb2R1bGUtZXZhbC1zb3VyY2UtbWFwJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuc291cmNlTWFwcyA9IG9wdHMuc291cmNlTWFwcyB8fCBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy51bnNhZmVDYWNoZSA9IG9wdHMudW5zYWZlQ2FjaGUgfHwgZmFsc2U7XG4gICAgaWYgKHR5cGVvZiB0aGlzLnVuc2FmZUNhY2hlID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy51bnNhZmVDYWNoZSA9IFtcbiAgICAgICAgbmV3IFJlZ0V4cCh0aGlzLnVuc2FmZUNhY2hlLnNsaWNlKDEsIC0xKSlcbiAgICAgIF07XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaW5pdENvbXBpbGVyKCkge1xuICAgIGlmICh0aGlzLmNvbXBpbGVyKSByZXR1cm4gdGhpcy5jb21waWxlcjtcblxuICAgIGNvbnN0IGNvbXBpbGVyQ29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcbiAgICB0aGlzLmNvbXBpbGVyID0gd2VicGFjayhjb21waWxlckNvbmZpZyk7XG5cbiAgICB0aGlzLmNvbXBpbGVyLnBsdWdpbignZG9uZScsIHN0YXRzID0+IHtcbiAgICAgIGlmICghdGhpcy5wcm9maWxlKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHBhdGggPSByZXNvbHZlKHRoaXMuZW52LndvcmtpbmdEaXIsICdzdGF0cy5qc29uJyk7XG4gICAgICBjb25zdCBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoc3RhdHMudG9Kc29uKCkpO1xuICAgICAgd3JpdGVGaWxlKHBhdGgsIGNvbnRlbnQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5jb21waWxlcjtcbiAgfVxuXG4gIGdldENvbmZpZygpIHtcbiAgICBjb25zdCBsb2FkZXJXaXRoU291cmNlTWFwcyA9IChsb2FkZXIpID0+XG4gICAgICBzZXRMb2FkZXJRdWVyeVBhcmFtKGxvYWRlciwgJ3NvdXJjZU1hcCcsICEhdGhpcy5zb3VyY2VNYXBzKTtcblxuICAgIGNvbnN0IG1ha2VTdHlsZUxvYWRlciA9IHByZXByb2Nlc3NvciA9PiB7XG4gICAgICBsZXQgbG9hZGVycyA9IFtcbiAgICAgICAgbG9hZGVyV2l0aFNvdXJjZU1hcHMoJ2Nzcy1sb2FkZXI/YXV0b3ByZWZpeGVyPWZhbHNlJyksXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiAncG9zdGNzcy1sb2FkZXInLFxuICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICBjb25maWc6IHJlcXVpcmUucmVzb2x2ZSgnLi9wb3N0Y3NzLmNvbmZpZycpXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgaWYgKHByZXByb2Nlc3Nvcikge1xuICAgICAgICBsb2FkZXJzID0gW1xuICAgICAgICAgIC4uLmxvYWRlcnMsXG4gICAgICAgICAgbG9hZGVyV2l0aFNvdXJjZU1hcHMocHJlcHJvY2Vzc29yKVxuICAgICAgICBdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gRXh0cmFjdFRleHRQbHVnaW4uZXh0cmFjdChtYWtlTG9hZGVyU3RyaW5nKGxvYWRlcnMpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGU6IHsgZnM6ICdlbXB0eScgfSxcbiAgICAgIGNvbnRleHQ6IGZyb21Sb290KCcuJyksXG4gICAgICBlbnRyeTogdGhpcy5idW5kbGVzLnRvV2VicGFja0VudHJpZXMoKSxcblxuICAgICAgZGV2dG9vbDogdGhpcy5zb3VyY2VNYXBzLFxuICAgICAgcHJvZmlsZTogdGhpcy5wcm9maWxlIHx8IGZhbHNlLFxuXG4gICAgICBvdXRwdXQ6IHtcbiAgICAgICAgcGF0aDogdGhpcy5lbnYud29ya2luZ0RpcixcbiAgICAgICAgZmlsZW5hbWU6ICdbbmFtZV0uYnVuZGxlLmpzJyxcbiAgICAgICAgc291cmNlTWFwRmlsZW5hbWU6ICdbZmlsZV0ubWFwJyxcbiAgICAgICAgcHVibGljUGF0aDogYCR7dGhpcy51cmxCYXNlUGF0aCB8fCAnJ30vYnVuZGxlcy9gLFxuICAgICAgICBkZXZ0b29sTW9kdWxlRmlsZW5hbWVUZW1wbGF0ZTogJ1thYnNvbHV0ZS1yZXNvdXJjZS1wYXRoXSdcbiAgICAgIH0sXG5cbiAgICAgIHJlY29yZHNQYXRoOiByZXNvbHZlKHRoaXMuZW52LndvcmtpbmdEaXIsICd3ZWJwYWNrLnJlY29yZHMnKSxcblxuICAgICAgcGx1Z2luczogW1xuICAgICAgICBuZXcgd2VicGFjay5SZXNvbHZlclBsdWdpbihbXG4gICAgICAgICAgbmV3IERpcmVjdG9yeU5hbWVBc01haW4oKVxuICAgICAgICBdKSxcbiAgICAgICAgbmV3IHdlYnBhY2suTm9FcnJvcnNQbHVnaW4oKSxcbiAgICAgICAgbmV3IEV4dHJhY3RUZXh0UGx1Z2luKCdbbmFtZV0uc3R5bGUuY3NzJywge1xuICAgICAgICAgIGFsbENodW5rczogdHJ1ZVxuICAgICAgICB9KSxcbiAgICAgICAgbmV3IENvbW1vbnNDaHVua1BsdWdpbih7XG4gICAgICAgICAgbmFtZTogJ2NvbW1vbnMnLFxuICAgICAgICAgIGZpbGVuYW1lOiAnY29tbW9ucy5idW5kbGUuanMnXG4gICAgICAgIH0pLFxuICAgICAgICAuLi50aGlzLnBsdWdpbnNGb3JFbnYodGhpcy5lbnYuY29udGV4dC5lbnYpXG4gICAgICBdLFxuXG4gICAgICBtb2R1bGU6IHtcbiAgICAgICAgbG9hZGVyczogW1xuICAgICAgICAgIHsgdGVzdDogL1xcLmxlc3MkLywgbG9hZGVyOiBtYWtlU3R5bGVMb2FkZXIoJ2xlc3MtbG9hZGVyJykgfSxcbiAgICAgICAgICB7IHRlc3Q6IC9cXC5jc3MkLywgbG9hZGVyOiBtYWtlU3R5bGVMb2FkZXIoKSB9LFxuICAgICAgICAgIHsgdGVzdDogL1xcLmphZGUkLywgbG9hZGVyOiAnamFkZS1sb2FkZXInIH0sXG4gICAgICAgICAgeyB0ZXN0OiAvXFwuanNvbiQvLCBsb2FkZXI6ICdqc29uLWxvYWRlcicgfSxcbiAgICAgICAgICB7IHRlc3Q6IC9cXC4oaHRtbHx0bXBsKSQvLCBsb2FkZXI6ICdyYXctbG9hZGVyJyB9LFxuICAgICAgICAgIHsgdGVzdDogL1xcLnBuZyQvLCBsb2FkZXI6ICd1cmwtbG9hZGVyJyB9LFxuICAgICAgICAgIHsgdGVzdDogL1xcLih3b2ZmfHdvZmYyfHR0Znxlb3R8c3ZnfGljbykoXFw/fCQpLywgbG9hZGVyOiAnZmlsZS1sb2FkZXInIH0sXG4gICAgICAgICAgeyB0ZXN0OiAvW1xcL1xcXFxdc3JjW1xcL1xcXFxdKGNvcmVfcGx1Z2luc3x1aSlbXFwvXFxcXF0uK1xcLmpzJC8sIGxvYWRlcjogbG9hZGVyV2l0aFNvdXJjZU1hcHMoJ3Jqcy1yZXBhY2stbG9hZGVyJykgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXN0OiAvXFwuanN4PyQvLFxuICAgICAgICAgICAgZXhjbHVkZTogYmFiZWxFeGNsdWRlLmNvbmNhdCh0aGlzLmVudi5ub1BhcnNlKSxcbiAgICAgICAgICAgIGxvYWRlcjogbWFrZUxvYWRlclN0cmluZyhbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnYmFiZWwtbG9hZGVyJyxcbiAgICAgICAgICAgICAgICBxdWVyeTogYmFiZWxPcHRpb25zLndlYnBhY2tcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgcG9zdExvYWRlcnM6IHRoaXMuZW52LnBvc3RMb2FkZXJzIHx8IFtdLFxuICAgICAgICBub1BhcnNlOiB0aGlzLmVudi5ub1BhcnNlLFxuICAgICAgfSxcblxuICAgICAgcmVzb2x2ZToge1xuICAgICAgICBleHRlbnNpb25zOiBbJy5qcycsICcuanNvbicsICcuanN4JywgJy5sZXNzJywgJyddLFxuICAgICAgICBwb3N0Zml4ZXM6IFsnJ10sXG4gICAgICAgIG1vZHVsZXNEaXJlY3RvcmllczogWyd3ZWJwYWNrU2hpbXMnLCAnbm9kZV9tb2R1bGVzJ10sXG4gICAgICAgIGZhbGxiYWNrOiBbZnJvbVJvb3QoJ3dlYnBhY2tTaGltcycpLCBmcm9tUm9vdCgnbm9kZV9tb2R1bGVzJyldLFxuICAgICAgICBsb2FkZXJQb3N0Zml4ZXM6IFsnLWxvYWRlcicsICcnXSxcbiAgICAgICAgcm9vdDogZnJvbVJvb3QoJy4nKSxcbiAgICAgICAgYWxpYXM6IHRoaXMuZW52LmFsaWFzZXMsXG4gICAgICAgIHVuc2FmZUNhY2hlOiB0aGlzLnVuc2FmZUNhY2hlLFxuICAgICAgfSxcblxuICAgICAgcmVzb2x2ZUxvYWRlcjoge1xuICAgICAgICBhbGlhczogdHJhbnNmb3JtKHBrZy5kZXBlbmRlbmNpZXMsIGZ1bmN0aW9uIChhbGlhc2VzLCB2ZXJzaW9uLCBuYW1lKSB7XG4gICAgICAgICAgaWYgKG5hbWUuZW5kc1dpdGgoJy1sb2FkZXInKSkge1xuICAgICAgICAgICAgYWxpYXNlc1tuYW1lXSA9IHJlcXVpcmUucmVzb2x2ZShuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHt9KVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBwbHVnaW5zRm9yRW52KGVudikge1xuICAgIGlmIChlbnYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICBuZXcgRGVmaW5lUGx1Z2luKHtcbiAgICAgICAgJ3Byb2Nlc3MuZW52Jzoge1xuICAgICAgICAgICdOT0RFX0VOVic6ICdcInByb2R1Y3Rpb25cIidcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBuZXcgVWdsaWZ5SnNQbHVnaW4oe1xuICAgICAgICBjb21wcmVzczoge1xuICAgICAgICAgIHdhcm5pbmdzOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBzb3VyY2VNYXA6IGZhbHNlLFxuICAgICAgICBtYW5nbGU6IGZhbHNlXG4gICAgICB9KSxcbiAgICBdO1xuICB9XG5cbiAgZmFpbGVkU3RhdHNUb0Vycm9yKHN0YXRzKSB7XG4gICAgY29uc3Qgc3RhdEZvcm1hdE9wdHMgPSB7XG4gICAgICBoYXNoOiBmYWxzZSwgIC8vIGFkZCB0aGUgaGFzaCBvZiB0aGUgY29tcGlsYXRpb25cbiAgICAgIHZlcnNpb246IGZhbHNlLCAgLy8gYWRkIHdlYnBhY2sgdmVyc2lvbiBpbmZvcm1hdGlvblxuICAgICAgdGltaW5nczogZmFsc2UsICAvLyBhZGQgdGltaW5nIGluZm9ybWF0aW9uXG4gICAgICBhc3NldHM6IGZhbHNlLCAgLy8gYWRkIGFzc2V0cyBpbmZvcm1hdGlvblxuICAgICAgY2h1bmtzOiBmYWxzZSwgIC8vIGFkZCBjaHVuayBpbmZvcm1hdGlvblxuICAgICAgY2h1bmtNb2R1bGVzOiBmYWxzZSwgIC8vIGFkZCBidWlsdCBtb2R1bGVzIGluZm9ybWF0aW9uIHRvIGNodW5rIGluZm9ybWF0aW9uXG4gICAgICBtb2R1bGVzOiBmYWxzZSwgIC8vIGFkZCBidWlsdCBtb2R1bGVzIGluZm9ybWF0aW9uXG4gICAgICBjYWNoZWQ6IGZhbHNlLCAgLy8gYWRkIGFsc28gaW5mb3JtYXRpb24gYWJvdXQgY2FjaGVkIChub3QgYnVpbHQpIG1vZHVsZXNcbiAgICAgIHJlYXNvbnM6IGZhbHNlLCAgLy8gYWRkIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZWFzb25zIHdoeSBtb2R1bGVzIGFyZSBpbmNsdWRlZFxuICAgICAgc291cmNlOiBmYWxzZSwgIC8vIGFkZCB0aGUgc291cmNlIGNvZGUgb2YgbW9kdWxlc1xuICAgICAgZXJyb3JEZXRhaWxzOiBmYWxzZSwgIC8vIGFkZCBkZXRhaWxzIHRvIGVycm9ycyAobGlrZSByZXNvbHZpbmcgbG9nKVxuICAgICAgY2h1bmtPcmlnaW5zOiBmYWxzZSwgIC8vIGFkZCB0aGUgb3JpZ2lucyBvZiBjaHVua3MgYW5kIGNodW5rIG1lcmdpbmcgaW5mb1xuICAgICAgbW9kdWxlc1NvcnQ6IGZhbHNlLCAgLy8gKHN0cmluZykgc29ydCB0aGUgbW9kdWxlcyBieSB0aGF0IGZpZWxkXG4gICAgICBjaHVua3NTb3J0OiBmYWxzZSwgIC8vIChzdHJpbmcpIHNvcnQgdGhlIGNodW5rcyBieSB0aGF0IGZpZWxkXG4gICAgICBhc3NldHNTb3J0OiBmYWxzZSwgIC8vIChzdHJpbmcpIHNvcnQgdGhlIGFzc2V0cyBieSB0aGF0IGZpZWxkXG4gICAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgfTtcblxuICAgIGNvbnN0IGRldGFpbHMgPSBzdGF0cy50b1N0cmluZyhkZWZhdWx0cyh7IGNvbG9yczogdHJ1ZSB9LCBzdGF0Rm9ybWF0T3B0cykpO1xuXG4gICAgcmV0dXJuIEJvb20uY3JlYXRlKFxuICAgICAgNTAwLFxuICAgICAgYE9wdGltaXphdGlvbnMgZmFpbHVyZS5cXG4ke2RldGFpbHMuc3BsaXQoJ1xcbicpLmpvaW4oJ1xcbiAgICAnKX1cXG5gLFxuICAgICAgc3RhdHMudG9Kc29uKHN0YXRGb3JtYXRPcHRzKVxuICAgICk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCYXNlT3B0aW1pemVyO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/optimize/base_optimizer.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;oBAAwB,MAAM;;kBACJ,IAAI;;uBAEV,SAAS;;;;oBACZ,MAAM;;;;iDACS,yCAAyC;;;;wCAC3C,6BAA6B;;;;oDAC5B,yCAAyC;;;;sCAC/C,0BAA0B;;;;gDACxB,qCAAqC;;;;sBAC5B,QAAQ;;8BAEvB,oBAAoB;;;;6BAChB,iBAAiB;;;;2BAC1B,oBAAoB;;;;uBACkB,WAAW;;AAEjE,IAAM,YAAY,GAAG,CAAC,0DAA0D,CAAC,CAAC;;IAE5E,aAAa;AACN,WADP,aAAa,CACL,IAAI,EAAE;0BADd,aAAa;;AAEf,QAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AACpB,QAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;AACpC,QAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AAC5B,QAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,KAAK,CAAC;;AAErC,YAAQ,IAAI,CAAC,UAAU;AACrB,WAAK,IAAI;AACP,YAAI,CAAC,UAAU,GAAG,YAAY,CAAC;AAC/B,cAAM;;AAAA,AAER,WAAK,MAAM;AACT,YAAI,CAAC,UAAU,GAAG,8BAA8B,CAAC;AACjD,cAAM;;AAAA,AAER;AACE,YAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,KAAK,CAAC;AAC3C,cAAM;AAAA,KACT;;AAED,QAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,KAAK,CAAC;AAC7C,QAAI,OAAO,IAAI,CAAC,WAAW,KAAK,QAAQ,EAAE;AACxC,UAAI,CAAC,WAAW,GAAG,CACjB,IAAI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAC1C,CAAC;KACH;GACF;;eA3BG,aAAa;;6BA6BC,aAAG;;;AACnB,UAAI,IAAI,CAAC,QAAQ,EAAE,OAAO,IAAI,CAAC,QAAQ,CAAC;;AAExC,UAAM,cAAc,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;AACxC,UAAI,CAAC,QAAQ,GAAG,0BAAQ,cAAc,CAAC,CAAC;;AAExC,UAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,UAAA,KAAK,EAAI;AACpC,YAAI,CAAC,MAAK,OAAO,EAAE,OAAO;;AAE1B,YAAM,IAAI,GAAG,mBAAQ,MAAK,GAAG,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;AACxD,YAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;AAC/C,2BAAU,IAAI,EAAE,OAAO,EAAE,UAAU,GAAG,EAAE;AACtC,cAAI,GAAG,EAAE,MAAM,GAAG,CAAC;SACpB,CAAC,CAAC;OACJ,CAAC,CAAC;;AAEH,aAAO,IAAI,CAAC,QAAQ,CAAC;KACtB;;;WAEQ,qBAAG;;;AACV,UAAM,oBAAoB,GAAG,SAAvB,oBAAoB,CAAI,MAAM;eAClC,kCAAoB,MAAM,EAAE,WAAW,EAAE,CAAC,CAAC,OAAK,UAAU,CAAC;OAAA,CAAC;;AAE9D,UAAM,eAAe,GAAG,SAAlB,eAAe,CAAG,YAAY,EAAI;AACtC,YAAI,OAAO,GAAG,CACZ,oBAAoB,CAAC,+BAA+B,CAAC,EACrD;AACE,cAAI,EAAE,gBAAgB;AACtB,eAAK,EAAE;AACL,kBAAM,EAAE,OAAO,CAAC,OAAO,CAAC,kBAAkB,CAAC;WAC5C;SACF,CACF,CAAC;;AAEF,YAAI,YAAY,EAAE;AAChB,iBAAO,gCACF,OAAO,IACV,oBAAoB,CAAC,YAAY,CAAC,EACnC,CAAC;SACH;;AAED,eAAO,sCAAkB,OAAO,CAAC,+BAAiB,OAAO,CAAC,CAAC,CAAC;OAC7D,CAAC;;AAEF,aAAO;AACL,YAAI,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE;AACrB,eAAO,EAAE,iCAAS,GAAG,CAAC;AACtB,aAAK,EAAE,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE;;AAEtC,eAAO,EAAE,IAAI,CAAC,UAAU;AACxB,eAAO,EAAE,IAAI,CAAC,OAAO,IAAI,KAAK;;AAE9B,cAAM,EAAE;AACN,cAAI,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU;AACzB,kBAAQ,EAAE,kBAAkB;AAC5B,2BAAiB,EAAE,YAAY;AAC/B,oBAAU,GAAK,IAAI,CAAC,WAAW,IAAI,EAAE,CAAA,cAAW;AAChD,uCAA6B,EAAE,0BAA0B;SAC1D;;AAED,mBAAW,EAAE,mBAAQ,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,iBAAiB,CAAC;;AAE5D,eAAO,GACL,IAAI,qBAAQ,cAAc,CAAC,CACzB,oDAAyB,CAC1B,CAAC,EACF,IAAI,qBAAQ,cAAc,EAAE,EAC5B,0CAAsB,kBAAkB,EAAE;AACxC,mBAAS,EAAE,IAAI;SAChB,CAAC,EACF,sDAAuB;AACrB,cAAI,EAAE,SAAS;AACf,kBAAQ,EAAE,mBAAmB;SAC9B,CAAC,4BACC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,EAC5C;;AAED,cAAM,EAAE;AACN,iBAAO,EAAE,CACP,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,eAAe,CAAC,aAAa,CAAC,EAAE,EAC3D,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,eAAe,EAAE,EAAE,EAC7C,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,aAAa,EAAE,EAC1C,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,aAAa,EAAE,EAC1C,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,EAAE,YAAY,EAAE,EAChD,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,YAAY,EAAE,EACxC,EAAE,IAAI,EAAE,sCAAsC,EAAE,MAAM,EAAE,aAAa,EAAE,EACvE,EAAE,IAAI,EAAE,+CAA+C,EAAE,MAAM,EAAE,oBAAoB,CAAC,mBAAmB,CAAC,EAAE,EAC5G;AACE,gBAAI,EAAE,SAAS;AACf,mBAAO,EAAE,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC;AAC9C,kBAAM,EAAE,+BAAiB,CACvB;AACE,kBAAI,EAAE,cAAc;AACpB,mBAAK,EAAE,2BAAa,OAAO;aAC5B,CACF,CAAC;WACH,CACF;AACD,qBAAW,EAAE,IAAI,CAAC,GAAG,CAAC,WAAW,IAAI,EAAE;AACvC,iBAAO,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO;SAC1B;;AAED,eAAO,EAAE;AACP,oBAAU,EAAE,CAAC,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,CAAC;AACjD,mBAAS,EAAE,CAAC,EAAE,CAAC;AACf,4BAAkB,EAAE,CAAC,cAAc,EAAE,cAAc,CAAC;AACpD,kBAAQ,EAAE,CAAC,iCAAS,cAAc,CAAC,EAAE,iCAAS,cAAc,CAAC,CAAC;AAC9D,yBAAe,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC;AAChC,cAAI,EAAE,iCAAS,GAAG,CAAC;AACnB,eAAK,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO;AACvB,qBAAW,EAAE,IAAI,CAAC,WAAW;SAC9B;;AAED,qBAAa,EAAE;AACb,eAAK,EAAE,uBAAU,yBAAI,YAAY,EAAE,UAAU,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE;AACnE,gBAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;AAC5B,qBAAO,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aACvC;WACF,EAAE,EAAE,CAAC;SACP;OACF,CAAC;KACH;;;WAEY,uBAAC,GAAG,EAAE;AACjB,UAAI,GAAG,KAAK,YAAY,EAAE;AACxB,eAAO,EAAE,CAAC;OACX;;AAED,aAAO,CACL,wCAAiB;AACf,qBAAa,EAAE;AACb,oBAAU,EAAE,cAAc;SAC3B;OACF,CAAC,EACF,kDAAmB;AACjB,gBAAQ,EAAE;AACR,kBAAQ,EAAE,KAAK;SAChB;AACD,iBAAS,EAAE,KAAK;AAChB,cAAM,EAAE,KAAK;OACd,CAAC,CACH,CAAC;KACH;;;WAEiB,4BAAC,KAAK,EAAE;AACxB,UAAM,cAAc,GAAG;AACrB,YAAI,EAAE,KAAK;AACX,eAAO,EAAE,KAAK;AACd,eAAO,EAAE,KAAK;AACd,cAAM,EAAE,KAAK;AACb,cAAM,EAAE,KAAK;AACb,oBAAY,EAAE,KAAK;AACnB,eAAO,EAAE,KAAK;AACd,cAAM,EAAE,KAAK;AACb,eAAO,EAAE,KAAK;AACd,cAAM,EAAE,KAAK;AACb,oBAAY,EAAE,KAAK;AACnB,oBAAY,EAAE,KAAK;AACnB,mBAAW,EAAE,KAAK;AAClB,kBAAU,EAAE,KAAK;AACjB,kBAAU,EAAE,KAAK;AACjB,gBAAQ,EAAE,KAAK;OAChB,CAAC;;AAEF,UAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC,sBAAS,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,cAAc,CAAC,CAAC,CAAC;;AAE3E,aAAO,kBAAK,MAAM,CAChB,GAAG,+BACwB,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,SAC7D,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,CAC7B,CAAC;KACH;;;SAxMG,aAAa;;;AA2MnB,MAAM,CAAC,OAAO,GAAG,aAAa,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/optimize/base_optimizer.js",
      "sourcesContent": [
        "import { resolve } from 'path';\nimport { writeFile } from 'fs';\n\nimport webpack from 'webpack';\nimport Boom from 'boom';\nimport DirectoryNameAsMain from '@elastic/webpack-directory-name-as-main';\nimport ExtractTextPlugin from 'extract-text-webpack-plugin';\nimport CommonsChunkPlugin from 'webpack/lib/optimize/CommonsChunkPlugin';\nimport DefinePlugin from 'webpack/lib/DefinePlugin';\nimport UglifyJsPlugin from 'webpack/lib/optimize/UglifyJsPlugin';\nimport { defaults, transform } from 'lodash';\n\nimport fromRoot from '../utils/from_root';\nimport babelOptions from './babel_options';\nimport pkg from '../../package.json';\nimport { setLoaderQueryParam, makeLoaderString } from './loaders';\n\nconst babelExclude = [/[\\/\\\\](webpackShims|node_modules|bower_components)[\\/\\\\]/];\n\nclass BaseOptimizer {\n  constructor(opts) {\n    this.env = opts.env;\n    this.urlBasePath = opts.urlBasePath;\n    this.bundles = opts.bundles;\n    this.profile = opts.profile || false;\n\n    switch (opts.sourceMaps) {\n      case true:\n        this.sourceMaps = 'source-map';\n        break;\n\n      case 'fast':\n        this.sourceMaps = 'cheap-module-eval-source-map';\n        break;\n\n      default:\n        this.sourceMaps = opts.sourceMaps || false;\n        break;\n    }\n\n    this.unsafeCache = opts.unsafeCache || false;\n    if (typeof this.unsafeCache === 'string') {\n      this.unsafeCache = [\n        new RegExp(this.unsafeCache.slice(1, -1))\n      ];\n    }\n  }\n\n  async initCompiler() {\n    if (this.compiler) return this.compiler;\n\n    const compilerConfig = this.getConfig();\n    this.compiler = webpack(compilerConfig);\n\n    this.compiler.plugin('done', stats => {\n      if (!this.profile) return;\n\n      const path = resolve(this.env.workingDir, 'stats.json');\n      const content = JSON.stringify(stats.toJson());\n      writeFile(path, content, function (err) {\n        if (err) throw err;\n      });\n    });\n\n    return this.compiler;\n  }\n\n  getConfig() {\n    const loaderWithSourceMaps = (loader) =>\n      setLoaderQueryParam(loader, 'sourceMap', !!this.sourceMaps);\n\n    const makeStyleLoader = preprocessor => {\n      let loaders = [\n        loaderWithSourceMaps('css-loader?autoprefixer=false'),\n        {\n          name: 'postcss-loader',\n          query: {\n            config: require.resolve('./postcss.config')\n          }\n        },\n      ];\n\n      if (preprocessor) {\n        loaders = [\n          ...loaders,\n          loaderWithSourceMaps(preprocessor)\n        ];\n      }\n\n      return ExtractTextPlugin.extract(makeLoaderString(loaders));\n    };\n\n    return {\n      node: { fs: 'empty' },\n      context: fromRoot('.'),\n      entry: this.bundles.toWebpackEntries(),\n\n      devtool: this.sourceMaps,\n      profile: this.profile || false,\n\n      output: {\n        path: this.env.workingDir,\n        filename: '[name].bundle.js',\n        sourceMapFilename: '[file].map',\n        publicPath: `${this.urlBasePath || ''}/bundles/`,\n        devtoolModuleFilenameTemplate: '[absolute-resource-path]'\n      },\n\n      recordsPath: resolve(this.env.workingDir, 'webpack.records'),\n\n      plugins: [\n        new webpack.ResolverPlugin([\n          new DirectoryNameAsMain()\n        ]),\n        new webpack.NoErrorsPlugin(),\n        new ExtractTextPlugin('[name].style.css', {\n          allChunks: true\n        }),\n        new CommonsChunkPlugin({\n          name: 'commons',\n          filename: 'commons.bundle.js'\n        }),\n        ...this.pluginsForEnv(this.env.context.env)\n      ],\n\n      module: {\n        loaders: [\n          { test: /\\.less$/, loader: makeStyleLoader('less-loader') },\n          { test: /\\.css$/, loader: makeStyleLoader() },\n          { test: /\\.jade$/, loader: 'jade-loader' },\n          { test: /\\.json$/, loader: 'json-loader' },\n          { test: /\\.(html|tmpl)$/, loader: 'raw-loader' },\n          { test: /\\.png$/, loader: 'url-loader' },\n          { test: /\\.(woff|woff2|ttf|eot|svg|ico)(\\?|$)/, loader: 'file-loader' },\n          { test: /[\\/\\\\]src[\\/\\\\](core_plugins|ui)[\\/\\\\].+\\.js$/, loader: loaderWithSourceMaps('rjs-repack-loader') },\n          {\n            test: /\\.jsx?$/,\n            exclude: babelExclude.concat(this.env.noParse),\n            loader: makeLoaderString([\n              {\n                name: 'babel-loader',\n                query: babelOptions.webpack\n              }\n            ]),\n          },\n        ],\n        postLoaders: this.env.postLoaders || [],\n        noParse: this.env.noParse,\n      },\n\n      resolve: {\n        extensions: ['.js', '.json', '.jsx', '.less', ''],\n        postfixes: [''],\n        modulesDirectories: ['webpackShims', 'node_modules'],\n        fallback: [fromRoot('webpackShims'), fromRoot('node_modules')],\n        loaderPostfixes: ['-loader', ''],\n        root: fromRoot('.'),\n        alias: this.env.aliases,\n        unsafeCache: this.unsafeCache,\n      },\n\n      resolveLoader: {\n        alias: transform(pkg.dependencies, function (aliases, version, name) {\n          if (name.endsWith('-loader')) {\n            aliases[name] = require.resolve(name);\n          }\n        }, {})\n      }\n    };\n  }\n\n  pluginsForEnv(env) {\n    if (env !== 'production') {\n      return [];\n    }\n\n    return [\n      new DefinePlugin({\n        'process.env': {\n          'NODE_ENV': '\"production\"'\n        }\n      }),\n      new UglifyJsPlugin({\n        compress: {\n          warnings: false\n        },\n        sourceMap: false,\n        mangle: false\n      }),\n    ];\n  }\n\n  failedStatsToError(stats) {\n    const statFormatOpts = {\n      hash: false,  // add the hash of the compilation\n      version: false,  // add webpack version information\n      timings: false,  // add timing information\n      assets: false,  // add assets information\n      chunks: false,  // add chunk information\n      chunkModules: false,  // add built modules information to chunk information\n      modules: false,  // add built modules information\n      cached: false,  // add also information about cached (not built) modules\n      reasons: false,  // add information about the reasons why modules are included\n      source: false,  // add the source code of modules\n      errorDetails: false,  // add details to errors (like resolving log)\n      chunkOrigins: false,  // add the origins of chunks and chunk merging info\n      modulesSort: false,  // (string) sort the modules by that field\n      chunksSort: false,  // (string) sort the chunks by that field\n      assetsSort: false,  // (string) sort the assets by that field\n      children: false,\n    };\n\n    const details = stats.toString(defaults({ colors: true }, statFormatOpts));\n\n    return Boom.create(\n      500,\n      `Optimizations failure.\\n${details.split('\\n').join('\\n    ')}\\n`,\n      stats.toJson(statFormatOpts)\n    );\n  }\n}\n\nmodule.exports = BaseOptimizer;\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/optimize/loaders.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "url",
            "imported": [
              "parse",
              "format"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "parse",
                "local": "parseUrl"
              },
              {
                "kind": "named",
                "imported": "format",
                "local": "formatUrl"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "makeLoaderString",
            "setLoaderQueryParam"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "makeLoaderString",
              "exported": "makeLoaderString"
            },
            {
              "kind": "local",
              "local": "setLoaderQueryParam",
              "exported": "setLoaderQueryParam"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _url = require('url');\n\nvar Loader = (function () {\n  function Loader() {\n    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var name = _ref.name;\n    var query = _ref.query;\n\n    _classCallCheck(this, Loader);\n\n    if (!name) {\n      throw new Error('Loaders must define a name');\n    }\n\n    this.name = name;\n    this.query = query || {};\n  }\n\n  _createClass(Loader, [{\n    key: 'toString',\n    value: function toString() {\n      return (0, _url.format)({\n        pathname: this.name,\n        query: this.query\n      });\n    }\n  }, {\n    key: 'setQueryParam',\n    value: function setQueryParam(name, value) {\n      this.query[name] = value;\n      return this;\n    }\n  }], [{\n    key: 'fromUrl',\n    value: function fromUrl(url) {\n      var parsed = (0, _url.parse)(url, true);\n      return new Loader({\n        name: parsed.pathname,\n        query: parsed.query\n      });\n    }\n  }]);\n\n  return Loader;\n})();\n\nfunction parseLoader(spec) {\n  if (typeof spec === 'string') {\n    return Loader.fromUrl(spec);\n  }\n\n  return new Loader(spec);\n}\n\nvar makeLoaderString = function makeLoaderString(loaders) {\n  return loaders.map(parseLoader).map(function (l) {\n    return l.toString();\n  }).join('!');\n};\n\nexports.makeLoaderString = makeLoaderString;\nvar setLoaderQueryParam = function setLoaderQueryParam(loader, name, value) {\n  return parseLoader(loader).setQueryParam(name, value).toString();\n};\nexports.setLoaderQueryParam = setLoaderQueryParam;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9sb2FkZXJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7bUJBQXVELEtBQUs7O0lBRXRELE1BQU07QUFDQyxXQURQLE1BQU0sR0FDd0I7cUVBQUosRUFBRTs7UUFBbEIsSUFBSSxRQUFKLElBQUk7UUFBRSxLQUFLLFFBQUwsS0FBSzs7MEJBRHJCLE1BQU07O0FBRVIsUUFBSSxDQUFDLElBQUksRUFBRTtBQUNULFlBQU0sSUFBSSxLQUFLLENBQUMsNEJBQTRCLENBQUMsQ0FBQztLQUMvQzs7QUFFRCxRQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztBQUNqQixRQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUM7R0FDMUI7O2VBUkcsTUFBTTs7V0FrQkYsb0JBQUc7QUFDVCxhQUFPLGlCQUFVO0FBQ2YsZ0JBQVEsRUFBRSxJQUFJLENBQUMsSUFBSTtBQUNuQixhQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7T0FDbEIsQ0FBQyxDQUFDO0tBQ0o7OztXQUVZLHVCQUFDLElBQUksRUFBRSxLQUFLLEVBQUU7QUFDekIsVUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDekIsYUFBTyxJQUFJLENBQUM7S0FDYjs7O1dBbEJhLGlCQUFDLEdBQUcsRUFBRTtBQUNsQixVQUFNLE1BQU0sR0FBRyxnQkFBUyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDbkMsYUFBTyxJQUFJLE1BQU0sQ0FBQztBQUNoQixZQUFJLEVBQUUsTUFBTSxDQUFDLFFBQVE7QUFDckIsYUFBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLO09BQ3BCLENBQUMsQ0FBQztLQUNKOzs7U0FoQkcsTUFBTTs7O0FBK0JaLFNBQVMsV0FBVyxDQUFDLElBQUksRUFBRTtBQUN6QixNQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtBQUM1QixXQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDN0I7O0FBRUQsU0FBTyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUN6Qjs7QUFFTSxJQUFNLGdCQUFnQixHQUFHLFNBQW5CLGdCQUFnQixDQUFJLE9BQU8sRUFBSztBQUMzQyxTQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQUEsQ0FBQztXQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUU7R0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0NBQ2xFLENBQUM7OztBQUVLLElBQU0sbUJBQW1CLEdBQUcsU0FBdEIsbUJBQW1CLENBQUksTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUs7QUFDMUQsU0FBTyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztDQUNsRSxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9sb2FkZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2UgYXMgcGFyc2VVcmwsIGZvcm1hdCBhcyBmb3JtYXRVcmwgfSBmcm9tICd1cmwnO1xuXG5jbGFzcyBMb2FkZXIge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIHF1ZXJ5IH0gPSB7fSkge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2FkZXJzIG11c3QgZGVmaW5lIGEgbmFtZScpO1xuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5xdWVyeSA9IHF1ZXJ5IHx8IHt9O1xuICB9XG5cbiAgc3RhdGljIGZyb21VcmwodXJsKSB7XG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VVcmwodXJsLCB0cnVlKTtcbiAgICByZXR1cm4gbmV3IExvYWRlcih7XG4gICAgICBuYW1lOiBwYXJzZWQucGF0aG5hbWUsXG4gICAgICBxdWVyeTogcGFyc2VkLnF1ZXJ5XG4gICAgfSk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gZm9ybWF0VXJsKHtcbiAgICAgIHBhdGhuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBxdWVyeTogdGhpcy5xdWVyeVxuICAgIH0pO1xuICB9XG5cbiAgc2V0UXVlcnlQYXJhbShuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMucXVlcnlbbmFtZV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUxvYWRlcihzcGVjKSB7XG4gIGlmICh0eXBlb2Ygc3BlYyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gTG9hZGVyLmZyb21Vcmwoc3BlYyk7XG4gIH1cblxuICByZXR1cm4gbmV3IExvYWRlcihzcGVjKTtcbn1cblxuZXhwb3J0IGNvbnN0IG1ha2VMb2FkZXJTdHJpbmcgPSAobG9hZGVycykgPT4ge1xuICByZXR1cm4gbG9hZGVycy5tYXAocGFyc2VMb2FkZXIpLm1hcChsID0+IGwudG9TdHJpbmcoKSkuam9pbignIScpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldExvYWRlclF1ZXJ5UGFyYW0gPSAobG9hZGVyLCBuYW1lLCB2YWx1ZSkgPT4ge1xuICByZXR1cm4gcGFyc2VMb2FkZXIobG9hZGVyKS5zZXRRdWVyeVBhcmFtKG5hbWUsIHZhbHVlKS50b1N0cmluZygpO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/optimize/loaders.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;mBAAuD,KAAK;;IAEtD,MAAM;AACC,WADP,MAAM,GACwB;qEAAJ,EAAE;;QAAlB,IAAI,QAAJ,IAAI;QAAE,KAAK,QAAL,KAAK;;0BADrB,MAAM;;AAER,QAAI,CAAC,IAAI,EAAE;AACT,YAAM,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAC;KAC/C;;AAED,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,QAAI,CAAC,KAAK,GAAG,KAAK,IAAI,EAAE,CAAC;GAC1B;;eARG,MAAM;;WAkBF,oBAAG;AACT,aAAO,iBAAU;AACf,gBAAQ,EAAE,IAAI,CAAC,IAAI;AACnB,aAAK,EAAE,IAAI,CAAC,KAAK;OAClB,CAAC,CAAC;KACJ;;;WAEY,uBAAC,IAAI,EAAE,KAAK,EAAE;AACzB,UAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;AACzB,aAAO,IAAI,CAAC;KACb;;;WAlBa,iBAAC,GAAG,EAAE;AAClB,UAAM,MAAM,GAAG,gBAAS,GAAG,EAAE,IAAI,CAAC,CAAC;AACnC,aAAO,IAAI,MAAM,CAAC;AAChB,YAAI,EAAE,MAAM,CAAC,QAAQ;AACrB,aAAK,EAAE,MAAM,CAAC,KAAK;OACpB,CAAC,CAAC;KACJ;;;SAhBG,MAAM;;;AA+BZ,SAAS,WAAW,CAAC,IAAI,EAAE;AACzB,MAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AAC5B,WAAO,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;GAC7B;;AAED,SAAO,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;CACzB;;AAEM,IAAM,gBAAgB,GAAG,SAAnB,gBAAgB,CAAI,OAAO,EAAK;AAC3C,SAAO,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC;WAAI,CAAC,CAAC,QAAQ,EAAE;GAAA,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;CAClE,CAAC;;;AAEK,IAAM,mBAAmB,GAAG,SAAtB,mBAAmB,CAAI,MAAM,EAAE,IAAI,EAAE,KAAK,EAAK;AAC1D,SAAO,WAAW,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,QAAQ,EAAE,CAAC;CAClE,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/optimize/loaders.js",
      "sourcesContent": [
        "import { parse as parseUrl, format as formatUrl } from 'url';\n\nclass Loader {\n  constructor({ name, query } = {}) {\n    if (!name) {\n      throw new Error('Loaders must define a name');\n    }\n\n    this.name = name;\n    this.query = query || {};\n  }\n\n  static fromUrl(url) {\n    const parsed = parseUrl(url, true);\n    return new Loader({\n      name: parsed.pathname,\n      query: parsed.query\n    });\n  }\n\n  toString() {\n    return formatUrl({\n      pathname: this.name,\n      query: this.query\n    });\n  }\n\n  setQueryParam(name, value) {\n    this.query[name] = value;\n    return this;\n  }\n}\n\nfunction parseLoader(spec) {\n  if (typeof spec === 'string') {\n    return Loader.fromUrl(spec);\n  }\n\n  return new Loader(spec);\n}\n\nexport const makeLoaderString = (loaders) => {\n  return loaders.map(parseLoader).map(l => l.toString()).join('!');\n};\n\nexport const setLoaderQueryParam = (loader, name, value) => {\n  return parseLoader(loader).setQueryParam(name, value).toString();\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/plugins/initialize.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./plugin_init",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "pluginInit"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _plugin_init = require('./plugin_init');\n\nvar _plugin_init2 = _interopRequireDefault(_plugin_init);\n\nmodule.exports = _asyncToGenerator(function* (kbnServer, server, config) {\n\n  if (!config.get('plugins.initialize')) {\n    server.log(['info'], 'Plugin initialization disabled.');\n    return [];\n  }\n\n  var plugins = kbnServer.plugins;\n\n  // extend plugin apis with additional context\n  plugins.getPluginApis().forEach(function (api) {\n\n    Object.defineProperty(api, 'uiExports', {\n      value: kbnServer.uiExports\n    });\n  });\n\n  yield (0, _plugin_init2['default'])(plugins);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9pbml0aWFsaXplLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OzsyQkFBdUIsZUFBZTs7OztBQUV0QyxNQUFNLENBQUMsT0FBTyxxQkFBRyxXQUFnQixTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRTs7QUFFMUQsTUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsRUFBRTtBQUNyQyxVQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsaUNBQWlDLENBQUMsQ0FBQztBQUN4RCxXQUFPLEVBQUUsQ0FBQztHQUNYOztNQUVPLE9BQU8sR0FBSyxTQUFTLENBQXJCLE9BQU87OztBQUdmLFNBQU8sQ0FBQyxhQUFhLEVBQUUsQ0FBQyxPQUFPLENBQUMsVUFBQSxHQUFHLEVBQUk7O0FBRXJDLFVBQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLFdBQVcsRUFBRTtBQUN0QyxXQUFLLEVBQUUsU0FBUyxDQUFDLFNBQVM7S0FDM0IsQ0FBQyxDQUFDO0dBRUosQ0FBQyxDQUFDOztBQUVILFFBQU0sOEJBQVcsT0FBTyxDQUFDLENBQUM7Q0FDM0IsQ0FBQSxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9pbml0aWFsaXplLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBsdWdpbkluaXQgZnJvbSAnLi9wbHVnaW5faW5pdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgZnVuY3Rpb24gKGtiblNlcnZlciwgc2VydmVyLCBjb25maWcpIHtcblxuICBpZiAoIWNvbmZpZy5nZXQoJ3BsdWdpbnMuaW5pdGlhbGl6ZScpKSB7XG4gICAgc2VydmVyLmxvZyhbJ2luZm8nXSwgJ1BsdWdpbiBpbml0aWFsaXphdGlvbiBkaXNhYmxlZC4nKTtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCB7IHBsdWdpbnMgfSA9IGtiblNlcnZlcjtcblxuICAvLyBleHRlbmQgcGx1Z2luIGFwaXMgd2l0aCBhZGRpdGlvbmFsIGNvbnRleHRcbiAgcGx1Z2lucy5nZXRQbHVnaW5BcGlzKCkuZm9yRWFjaChhcGkgPT4ge1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwaSwgJ3VpRXhwb3J0cycsIHtcbiAgICAgIHZhbHVlOiBrYm5TZXJ2ZXIudWlFeHBvcnRzXG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgYXdhaXQgcGx1Z2luSW5pdChwbHVnaW5zKTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/plugins/initialize.js"
      ],
      "names": [],
      "mappings": ";;;;;;2BAAuB,eAAe;;;;AAEtC,MAAM,CAAC,OAAO,qBAAG,WAAgB,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;;AAE1D,MAAI,CAAC,MAAM,CAAC,GAAG,CAAC,oBAAoB,CAAC,EAAE;AACrC,UAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,EAAE,iCAAiC,CAAC,CAAC;AACxD,WAAO,EAAE,CAAC;GACX;;MAEO,OAAO,GAAK,SAAS,CAArB,OAAO;;;AAGf,SAAO,CAAC,aAAa,EAAE,CAAC,OAAO,CAAC,UAAA,GAAG,EAAI;;AAErC,UAAM,CAAC,cAAc,CAAC,GAAG,EAAE,WAAW,EAAE;AACtC,WAAK,EAAE,SAAS,CAAC,SAAS;KAC3B,CAAC,CAAC;GAEJ,CAAC,CAAC;;AAEH,QAAM,8BAAW,OAAO,CAAC,CAAC;CAC3B,CAAA,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/plugins/initialize.js",
      "sourcesContent": [
        "import pluginInit from './plugin_init';\n\nmodule.exports = async function (kbnServer, server, config) {\n\n  if (!config.get('plugins.initialize')) {\n    server.log(['info'], 'Plugin initialization disabled.');\n    return [];\n  }\n\n  const { plugins } = kbnServer;\n\n  // extend plugin apis with additional context\n  plugins.getPluginApis().forEach(api => {\n\n    Object.defineProperty(api, 'uiExports', {\n      value: kbnServer.uiExports\n    });\n\n  });\n\n  await pluginInit(plugins);\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/plugins/plugin_init.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "includes"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "includes",
                "local": "includes"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _lodash = require('lodash');\n\nexports['default'] = _asyncToGenerator(function* (plugins) {\n  var path = [];\n\n  var initialize = _asyncToGenerator(function* (id, fn) {\n    var plugin = plugins.byId[id];\n\n    if ((0, _lodash.includes)(path, id)) {\n      throw new Error('circular dependencies found: \"' + path.concat(id).join(' -> ') + '\"');\n    }\n\n    path.push(id);\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = plugin.requiredIds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var reqId = _step.value;\n\n        if (!plugins.byId[reqId]) {\n          throw new Error('Unmet requirement \"' + reqId + '\" for plugin \"' + id + '\"');\n        }\n\n        yield initialize(reqId, fn);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator['return']) {\n          _iterator['return']();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    yield plugin[fn]();\n    path.pop();\n  });\n\n  var collection = plugins.toArray();\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = collection[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var id = _step2.value.id;\n\n      yield initialize(id, 'preInit');\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = collection[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var id = _step3.value.id;\n\n      yield initialize(id, 'init');\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvcGx1Z2lucy9wbHVnaW5faW5pdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztzQkFBeUIsUUFBUTs7dUNBRWxCLFdBQU8sT0FBTyxFQUFLO0FBQ2hDLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQzs7QUFFaEIsTUFBTSxVQUFVLHFCQUFHLFdBQWdCLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDekMsUUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQzs7QUFFaEMsUUFBSSxzQkFBUyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUU7QUFDdEIsWUFBTSxJQUFJLEtBQUssb0NBQWtDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFJLENBQUM7S0FDbkY7O0FBRUQsUUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQzs7Ozs7OztBQUVkLDJCQUFvQixNQUFNLENBQUMsV0FBVyw4SEFBRTtZQUE3QixLQUFLOztBQUNkLFlBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3hCLGdCQUFNLElBQUksS0FBSyx5QkFBdUIsS0FBSyxzQkFBaUIsRUFBRSxPQUFJLENBQUM7U0FDcEU7O0FBRUQsY0FBTSxVQUFVLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCOzs7Ozs7Ozs7Ozs7Ozs7O0FBRUQsVUFBTSxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7R0FDWixDQUFBLENBQUM7O0FBRUYsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDOzs7Ozs7QUFDckMsMEJBQXFCLFVBQVUsbUlBQUU7VUFBcEIsRUFBRSxnQkFBRixFQUFFOztBQUNiLFlBQU0sVUFBVSxDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztLQUNqQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUQsMEJBQXFCLFVBQVUsbUlBQUU7VUFBcEIsRUFBRSxnQkFBRixFQUFFOztBQUNiLFlBQU0sVUFBVSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztLQUM5Qjs7Ozs7Ozs7Ozs7Ozs7O0NBQ0YiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL3NlcnZlci9wbHVnaW5zL3BsdWdpbl9pbml0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5jbHVkZXMgfSBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyAocGx1Z2lucykgPT4ge1xuICBjb25zdCBwYXRoID0gW107XG5cbiAgY29uc3QgaW5pdGlhbGl6ZSA9IGFzeW5jIGZ1bmN0aW9uIChpZCwgZm4pIHtcbiAgICBjb25zdCBwbHVnaW4gPSBwbHVnaW5zLmJ5SWRbaWRdO1xuXG4gICAgaWYgKGluY2x1ZGVzKHBhdGgsIGlkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBjaXJjdWxhciBkZXBlbmRlbmNpZXMgZm91bmQ6IFwiJHtwYXRoLmNvbmNhdChpZCkuam9pbignIC0+ICcpfVwiYCk7XG4gICAgfVxuXG4gICAgcGF0aC5wdXNoKGlkKTtcblxuICAgIGZvciAoY29uc3QgcmVxSWQgb2YgcGx1Z2luLnJlcXVpcmVkSWRzKSB7XG4gICAgICBpZiAoIXBsdWdpbnMuYnlJZFtyZXFJZF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbm1ldCByZXF1aXJlbWVudCBcIiR7cmVxSWR9XCIgZm9yIHBsdWdpbiBcIiR7aWR9XCJgKTtcbiAgICAgIH1cblxuICAgICAgYXdhaXQgaW5pdGlhbGl6ZShyZXFJZCwgZm4pO1xuICAgIH1cblxuICAgIGF3YWl0IHBsdWdpbltmbl0oKTtcbiAgICBwYXRoLnBvcCgpO1xuICB9O1xuXG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBwbHVnaW5zLnRvQXJyYXkoKTtcbiAgZm9yIChjb25zdCB7IGlkIH0gb2YgY29sbGVjdGlvbikge1xuICAgIGF3YWl0IGluaXRpYWxpemUoaWQsICdwcmVJbml0Jyk7XG4gIH1cblxuICBmb3IgKGNvbnN0IHsgaWQgfSBvZiBjb2xsZWN0aW9uKSB7XG4gICAgYXdhaXQgaW5pdGlhbGl6ZShpZCwgJ2luaXQnKTtcbiAgfVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/plugins/plugin_init.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;sBAAyB,QAAQ;;uCAElB,WAAO,OAAO,EAAK;AAChC,MAAM,IAAI,GAAG,EAAE,CAAC;;AAEhB,MAAM,UAAU,qBAAG,WAAgB,EAAE,EAAE,EAAE,EAAE;AACzC,QAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;;AAEhC,QAAI,sBAAS,IAAI,EAAE,EAAE,CAAC,EAAE;AACtB,YAAM,IAAI,KAAK,oCAAkC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAI,CAAC;KACnF;;AAED,QAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;;;;;;;AAEd,2BAAoB,MAAM,CAAC,WAAW,8HAAE;YAA7B,KAAK;;AACd,YAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;AACxB,gBAAM,IAAI,KAAK,yBAAuB,KAAK,sBAAiB,EAAE,OAAI,CAAC;SACpE;;AAED,cAAM,UAAU,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;OAC7B;;;;;;;;;;;;;;;;AAED,UAAM,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC;AACnB,QAAI,CAAC,GAAG,EAAE,CAAC;GACZ,CAAA,CAAC;;AAEF,MAAM,UAAU,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;;;;;;AACrC,0BAAqB,UAAU,mIAAE;UAApB,EAAE,gBAAF,EAAE;;AACb,YAAM,UAAU,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;KACjC;;;;;;;;;;;;;;;;;;;;;AAED,0BAAqB,UAAU,mIAAE;UAApB,EAAE,gBAAF,EAAE;;AACb,YAAM,UAAU,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;KAC9B;;;;;;;;;;;;;;;CACF",
      "file": "/Users/osagiefo/kibana-aws/src/server/plugins/plugin_init.js",
      "sourcesContent": [
        "import { includes } from 'lodash';\n\nexport default async (plugins) => {\n  const path = [];\n\n  const initialize = async function (id, fn) {\n    const plugin = plugins.byId[id];\n\n    if (includes(path, id)) {\n      throw new Error(`circular dependencies found: \"${path.concat(id).join(' -> ')}\"`);\n    }\n\n    path.push(id);\n\n    for (const reqId of plugin.requiredIds) {\n      if (!plugins.byId[reqId]) {\n        throw new Error(`Unmet requirement \"${reqId}\" for plugin \"${id}\"`);\n      }\n\n      await initialize(reqId, fn);\n    }\n\n    await plugin[fn]();\n    path.pop();\n  };\n\n  const collection = plugins.toArray();\n  for (const { id } of collection) {\n    await initialize(id, 'preInit');\n  }\n\n  for (const { id } of collection) {\n    await initialize(id, 'init');\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/http/short_url_lookup.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "crypto",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "crypto"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _crypto = require('crypto');\n\nvar _crypto2 = _interopRequireDefault(_crypto);\n\nexports['default'] = function (server) {\n  var updateMetadata = _asyncToGenerator(function* (urlId, urlDoc, req) {\n    var _server$plugins$elasticsearch$getCluster = server.plugins.elasticsearch.getCluster('admin');\n\n    var callWithRequest = _server$plugins$elasticsearch$getCluster.callWithRequest;\n\n    var kibanaIndex = server.config().get('kibana.index');\n\n    try {\n      yield callWithRequest(req, 'update', {\n        index: kibanaIndex,\n        type: 'url',\n        id: urlId,\n        body: {\n          doc: {\n            'accessDate': new Date(),\n            'accessCount': urlDoc._source.accessCount + 1\n          }\n        }\n      });\n    } catch (err) {\n      server.log('Warning: Error updating url metadata', err);\n      //swallow errors. It isn't critical if there is no update.\n    }\n  });\n\n  var getUrlDoc = _asyncToGenerator(function* (urlId, req) {\n    var urlDoc = yield new Promise(function (resolve, reject) {\n      var _server$plugins$elasticsearch$getCluster2 = server.plugins.elasticsearch.getCluster('admin');\n\n      var callWithRequest = _server$plugins$elasticsearch$getCluster2.callWithRequest;\n\n      var kibanaIndex = server.config().get('kibana.index');\n\n      callWithRequest(req, 'get', {\n        index: kibanaIndex,\n        type: 'url',\n        id: urlId\n      }).then(function (response) {\n        resolve(response);\n      })['catch'](function (err) {\n        resolve();\n      });\n    });\n\n    return urlDoc;\n  });\n\n  var createUrlDoc = _asyncToGenerator(function* (url, urlId, req) {\n    var newUrlId = yield new Promise(function (resolve, reject) {\n      var _server$plugins$elasticsearch$getCluster3 = server.plugins.elasticsearch.getCluster('admin');\n\n      var callWithRequest = _server$plugins$elasticsearch$getCluster3.callWithRequest;\n\n      var kibanaIndex = server.config().get('kibana.index');\n\n      callWithRequest(req, 'index', {\n        index: kibanaIndex,\n        type: 'url',\n        id: urlId,\n        body: {\n          url: url,\n          'accessCount': 0,\n          'createDate': new Date(),\n          'accessDate': new Date()\n        }\n      }).then(function (response) {\n        resolve(response._id);\n      })['catch'](function (err) {\n        reject(err);\n      });\n    });\n\n    return newUrlId;\n  });\n\n  function createUrlId(url) {\n    var urlId = _crypto2['default'].createHash('md5').update(url).digest('hex');\n\n    return urlId;\n  }\n\n  return {\n    generateUrlId: _asyncToGenerator(function* (url, req) {\n      var urlId = createUrlId(url);\n      var urlDoc = yield getUrlDoc(urlId, req);\n      if (urlDoc) return urlId;\n\n      return createUrlDoc(url, urlId, req);\n    }),\n    getUrl: _asyncToGenerator(function* (urlId, req) {\n      try {\n        var urlDoc = yield getUrlDoc(urlId, req);\n        if (!urlDoc) throw new Error('Requested shortened url does not exist in kibana index');\n\n        updateMetadata(urlId, urlDoc, req);\n\n        return urlDoc._source.url;\n      } catch (err) {\n        return '/';\n      }\n    })\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC9zaG9ydF91cmxfbG9va3VwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7c0JBQW1CLFFBQVE7Ozs7cUJBRVosVUFBVSxNQUFNLEVBQUU7TUFDaEIsY0FBYyxxQkFBN0IsV0FBOEIsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUU7bURBQ3BCLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUM7O1FBQXBFLGVBQWUsNENBQWYsZUFBZTs7QUFDdkIsUUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQzs7QUFFeEQsUUFBSTtBQUNGLFlBQU0sZUFBZSxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUU7QUFDbkMsYUFBSyxFQUFFLFdBQVc7QUFDbEIsWUFBSSxFQUFFLEtBQUs7QUFDWCxVQUFFLEVBQUUsS0FBSztBQUNULFlBQUksRUFBRTtBQUNKLGFBQUcsRUFBRTtBQUNILHdCQUFZLEVBQUUsSUFBSSxJQUFJLEVBQUU7QUFDeEIseUJBQWEsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBRyxDQUFDO1dBQzlDO1NBQ0Y7T0FDRixDQUFDLENBQUM7S0FDSixDQUFDLE9BQU8sR0FBRyxFQUFFO0FBQ1osWUFBTSxDQUFDLEdBQUcsQ0FBQyxzQ0FBc0MsRUFBRSxHQUFHLENBQUMsQ0FBQzs7S0FFekQ7R0FDRjs7TUFFYyxTQUFTLHFCQUF4QixXQUF5QixLQUFLLEVBQUUsR0FBRyxFQUFFO0FBQ25DLFFBQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTSxFQUFLO3NEQUN4QixNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDOztVQUFwRSxlQUFlLDZDQUFmLGVBQWU7O0FB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QUFDO09BQ1o7S0FDRixDQUFBO0dBQ0YsQ0FBQztDQUNIIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC9zaG9ydF91cmxfbG9va3VwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoc2VydmVyKSB7XG4gIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU1ldGFkYXRhKHVybElkLCB1cmxEb2MsIHJlcSkge1xuICAgIGNvbnN0IHsgY2FsbFdpdGhSZXF1ZXN0IH0gPSBzZXJ2ZXIucGx1Z2lucy5lbGFzdGljc2VhcmNoLmdldENsdXN0ZXIoJ2FkbWluJyk7XG4gICAgY29uc3Qga2liYW5hSW5kZXggPSBzZXJ2ZXIuY29uZmlnKCkuZ2V0KCdraWJhbmEuaW5kZXgnKTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjYWxsV2l0aFJlcXVlc3QocmVxLCAndXBkYXRlJywge1xuICAgICAgICBpbmRleDoga2liYW5hSW5kZXgsXG4gICAgICAgIHR5cGU6ICd1cmwnLFxuICAgICAgICBpZDogdXJsSWQsXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBkb2M6IHtcbiAgICAgICAgICAgICdhY2Nlc3NEYXRlJzogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICdhY2Nlc3NDb3VudCc6IHVybERvYy5fc291cmNlLmFjY2Vzc0NvdW50ICsgMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZXJ2ZXIubG9nKCdXYXJuaW5nOiBFcnJvciB1cGRhdGluZyB1cmwgbWV0YWRhdGEnLCBlcnIpO1xuICAgICAgLy9zd2FsbG93IGVycm9ycy4gSXQgaXNuJ3QgY3JpdGljYWwgaWYgdGhlcmUgaXMgbm8gdXBkYXRlLlxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldFVybERvYyh1cmxJZCwgcmVxKSB7XG4gICAgY29uc3QgdXJsRG9jID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgeyBjYWxsV2l0aFJlcXVlc3QgfSA9IHNlcnZlci5wbHVnaW5zLmVsYXN0aWNzZWFyY2guZ2V0Q2x1c3RlcignYWRtaW4nKTtcbiAgICAgIGNvbnN0IGtpYmFuYUluZGV4ID0gc2VydmVyLmNvbmZpZygpLmdldCgna2liYW5hLmluZGV4Jyk7XG5cbiAgICAgIGNhbGxXaXRoUmVxdWVzdChyZXEsICdnZXQnLCB7XG4gICAgICAgIGluZGV4OiBraWJhbmFJbmRleCxcbiAgICAgICAgdHlwZTogJ3VybCcsXG4gICAgICAgIGlkOiB1cmxJZFxuICAgICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHVybERvYztcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVVybERvYyh1cmwsIHVybElkLCByZXEpIHtcbiAgICBjb25zdCBuZXdVcmxJZCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHsgY2FsbFdpdGhSZXF1ZXN0IH0gPSBzZXJ2ZXIucGx1Z2lucy5lbGFzdGljc2VhcmNoLmdldENsdXN0ZXIoJ2FkbWluJyk7XG4gICAgICBjb25zdCBraWJhbmFJbmRleCA9IHNlcnZlci5jb25maWcoKS5nZXQoJ2tpYmFuYS5pbmRleCcpO1xuXG4gICAgICBjYWxsV2l0aFJlcXVlc3QocmVxLCAnaW5kZXgnLCB7XG4gICAgICAgIGluZGV4OiBraWJhbmFJbmRleCxcbiAgICAgICAgdHlwZTogJ3VybCcsXG4gICAgICAgIGlkOiB1cmxJZCxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIHVybCxcbiAgICAgICAgICAnYWNjZXNzQ291bnQnOiAwLFxuICAgICAgICAgICdjcmVhdGVEYXRlJzogbmV3IERhdGUoKSxcbiAgICAgICAgICAnYWNjZXNzRGF0ZSc6IG5ldyBEYXRlKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5faWQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ld1VybElkO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVXJsSWQodXJsKSB7XG4gICAgY29uc3QgdXJsSWQgPSBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JylcbiAgICAudXBkYXRlKHVybClcbiAgICAuZGlnZXN0KCdoZXgnKTtcblxuICAgIHJldHVybiB1cmxJZDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYXN5bmMgZ2VuZXJhdGVVcmxJZCh1cmwsIHJlcSkge1xuICAgICAgY29uc3QgdXJsSWQgPSBjcmVhdGVVcmxJZCh1cmwpO1xuICAgICAgY29uc3QgdXJsRG9jID0gYXdhaXQgZ2V0VXJsRG9jKHVybElkLCByZXEpO1xuICAgICAgaWYgKHVybERvYykgcmV0dXJuIHVybElkO1xuXG4gICAgICByZXR1cm4gY3JlYXRlVXJsRG9jKHVybCwgdXJsSWQsIHJlcSk7XG4gICAgfSxcbiAgICBhc3luYyBnZXRVcmwodXJsSWQsIHJlcSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXJsRG9jID0gYXdhaXQgZ2V0VXJsRG9jKHVybElkLCByZXEpO1xuICAgICAgICBpZiAoIXVybERvYykgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0ZWQgc2hvcnRlbmVkIHVybCBkb2VzIG5vdCBleGlzdCBpbiBraWJhbmEgaW5kZXgnKTtcblxuICAgICAgICB1cGRhdGVNZXRhZGF0YSh1cmxJZCwgdXJsRG9jLCByZXEpO1xuXG4gICAgICAgIHJldHVybiB1cmxEb2MuX3NvdXJjZS51cmw7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/http/short_url_lookup.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;sBAAmB,QAAQ;;;;qBAEZ,UAAU,MAAM,EAAE;MAChB,cAAc,qBAA7B,WAA8B,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE;mDACpB,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC;;QAApE,eAAe,4CAAf,eAAe;;AACvB,QAAM,WAAW,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;;AAExD,QAAI;AACF,YAAM,eAAe,CAAC,GAAG,EAAE,QAAQ,EAAE;AACnC,aAAK,EAAE,WAAW;AAClB,YAAI,EAAE,KAAK;AACX,UAAE,EAAE,KAAK;AACT,YAAI,EAAE;AACJ,aAAG,EAAE;AACH,wBAAY,EAAE,IAAI,IAAI,EAAE;AACxB,yBAAa,EAAE,MAAM,CAAC,OAAO,CAAC,WAAW,GAAG,CAAC;WAC9C;SACF;OACF,CAAC,CAAC;KACJ,CAAC,OAAO,GAAG,EAAE;AACZ,YAAM,CAAC,GAAG,CAAC,sCAAsC,EAAE,GAAG,CAAC,CAAC;;KAEzD;GACF;;MAEc,SAAS,qBAAxB,WAAyB,KAAK,EAAE,GAAG,EAAE;AACnC,QAAM,MAAM,GAAG,MAAM,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;sDACxB,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC;;UAApE,eAAe,6CAAf,eAAe;;AACvB,UAAM,WAAW,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;;AAExD,qBAAe,CAAC,GAAG,EAAE,KAAK,EAAE;AAC1B,aAAK,EAAE,WAAW;AAClB,YAAI,EAAE,KAAK;AACX,UAAE,EAAE,KAAK;OACV,CAAC,CACD,IAAI,CAAC,UAAA,QAAQ,EAAI;AAChB,eAAO,CAAC,QAAQ,CAAC,CAAC;OACnB,CAAC,SACI,CAAC,UAAA,GAAG,EAAI;AACZ,eAAO,EAAE,CAAC;OACX,CAAC,CAAC;KACJ,CAAC,CAAC;;AAEH,WAAO,MAAM,CAAC;GACf;;MAEc,YAAY,qBAA3B,WAA4B,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE;AAC3C,QAAM,QAAQ,GAAG,MAAM,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;sDAC1B,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC;;UAApE,eAAe,6CAAf,eAAe;;AACvB,UAAM,WAAW,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;;AAExD,qBAAe,CAAC,GAAG,EAAE,OAAO,EAAE;AAC5B,aAAK,EAAE,WAAW;AAClB,YAAI,EAAE,KAAK;AACX,UAAE,EAAE,KAAK;AACT,YAAI,EAAE;AACJ,aAAG,EAAH,GAAG;AACH,uBAAa,EAAE,CAAC;AAChB,sBAAY,EAAE,IAAI,IAAI,EAAE;AACxB,sBAAY,EAAE,IAAI,IAAI,EAAE;SACzB;OACF,CAAC,CACD,IAAI,CAAC,UAAA,QAAQ,EAAI;AAChB,eAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;OACvB,CAAC,SACI,CAAC,UAAA,GAAG,EAAI;AACZ,cAAM,CAAC,GAAG,CAAC,CAAC;OACb,CAAC,CAAC;KACJ,CAAC,CAAC;;AAEH,WAAO,QAAQ,CAAC;GACjB;;AAED,WAAS,WAAW,CAAC,GAAG,EAAE;AACxB,QAAM,KAAK,GAAG,oBAAO,UAAU,CAAC,KAAK,CAAC,CACrC,MAAM,CAAC,GAAG,CAAC,CACX,MAAM,CAAC,KAAK,CAAC,CAAC;;AAEf,WAAO,KAAK,CAAC;GACd;;AAED,SAAO;AACL,AAAM,iBAAa,oBAAA,WAAC,GAAG,EAAE,GAAG,EAAE;AAC5B,UAAM,KAAK,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;AAC/B,UAAM,MAAM,GAAG,MAAM,SAAS,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AAC3C,UAAI,MAAM,EAAE,OAAO,KAAK,CAAC;;AAEzB,aAAO,YAAY,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;KACtC,CAAA;AACD,AAAM,UAAM,oBAAA,WAAC,KAAK,EAAE,GAAG,EAAE;AACvB,UAAI;AACF,YAAM,MAAM,GAAG,MAAM,SAAS,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AAC3C,YAAI,CAAC,MAAM,EAAE,MAAM,IAAI,KAAK,CAAC,wDAAwD,CAAC,CAAC;;AAEvF,sBAAc,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;;AAEnC,eAAO,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC;OAC3B,CAAC,OAAO,GAAG,EAAE;AACZ,eAAO,GAAG,CAAC;OACZ;KACF,CAAA;GACF,CAAC;CACH",
      "file": "/Users/osagiefo/kibana-aws/src/server/http/short_url_lookup.js",
      "sourcesContent": [
        "import crypto from 'crypto';\n\nexport default function (server) {\n  async function updateMetadata(urlId, urlDoc, req) {\n    const { callWithRequest } = server.plugins.elasticsearch.getCluster('admin');\n    const kibanaIndex = server.config().get('kibana.index');\n\n    try {\n      await callWithRequest(req, 'update', {\n        index: kibanaIndex,\n        type: 'url',\n        id: urlId,\n        body: {\n          doc: {\n            'accessDate': new Date(),\n            'accessCount': urlDoc._source.accessCount + 1\n          }\n        }\n      });\n    } catch (err) {\n      server.log('Warning: Error updating url metadata', err);\n      //swallow errors. It isn't critical if there is no update.\n    }\n  }\n\n  async function getUrlDoc(urlId, req) {\n    const urlDoc = await new Promise((resolve, reject) => {\n      const { callWithRequest } = server.plugins.elasticsearch.getCluster('admin');\n      const kibanaIndex = server.config().get('kibana.index');\n\n      callWithRequest(req, 'get', {\n        index: kibanaIndex,\n        type: 'url',\n        id: urlId\n      })\n      .then(response => {\n        resolve(response);\n      })\n      .catch(err => {\n        resolve();\n      });\n    });\n\n    return urlDoc;\n  }\n\n  async function createUrlDoc(url, urlId, req) {\n    const newUrlId = await new Promise((resolve, reject) => {\n      const { callWithRequest } = server.plugins.elasticsearch.getCluster('admin');\n      const kibanaIndex = server.config().get('kibana.index');\n\n      callWithRequest(req, 'index', {\n        index: kibanaIndex,\n        type: 'url',\n        id: urlId,\n        body: {\n          url,\n          'accessCount': 0,\n          'createDate': new Date(),\n          'accessDate': new Date()\n        }\n      })\n      .then(response => {\n        resolve(response._id);\n      })\n      .catch(err => {\n        reject(err);\n      });\n    });\n\n    return newUrlId;\n  }\n\n  function createUrlId(url) {\n    const urlId = crypto.createHash('md5')\n    .update(url)\n    .digest('hex');\n\n    return urlId;\n  }\n\n  return {\n    async generateUrlId(url, req) {\n      const urlId = createUrlId(url);\n      const urlDoc = await getUrlDoc(urlId, req);\n      if (urlDoc) return urlId;\n\n      return createUrlDoc(url, urlId, req);\n    },\n    async getUrl(urlId, req) {\n      try {\n        const urlDoc = await getUrlDoc(urlId, req);\n        if (!urlDoc) throw new Error('Requested shortened url does not exist in kibana index');\n\n        updateMetadata(urlId, urlDoc, req);\n\n        return urlDoc._source.url;\n      } catch (err) {\n        return '/';\n      }\n    }\n  };\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/http/xsrf.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "boom",
            "imported": [
              "badRequest"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "badRequest",
                "local": "badRequest"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _boom = require('boom');\n\nexports['default'] = function (kbnServer, server, config) {\n  var disabled = config.get('server.xsrf.disableProtection');\n  var versionHeader = 'kbn-version';\n  var xsrfHeader = 'kbn-xsrf';\n\n  server.ext('onPostAuth', function (req, reply) {\n    if (disabled) {\n      return reply['continue']();\n    }\n\n    var isSafeMethod = req.method === 'get' || req.method === 'head';\n    var hasVersionHeader = (versionHeader in req.headers);\n    var hasXsrfHeader = (xsrfHeader in req.headers);\n\n    if (!isSafeMethod && !hasVersionHeader && !hasXsrfHeader) {\n      return reply((0, _boom.badRequest)('Request must contain an ' + xsrfHeader + ' header'));\n    }\n\n    return reply['continue']();\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvaHR0cC94c3JmLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztvQkFBMkIsTUFBTTs7cUJBRWxCLFVBQVUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDbEQsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0FBQzdELE1BQU0sYUFBYSxHQUFHLGFBQWEsQ0FBQztBQUNwQyxNQUFNLFVBQVUsR0FBRyxVQUFVLENBQUM7O0FBRTlCLFFBQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLFVBQVUsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUM3QyxRQUFJLFFBQVEsRUFBRTtBQUNaLGFBQU8sS0FBSyxZQUFTLEVBQUUsQ0FBQztLQUN6Qjs7QUFFRCxRQUFNLFlBQVksR0FBRyxHQUFHLENBQUMsTUFBTSxLQUFLLEtBQUssSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQztBQUNuRSxRQUFNLGdCQUFnQixJQUFHLGFBQWEsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFBLENBQUM7QUFDdEQsUUFBTSxhQUFhLElBQUcsVUFBVSxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUEsQ0FBQzs7QUFFaEQsUUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLGdCQUFnQixJQUFJLENBQUMsYUFBYSxFQUFFO0FBQ3hELGFBQU8sS0FBSyxDQUFDLG1EQUFzQyxVQUFVLGFBQVUsQ0FBQyxDQUFDO0tBQzFFOztBQUVELFdBQU8sS0FBSyxZQUFTLEVBQUUsQ0FBQztHQUN6QixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvc2VydmVyL2h0dHAveHNyZi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJhZFJlcXVlc3QgfSBmcm9tICdib29tJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGtiblNlcnZlciwgc2VydmVyLCBjb25maWcpIHtcbiAgY29uc3QgZGlzYWJsZWQgPSBjb25maWcuZ2V0KCdzZXJ2ZXIueHNyZi5kaXNhYmxlUHJvdGVjdGlvbicpO1xuICBjb25zdCB2ZXJzaW9uSGVhZGVyID0gJ2tibi12ZXJzaW9uJztcbiAgY29uc3QgeHNyZkhlYWRlciA9ICdrYm4teHNyZic7XG5cbiAgc2VydmVyLmV4dCgnb25Qb3N0QXV0aCcsIGZ1bmN0aW9uIChyZXEsIHJlcGx5KSB7XG4gICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICByZXR1cm4gcmVwbHkuY29udGludWUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc1NhZmVNZXRob2QgPSByZXEubWV0aG9kID09PSAnZ2V0JyB8fCByZXEubWV0aG9kID09PSAnaGVhZCc7XG4gICAgY29uc3QgaGFzVmVyc2lvbkhlYWRlciA9IHZlcnNpb25IZWFkZXIgaW4gcmVxLmhlYWRlcnM7XG4gICAgY29uc3QgaGFzWHNyZkhlYWRlciA9IHhzcmZIZWFkZXIgaW4gcmVxLmhlYWRlcnM7XG5cbiAgICBpZiAoIWlzU2FmZU1ldGhvZCAmJiAhaGFzVmVyc2lvbkhlYWRlciAmJiAhaGFzWHNyZkhlYWRlcikge1xuICAgICAgcmV0dXJuIHJlcGx5KGJhZFJlcXVlc3QoYFJlcXVlc3QgbXVzdCBjb250YWluIGFuICR7eHNyZkhlYWRlcn0gaGVhZGVyYCkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXBseS5jb250aW51ZSgpO1xuICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/http/xsrf.js"
      ],
      "names": [],
      "mappings": ";;;;;;oBAA2B,MAAM;;qBAElB,UAAU,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;AAClD,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;AAC7D,MAAM,aAAa,GAAG,aAAa,CAAC;AACpC,MAAM,UAAU,GAAG,UAAU,CAAC;;AAE9B,QAAM,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,GAAG,EAAE,KAAK,EAAE;AAC7C,QAAI,QAAQ,EAAE;AACZ,aAAO,KAAK,YAAS,EAAE,CAAC;KACzB;;AAED,QAAM,YAAY,GAAG,GAAG,CAAC,MAAM,KAAK,KAAK,IAAI,GAAG,CAAC,MAAM,KAAK,MAAM,CAAC;AACnE,QAAM,gBAAgB,IAAG,aAAa,IAAI,GAAG,CAAC,OAAO,CAAA,CAAC;AACtD,QAAM,aAAa,IAAG,UAAU,IAAI,GAAG,CAAC,OAAO,CAAA,CAAC;;AAEhD,QAAI,CAAC,YAAY,IAAI,CAAC,gBAAgB,IAAI,CAAC,aAAa,EAAE;AACxD,aAAO,KAAK,CAAC,mDAAsC,UAAU,aAAU,CAAC,CAAC;KAC1E;;AAED,WAAO,KAAK,YAAS,EAAE,CAAC;GACzB,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/server/http/xsrf.js",
      "sourcesContent": [
        "import { badRequest } from 'boom';\n\nexport default function (kbnServer, server, config) {\n  const disabled = config.get('server.xsrf.disableProtection');\n  const versionHeader = 'kbn-version';\n  const xsrfHeader = 'kbn-xsrf';\n\n  server.ext('onPostAuth', function (req, reply) {\n    if (disabled) {\n      return reply.continue();\n    }\n\n    const isSafeMethod = req.method === 'get' || req.method === 'head';\n    const hasVersionHeader = versionHeader in req.headers;\n    const hasXsrfHeader = xsrfHeader in req.headers;\n\n    if (!isSafeMethod && !hasVersionHeader && !hasXsrfHeader) {\n      return reply(badRequest(`Request must contain an ${xsrfHeader} header`));\n    }\n\n    return reply.continue();\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/status/metrics.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "./samples",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Samples"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _samples = require('./samples');\n\nvar _samples2 = _interopRequireDefault(_samples);\n\nmodule.exports = function (kbnServer, server, config) {\n  var lastReport = Date.now();\n\n  kbnServer.metrics = new _samples2['default'](12);\n\n  server.plugins['even-better'].monitor.on('ops', function (event) {\n    var now = Date.now();\n    var secSinceLast = (now - lastReport) / 1000;\n    lastReport = now;\n\n    var port = config.get('server.port');\n    var requests = _lodash2['default'].get(event, ['requests', port, 'total'], 0);\n    var requestsPerSecond = requests / secSinceLast;\n\n    kbnServer.metrics.add({\n      heapTotal: _lodash2['default'].get(event, 'psmem.heapTotal'),\n      heapUsed: _lodash2['default'].get(event, 'psmem.heapUsed'),\n      load: event.osload,\n      responseTimeAvg: _lodash2['default'].get(event, ['responseTimes', port, 'avg']),\n      responseTimeMax: _lodash2['default'].get(event, ['responseTimes', port, 'max']),\n      requestsPerSecond: requestsPerSecond\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL21ldHJpY3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztzQkFBYyxRQUFROzs7O3VCQUNGLFdBQVc7Ozs7QUFDL0IsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFO0FBQ3BELE1BQUksVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQzs7QUFFNUIsV0FBUyxDQUFDLE9BQU8sR0FBRyx5QkFBWSxFQUFFLENBQUMsQ0FBQzs7QUFFcEMsUUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxVQUFVLEtBQUssRUFBRTtBQUMvRCxRQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDdkIsUUFBTSxZQUFZLEdBQUcsQ0FBQyxHQUFHLEdBQUcsVUFBVSxDQUFBLEdBQUksSUFBSSxDQUFDO0FBQy9DLGNBQVUsR0FBRyxHQUFHLENBQUM7O0FBRWpCLFFBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDdkMsUUFBTSxRQUFRLEdBQUcsb0JBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDOUQsUUFBTSxpQkFBaUIsR0FBRyxRQUFRLEdBQUcsWUFBWSxDQUFDOztBQUVsRCxhQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUNwQixlQUFTLEVBQUUsb0JBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FBQztBQUMxQyxjQUFRLEVBQUUsb0JBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxnQkFBZ0IsQ0FBQztBQUN4QyxVQUFJLEVBQUUsS0FBSyxDQUFDLE1BQU07QUFDbEIscUJBQWUsRUFBRSxvQkFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUM3RCxxQkFBZSxFQUFFLG9CQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxlQUFlLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzdELHVCQUFpQixFQUFFLGlCQUFpQjtLQUNyQyxDQUFDLENBQUM7R0FFSixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL21ldHJpY3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFNhbXBsZXMgZnJvbSAnLi9zYW1wbGVzJztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtiblNlcnZlciwgc2VydmVyLCBjb25maWcpIHtcbiAgbGV0IGxhc3RSZXBvcnQgPSBEYXRlLm5vdygpO1xuXG4gIGtiblNlcnZlci5tZXRyaWNzID0gbmV3IFNhbXBsZXMoMTIpO1xuXG4gIHNlcnZlci5wbHVnaW5zWydldmVuLWJldHRlciddLm1vbml0b3Iub24oJ29wcycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3Qgc2VjU2luY2VMYXN0ID0gKG5vdyAtIGxhc3RSZXBvcnQpIC8gMTAwMDtcbiAgICBsYXN0UmVwb3J0ID0gbm93O1xuXG4gICAgY29uc3QgcG9ydCA9IGNvbmZpZy5nZXQoJ3NlcnZlci5wb3J0Jyk7XG4gICAgY29uc3QgcmVxdWVzdHMgPSBfLmdldChldmVudCwgWydyZXF1ZXN0cycsIHBvcnQsICd0b3RhbCddLCAwKTtcbiAgICBjb25zdCByZXF1ZXN0c1BlclNlY29uZCA9IHJlcXVlc3RzIC8gc2VjU2luY2VMYXN0O1xuXG4gICAga2JuU2VydmVyLm1ldHJpY3MuYWRkKHtcbiAgICAgIGhlYXBUb3RhbDogXy5nZXQoZXZlbnQsICdwc21lbS5oZWFwVG90YWwnKSxcbiAgICAgIGhlYXBVc2VkOiBfLmdldChldmVudCwgJ3BzbWVtLmhlYXBVc2VkJyksXG4gICAgICBsb2FkOiBldmVudC5vc2xvYWQsXG4gICAgICByZXNwb25zZVRpbWVBdmc6IF8uZ2V0KGV2ZW50LCBbJ3Jlc3BvbnNlVGltZXMnLCBwb3J0LCAnYXZnJ10pLFxuICAgICAgcmVzcG9uc2VUaW1lTWF4OiBfLmdldChldmVudCwgWydyZXNwb25zZVRpbWVzJywgcG9ydCwgJ21heCddKSxcbiAgICAgIHJlcXVlc3RzUGVyU2Vjb25kOiByZXF1ZXN0c1BlclNlY29uZFxuICAgIH0pO1xuXG4gIH0pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/status/metrics.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;uBACF,WAAW;;;;AAC/B,MAAM,CAAC,OAAO,GAAG,UAAU,SAAS,EAAE,MAAM,EAAE,MAAM,EAAE;AACpD,MAAI,UAAU,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;;AAE5B,WAAS,CAAC,OAAO,GAAG,yBAAY,EAAE,CAAC,CAAC;;AAEpC,QAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,EAAE,UAAU,KAAK,EAAE;AAC/D,QAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;AACvB,QAAM,YAAY,GAAG,CAAC,GAAG,GAAG,UAAU,CAAA,GAAI,IAAI,CAAC;AAC/C,cAAU,GAAG,GAAG,CAAC;;AAEjB,QAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;AACvC,QAAM,QAAQ,GAAG,oBAAE,GAAG,CAAC,KAAK,EAAE,CAAC,UAAU,EAAE,IAAI,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;AAC9D,QAAM,iBAAiB,GAAG,QAAQ,GAAG,YAAY,CAAC;;AAElD,aAAS,CAAC,OAAO,CAAC,GAAG,CAAC;AACpB,eAAS,EAAE,oBAAE,GAAG,CAAC,KAAK,EAAE,iBAAiB,CAAC;AAC1C,cAAQ,EAAE,oBAAE,GAAG,CAAC,KAAK,EAAE,gBAAgB,CAAC;AACxC,UAAI,EAAE,KAAK,CAAC,MAAM;AAClB,qBAAe,EAAE,oBAAE,GAAG,CAAC,KAAK,EAAE,CAAC,eAAe,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;AAC7D,qBAAe,EAAE,oBAAE,GAAG,CAAC,KAAK,EAAE,CAAC,eAAe,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;AAC7D,uBAAiB,EAAE,iBAAiB;KACrC,CAAC,CAAC;GAEJ,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/status/metrics.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport Samples from './samples';\nmodule.exports = function (kbnServer, server, config) {\n  let lastReport = Date.now();\n\n  kbnServer.metrics = new Samples(12);\n\n  server.plugins['even-better'].monitor.on('ops', function (event) {\n    const now = Date.now();\n    const secSinceLast = (now - lastReport) / 1000;\n    lastReport = now;\n\n    const port = config.get('server.port');\n    const requests = _.get(event, ['requests', port, 'total'], 0);\n    const requestsPerSecond = requests / secSinceLast;\n\n    kbnServer.metrics.add({\n      heapTotal: _.get(event, 'psmem.heapTotal'),\n      heapUsed: _.get(event, 'psmem.heapUsed'),\n      load: event.osload,\n      responseTimeAvg: _.get(event, ['responseTimes', port, 'avg']),\n      responseTimeMax: _.get(event, ['responseTimes', port, 'max']),\n      requestsPerSecond: requestsPerSecond\n    });\n\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/server/status/samples.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction Samples(max) {\n  this.vals = {};\n  this.max = max || Infinity;\n  this.length = 0;\n}\n\nSamples.prototype.add = function (sample) {\n  var vals = this.vals;\n  var length = this.length = Math.min(this.length + 1, this.max);\n\n  _lodash2['default'].forOwn(sample, function (val, name) {\n    if (val == null) val = null;\n\n    if (!vals[name]) vals[name] = new Array(length);\n    vals[name].unshift([Date.now(), val]);\n    vals[name].length = length;\n  });\n};\n\nSamples.prototype.toJSON = function () {\n  return this.vals;\n};\n\nmodule.exports = Samples;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL3NhbXBsZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztzQkFBYyxRQUFROzs7O0FBRXRCLFNBQVMsT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNwQixNQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUNmLE1BQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLFFBQVEsQ0FBQztBQUMzQixNQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztDQUNqQjs7QUFFRCxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxVQUFVLE1BQU0sRUFBRTtBQUN4QyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0FBQ3ZCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7O0FBRWpFLHNCQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUUsVUFBVSxHQUFHLEVBQUUsSUFBSSxFQUFFO0FBQ3BDLFFBQUksR0FBRyxJQUFJLElBQUksRUFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDOztBQUU1QixRQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNoRCxRQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDdEMsUUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7R0FDNUIsQ0FBQyxDQUFDO0NBQ0osQ0FBQzs7QUFFRixPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxZQUFZO0FBQ3JDLFNBQU8sSUFBSSxDQUFDLElBQUksQ0FBQztDQUNsQixDQUFDOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9zZXJ2ZXIvc3RhdHVzL3NhbXBsZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5mdW5jdGlvbiBTYW1wbGVzKG1heCkge1xuICB0aGlzLnZhbHMgPSB7fTtcbiAgdGhpcy5tYXggPSBtYXggfHwgSW5maW5pdHk7XG4gIHRoaXMubGVuZ3RoID0gMDtcbn1cblxuU2FtcGxlcy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHNhbXBsZSkge1xuICBjb25zdCB2YWxzID0gdGhpcy52YWxzO1xuICBjb25zdCBsZW5ndGggPSB0aGlzLmxlbmd0aCA9IE1hdGgubWluKHRoaXMubGVuZ3RoICsgMSwgdGhpcy5tYXgpO1xuXG4gIF8uZm9yT3duKHNhbXBsZSwgZnVuY3Rpb24gKHZhbCwgbmFtZSkge1xuICAgIGlmICh2YWwgPT0gbnVsbCkgdmFsID0gbnVsbDtcblxuICAgIGlmICghdmFsc1tuYW1lXSkgdmFsc1tuYW1lXSA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIHZhbHNbbmFtZV0udW5zaGlmdChbRGF0ZS5ub3coKSwgdmFsXSk7XG4gICAgdmFsc1tuYW1lXS5sZW5ndGggPSBsZW5ndGg7XG4gIH0pO1xufTtcblxuU2FtcGxlcy5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy52YWxzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTYW1wbGVzO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/server/status/samples.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;AAEtB,SAAS,OAAO,CAAC,GAAG,EAAE;AACpB,MAAI,CAAC,IAAI,GAAG,EAAE,CAAC;AACf,MAAI,CAAC,GAAG,GAAG,GAAG,IAAI,QAAQ,CAAC;AAC3B,MAAI,CAAC,MAAM,GAAG,CAAC,CAAC;CACjB;;AAED,OAAO,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;AACxC,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AACvB,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;;AAEjE,sBAAE,MAAM,CAAC,MAAM,EAAE,UAAU,GAAG,EAAE,IAAI,EAAE;AACpC,QAAI,GAAG,IAAI,IAAI,EAAE,GAAG,GAAG,IAAI,CAAC;;AAE5B,QAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC;AAChD,QAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;AACtC,QAAI,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC;GAC5B,CAAC,CAAC;CACJ,CAAC;;AAEF,OAAO,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;AACrC,SAAO,IAAI,CAAC,IAAI,CAAC;CAClB,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/server/status/samples.js",
      "sourcesContent": [
        "import _ from 'lodash';\n\nfunction Samples(max) {\n  this.vals = {};\n  this.max = max || Infinity;\n  this.length = 0;\n}\n\nSamples.prototype.add = function (sample) {\n  const vals = this.vals;\n  const length = this.length = Math.min(this.length + 1, this.max);\n\n  _.forOwn(sample, function (val, name) {\n    if (val == null) val = null;\n\n    if (!vals[name]) vals[name] = new Array(length);\n    vals[name].unshift([Date.now(), val]);\n    vals[name].length = length;\n  });\n};\n\nSamples.prototype.toJSON = function () {\n  return this.vals;\n};\n\nmodule.exports = Samples;\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "joi",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Joi"
              }
            ]
          },
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          },
          {
            "source": "./api_server/server",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "apiServer"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "existsSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "existsSync",
                "local": "existsSync"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "resolve",
              "join",
              "sep"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              },
              {
                "kind": "named",
                "imported": "join",
                "local": "join"
              },
              {
                "kind": "named",
                "imported": "sep",
                "local": "sep"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "has",
              "startsWith",
              "endsWith"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "has",
                "local": "has"
              },
              {
                "kind": "named",
                "imported": "startsWith",
                "local": "startsWith"
              },
              {
                "kind": "named",
                "imported": "endsWith",
                "local": "endsWith"
              }
            ]
          },
          {
            "source": "./server/proxy_config_collection",
            "imported": [
              "ProxyConfigCollection"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "ProxyConfigCollection",
                "local": "ProxyConfigCollection"
              }
            ]
          },
          {
            "source": "./server/elasticsearch_proxy_config",
            "imported": [
              "getElasticsearchProxyConfig"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "getElasticsearchProxyConfig",
                "local": "getElasticsearchProxyConfig"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "extends",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _joi = require('joi');\n\nvar _joi2 = _interopRequireDefault(_joi);\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nvar _api_serverServer = require('./api_server/server');\n\nvar _api_serverServer2 = _interopRequireDefault(_api_serverServer);\n\nvar _fs = require('fs');\n\nvar _path = require('path');\n\nvar _lodash = require('lodash');\n\nvar _serverProxy_config_collection = require('./server/proxy_config_collection');\n\nvar _serverElasticsearch_proxy_config = require('./server/elasticsearch_proxy_config');\n\nexports['default'] = function (kibana) {\n  var modules = (0, _path.resolve)(__dirname, 'public/webpackShims/');\n  var src = (0, _path.resolve)(__dirname, 'public/src/');\n\n  var apps = [];\n\n  if ((0, _fs.existsSync)((0, _path.resolve)(__dirname, 'public/tests'))) {\n    apps.push({\n      title: 'Console Tests',\n      id: 'sense-tests',\n      main: 'plugins/console/tests',\n      hidden: true\n      //listed: false // uncomment after https://github.com/elastic/kibana/pull/4755\n    });\n  }\n\n  return new kibana.Plugin({\n    id: 'console',\n    require: ['elasticsearch'],\n\n    config: function config(Joi) {\n      return Joi.object({\n        enabled: Joi.boolean()['default'](true),\n        proxyFilter: Joi.array().items(Joi.string()).single()['default'](['.*']),\n        ssl: Joi.object({\n          verify: Joi.boolean()\n        })['default'](),\n        proxyConfig: Joi.array().items(Joi.object().keys({\n          match: Joi.object().keys({\n            protocol: Joi.string()['default']('*'),\n            host: Joi.string()['default']('*'),\n            port: Joi.string()['default']('*'),\n            path: Joi.string()['default']('*')\n          }),\n\n          timeout: Joi.number(),\n          ssl: Joi.object().keys({\n            verify: Joi.boolean(),\n            ca: Joi.array().single().items(Joi.string()),\n            cert: Joi.string(),\n            key: Joi.string()\n          })['default']()\n        }))['default']()\n      })['default']();\n    },\n\n    deprecations: function deprecations() {\n      return [function (settings, log) {\n        if ((0, _lodash.has)(settings, 'proxyConfig')) {\n          log('Config key \"proxyConfig\" is deprecated. Configuration can be inferred from the \"elasticsearch\" settings');\n        }\n      }];\n    },\n\n    init: function init(server, options) {\n      var filters = options.proxyFilter.map(function (str) {\n        return new RegExp(str);\n      });\n\n      if (options.ssl && options.ssl.verify) {\n        throw new Error('sense.ssl.verify is no longer supported.');\n      }\n\n      var proxyConfigCollection = new _serverProxy_config_collection.ProxyConfigCollection(options.proxyConfig);\n      var proxyRouteConfig = {\n        validate: {\n          query: _joi2['default'].object().keys({\n            uri: _joi2['default'].string()\n          }).unknown(true)\n        },\n\n        pre: [function filterUri(req, reply) {\n          var uri = req.query.uri;\n\n          if (!filters.some(function (re) {\n            return re.test(uri);\n          })) {\n            var err = _boom2['default'].forbidden();\n            err.output.payload = 'Error connecting to \\'' + uri + '\\':\\n\\nUnable to send requests to that url.';\n            err.output.headers['content-type'] = 'text/plain';\n            reply(err);\n          } else {\n            reply();\n          }\n        }],\n\n        handler: function handler(req, reply) {\n          var baseUri = server.config().get('elasticsearch.url');\n          var path = req.query.uri;\n\n          baseUri = baseUri.replace(/\\/+$/, '');\n          path = path.replace(/^\\/+/, '');\n          var uri = baseUri + '/' + path;\n\n          var requestHeadersWhitelist = server.config().get('elasticsearch.requestHeadersWhitelist');\n          var filterHeaders = server.plugins.elasticsearch.filterHeaders;\n\n          var additionalConfig = undefined;\n          if (server.config().get('console.proxyConfig')) {\n            additionalConfig = proxyConfigCollection.configForUri(uri);\n          } else {\n            additionalConfig = (0, _serverElasticsearch_proxy_config.getElasticsearchProxyConfig)(server);\n          }\n\n          reply.proxy(_extends({\n            mapUri: function mapUri(request, done) {\n              done(null, uri, filterHeaders(request.headers, requestHeadersWhitelist));\n            },\n            xforward: true,\n            onResponse: function onResponse(err, res, request, reply, settings, ttl) {\n              if (err != null) {\n                reply('Error connecting to \\'' + uri + '\\':\\n\\n' + err.message).type('text/plain').statusCode = 502;\n              } else {\n                reply(null, res);\n              }\n            }\n\n          }, additionalConfig));\n        }\n      };\n\n      server.route({\n        path: '/api/console/proxy',\n        method: '*',\n        config: _extends({}, proxyRouteConfig, {\n\n          payload: {\n            output: 'stream',\n            parse: false\n          }\n        })\n      });\n\n      server.route({\n        path: '/api/console/proxy',\n        method: 'GET',\n        config: _extends({}, proxyRouteConfig)\n      });\n\n      server.route({\n        path: '/api/console/api_server',\n        method: ['GET', 'POST'],\n        handler: function handler(req, reply) {\n          var _req$query = req.query;\n          var sense_version = _req$query.sense_version;\n          var apis = _req$query.apis;\n\n          if (!apis) {\n            reply(_boom2['default'].badRequest('\"apis\" is a required param.'));\n            return;\n          }\n\n          return _api_serverServer2['default'].resolveApi(sense_version, apis.split(','), reply);\n        }\n      });\n\n      var testApp = kibana.uiExports.apps.hidden.byId['sense-tests'];\n      if (testApp) {\n        server.route({\n          path: '/app/sense-tests',\n          method: 'GET',\n          handler: function handler(req, reply) {\n            return reply.renderApp(testApp);\n          }\n        });\n      }\n    },\n\n    uiExports: {\n      apps: apps,\n      hacks: ['plugins/console/hacks/register'],\n      devTools: ['plugins/console/console'],\n\n      injectDefaultVars: function injectDefaultVars(server, options) {\n        var varsToInject = options;\n        varsToInject.elasticsearchUrl = server.config().get('elasticsearch.url');\n        return varsToInject;\n      },\n\n      noParse: [(0, _path.join)(modules, 'ace' + _path.sep), (0, _path.join)(modules, 'moment_src/moment' + _path.sep), (0, _path.join)(src, 'sense_editor/mode/worker.js')]\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O21CQUFnQixLQUFLOzs7O29CQUNKLE1BQU07Ozs7Z0NBQ0QscUJBQXFCOzs7O2tCQUNoQixJQUFJOztvQkFDSSxNQUFNOztzQkFDQyxRQUFROzs2Q0FDWixrQ0FBa0M7O2dEQUM1QixxQ0FBcUM7O3FCQUVsRSxVQUFVLE1BQU0sRUFBRTtBQUMvQixNQUFNLE9BQU8sR0FBRyxtQkFBUSxTQUFTLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztBQUMzRCxNQUFNLEdBQUcsR0FBRyxtQkFBUSxTQUFTLEVBQUUsYUFBYSxDQUFDLENBQUM7O0FBRTlDLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQzs7QUFFaEIsTUFBSSxvQkFBVyxtQkFBUSxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUMsRUFBRTtBQUNsRCxRQUFJLENBQUMsSUFBSSxDQUFDO0FBQ1IsV0FBSyxFQUFFLGVBQWU7QUFDdEIsUUFBRSxFQUFFLGFBQWE7QUFDakIsVUFBSSxFQUFFLHVCQUF1QjtBQUM3QixZQUFNLEVBQUUsSUFBSTs7S0FFYixDQUFDLENBQUM7R0FDSjs7QUFFRCxTQUFPLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUN2QixNQUFFLEVBQUUsU0FBUztBQUNiLFdBQU8sRUFBRSxDQUFFLGVBQWUsQ0FBRTs7QUFFNUIsVUFBTSxFQUFFLGdCQUFVLEdBQUcsRUFBRTtBQUNyQixhQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUM7QUFDaEIsZUFBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsV0FBUSxDQUFDLElBQUksQ0FBQztBQUNwQyxtQkFBVyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTSxFQUFFLFdBQVEsQ0FBQyxDQUFDLElBQUksQ0FB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SiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm9pIGZyb20gJ2pvaSc7XG5pbXBvcnQgQm9vbSBmcm9tICdib29tJztcbmltcG9ydCBhcGlTZXJ2ZXIgZnJvbSAnLi9hcGlfc2VydmVyL3NlcnZlcic7XG5pbXBvcnQgeyBleGlzdHNTeW5jIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHsgcmVzb2x2ZSwgam9pbiwgc2VwIH0gZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBoYXMsIHN0YXJ0c1dpdGgsIGVuZHNXaXRoIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFByb3h5Q29uZmlnQ29sbGVjdGlvbiB9IGZyb20gJy4vc2VydmVyL3Byb3h5X2NvbmZpZ19jb2xsZWN0aW9uJztcbmltcG9ydCB7IGdldEVsYXN0aWNzZWFyY2hQcm94eUNvbmZpZyB9IGZyb20gJy4vc2VydmVyL2VsYXN0aWNzZWFyY2hfcHJveHlfY29uZmlnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGtpYmFuYSkge1xuICBjb25zdCBtb2R1bGVzID0gcmVzb2x2ZShfX2Rpcm5hbWUsICdwdWJsaWMvd2VicGFja1NoaW1zLycpO1xuICBjb25zdCBzcmMgPSByZXNvbHZlKF9fZGlybmFtZSwgJ3B1YmxpYy9zcmMvJyk7XG5cbiAgY29uc3QgYXBwcyA9IFtdO1xuXG4gIGlmIChleGlzdHNTeW5jKHJlc29sdmUoX19kaXJuYW1lLCAncHVibGljL3Rlc3RzJykpKSB7XG4gICAgYXBwcy5wdXNoKHtcbiAgICAgIHRpdGxlOiAnQ29uc29sZSBUZXN0cycsXG4gICAgICBpZDogJ3NlbnNlLXRlc3RzJyxcbiAgICAgIG1haW46ICdwbHVnaW5zL2NvbnNvbGUvdGVzdHMnLFxuICAgICAgaGlkZGVuOiB0cnVlXG4gICAgICAvL2xpc3RlZDogZmFsc2UgLy8gdW5jb21tZW50IGFmdGVyIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGFzdGljL2tpYmFuYS9wdWxsLzQ3NTVcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBuZXcga2liYW5hLlBsdWdpbih7XG4gICAgaWQ6ICdjb25zb2xlJyxcbiAgICByZXF1aXJlOiBbICdlbGFzdGljc2VhcmNoJyBdLFxuXG4gICAgY29uZmlnOiBmdW5jdGlvbiAoSm9pKSB7XG4gICAgICByZXR1cm4gSm9pLm9iamVjdCh7XG4gICAgICAgIGVuYWJsZWQ6IEpvaS5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgICAgICAgcHJveHlGaWx0ZXI6IEpvaS5hcnJheSgpLml0ZW1zKEpvaS5zdHJpbmcoKSkuc2luZ2xlKCkuZGVmYXVsdChbJy4qJ10pLFxuICAgICAgICBzc2w6IEpvaS5vYmplY3Qoe1xuICAgICAgICAgIHZlcmlmeTogSm9pLmJvb2xlYW4oKSxcbiAgICAgICAgfSkuZGVmYXVsdCgpLFxuICAgICAgICBwcm94eUNvbmZpZzogSm9pLmFycmF5KCkuaXRlbXMoXG4gICAgICAgICAgSm9pLm9iamVjdCgpLmtleXMoe1xuICAgICAgICAgICAgbWF0Y2g6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgICAgICAgICAgcHJvdG9jb2w6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KCcqJyksXG4gICAgICAgICAgICAgIGhvc3Q6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KCcqJyksXG4gICAgICAgICAgICAgIHBvcnQ6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KCcqJyksXG4gICAgICAgICAgICAgIHBhdGg6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KCcqJylcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICB0aW1lb3V0OiBKb2kubnVtYmVyKCksXG4gICAgICAgICAgICBzc2w6IEpvaS5vYmplY3QoKS5rZXlzKHtcbiAgICAgICAgICAgICAgdmVyaWZ5OiBKb2kuYm9vbGVhbigpLFxuICAgICAgICAgICAgICBjYTogSm9pLmFycmF5KCkuc2luZ2xlKCkuaXRlbXMoSm9pLnN0cmluZygpKSxcbiAgICAgICAgICAgICAgY2VydDogSm9pLnN0cmluZygpLFxuICAgICAgICAgICAgICBrZXk6IEpvaS5zdHJpbmcoKVxuICAgICAgICAgICAgfSkuZGVmYXVsdCgpXG4gICAgICAgICAgfSlcbiAgICAgICAgKS5kZWZhdWx0KClcbiAgICAgIH0pLmRlZmF1bHQoKTtcbiAgICB9LFxuXG4gICAgZGVwcmVjYXRpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAoc2V0dGluZ3MsIGxvZykgPT4ge1xuICAgICAgICAgIGlmIChoYXMoc2V0dGluZ3MsICdwcm94eUNvbmZpZycpKSB7XG4gICAgICAgICAgICBsb2coJ0NvbmZpZyBrZXkgXCJwcm94eUNvbmZpZ1wiIGlzIGRlcHJlY2F0ZWQuIENvbmZpZ3VyYXRpb24gY2FuIGJlIGluZmVycmVkIGZyb20gdGhlIFwiZWxhc3RpY3NlYXJjaFwiIHNldHRpbmdzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdO1xuICAgIH0sXG5cbiAgICBpbml0OiBmdW5jdGlvbiAoc2VydmVyLCBvcHRpb25zKSB7XG4gICAgICBjb25zdCBmaWx0ZXJzID0gb3B0aW9ucy5wcm94eUZpbHRlci5tYXAoc3RyID0+IG5ldyBSZWdFeHAoc3RyKSk7XG5cbiAgICAgIGlmIChvcHRpb25zLnNzbCAmJiBvcHRpb25zLnNzbC52ZXJpZnkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZW5zZS5zc2wudmVyaWZ5IGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByb3h5Q29uZmlnQ29sbGVjdGlvbiA9IG5ldyBQcm94eUNvbmZpZ0NvbGxlY3Rpb24ob3B0aW9ucy5wcm94eUNvbmZpZyk7XG4gICAgICBjb25zdCBwcm94eVJvdXRlQ29uZmlnID0ge1xuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgIHF1ZXJ5OiBKb2kub2JqZWN0KCkua2V5cyh7XG4gICAgICAgICAgICB1cmk6IEpvaS5zdHJpbmcoKVxuICAgICAgICAgIH0pLnVua25vd24odHJ1ZSksXG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJlOiBbXG4gICAgICAgICAgZnVuY3Rpb24gZmlsdGVyVXJpKHJlcSwgcmVwbHkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXJpIH0gPSByZXEucXVlcnk7XG5cbiAgICAgICAgICAgIGlmICghZmlsdGVycy5zb21lKHJlID0+IHJlLnRlc3QodXJpKSkpIHtcbiAgICAgICAgICAgICAgY29uc3QgZXJyID0gQm9vbS5mb3JiaWRkZW4oKTtcbiAgICAgICAgICAgICAgZXJyLm91dHB1dC5wYXlsb2FkID0gYEVycm9yIGNvbm5lY3RpbmcgdG8gJyR7dXJpfSc6XFxuXFxuVW5hYmxlIHRvIHNlbmQgcmVxdWVzdHMgdG8gdGhhdCB1cmwuYDtcbiAgICAgICAgICAgICAgZXJyLm91dHB1dC5oZWFkZXJzWydjb250ZW50LXR5cGUnXSA9ICd0ZXh0L3BsYWluJztcbiAgICAgICAgICAgICAgcmVwbHkoZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlcGx5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdLFxuXG4gICAgICAgIGhhbmRsZXIocmVxLCByZXBseSkge1xuICAgICAgICAgIGxldCBiYXNlVXJpID0gc2VydmVyLmNvbmZpZygpLmdldCgnZWxhc3RpY3NlYXJjaC51cmwnKTtcbiAgICAgICAgICBsZXQgeyB1cmk6cGF0aCB9ID0gcmVxLnF1ZXJ5O1xuXG4gICAgICAgICAgYmFzZVVyaSA9IGJhc2VVcmkucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG4gICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxcLysvLCAnJyk7XG4gICAgICAgICAgY29uc3QgdXJpID0gYmFzZVVyaSArICcvJyArIHBhdGg7XG5cbiAgICAgICAgICBjb25zdCByZXF1ZXN0SGVhZGVyc1doaXRlbGlzdCA9IHNlcnZlci5jb25maWcoKS5nZXQoJ2VsYXN0aWNzZWFyY2gucmVxdWVzdEhlYWRlcnNXaGl0ZWxpc3QnKTtcbiAgICAgICAgICBjb25zdCBmaWx0ZXJIZWFkZXJzID0gc2VydmVyLnBsdWdpbnMuZWxhc3RpY3NlYXJjaC5maWx0ZXJIZWFkZXJzO1xuXG4gICAgICAgICAgbGV0IGFkZGl0aW9uYWxDb25maWc7XG4gICAgICAgICAgaWYgKHNlcnZlci5jb25maWcoKS5nZXQoJ2NvbnNvbGUucHJveHlDb25maWcnKSkge1xuICAgICAgICAgICAgYWRkaXRpb25hbENvbmZpZyA9IHByb3h5Q29uZmlnQ29sbGVjdGlvbi5jb25maWdGb3JVcmkodXJpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkaXRpb25hbENvbmZpZyA9IGdldEVsYXN0aWNzZWFyY2hQcm94eUNvbmZpZyhzZXJ2ZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlcGx5LnByb3h5KHtcbiAgICAgICAgICAgIG1hcFVyaTogZnVuY3Rpb24gKHJlcXVlc3QsIGRvbmUpIHtcbiAgICAgICAgICAgICAgZG9uZShudWxsLCB1cmksIGZpbHRlckhlYWRlcnMocmVxdWVzdC5oZWFkZXJzLCByZXF1ZXN0SGVhZGVyc1doaXRlbGlzdCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHhmb3J3YXJkOiB0cnVlLFxuICAgICAgICAgICAgb25SZXNwb25zZShlcnIsIHJlcywgcmVxdWVzdCwgcmVwbHksIHNldHRpbmdzLCB0dGwpIHtcbiAgICAgICAgICAgICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVwbHkoYEVycm9yIGNvbm5lY3RpbmcgdG8gJyR7dXJpfSc6XFxuXFxuJHtlcnIubWVzc2FnZX1gKS50eXBlKCd0ZXh0L3BsYWluJykuc3RhdHVzQ29kZSA9IDUwMjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXBseShudWxsLCByZXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAuLi5hZGRpdGlvbmFsQ29uZmlnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNlcnZlci5yb3V0ZSh7XG4gICAgICAgIHBhdGg6ICcvYXBpL2NvbnNvbGUvcHJveHknLFxuICAgICAgICBtZXRob2Q6ICcqJyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgLi4ucHJveHlSb3V0ZUNvbmZpZyxcblxuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIG91dHB1dDogJ3N0cmVhbScsXG4gICAgICAgICAgICBwYXJzZTogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzZXJ2ZXIucm91dGUoe1xuICAgICAgICBwYXRoOiAnL2FwaS9jb25zb2xlL3Byb3h5JyxcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgLi4ucHJveHlSb3V0ZUNvbmZpZ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2VydmVyLnJvdXRlKHtcbiAgICAgICAgcGF0aDogJy9hcGkvY29uc29sZS9hcGlfc2VydmVyJyxcbiAgICAgICAgbWV0aG9kOiBbJ0dFVCcsICdQT1NUJ10sXG4gICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChyZXEsIHJlcGx5KSB7XG4gICAgICAgICAgY29uc3QgeyBzZW5zZV92ZXJzaW9uLCBhcGlzIH0gPSByZXEucXVlcnk7XG4gICAgICAgICAgaWYgKCFhcGlzKSB7XG4gICAgICAgICAgICByZXBseShCb29tLmJhZFJlcXVlc3QoJ1wiYXBpc1wiIGlzIGEgcmVxdWlyZWQgcGFyYW0uJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBhcGlTZXJ2ZXIucmVzb2x2ZUFwaShzZW5zZV92ZXJzaW9uLCBhcGlzLnNwbGl0KCcsJyksIHJlcGx5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHRlc3RBcHAgPSBraWJhbmEudWlFeHBvcnRzLmFwcHMuaGlkZGVuLmJ5SWRbJ3NlbnNlLXRlc3RzJ107XG4gICAgICBpZiAodGVzdEFwcCkge1xuICAgICAgICBzZXJ2ZXIucm91dGUoe1xuICAgICAgICAgIHBhdGg6ICcvYXBwL3NlbnNlLXRlc3RzJyxcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChyZXEsIHJlcGx5KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVwbHkucmVuZGVyQXBwKHRlc3RBcHApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHVpRXhwb3J0czoge1xuICAgICAgYXBwczogYXBwcyxcbiAgICAgIGhhY2tzOiBbJ3BsdWdpbnMvY29uc29sZS9oYWNrcy9yZWdpc3RlciddLFxuICAgICAgZGV2VG9vbHM6IFsncGx1Z2lucy9jb25zb2xlL2NvbnNvbGUnXSxcblxuICAgICAgaW5qZWN0RGVmYXVsdFZhcnMoc2VydmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHZhcnNUb0luamVjdCA9IG9wdGlvbnM7XG4gICAgICAgIHZhcnNUb0luamVjdC5lbGFzdGljc2VhcmNoVXJsID0gc2VydmVyLmNvbmZpZygpLmdldCgnZWxhc3RpY3NlYXJjaC51cmwnKTtcbiAgICAgICAgcmV0dXJuIHZhcnNUb0luamVjdDtcbiAgICAgIH0sXG5cbiAgICAgIG5vUGFyc2U6IFtcbiAgICAgICAgam9pbihtb2R1bGVzLCAnYWNlJyArIHNlcCksXG4gICAgICAgIGpvaW4obW9kdWxlcywgJ21vbWVudF9zcmMvbW9tZW50JyArIHNlcCksXG4gICAgICAgIGpvaW4oc3JjLCAnc2Vuc2VfZWRpdG9yL21vZGUvd29ya2VyLmpzJylcbiAgICAgIF1cbiAgICB9XG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/index.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/index.js",
      "sourcesContent": [
        "import Joi from 'joi';\nimport Boom from 'boom';\nimport apiServer from './api_server/server';\nimport { existsSync } from 'fs';\nimport { resolve, join, sep } from 'path';\nimport { has, startsWith, endsWith } from 'lodash';\nimport { ProxyConfigCollection } from './server/proxy_config_collection';\nimport { getElasticsearchProxyConfig } from './server/elasticsearch_proxy_config';\n\nexport default function (kibana) {\n  const modules = resolve(__dirname, 'public/webpackShims/');\n  const src = resolve(__dirname, 'public/src/');\n\n  const apps = [];\n\n  if (existsSync(resolve(__dirname, 'public/tests'))) {\n    apps.push({\n      title: 'Console Tests',\n      id: 'sense-tests',\n      main: 'plugins/console/tests',\n      hidden: true\n      //listed: false // uncomment after https://github.com/elastic/kibana/pull/4755\n    });\n  }\n\n  return new kibana.Plugin({\n    id: 'console',\n    require: [ 'elasticsearch' ],\n\n    config: function (Joi) {\n      return Joi.object({\n        enabled: Joi.boolean().default(true),\n        proxyFilter: Joi.array().items(Joi.string()).single().default(['.*']),\n        ssl: Joi.object({\n          verify: Joi.boolean(),\n        }).default(),\n        proxyConfig: Joi.array().items(\n          Joi.object().keys({\n            match: Joi.object().keys({\n              protocol: Joi.string().default('*'),\n              host: Joi.string().default('*'),\n              port: Joi.string().default('*'),\n              path: Joi.string().default('*')\n            }),\n\n            timeout: Joi.number(),\n            ssl: Joi.object().keys({\n              verify: Joi.boolean(),\n              ca: Joi.array().single().items(Joi.string()),\n              cert: Joi.string(),\n              key: Joi.string()\n            }).default()\n          })\n        ).default()\n      }).default();\n    },\n\n    deprecations: function () {\n      return [\n        (settings, log) => {\n          if (has(settings, 'proxyConfig')) {\n            log('Config key \"proxyConfig\" is deprecated. Configuration can be inferred from the \"elasticsearch\" settings');\n          }\n        }\n      ];\n    },\n\n    init: function (server, options) {\n      const filters = options.proxyFilter.map(str => new RegExp(str));\n\n      if (options.ssl && options.ssl.verify) {\n        throw new Error('sense.ssl.verify is no longer supported.');\n      }\n\n      const proxyConfigCollection = new ProxyConfigCollection(options.proxyConfig);\n      const proxyRouteConfig = {\n        validate: {\n          query: Joi.object().keys({\n            uri: Joi.string()\n          }).unknown(true),\n        },\n\n        pre: [\n          function filterUri(req, reply) {\n            const { uri } = req.query;\n\n            if (!filters.some(re => re.test(uri))) {\n              const err = Boom.forbidden();\n              err.output.payload = `Error connecting to '${uri}':\\n\\nUnable to send requests to that url.`;\n              err.output.headers['content-type'] = 'text/plain';\n              reply(err);\n            } else {\n              reply();\n            }\n          }\n        ],\n\n        handler(req, reply) {\n          let baseUri = server.config().get('elasticsearch.url');\n          let { uri:path } = req.query;\n\n          baseUri = baseUri.replace(/\\/+$/, '');\n          path = path.replace(/^\\/+/, '');\n          const uri = baseUri + '/' + path;\n\n          const requestHeadersWhitelist = server.config().get('elasticsearch.requestHeadersWhitelist');\n          const filterHeaders = server.plugins.elasticsearch.filterHeaders;\n\n          let additionalConfig;\n          if (server.config().get('console.proxyConfig')) {\n            additionalConfig = proxyConfigCollection.configForUri(uri);\n          } else {\n            additionalConfig = getElasticsearchProxyConfig(server);\n          }\n\n          reply.proxy({\n            mapUri: function (request, done) {\n              done(null, uri, filterHeaders(request.headers, requestHeadersWhitelist));\n            },\n            xforward: true,\n            onResponse(err, res, request, reply, settings, ttl) {\n              if (err != null) {\n                reply(`Error connecting to '${uri}':\\n\\n${err.message}`).type('text/plain').statusCode = 502;\n              } else {\n                reply(null, res);\n              }\n            },\n\n            ...additionalConfig\n          });\n        }\n      };\n\n      server.route({\n        path: '/api/console/proxy',\n        method: '*',\n        config: {\n          ...proxyRouteConfig,\n\n          payload: {\n            output: 'stream',\n            parse: false\n          }\n        }\n      });\n\n      server.route({\n        path: '/api/console/proxy',\n        method: 'GET',\n        config: {\n          ...proxyRouteConfig\n        }\n      });\n\n      server.route({\n        path: '/api/console/api_server',\n        method: ['GET', 'POST'],\n        handler: function (req, reply) {\n          const { sense_version, apis } = req.query;\n          if (!apis) {\n            reply(Boom.badRequest('\"apis\" is a required param.'));\n            return;\n          }\n\n          return apiServer.resolveApi(sense_version, apis.split(','), reply);\n        }\n      });\n\n      const testApp = kibana.uiExports.apps.hidden.byId['sense-tests'];\n      if (testApp) {\n        server.route({\n          path: '/app/sense-tests',\n          method: 'GET',\n          handler: function (req, reply) {\n            return reply.renderApp(testApp);\n          }\n        });\n      }\n    },\n\n    uiExports: {\n      apps: apps,\n      hacks: ['plugins/console/hacks/register'],\n      devTools: ['plugins/console/console'],\n\n      injectDefaultVars(server, options) {\n        const varsToInject = options;\n        varsToInject.elasticsearchUrl = server.config().get('elasticsearch.url');\n        return varsToInject;\n      },\n\n      noParse: [\n        join(modules, 'ace' + sep),\n        join(modules, 'moment_src/moment' + sep),\n        join(src, 'sense_editor/mode/worker.js')\n      ]\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/server.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar _ = require(\"lodash\");\n\nmodule.exports.resolveApi = function (sense_version, apis, reply) {\n  var result = {};\n  _.each(apis, function (name) {\n    {\n      // for now we ignore sense_version. might add it in the api name later\n      var api = require('./' + name);\n      result[name] = api.asJson();\n    }\n  });\n\n  return reply(result).type(\"application/json\");\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL3NlcnZlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFMUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEdBQUcsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRTtBQUNoRSxNQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDaEIsR0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsVUFBVSxJQUFJLEVBQUU7QUFDM0I7O0FBRUUsVUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztBQUMvQixZQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQzdCO0dBQ0YsQ0FBQyxDQUFDOztBQUVILFNBQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0NBQy9DLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9jb25zb2xlL2FwaV9zZXJ2ZXIvc2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5tb2R1bGUuZXhwb3J0cy5yZXNvbHZlQXBpID0gZnVuY3Rpb24gKHNlbnNlX3ZlcnNpb24sIGFwaXMsIHJlcGx5KSB7XG4gIGxldCByZXN1bHQgPSB7fTtcbiAgXy5lYWNoKGFwaXMsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAge1xuICAgICAgLy8gZm9yIG5vdyB3ZSBpZ25vcmUgc2Vuc2VfdmVyc2lvbi4gbWlnaHQgYWRkIGl0IGluIHRoZSBhcGkgbmFtZSBsYXRlclxuICAgICAgbGV0IGFwaSA9IHJlcXVpcmUoJy4vJyArIG5hbWUpO1xuICAgICAgcmVzdWx0W25hbWVdID0gYXBpLmFzSnNvbigpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlcGx5KHJlc3VsdCkudHlwZShcImFwcGxpY2F0aW9uL2pzb25cIik7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/server.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE1B,MAAM,CAAC,OAAO,CAAC,UAAU,GAAG,UAAU,aAAa,EAAE,IAAI,EAAE,KAAK,EAAE;AAChE,MAAI,MAAM,GAAG,EAAE,CAAC;AAChB,GAAC,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,IAAI,EAAE;AAC3B;;AAEE,UAAI,GAAG,GAAG,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;AAC/B,YAAM,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC;KAC7B;GACF,CAAC,CAAC;;AAEH,SAAO,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;CAC/C,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/server.js",
      "sourcesContent": [
        "let _ = require(\"lodash\");\n\nmodule.exports.resolveApi = function (sense_version, apis, reply) {\n  let result = {};\n  _.each(apis, function (name) {\n    {\n      // for now we ignore sense_version. might add it in the api name later\n      let api = require('./' + name);\n      result[name] = api.asJson();\n    }\n  });\n\n  return reply(result).type(\"application/json\");\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/server/proxy_config_collection.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "defaultsDeep"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "defaultsDeep",
                "local": "defaultsDeep"
              }
            ]
          },
          {
            "source": "./proxy_config",
            "imported": [
              "ProxyConfig"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "ProxyConfig",
                "local": "ProxyConfig"
              }
            ]
          },
          {
            "source": "url",
            "imported": [
              "parse"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "parse",
                "local": "parseUrl"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ProxyConfigCollection"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ProxyConfigCollection",
              "exported": "ProxyConfigCollection"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "to-consumable-array"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _proxy_config = require('./proxy_config');\n\nvar _url = require('url');\n\nvar ProxyConfigCollection = (function () {\n  function ProxyConfigCollection() {\n    var configs = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n    _classCallCheck(this, ProxyConfigCollection);\n\n    this.configs = configs.map(function (settings) {\n      return new _proxy_config.ProxyConfig(settings);\n    });\n  }\n\n  _createClass(ProxyConfigCollection, [{\n    key: 'configForUri',\n    value: function configForUri(uri) {\n      var parsedUri = (0, _url.parse)(uri);\n      var settings = this.configs.map(function (config) {\n        return config.getForParsedUri(parsedUri);\n      });\n      return _lodash.defaultsDeep.apply(undefined, [{}].concat(_toConsumableArray(settings)));\n    }\n  }]);\n\n  return ProxyConfigCollection;\n})();\n\nexports.ProxyConfigCollection = ProxyConfigCollection;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9zZXJ2ZXIvcHJveHlfY29uZmlnX2NvbGxlY3Rpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O3NCQUE2QixRQUFROzs0QkFFVCxnQkFBZ0I7O21CQUNWLEtBQUs7O0lBRzFCLHFCQUFxQjtBQUNyQixXQURBLHFCQUFxQixHQUNOO1FBQWQsT0FBTyx5REFBRyxFQUFFOzswQkFEYixxQkFBcUI7O0FBRTlCLFFBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFBLFFBQVE7YUFBSSw4QkFBZ0IsUUFBUSxDQUFDO0tBQUEsQ0FBQyxDQUFDO0dBQ25FOztlQUhVLHFCQUFxQjs7V0FLcEIsc0JBQUMsR0FBRyxFQUFFO0FBQ2hCLFVBQU0sU0FBUyxHQUFHLGdCQUFTLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLFVBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQUEsTUFBTTtlQUFJLE1BQU0sQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDO09BQUEsQ0FBQyxDQUFDO0FBQy9FLGFBQU8sdUNBQWEsRUFBRSw0QkFBSyxRQUFRLEdBQUMsQ0FBQztLQUN0Qzs7O1NBVFUscUJBQXFCIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9zZXJ2ZXIvcHJveHlfY29uZmlnX2NvbGxlY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0c0RlZXAgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBQcm94eUNvbmZpZyB9IGZyb20gJy4vcHJveHlfY29uZmlnJztcbmltcG9ydCB7IHBhcnNlIGFzIHBhcnNlVXJsIH0gZnJvbSAndXJsJztcblxuXG5leHBvcnQgY2xhc3MgUHJveHlDb25maWdDb2xsZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoY29uZmlncyA9IFtdKSB7XG4gICAgdGhpcy5jb25maWdzID0gY29uZmlncy5tYXAoc2V0dGluZ3MgPT4gbmV3IFByb3h5Q29uZmlnKHNldHRpbmdzKSk7XG4gIH1cblxuICBjb25maWdGb3JVcmkodXJpKSB7XG4gICAgY29uc3QgcGFyc2VkVXJpID0gcGFyc2VVcmwodXJpKTtcbiAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuY29uZmlncy5tYXAoY29uZmlnID0+IGNvbmZpZy5nZXRGb3JQYXJzZWRVcmkocGFyc2VkVXJpKSk7XG4gICAgcmV0dXJuIGRlZmF1bHRzRGVlcCh7fSwgLi4uc2V0dGluZ3MpO1xuICB9XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/server/proxy_config_collection.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;sBAA6B,QAAQ;;4BAET,gBAAgB;;mBACV,KAAK;;IAG1B,qBAAqB;AACrB,WADA,qBAAqB,GACN;QAAd,OAAO,yDAAG,EAAE;;0BADb,qBAAqB;;AAE9B,QAAI,CAAC,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,UAAA,QAAQ;aAAI,8BAAgB,QAAQ,CAAC;KAAA,CAAC,CAAC;GACnE;;eAHU,qBAAqB;;WAKpB,sBAAC,GAAG,EAAE;AAChB,UAAM,SAAS,GAAG,gBAAS,GAAG,CAAC,CAAC;AAChC,UAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAA,MAAM;eAAI,MAAM,CAAC,eAAe,CAAC,SAAS,CAAC;OAAA,CAAC,CAAC;AAC/E,aAAO,uCAAa,EAAE,4BAAK,QAAQ,GAAC,CAAC;KACtC;;;SATU,qBAAqB",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/server/proxy_config_collection.js",
      "sourcesContent": [
        "import { defaultsDeep } from 'lodash';\n\nimport { ProxyConfig } from './proxy_config';\nimport { parse as parseUrl } from 'url';\n\n\nexport class ProxyConfigCollection {\n  constructor(configs = []) {\n    this.configs = configs.map(settings => new ProxyConfig(settings));\n  }\n\n  configForUri(uri) {\n    const parsedUri = parseUrl(uri);\n    const settings = this.configs.map(config => config.getForParsedUri(parsedUri));\n    return defaultsDeep({}, ...settings);\n  }\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/server/proxy_config.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "memoize",
              "values"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "memoize",
                "local": "memoize"
              },
              {
                "kind": "named",
                "imported": "values",
                "local": "values"
              }
            ]
          },
          {
            "source": "url",
            "imported": [
              "format"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "format",
                "local": "formatUrl"
              }
            ]
          },
          {
            "source": "https",
            "imported": [
              "Agent"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Agent",
                "local": "HttpsAgent"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "readFileSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readFileSync",
                "local": "readFileSync"
              }
            ]
          },
          {
            "source": "./wildcard_matcher",
            "imported": [
              "WildcardMatcher"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "WildcardMatcher",
                "local": "WildcardMatcher"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ProxyConfig"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ProxyConfig",
              "exported": "ProxyConfig"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _lodash = require('lodash');\n\nvar _url = require('url');\n\nvar _https = require('https');\n\nvar _fs = require('fs');\n\nvar _wildcard_matcher = require('./wildcard_matcher');\n\nvar makeHttpsAgent = (0, _lodash.memoize)(function (opts) {\n  return new _https.Agent(opts);\n}, function (opts) {\n  return JSON.stringify(opts);\n});\n\nvar ProxyConfig = (function () {\n  function ProxyConfig(config) {\n    _classCallCheck(this, ProxyConfig);\n\n    config = Object.assign({}, config);\n\n    // -----\n    // read \"match\" info\n    // -----\n    var rawMatches = Object.assign({}, config.match);\n    this.id = (0, _url.format)({\n      protocol: rawMatches.protocol,\n      hostname: rawMatches.host,\n      port: rawMatches.port,\n      pathname: rawMatches.path\n    }) || '*';\n\n    this.matchers = {\n      protocol: new _wildcard_matcher.WildcardMatcher(rawMatches.protocol),\n      host: new _wildcard_matcher.WildcardMatcher(rawMatches.host),\n      port: new _wildcard_matcher.WildcardMatcher(rawMatches.port),\n      path: new _wildcard_matcher.WildcardMatcher(rawMatches.path, '/')\n    };\n\n    // -----\n    // read config vars\n    // -----\n    this.timeout = config.timeout;\n    this.sslAgent = this._makeSslAgent(config);\n  }\n\n  _createClass(ProxyConfig, [{\n    key: '_makeSslAgent',\n    value: function _makeSslAgent(config) {\n      var ssl = config.ssl || {};\n      this.verifySsl = ssl.verify;\n\n      var sslAgentOpts = {\n        ca: ssl.ca && ssl.ca.map(function (ca) {\n          return (0, _fs.readFileSync)(ca);\n        }),\n        cert: ssl.cert && (0, _fs.readFileSync)(ssl.cert),\n        key: ssl.key && (0, _fs.readFileSync)(ssl.key)\n      };\n\n      if ((0, _lodash.values)(sslAgentOpts).filter(Boolean).length) {\n        return new _https.Agent(sslAgentOpts);\n      }\n    }\n  }, {\n    key: 'getForParsedUri',\n    value: function getForParsedUri(_ref) {\n      var protocol = _ref.protocol;\n      var hostname = _ref.hostname;\n      var port = _ref.port;\n      var pathname = _ref.pathname;\n\n      var match = this.matchers.protocol.match(protocol.slice(0, -1));\n      match = match && this.matchers.host.match(hostname);\n      match = match && this.matchers.port.match(port);\n      match = match && this.matchers.path.match(pathname);\n\n      if (!match) return {};\n      return {\n        timeout: this.timeout,\n        rejectUnauthorized: this.sslAgent ? true : this.verifySsl,\n        agent: protocol === 'https:' ? this.sslAgent : undefined\n      };\n    }\n  }]);\n\n  return ProxyConfig;\n})();\n\nexports.ProxyConfig = ProxyConfig;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9zZXJ2ZXIvcHJveHlfY29uZmlnLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7c0JBQWdDLFFBQVE7O21CQUNKLEtBQUs7O3FCQUNMLE9BQU87O2tCQUNkLElBQUk7O2dDQUVELG9CQUFvQjs7QUFFcEQsSUFBTSxjQUFjLEdBQUcscUJBQ3JCLFVBQUEsSUFBSTtTQUFJLGlCQUFlLElBQUksQ0FBQztDQUFBLEVBQzVCLFVBQUEsSUFBSTtTQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO0NBQUEsQ0FDN0IsQ0FBQzs7SUFFVyxXQUFXO0FBQ1gsV0FEQSxXQUFXLENBQ1YsTUFBTSxFQUFFOzBCQURULFdBQVc7O0FBRXBCLFVBQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQzs7Ozs7QUFLbkMsUUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ25ELFFBQUksQ0FBQyxFQUFFLEdBQUcsaUJBQVU7QUFDbEIsY0FBUSxFQUFFLFVBQVUsQ0FBQyxRQUFRO0FBQzdCLGNBQVEsRUFBRSxVQUFVLENBQUMsSUFBSTtBQUN6QixVQUFJLEVBQUUsVUFBVSxDQUFDLElBQUk7QUFDckIsY0FBUSxFQUFFLFVBQVUsQ0FBQyxJQUFJO0tBQzFCLENBQUMsSUFBSSxHQUFHLENBQUM7O0FBRVYsUUFBSSxDQUFDLFFBQVEsR0FBRztBQUNkLGNBQVEsRUFBRSxzQ0FBb0IsVUFBVSxDQUFDLFFBQVEsQ0FBQztBQUNsRCxVQUFJLEVBQUUsc0NBQW9CLFVBQVUsQ0FBQyxJQUFJLENBQUM7QUFDMUMsVUFBSSxFQUFFLHNDQUFvQixVQUFVLENBQUMsSUFBSSxDQUFDO0FBQzFDLFVBQUksRUFBRSxzQ0FBb0IsVUFBVSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUM7S0FDaEQsQ0FBQzs7Ozs7QUFLRixRQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUM7QUFDOUIsUUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0dBQzVDOztlQTNCVSxXQUFXOztXQTZCVCx1QkFBQyxNQUFNLEVBQUU7QUFDcEIsVUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUM7QUFDN0IsVUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDOztBQUU1QixVQUFNLFlBQVksR0FBRztBQUNuQixVQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxVQUFBLEVBQUU7aUJBQUksc0JBQWEsRUFBRSxDQUFDO1NBQUEsQ0FBQztBQUNoRCxZQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksSUFBSSxzQkFBYSxHQUFHLENBQUMsSUFBSSxDQUFDO0FBQ3hDLFdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxJQUFJLHNCQUFhLEdBQUcsQ0FBQyxHQUFHLENBQUM7T0FDdEMsQ0FBQzs7QUFFRixVQUFJLG9CQUFPLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUU7QUFDL0MsZUFBTyxpQkFBZSxZQUFZLENBQUMsQ0FBQztPQUNyQztLQUNGOzs7V0FFYyx5QkFBQyxJQUFzQyxFQUFFO1VBQXRDLFFBQVEsR0FBVixJQUFzQyxDQUFwQyxRQUFRO1VBQUUsUUFBUSxHQUFwQixJQUFzQyxDQUExQixRQUFRO1VBQUUsSUFBSSxHQUExQixJQUFzQyxDQUFoQixJQUFJO1VBQUUsUUFBUSxHQUFwQyxJQUFzQyxDQUFWLFFBQVE7O0FBQ2xELFVBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDaEUsV0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDcEQsV0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDaEQsV0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRXBELFVBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLENBQUM7QUFDdEIsYUFBTztBQUNMLGVBQU8sRUFBRSxJQUFJLENBQUMsT0FBTztBQUNyQiwwQkFBa0IsRUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUztBQUN6RCxhQUFLLEVBQUUsUUFBUSxLQUFLLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVM7T0FDekQsQ0FBQztLQUNIOzs7U0F4RFUsV0FBVyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvc2VydmVyL3Byb3h5X2NvbmZpZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1lbW9pemUsIHZhbHVlcyB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0VXJsIH0gZnJvbSAndXJsJztcbmltcG9ydCB7IEFnZW50IGFzIEh0dHBzQWdlbnQgfSBmcm9tICdodHRwcyc7XG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5cbmltcG9ydCB7IFdpbGRjYXJkTWF0Y2hlciB9IGZyb20gJy4vd2lsZGNhcmRfbWF0Y2hlcic7XG5cbmNvbnN0IG1ha2VIdHRwc0FnZW50ID0gbWVtb2l6ZShcbiAgb3B0cyA9PiBuZXcgSHR0cHNBZ2VudChvcHRzKSxcbiAgb3B0cyA9PiBKU09OLnN0cmluZ2lmeShvcHRzKVxuKTtcblxuZXhwb3J0IGNsYXNzIFByb3h5Q29uZmlnIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgY29uZmlnKTtcblxuICAgIC8vIC0tLS0tXG4gICAgLy8gcmVhZCBcIm1hdGNoXCIgaW5mb1xuICAgIC8vIC0tLS0tXG4gICAgY29uc3QgcmF3TWF0Y2hlcyA9IE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZy5tYXRjaCk7XG4gICAgdGhpcy5pZCA9IGZvcm1hdFVybCh7XG4gICAgICBwcm90b2NvbDogcmF3TWF0Y2hlcy5wcm90b2NvbCxcbiAgICAgIGhvc3RuYW1lOiByYXdNYXRjaGVzLmhvc3QsXG4gICAgICBwb3J0OiByYXdNYXRjaGVzLnBvcnQsXG4gICAgICBwYXRobmFtZTogcmF3TWF0Y2hlcy5wYXRoXG4gICAgfSkgfHwgJyonO1xuXG4gICAgdGhpcy5tYXRjaGVycyA9IHtcbiAgICAgIHByb3RvY29sOiBuZXcgV2lsZGNhcmRNYXRjaGVyKHJhd01hdGNoZXMucHJvdG9jb2wpLFxuICAgICAgaG9zdDogbmV3IFdpbGRjYXJkTWF0Y2hlcihyYXdNYXRjaGVzLmhvc3QpLFxuICAgICAgcG9ydDogbmV3IFdpbGRjYXJkTWF0Y2hlcihyYXdNYXRjaGVzLnBvcnQpLFxuICAgICAgcGF0aDogbmV3IFdpbGRjYXJkTWF0Y2hlcihyYXdNYXRjaGVzLnBhdGgsICcvJyksXG4gICAgfTtcblxuICAgIC8vIC0tLS0tXG4gICAgLy8gcmVhZCBjb25maWcgdmFyc1xuICAgIC8vIC0tLS0tXG4gICAgdGhpcy50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG4gICAgdGhpcy5zc2xBZ2VudCA9IHRoaXMuX21ha2VTc2xBZ2VudChjb25maWcpO1xuICB9XG5cbiAgX21ha2VTc2xBZ2VudChjb25maWcpIHtcbiAgICBjb25zdCBzc2wgPSBjb25maWcuc3NsIHx8IHt9O1xuICAgIHRoaXMudmVyaWZ5U3NsID0gc3NsLnZlcmlmeTtcblxuICAgIGNvbnN0IHNzbEFnZW50T3B0cyA9IHtcbiAgICAgIGNhOiBzc2wuY2EgJiYgc3NsLmNhLm1hcChjYSA9PiByZWFkRmlsZVN5bmMoY2EpKSxcbiAgICAgIGNlcnQ6IHNzbC5jZXJ0ICYmIHJlYWRGaWxlU3luYyhzc2wuY2VydCksXG4gICAgICBrZXk6IHNzbC5rZXkgJiYgcmVhZEZpbGVTeW5jKHNzbC5rZXkpLFxuICAgIH07XG5cbiAgICBpZiAodmFsdWVzKHNzbEFnZW50T3B0cykuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG5ldyBIdHRwc0FnZW50KHNzbEFnZW50T3B0cyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Rm9yUGFyc2VkVXJpKHsgcHJvdG9jb2wsIGhvc3RuYW1lLCBwb3J0LCBwYXRobmFtZSB9KSB7XG4gICAgbGV0IG1hdGNoID0gdGhpcy5tYXRjaGVycy5wcm90b2NvbC5tYXRjaChwcm90b2NvbC5zbGljZSgwLCAtMSkpO1xuICAgIG1hdGNoID0gbWF0Y2ggJiYgdGhpcy5tYXRjaGVycy5ob3N0Lm1hdGNoKGhvc3RuYW1lKTtcbiAgICBtYXRjaCA9IG1hdGNoICYmIHRoaXMubWF0Y2hlcnMucG9ydC5tYXRjaChwb3J0KTtcbiAgICBtYXRjaCA9IG1hdGNoICYmIHRoaXMubWF0Y2hlcnMucGF0aC5tYXRjaChwYXRobmFtZSk7XG5cbiAgICBpZiAoIW1hdGNoKSByZXR1cm4ge307XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWVvdXQ6IHRoaXMudGltZW91dCxcbiAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogdGhpcy5zc2xBZ2VudCA/IHRydWUgOiB0aGlzLnZlcmlmeVNzbCxcbiAgICAgIGFnZW50OiBwcm90b2NvbCA9PT0gJ2h0dHBzOicgPyB0aGlzLnNzbEFnZW50IDogdW5kZWZpbmVkXG4gICAgfTtcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/server/proxy_config.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/server/proxy_config.js",
      "sourcesContent": [
        "import { memoize, values } from 'lodash';\nimport { format as formatUrl } from 'url';\nimport { Agent as HttpsAgent } from 'https';\nimport { readFileSync } from 'fs';\n\nimport { WildcardMatcher } from './wildcard_matcher';\n\nconst makeHttpsAgent = memoize(\n  opts => new HttpsAgent(opts),\n  opts => JSON.stringify(opts)\n);\n\nexport class ProxyConfig {\n  constructor(config) {\n    config = Object.assign({}, config);\n\n    // -----\n    // read \"match\" info\n    // -----\n    const rawMatches = Object.assign({}, config.match);\n    this.id = formatUrl({\n      protocol: rawMatches.protocol,\n      hostname: rawMatches.host,\n      port: rawMatches.port,\n      pathname: rawMatches.path\n    }) || '*';\n\n    this.matchers = {\n      protocol: new WildcardMatcher(rawMatches.protocol),\n      host: new WildcardMatcher(rawMatches.host),\n      port: new WildcardMatcher(rawMatches.port),\n      path: new WildcardMatcher(rawMatches.path, '/'),\n    };\n\n    // -----\n    // read config vars\n    // -----\n    this.timeout = config.timeout;\n    this.sslAgent = this._makeSslAgent(config);\n  }\n\n  _makeSslAgent(config) {\n    const ssl = config.ssl || {};\n    this.verifySsl = ssl.verify;\n\n    const sslAgentOpts = {\n      ca: ssl.ca && ssl.ca.map(ca => readFileSync(ca)),\n      cert: ssl.cert && readFileSync(ssl.cert),\n      key: ssl.key && readFileSync(ssl.key),\n    };\n\n    if (values(sslAgentOpts).filter(Boolean).length) {\n      return new HttpsAgent(sslAgentOpts);\n    }\n  }\n\n  getForParsedUri({ protocol, hostname, port, pathname }) {\n    let match = this.matchers.protocol.match(protocol.slice(0, -1));\n    match = match && this.matchers.host.match(hostname);\n    match = match && this.matchers.port.match(port);\n    match = match && this.matchers.path.match(pathname);\n\n    if (!match) return {};\n    return {\n      timeout: this.timeout,\n      rejectUnauthorized: this.sslAgent ? true : this.verifySsl,\n      agent: protocol === 'https:' ? this.sslAgent : undefined\n    };\n  }\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/server/wildcard_matcher.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "minimatch",
            "imported": [
              "Minimatch"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Minimatch",
                "local": "Minimatch"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "WildcardMatcher"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "WildcardMatcher",
              "exported": "WildcardMatcher"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _minimatch = require('minimatch');\n\nvar WildcardMatcher = (function () {\n  function WildcardMatcher(wildcardPattern, emptyVal) {\n    _classCallCheck(this, WildcardMatcher);\n\n    this.emptyVal = emptyVal;\n    this.pattern = String(wildcardPattern || '*');\n    this.matcher = new _minimatch.Minimatch(this.pattern, {\n      noglobstar: true,\n      dot: true,\n      nocase: true,\n      matchBase: true,\n      nocomment: true\n    });\n  }\n\n  _createClass(WildcardMatcher, [{\n    key: 'match',\n    value: function match(candidate) {\n      var empty = !candidate || candidate === this.emptyVal;\n      if (empty && this.pattern === '*') {\n        return true;\n      }\n\n      return this.matcher.match(candidate || '');\n    }\n  }]);\n\n  return WildcardMatcher;\n})();\n\nexports.WildcardMatcher = WildcardMatcher;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9zZXJ2ZXIvd2lsZGNhcmRfbWF0Y2hlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3lCQUEwQixXQUFXOztJQUV4QixlQUFlO0FBQ2YsV0FEQSxlQUFlLENBQ2QsZUFBZSxFQUFFLFFBQVEsRUFBRTswQkFENUIsZUFBZTs7QUFFeEIsUUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDekIsUUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsZUFBZSxJQUFJLEdBQUcsQ0FBQyxDQUFDO0FBQzlDLFFBQUksQ0FBQyxPQUFPLEdBQUcseUJBQWMsSUFBSSxDQUFDLE9BQU8sRUFBRTtBQUN6QyxnQkFBVSxFQUFFLElBQUk7QUFDaEIsU0FBRyxFQUFFLElBQUk7QUFDVCxZQUFNLEVBQUUsSUFBSTtBQUNaLGVBQVMsRUFBRSxJQUFJO0FBQ2YsZUFBUyxFQUFFLElBQUk7S0FDaEIsQ0FBQyxDQUFDO0dBQ0o7O2VBWFUsZUFBZTs7V0FhckIsZUFBQyxTQUFTLEVBQUU7QUFDZixVQUFNLEtBQUssR0FBRyxDQUFDLFNBQVMsSUFBSSxTQUFTLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQztBQUN4RCxVQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEdBQUcsRUFBRTtBQUNqQyxlQUFPLElBQUksQ0FBQztPQUNiOztBQUVELGFBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0tBQzVDOzs7U0FwQlUsZUFBZSIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvc2VydmVyL3dpbGRjYXJkX21hdGNoZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNaW5pbWF0Y2ggfSBmcm9tICdtaW5pbWF0Y2gnO1xuXG5leHBvcnQgY2xhc3MgV2lsZGNhcmRNYXRjaGVyIHtcbiAgY29uc3RydWN0b3Iod2lsZGNhcmRQYXR0ZXJuLCBlbXB0eVZhbCkge1xuICAgIHRoaXMuZW1wdHlWYWwgPSBlbXB0eVZhbDtcbiAgICB0aGlzLnBhdHRlcm4gPSBTdHJpbmcod2lsZGNhcmRQYXR0ZXJuIHx8ICcqJyk7XG4gICAgdGhpcy5tYXRjaGVyID0gbmV3IE1pbmltYXRjaCh0aGlzLnBhdHRlcm4sIHtcbiAgICAgIG5vZ2xvYnN0YXI6IHRydWUsXG4gICAgICBkb3Q6IHRydWUsXG4gICAgICBub2Nhc2U6IHRydWUsXG4gICAgICBtYXRjaEJhc2U6IHRydWUsXG4gICAgICBub2NvbW1lbnQ6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIG1hdGNoKGNhbmRpZGF0ZSkge1xuICAgIGNvbnN0IGVtcHR5ID0gIWNhbmRpZGF0ZSB8fCBjYW5kaWRhdGUgPT09IHRoaXMuZW1wdHlWYWw7XG4gICAgaWYgKGVtcHR5ICYmIHRoaXMucGF0dGVybiA9PT0gJyonKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tYXRjaGVyLm1hdGNoKGNhbmRpZGF0ZSB8fCAnJyk7XG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/server/wildcard_matcher.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;yBAA0B,WAAW;;IAExB,eAAe;AACf,WADA,eAAe,CACd,eAAe,EAAE,QAAQ,EAAE;0BAD5B,eAAe;;AAExB,QAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,QAAI,CAAC,OAAO,GAAG,MAAM,CAAC,eAAe,IAAI,GAAG,CAAC,CAAC;AAC9C,QAAI,CAAC,OAAO,GAAG,yBAAc,IAAI,CAAC,OAAO,EAAE;AACzC,gBAAU,EAAE,IAAI;AAChB,SAAG,EAAE,IAAI;AACT,YAAM,EAAE,IAAI;AACZ,eAAS,EAAE,IAAI;AACf,eAAS,EAAE,IAAI;KAChB,CAAC,CAAC;GACJ;;eAXU,eAAe;;WAarB,eAAC,SAAS,EAAE;AACf,UAAM,KAAK,GAAG,CAAC,SAAS,IAAI,SAAS,KAAK,IAAI,CAAC,QAAQ,CAAC;AACxD,UAAI,KAAK,IAAI,IAAI,CAAC,OAAO,KAAK,GAAG,EAAE;AACjC,eAAO,IAAI,CAAC;OACb;;AAED,aAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC;KAC5C;;;SApBU,eAAe",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/server/wildcard_matcher.js",
      "sourcesContent": [
        "import { Minimatch } from 'minimatch';\n\nexport class WildcardMatcher {\n  constructor(wildcardPattern, emptyVal) {\n    this.emptyVal = emptyVal;\n    this.pattern = String(wildcardPattern || '*');\n    this.matcher = new Minimatch(this.pattern, {\n      noglobstar: true,\n      dot: true,\n      nocase: true,\n      matchBase: true,\n      nocomment: true\n    });\n  }\n\n  match(candidate) {\n    const empty = !candidate || candidate === this.emptyVal;\n    if (empty && this.pattern === '*') {\n      return true;\n    }\n\n    return this.matcher.match(candidate || '');\n  }\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/server/elasticsearch_proxy_config.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "readFileSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readFileSync",
                "local": "readFileSync"
              }
            ]
          },
          {
            "source": "http",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "http"
              }
            ]
          },
          {
            "source": "https",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "https"
              }
            ]
          },
          {
            "source": "url",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "url"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "getElasticsearchProxyConfig"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "getElasticsearchProxyConfig",
              "exported": "getElasticsearchProxyConfig"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _fs = require('fs');\n\nvar _http = require('http');\n\nvar _http2 = _interopRequireDefault(_http);\n\nvar _https = require('https');\n\nvar _https2 = _interopRequireDefault(_https);\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar readFile = function readFile(file) {\n  return (0, _fs.readFileSync)(file, 'utf8');\n};\n\nvar createAgent = function createAgent(server) {\n  var config = server.config();\n  var target = _url2['default'].parse(config.get('elasticsearch.url'));\n\n  if (!/^https/.test(target.protocol)) return new _http2['default'].Agent();\n\n  var agentOptions = {};\n\n  var verificationMode = config.get('elasticsearch.ssl.verificationMode');\n  switch (verificationMode) {\n    case 'none':\n      agentOptions.rejectUnauthorized = false;\n      break;\n    case 'certificate':\n      agentOptions.rejectUnauthorized = true;\n\n      // by default, NodeJS is checking the server identify\n      agentOptions.checkServerIdentity = _lodash2['default'].noop;\n      break;\n    case 'full':\n      agentOptions.rejectUnauthorized = true;\n      break;\n    default:\n      throw new Error('Unknown ssl verificationMode: ' + verificationMode);\n  }\n\n  if (_lodash2['default'].size(config.get('elasticsearch.ssl.certificateAuthorities'))) {\n    agentOptions.ca = config.get('elasticsearch.ssl.certificateAuthorities').map(readFile);\n  }\n\n  // Add client certificate and key if required by elasticsearch\n  if (config.get('elasticsearch.ssl.certificate') && config.get('elasticsearch.ssl.key')) {\n    agentOptions.cert = readFile(config.get('elasticsearch.ssl.certificate'));\n    agentOptions.key = readFile(config.get('elasticsearch.ssl.key'));\n    agentOptions.passphrase = config.get('elasticsearch.ssl.keyPassphrase');\n  }\n\n  return new _https2['default'].Agent(agentOptions);\n};\n\nvar getElasticsearchProxyConfig = function getElasticsearchProxyConfig(server) {\n  return {\n    timeout: server.config().get('elasticsearch.requestTimeout'),\n    agent: createAgent(server)\n  };\n};\nexports.getElasticsearchProxyConfig = getElasticsearchProxyConfig;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9zZXJ2ZXIvZWxhc3RpY3NlYXJjaF9wcm94eV9jb25maWcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7c0JBQWMsUUFBUTs7OztrQkFDTyxJQUFJOztvQkFDaEIsTUFBTTs7OztxQkFDTCxPQUFPOzs7O21CQUNULEtBQUs7Ozs7QUFFckIsSUFBTSxRQUFRLEdBQUcsU0FBWCxRQUFRLENBQUksSUFBSTtTQUFLLHNCQUFhLElBQUksRUFBRSxNQUFNLENBQUM7Q0FBQSxDQUFDOztBQUV0RCxJQUFNLFdBQVcsR0FBRyxTQUFkLFdBQVcsQ0FBSSxNQUFNLEVBQUs7QUFDOUIsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQy9CLE1BQU0sTUFBTSxHQUFHLGlCQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQzs7QUFFMUQsTUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLE9BQU8sSUFBSSxrQkFBSyxLQUFLLEVBQUUsQ0FBQzs7QUFFN0QsTUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDOztBQUV4QixNQUFNLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsb0NBQW9DLENBQUMsQ0FBQztBQUMxRSxVQUFRLGdCQUFnQjtBQUN0QixTQUFLLE1BQU07QUFDVCxrQkFBWSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztBQUN4QyxZQUFNO0FBQUEsQUFDUixTQUFLLGFBQWE7QUFDaEIsa0JBQVksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7OztBQUd2QyxrQkFBWSxDQUFDLG1CQUFtQixHQUFHLG9CQUFFLElBQUksQ0FBQztBQUMxQyxZQUFNO0FBQUEsQUFDUixTQUFLLE1BQU07QUFDVCxrQkFBWSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztBQUN2QyxZQUFNO0FBQUEsQUFDUjtBQUNFLFlBQU0sSUFBSSxLQUFLLG9DQUFrQyxnQkFBZ0IsQ0FBRyxDQUFDO0FBQUEsR0FDeEU7O0FBRUQsTUFBSSxvQkFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDLEVBQUU7QUFDbEUsZ0JBQVksQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztHQUN4Rjs7O0FBR0QsTUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLCtCQUErQixDQUFDLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxFQUFFO0FBQ3RGLGdCQUFZLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLCtCQUErQixDQUFDLENBQUMsQ0FBQztBQUMxRSxnQkFBWSxDQUFDLEdBQUcsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7QUFDakUsZ0JBQVksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0dBQ3pFOztBQUVELFNBQU8sSUFBSSxtQkFBTSxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7Q0FDdEMsQ0FBQzs7QUFFSyxJQUFNLDJCQUEyQixHQUFHLFNBQTlCLDJCQUEyQixDQUFJLE1BQU0sRUFBSztBQUNyRCxTQUFPO0FBQ0wsV0FBTyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsOEJBQThCLENBQUM7QUFDNUQsU0FBSyxFQUFFLFdBQVcsQ0FBQyxNQUFNLENBQUM7R0FDM0IsQ0FBQztDQUNILENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9jb25zb2xlL3NlcnZlci9lbGFzdGljc2VhcmNoX3Byb3h5X2NvbmZpZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XG5pbXBvcnQgdXJsIGZyb20gJ3VybCc7XG5cbmNvbnN0IHJlYWRGaWxlID0gKGZpbGUpID0+IHJlYWRGaWxlU3luYyhmaWxlLCAndXRmOCcpO1xuXG5jb25zdCBjcmVhdGVBZ2VudCA9IChzZXJ2ZXIpID0+IHtcbiAgY29uc3QgY29uZmlnID0gc2VydmVyLmNvbmZpZygpO1xuICBjb25zdCB0YXJnZXQgPSB1cmwucGFyc2UoY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC51cmwnKSk7XG5cbiAgaWYgKCEvXmh0dHBzLy50ZXN0KHRhcmdldC5wcm90b2NvbCkpIHJldHVybiBuZXcgaHR0cC5BZ2VudCgpO1xuXG4gIGNvbnN0IGFnZW50T3B0aW9ucyA9IHt9O1xuXG4gIGNvbnN0IHZlcmlmaWNhdGlvbk1vZGUgPSBjb25maWcuZ2V0KCdlbGFzdGljc2VhcmNoLnNzbC52ZXJpZmljYXRpb25Nb2RlJyk7XG4gIHN3aXRjaCAodmVyaWZpY2F0aW9uTW9kZSkge1xuICAgIGNhc2UgJ25vbmUnOlxuICAgICAgYWdlbnRPcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY2VydGlmaWNhdGUnOlxuICAgICAgYWdlbnRPcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZCA9IHRydWU7XG5cbiAgICAgIC8vIGJ5IGRlZmF1bHQsIE5vZGVKUyBpcyBjaGVja2luZyB0aGUgc2VydmVyIGlkZW50aWZ5XG4gICAgICBhZ2VudE9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eSA9IF8ubm9vcDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Z1bGwnOlxuICAgICAgYWdlbnRPcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHNzbCB2ZXJpZmljYXRpb25Nb2RlOiAke3ZlcmlmaWNhdGlvbk1vZGV9YCk7XG4gIH1cblxuICBpZiAoXy5zaXplKGNvbmZpZy5nZXQoJ2VsYXN0aWNzZWFyY2guc3NsLmNlcnRpZmljYXRlQXV0aG9yaXRpZXMnKSkpIHtcbiAgICBhZ2VudE9wdGlvbnMuY2EgPSBjb25maWcuZ2V0KCdlbGFzdGljc2VhcmNoLnNzbC5jZXJ0aWZpY2F0ZUF1dGhvcml0aWVzJykubWFwKHJlYWRGaWxlKTtcbiAgfVxuXG4gIC8vIEFkZCBjbGllbnQgY2VydGlmaWNhdGUgYW5kIGtleSBpZiByZXF1aXJlZCBieSBlbGFzdGljc2VhcmNoXG4gIGlmIChjb25maWcuZ2V0KCdlbGFzdGljc2VhcmNoLnNzbC5jZXJ0aWZpY2F0ZScpICYmIGNvbmZpZy5nZXQoJ2VsYXN0aWNzZWFyY2guc3NsLmtleScpKSB7XG4gICAgYWdlbnRPcHRpb25zLmNlcnQgPSByZWFkRmlsZShjb25maWcuZ2V0KCdlbGFzdGljc2VhcmNoLnNzbC5jZXJ0aWZpY2F0ZScpKTtcbiAgICBhZ2VudE9wdGlvbnMua2V5ID0gcmVhZEZpbGUoY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC5zc2wua2V5JykpO1xuICAgIGFnZW50T3B0aW9ucy5wYXNzcGhyYXNlID0gY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC5zc2wua2V5UGFzc3BocmFzZScpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBodHRwcy5BZ2VudChhZ2VudE9wdGlvbnMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEVsYXN0aWNzZWFyY2hQcm94eUNvbmZpZyA9IChzZXJ2ZXIpID0+IHtcbiAgcmV0dXJuIHtcbiAgICB0aW1lb3V0OiBzZXJ2ZXIuY29uZmlnKCkuZ2V0KCdlbGFzdGljc2VhcmNoLnJlcXVlc3RUaW1lb3V0JyksXG4gICAgYWdlbnQ6IGNyZWF0ZUFnZW50KHNlcnZlcilcbiAgfTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/server/elasticsearch_proxy_config.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;sBAAc,QAAQ;;;;kBACO,IAAI;;oBAChB,MAAM;;;;qBACL,OAAO;;;;mBACT,KAAK;;;;AAErB,IAAM,QAAQ,GAAG,SAAX,QAAQ,CAAI,IAAI;SAAK,sBAAa,IAAI,EAAE,MAAM,CAAC;CAAA,CAAC;;AAEtD,IAAM,WAAW,GAAG,SAAd,WAAW,CAAI,MAAM,EAAK;AAC9B,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AAC/B,MAAM,MAAM,GAAG,iBAAI,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,CAAC;;AAE1D,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,OAAO,IAAI,kBAAK,KAAK,EAAE,CAAC;;AAE7D,MAAM,YAAY,GAAG,EAAE,CAAC;;AAExB,MAAM,gBAAgB,GAAG,MAAM,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;AAC1E,UAAQ,gBAAgB;AACtB,SAAK,MAAM;AACT,kBAAY,CAAC,kBAAkB,GAAG,KAAK,CAAC;AACxC,YAAM;AAAA,AACR,SAAK,aAAa;AAChB,kBAAY,CAAC,kBAAkB,GAAG,IAAI,CAAC;;;AAGvC,kBAAY,CAAC,mBAAmB,GAAG,oBAAE,IAAI,CAAC;AAC1C,YAAM;AAAA,AACR,SAAK,MAAM;AACT,kBAAY,CAAC,kBAAkB,GAAG,IAAI,CAAC;AACvC,YAAM;AAAA,AACR;AACE,YAAM,IAAI,KAAK,oCAAkC,gBAAgB,CAAG,CAAC;AAAA,GACxE;;AAED,MAAI,oBAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC,EAAE;AAClE,gBAAY,CAAC,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;GACxF;;;AAGD,MAAI,MAAM,CAAC,GAAG,CAAC,+BAA+B,CAAC,IAAI,MAAM,CAAC,GAAG,CAAC,uBAAuB,CAAC,EAAE;AACtF,gBAAY,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC,CAAC;AAC1E,gBAAY,CAAC,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC,CAAC;AACjE,gBAAY,CAAC,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;GACzE;;AAED,SAAO,IAAI,mBAAM,KAAK,CAAC,YAAY,CAAC,CAAC;CACtC,CAAC;;AAEK,IAAM,2BAA2B,GAAG,SAA9B,2BAA2B,CAAI,MAAM,EAAK;AACrD,SAAO;AACL,WAAO,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,8BAA8B,CAAC;AAC5D,SAAK,EAAE,WAAW,CAAC,MAAM,CAAC;GAC3B,CAAC;CACH,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/server/elasticsearch_proxy_config.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport { readFileSync } from 'fs';\nimport http from 'http';\nimport https from 'https';\nimport url from 'url';\n\nconst readFile = (file) => readFileSync(file, 'utf8');\n\nconst createAgent = (server) => {\n  const config = server.config();\n  const target = url.parse(config.get('elasticsearch.url'));\n\n  if (!/^https/.test(target.protocol)) return new http.Agent();\n\n  const agentOptions = {};\n\n  const verificationMode = config.get('elasticsearch.ssl.verificationMode');\n  switch (verificationMode) {\n    case 'none':\n      agentOptions.rejectUnauthorized = false;\n      break;\n    case 'certificate':\n      agentOptions.rejectUnauthorized = true;\n\n      // by default, NodeJS is checking the server identify\n      agentOptions.checkServerIdentity = _.noop;\n      break;\n    case 'full':\n      agentOptions.rejectUnauthorized = true;\n      break;\n    default:\n      throw new Error(`Unknown ssl verificationMode: ${verificationMode}`);\n  }\n\n  if (_.size(config.get('elasticsearch.ssl.certificateAuthorities'))) {\n    agentOptions.ca = config.get('elasticsearch.ssl.certificateAuthorities').map(readFile);\n  }\n\n  // Add client certificate and key if required by elasticsearch\n  if (config.get('elasticsearch.ssl.certificate') && config.get('elasticsearch.ssl.key')) {\n    agentOptions.cert = readFile(config.get('elasticsearch.ssl.certificate'));\n    agentOptions.key = readFile(config.get('elasticsearch.ssl.key'));\n    agentOptions.passphrase = config.get('elasticsearch.ssl.keyPassphrase');\n  }\n\n  return new https.Agent(agentOptions);\n};\n\nexport const getElasticsearchProxyConfig = (server) => {\n  return {\n    timeout: server.config().get('elasticsearch.requestTimeout'),\n    agent: createAgent(server)\n  };\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/dev_mode/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (kibana) {\n  if (!kibana.config.get('env.dev')) return;\n  return new kibana.Plugin({\n    uiExports: {\n      spyModes: ['plugins/dev_mode/vis_debug_spy_panel']\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZGV2X21vZGUvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O3FCQUFlLFVBQUMsTUFBTSxFQUFLO0FBQ3pCLE1BQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsRUFBRSxPQUFPO0FBQzFDLFNBQU8sSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ3ZCLGFBQVMsRUFBRTtBQUNULGNBQVEsRUFBRSxDQUNSLHNDQUFzQyxDQUN2QztLQUNGO0dBQ0YsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9kZXZfbW9kZS9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IChraWJhbmEpID0+IHtcbiAgaWYgKCFraWJhbmEuY29uZmlnLmdldCgnZW52LmRldicpKSByZXR1cm47XG4gIHJldHVybiBuZXcga2liYW5hLlBsdWdpbih7XG4gICAgdWlFeHBvcnRzOiB7XG4gICAgICBzcHlNb2RlczogW1xuICAgICAgICAncGx1Z2lucy9kZXZfbW9kZS92aXNfZGVidWdfc3B5X3BhbmVsJ1xuICAgICAgXVxuICAgIH1cbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/dev_mode/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAC,MAAM,EAAK;AACzB,MAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,OAAO;AAC1C,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;AACvB,aAAS,EAAE;AACT,cAAQ,EAAE,CACR,sCAAsC,CACvC;KACF;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/dev_mode/index.js",
      "sourcesContent": [
        "export default (kibana) => {\n  if (!kibana.config.get('env.dev')) return;\n  return new kibana.Plugin({\n    uiExports: {\n      spyModes: [\n        'plugins/dev_mode/vis_debug_spy_panel'\n      ]\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "compact",
              "get",
              "has",
              "set",
              "trim",
              "trimRight"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "compact",
                "local": "compact"
              },
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "has",
                "local": "has"
              },
              {
                "kind": "named",
                "imported": "set",
                "local": "set"
              },
              {
                "kind": "named",
                "imported": "trim",
                "local": "trim"
              },
              {
                "kind": "named",
                "imported": "trimRight",
                "local": "trimRight"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "unset"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "unset",
                "local": "unset"
              }
            ]
          },
          {
            "source": "boom",
            "imported": [
              "methodNotAllowed"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "methodNotAllowed",
                "local": "methodNotAllowed"
              }
            ]
          },
          {
            "source": "./lib/health_check",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "healthCheck"
              }
            ]
          },
          {
            "source": "./lib/create_data_cluster",
            "imported": [
              "createDataCluster"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "createDataCluster",
                "local": "createDataCluster"
              }
            ]
          },
          {
            "source": "./lib/create_admin_cluster",
            "imported": [
              "createAdminCluster"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "createAdminCluster",
                "local": "createAdminCluster"
              }
            ]
          },
          {
            "source": "./lib/client_logger",
            "imported": [
              "clientLogger"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "clientLogger",
                "local": "clientLogger"
              }
            ]
          },
          {
            "source": "./lib/create_clusters",
            "imported": [
              "createClusters"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "createClusters",
                "local": "createClusters"
              }
            ]
          },
          {
            "source": "./lib/filter_headers",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "filterHeaders"
              }
            ]
          },
          {
            "source": "./lib/create_proxy",
            "imported": [
              "default",
              "createPath"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "createProxy"
              },
              {
                "kind": "named",
                "imported": "createPath",
                "local": "createPath"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _utils = require('../../utils');\n\nvar _boom = require('boom');\n\nvar _libHealth_check = require('./lib/health_check');\n\nvar _libHealth_check2 = _interopRequireDefault(_libHealth_check);\n\nvar _libCreate_data_cluster = require('./lib/create_data_cluster');\n\nvar _libCreate_admin_cluster = require('./lib/create_admin_cluster');\n\nvar _libClient_logger = require('./lib/client_logger');\n\nvar _libCreate_clusters = require('./lib/create_clusters');\n\nvar _libFilter_headers = require('./lib/filter_headers');\n\nvar _libFilter_headers2 = _interopRequireDefault(_libFilter_headers);\n\nvar _libCreate_proxy = require('./lib/create_proxy');\n\nvar _libCreate_proxy2 = _interopRequireDefault(_libCreate_proxy);\n\nvar DEFAULT_REQUEST_HEADERS = ['authorization'];\n\nmodule.exports = function (_ref) {\n  var Plugin = _ref.Plugin;\n\n  return new Plugin({\n    require: ['kibana'],\n\n    config: function config(Joi) {\n      var array = Joi.array;\n      var boolean = Joi.boolean;\n      var number = Joi.number;\n      var object = Joi.object;\n      var string = Joi.string;\n      var ref = Joi.ref;\n\n      var sslSchema = object({\n        verificationMode: string().valid('none', 'certificate', 'full')['default']('full'),\n        certificateAuthorities: array().single().items(string()),\n        certificate: string(),\n        key: string(),\n        keyPassphrase: string()\n      })['default']();\n\n      return object({\n        enabled: boolean()['default'](true),\n        url: string().uri({ scheme: ['http', 'https'] })['default']('http://localhost:9200'),\n        preserveHost: boolean()['default'](true),\n        username: string(),\n        password: string(),\n        shardTimeout: number()['default'](0),\n        requestTimeout: number()['default'](30000),\n        requestHeadersWhitelist: array().items().single()['default'](DEFAULT_REQUEST_HEADERS),\n        customHeaders: object()['default']({}),\n        pingTimeout: number()['default'](ref('requestTimeout')),\n        startupTimeout: number()['default'](5000),\n        logQueries: boolean()['default'](false),\n        ssl: sslSchema,\n        apiVersion: Joi.string()['default']('master'),\n        healthCheck: object({\n          delay: number()['default'](2500)\n        })['default'](),\n        tribe: object({\n          url: string().uri({ scheme: ['http', 'https'] }),\n          preserveHost: boolean()['default'](true),\n          username: string(),\n          password: string(),\n          shardTimeout: number()['default'](0),\n          requestTimeout: number()['default'](30000),\n          requestHeadersWhitelist: array().items().single()['default'](DEFAULT_REQUEST_HEADERS),\n          customHeaders: object()['default']({}),\n          pingTimeout: number()['default'](ref('requestTimeout')),\n          startupTimeout: number()['default'](5000),\n          logQueries: boolean()['default'](false),\n          ssl: sslSchema,\n          apiVersion: Joi.string()['default']('master')\n        })['default']()\n      })['default']();\n    },\n\n    deprecations: function deprecations(_ref2) {\n      var rename = _ref2.rename;\n\n      var sslVerify = function sslVerify(basePath) {\n        var getKey = function getKey(path) {\n          return (0, _lodash.compact)([basePath, path]).join('.');\n        };\n\n        return function (settings, log) {\n          var sslSettings = (0, _lodash.get)(settings, getKey('ssl'));\n\n          if (!(0, _lodash.has)(sslSettings, 'verify')) {\n            return;\n          }\n\n          var verificationMode = (0, _lodash.get)(sslSettings, 'verify') ? 'full' : 'none';\n          (0, _lodash.set)(sslSettings, 'verificationMode', verificationMode);\n          (0, _utils.unset)(sslSettings, 'verify');\n\n          log('Config key \"' + getKey('ssl.verify') + '\" is deprecated. It has been replaced with \"' + getKey('ssl.verificationMode') + '\"');\n        };\n      };\n\n      return [rename('ssl.ca', 'ssl.certificateAuthorities'), rename('ssl.cert', 'ssl.certificate'), sslVerify(), rename('tribe.ssl.ca', 'tribe.ssl.certificateAuthorities'), rename('tribe.ssl.cert', 'tribe.ssl.certificate'), sslVerify('tribe')];\n    },\n\n    uiExports: {\n      injectDefaultVars: function injectDefaultVars(server, options) {\n        return {\n          esRequestTimeout: options.requestTimeout,\n          esShardTimeout: options.shardTimeout,\n          esApiVersion: options.apiVersion,\n          esDataIsTribe: (0, _lodash.get)(options, 'tribe.url') ? true : false\n        };\n      }\n    },\n\n    init: function init(server, options) {\n      var kibanaIndex = server.config().get('kibana.index');\n      var clusters = (0, _libCreate_clusters.createClusters)(server);\n\n      server.expose('getCluster', clusters.get);\n      server.expose('createCluster', clusters.create);\n\n      server.expose('filterHeaders', _libFilter_headers2['default']);\n      server.expose('ElasticsearchClientLogging', (0, _libClient_logger.clientLogger)(server));\n\n      (0, _libCreate_data_cluster.createDataCluster)(server);\n      (0, _libCreate_admin_cluster.createAdminCluster)(server);\n\n      (0, _libCreate_proxy2['default'])(server, 'GET', '/{paths*}');\n      (0, _libCreate_proxy2['default'])(server, 'POST', '/_mget');\n      (0, _libCreate_proxy2['default'])(server, 'POST', '/{index}/_search');\n      (0, _libCreate_proxy2['default'])(server, 'POST', '/{index}/_field_stats');\n      (0, _libCreate_proxy2['default'])(server, 'POST', '/_msearch');\n      (0, _libCreate_proxy2['default'])(server, 'POST', '/_search/scroll');\n\n      function noBulkCheck(_ref3, reply) {\n        var path = _ref3.path;\n\n        if (/\\/_bulk/.test(path)) {\n          return reply({\n            error: 'You can not send _bulk requests to this interface.'\n          }).code(400).takeover();\n        }\n        return reply['continue']();\n      }\n\n      function noDirectIndex(_ref4, reply) {\n        var path = _ref4.path;\n\n        var requestPath = (0, _lodash.trimRight)((0, _lodash.trim)(path), '/');\n        var matchPath = (0, _libCreate_proxy.createPath)('/elasticsearch', kibanaIndex);\n\n        if (requestPath === matchPath) {\n          return reply((0, _boom.methodNotAllowed)('You cannot modify the primary kibana index through this interface.'));\n        }\n\n        reply['continue']();\n      }\n\n      // These routes are actually used to deal with things such as managing\n      // index patterns and advanced settings, but since hapi treats route\n      // wildcards as zero-or-more, the routes also match the kibana index\n      // itself. The client-side kibana code does not deal with creating nor\n      // destroying the kibana index, so we limit that ability here.\n      (0, _libCreate_proxy2['default'])(server, ['PUT', 'POST', 'DELETE'], '/' + kibanaIndex + '/{paths*}', {\n        // pre: [ noDirectIndex, noBulkCheck ]\n      });\n\n      // Set up the health check service and start it.\n\n      var _healthCheck = (0, _libHealth_check2['default'])(this, server);\n\n      var start = _healthCheck.start;\n      var waitUntilReady = _healthCheck.waitUntilReady;\n\n      server.expose('waitUntilReady', waitUntilReady);\n      start();\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3NCQUF3RCxRQUFROztxQkFDMUMsYUFBYTs7b0JBQ0YsTUFBTTs7K0JBRWYsb0JBQW9COzs7O3NDQUNWLDJCQUEyQjs7dUNBQzFCLDRCQUE0Qjs7Z0NBQ2xDLHFCQUFxQjs7a0NBQ25CLHVCQUF1Qjs7aUNBQzVCLHNCQUFzQjs7OzsrQkFFUixvQkFBb0I7Ozs7QUFFNUQsSUFBTSx1QkFBdUIsR0FBRyxDQUFFLGVBQWUsQ0FBRSxDQUFDOztBQUVwRCxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsSUFBVSxFQUFFO01BQVYsTUFBTSxHQUFSLElBQVUsQ0FBUixNQUFNOztBQUNqQyxTQUFPLElBQUksTUFBTSxDQUFDO0FBQ2hCLFdBQU8sRUFBRSxDQUFDLFFBQVEsQ0FBQzs7QUFFbkIsVUFBTSxFQUFBLGdCQUFDLEdBQUcsRUFBRTtVQUNGLEtBQUssR0FBMkMsR0FBRyxDQUFuRCxLQUFLO1VBQUUsT0FBTyxHQUFrQyxHQUFHLENBQTVDLE9BQU87VUFBRSxNQUFNLEdBQTBCLEdBQUcsQ0FBbkMsTUFBTTtVQUFFLE1BQU0sR0FBa0IsR0FBRyxDQUEzQixNQUFNO1VBQUUsTUFBTSxHQUFVLEdBQUcsQ0FBbkIsTUFBTTtVQUFFLEdBQUcsR0FBSyxHQUFHLENBQVgsR0FBRzs7QUFFbkQsVUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDO0FBQ3ZCLHdCQUFnQixFQUFFLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0sQ0FBQyxXQUFRLENBQUMsTUFBTSxDQUFDO0FBQy9FLDhCQUFzQixFQUFFLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUN4RCxtQkFBVyxFQUFFLE1BQU0sRUFBRTtBQUNyQixXQUFHLEVB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QUksQ0FBQyxFQUFFO0FBQ3hCLGlCQUFPLEtBQUssQ0FBQztBQUNYLGlCQUFLLEVBQUUsb0RBQW9EO1dBQzVELENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDekI7QUFDRCxlQUFPLEtBQUssWUFBUyxFQUFFLENBQUM7T0FDekI7O0FBRUQsZUFBUyxhQUFhLENBQUMsS0FBUSxFQUFFLEtBQUssRUFBRTtZQUFmLElBQUksR0FBTixLQUFRLENBQU4sSUFBSTs7QUFDM0IsWUFBTSxXQUFXLEdBQUcsdUJBQVUsa0JBQUssSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDL0MsWUFBTSxTQUFTLEdBQUcsaUNBQVcsZ0JBQWdCLEVBQUUsV0FBVyxDQUFDLENBQUM7O0FBRTVELFlBQUksV0FBVyxLQUFLLFNBQVMsRUFBRTtBQUM3QixpQkFBTyxLQUFLLENBQUMsNEJBQWlCLG9FQUFvRSxDQUFDLENBQUMsQ0FBQztTQUN0Rzs7QUFFRCxhQUFLLFlBQVMsRUFBRSxDQUFDO09BQ2xCOzs7Ozs7O0FBT0Qsd0NBQ0UsTUFBTSxFQUNOLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsUUFDckIsV0FBVyxnQkFDZjs7T0FFQyxDQUNGLENBQUM7Ozs7eUJBR2dDLGtDQUFZLElBQUksRUFBRSxNQUFNLENBQUM7O1VBQW5ELEtBQUssZ0JBQUwsS0FBSztVQUFFLGNBQWMsZ0JBQWQsY0FBYzs7QUFDN0IsWUFBTSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUNoRCxXQUFLLEVBQUUsQ0FBQztLQUNUO0dBQ0YsQ0FBQyxDQUFDO0NBRUosQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2VsYXN0aWNzZWFyY2gvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wYWN0LCBnZXQsIGhhcywgc2V0LCB0cmltLCB0cmltUmlnaHQgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgdW5zZXQgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBtZXRob2ROb3RBbGxvd2VkIH0gZnJvbSAnYm9vbSc7XG5cbmltcG9ydCBoZWFsdGhDaGVjayBmcm9tICcuL2xpYi9oZWFsdGhfY2hlY2snO1xuaW1wb3J0IHsgY3JlYXRlRGF0YUNsdXN0ZXIgfSBmcm9tICcuL2xpYi9jcmVhdGVfZGF0YV9jbHVzdGVyJztcbmltcG9ydCB7IGNyZWF0ZUFkbWluQ2x1c3RlciB9IGZyb20gJy4vbGliL2NyZWF0ZV9hZG1pbl9jbHVzdGVyJztcbmltcG9ydCB7IGNsaWVudExvZ2dlciB9IGZyb20gJy4vbGliL2NsaWVudF9sb2dnZXInO1xuaW1wb3J0IHsgY3JlYXRlQ2x1c3RlcnMgfSBmcm9tICcuL2xpYi9jcmVhdGVfY2x1c3RlcnMnO1xuaW1wb3J0IGZpbHRlckhlYWRlcnMgZnJvbSAnLi9saWIvZmlsdGVyX2hlYWRlcnMnO1xuXG5pbXBvcnQgY3JlYXRlUHJveHksIHsgY3JlYXRlUGF0aCB9IGZyb20gJy4vbGliL2NyZWF0ZV9wcm94eSc7XG5cbmNvbnN0IERFRkFVTFRfUkVRVUVTVF9IRUFERVJTID0gWyAnYXV0aG9yaXphdGlvbicgXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeyBQbHVnaW4gfSkge1xuICByZXR1cm4gbmV3IFBsdWdpbih7XG4gICAgcmVxdWlyZTogWydraWJhbmEnXSxcblxuICAgIGNvbmZpZyhKb2kpIHtcbiAgICAgIGNvbnN0IHsgYXJyYXksIGJvb2xlYW4sIG51bWJlciwgb2JqZWN0LCBzdHJpbmcsIHJlZiB9ID0gSm9pO1xuXG4gICAgICBjb25zdCBzc2xTY2hlbWEgPSBvYmplY3Qoe1xuICAgICAgICB2ZXJpZmljYXRpb25Nb2RlOiBzdHJpbmcoKS52YWxpZCgnbm9uZScsICdjZXJ0aWZpY2F0ZScsICdmdWxsJykuZGVmYXVsdCgnZnVsbCcpLFxuICAgICAgICBjZXJ0aWZpY2F0ZUF1dGhvcml0aWVzOiBhcnJheSgpLnNpbmdsZSgpLml0ZW1zKHN0cmluZygpKSxcbiAgICAgICAgY2VydGlmaWNhdGU6IHN0cmluZygpLFxuICAgICAgICBrZXk6IHN0cmluZygpLFxuICAgICAgICBrZXlQYXNzcGhyYXNlOiBzdHJpbmcoKVxuICAgICAgfSkuZGVmYXVsdCgpO1xuXG4gICAgICByZXR1cm4gb2JqZWN0KHtcbiAgICAgICAgZW5hYmxlZDogYm9vbGVhbigpLmRlZmF1bHQodHJ1ZSksXG4gICAgICAgIHVybDogc3RyaW5nKCkudXJpKHsgc2NoZW1lOiBbJ2h0dHAnLCAnaHR0cHMnXSB9KS5kZWZhdWx0KCdodHRwOi8vbG9jYWxob3N0OjkyMDAnKSxcbiAgICAgICAgcHJlc2VydmVIb3N0OiBib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgICAgICAgdXNlcm5hbWU6IHN0cmluZygpLFxuICAgICAgICBwYXNzd29yZDogc3RyaW5nKCksXG4gICAgICAgIHNoYXJkVGltZW91dDogbnVtYmVyKCkuZGVmYXVsdCgwKSxcbiAgICAgICAgcmVxdWVzdFRpbWVvdXQ6IG51bWJlcigpLmRlZmF1bHQoMzAwMDApLFxuICAgICAgICByZXF1ZXN0SGVhZGVyc1doaXRlbGlzdDogYXJyYXkoKS5pdGVtcygpLnNpbmdsZSgpLmRlZmF1bHQoREVGQVVMVF9SRVFVRVNUX0hFQURFUlMpLFxuICAgICAgICBjdXN0b21IZWFkZXJzOiBvYmplY3QoKS5kZWZhdWx0KHt9KSxcbiAgICAgICAgcGluZ1RpbWVvdXQ6IG51bWJlcigpLmRlZmF1bHQocmVmKCdyZXF1ZXN0VGltZW91dCcpKSxcbiAgICAgICAgc3RhcnR1cFRpbWVvdXQ6IG51bWJlcigpLmRlZmF1bHQoNTAwMCksXG4gICAgICAgIGxvZ1F1ZXJpZXM6IGJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICAgICAgc3NsOiBzc2xTY2hlbWEsXG4gICAgICAgIGFwaVZlcnNpb246IEpvaS5zdHJpbmcoKS5kZWZhdWx0KCdtYXN0ZXInKSxcbiAgICAgICAgaGVhbHRoQ2hlY2s6IG9iamVjdCh7XG4gICAgICAgICAgZGVsYXk6IG51bWJlcigpLmRlZmF1bHQoMjUwMClcbiAgICAgICAgfSkuZGVmYXVsdCgpLFxuICAgICAgICB0cmliZTogb2JqZWN0KHtcbiAgICAgICAgICB1cmw6IHN0cmluZygpLnVyaSh7IHNjaGVtZTogWydodHRwJywgJ2h0dHBzJ10gfSksXG4gICAgICAgICAgcHJlc2VydmVIb3N0OiBib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgICAgICAgICB1c2VybmFtZTogc3RyaW5nKCksXG4gICAgICAgICAgcGFzc3dvcmQ6IHN0cmluZygpLFxuICAgICAgICAgIHNoYXJkVGltZW91dDogbnVtYmVyKCkuZGVmYXVsdCgwKSxcbiAgICAgICAgICByZXF1ZXN0VGltZW91dDogbnVtYmVyKCkuZGVmYXVsdCgzMDAwMCksXG4gICAgICAgICAgcmVxdWVzdEhlYWRlcnNXaGl0ZWxpc3Q6IGFycmF5KCkuaXRlbXMoKS5zaW5nbGUoKS5kZWZhdWx0KERFRkFVTFRfUkVRVUVTVF9IRUFERVJTKSxcbiAgICAgICAgICBjdXN0b21IZWFkZXJzOiBvYmplY3QoKS5kZWZhdWx0KHt9KSxcbiAgICAgICAgICBwaW5nVGltZW91dDogbnVtYmVyKCkuZGVmYXVsdChyZWYoJ3JlcXVlc3RUaW1lb3V0JykpLFxuICAgICAgICAgIHN0YXJ0dXBUaW1lb3V0OiBudW1iZXIoKS5kZWZhdWx0KDUwMDApLFxuICAgICAgICAgIGxvZ1F1ZXJpZXM6IGJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICAgICAgICBzc2w6IHNzbFNjaGVtYSxcbiAgICAgICAgICBhcGlWZXJzaW9uOiBKb2kuc3RyaW5nKCkuZGVmYXVsdCgnbWFzdGVyJyksXG4gICAgICAgIH0pLmRlZmF1bHQoKVxuICAgICAgfSkuZGVmYXVsdCgpO1xuICAgIH0sXG5cbiAgICBkZXByZWNhdGlvbnMoeyByZW5hbWUgfSkge1xuICAgICAgY29uc3Qgc3NsVmVyaWZ5ID0gKGJhc2VQYXRoKSA9PiB7XG4gICAgICAgIGNvbnN0IGdldEtleSA9IChwYXRoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGNvbXBhY3QoW2Jhc2VQYXRoLCBwYXRoXSkuam9pbignLicpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiAoc2V0dGluZ3MsIGxvZykgPT4ge1xuICAgICAgICAgIGNvbnN0IHNzbFNldHRpbmdzID0gZ2V0KHNldHRpbmdzLCBnZXRLZXkoJ3NzbCcpKTtcblxuICAgICAgICAgIGlmICghaGFzKHNzbFNldHRpbmdzLCAndmVyaWZ5JykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB2ZXJpZmljYXRpb25Nb2RlID0gZ2V0KHNzbFNldHRpbmdzLCAndmVyaWZ5JykgPyAnZnVsbCcgOiAnbm9uZSc7XG4gICAgICAgICAgc2V0KHNzbFNldHRpbmdzLCAndmVyaWZpY2F0aW9uTW9kZScsIHZlcmlmaWNhdGlvbk1vZGUpO1xuICAgICAgICAgIHVuc2V0KHNzbFNldHRpbmdzLCAndmVyaWZ5Jyk7XG5cbiAgICAgICAgICBsb2coYENvbmZpZyBrZXkgXCIke2dldEtleSgnc3NsLnZlcmlmeScpfVwiIGlzIGRlcHJlY2F0ZWQuIEl0IGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggXCIke2dldEtleSgnc3NsLnZlcmlmaWNhdGlvbk1vZGUnKX1cImApO1xuICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgcmVuYW1lKCdzc2wuY2EnLCAnc3NsLmNlcnRpZmljYXRlQXV0aG9yaXRpZXMnKSxcbiAgICAgICAgcmVuYW1lKCdzc2wuY2VydCcsICdzc2wuY2VydGlmaWNhdGUnKSxcbiAgICAgICAgc3NsVmVyaWZ5KCksXG4gICAgICAgIHJlbmFtZSgndHJpYmUuc3NsLmNhJywgJ3RyaWJlLnNzbC5jZXJ0aWZpY2F0ZUF1dGhvcml0aWVzJyksXG4gICAgICAgIHJlbmFtZSgndHJpYmUuc3NsLmNlcnQnLCAndHJpYmUuc3NsLmNlcnRpZmljYXRlJyksXG4gICAgICAgIHNzbFZlcmlmeSgndHJpYmUnKVxuICAgICAgXTtcbiAgICB9LFxuXG4gICAgdWlFeHBvcnRzOiB7XG4gICAgICBpbmplY3REZWZhdWx0VmFycyhzZXJ2ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBlc1JlcXVlc3RUaW1lb3V0OiBvcHRpb25zLnJlcXVlc3RUaW1lb3V0LFxuICAgICAgICAgIGVzU2hhcmRUaW1lb3V0OiBvcHRpb25zLnNoYXJkVGltZW91dCxcbiAgICAgICAgICBlc0FwaVZlcnNpb246IG9wdGlvbnMuYXBpVmVyc2lvbixcbiAgICAgICAgICBlc0RhdGFJc1RyaWJlOiBnZXQob3B0aW9ucywgJ3RyaWJlLnVybCcpID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBpbml0KHNlcnZlciwgb3B0aW9ucykge1xuICAgICAgY29uc3Qga2liYW5hSW5kZXggPSBzZXJ2ZXIuY29uZmlnKCkuZ2V0KCdraWJhbmEuaW5kZXgnKTtcbiAgICAgIGNvbnN0IGNsdXN0ZXJzID0gY3JlYXRlQ2x1c3RlcnMoc2VydmVyKTtcblxuICAgICAgc2VydmVyLmV4cG9zZSgnZ2V0Q2x1c3RlcicsIGNsdXN0ZXJzLmdldCk7XG4gICAgICBzZXJ2ZXIuZXhwb3NlKCdjcmVhdGVDbHVzdGVyJywgY2x1c3RlcnMuY3JlYXRlKTtcblxuICAgICAgc2VydmVyLmV4cG9zZSgnZmlsdGVySGVhZGVycycsIGZpbHRlckhlYWRlcnMpO1xuICAgICAgc2VydmVyLmV4cG9zZSgnRWxhc3RpY3NlYXJjaENsaWVudExvZ2dpbmcnLCBjbGllbnRMb2dnZXIoc2VydmVyKSk7XG5cbiAgICAgIGNyZWF0ZURhdGFDbHVzdGVyKHNlcnZlcik7XG4gICAgICBjcmVhdGVBZG1pbkNsdXN0ZXIoc2VydmVyKTtcblxuICAgICAgY3JlYXRlUHJveHkoc2VydmVyLCAnR0VUJywgJy97cGF0aHMqfScpO1xuICAgICAgY3JlYXRlUHJveHkoc2VydmVyLCAnUE9TVCcsICcvX21nZXQnKTtcbiAgICAgIGNyZWF0ZVByb3h5KHNlcnZlciwgJ1BPU1QnLCAnL3tpbmRleH0vX3NlYXJjaCcpO1xuICAgICAgY3JlYXRlUHJveHkoc2VydmVyLCAnUE9TVCcsICcve2luZGV4fS9fZmllbGRfc3RhdHMnKTtcbiAgICAgIGNyZWF0ZVByb3h5KHNlcnZlciwgJ1BPU1QnLCAnL19tc2VhcmNoJyk7XG4gICAgICBjcmVhdGVQcm94eShzZXJ2ZXIsICdQT1NUJywgJy9fc2VhcmNoL3Njcm9sbCcpO1xuXG4gICAgICBmdW5jdGlvbiBub0J1bGtDaGVjayh7IHBhdGggfSwgcmVwbHkpIHtcbiAgICAgICAgaWYgKC9cXC9fYnVsay8udGVzdChwYXRoKSkge1xuICAgICAgICAgIHJldHVybiByZXBseSh7XG4gICAgICAgICAgICBlcnJvcjogJ1lvdSBjYW4gbm90IHNlbmQgX2J1bGsgcmVxdWVzdHMgdG8gdGhpcyBpbnRlcmZhY2UuJ1xuICAgICAgICAgIH0pLmNvZGUoNDAwKS50YWtlb3ZlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXBseS5jb250aW51ZSgpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBub0RpcmVjdEluZGV4KHsgcGF0aCB9LCByZXBseSkge1xuICAgICAgICBjb25zdCByZXF1ZXN0UGF0aCA9IHRyaW1SaWdodCh0cmltKHBhdGgpLCAnLycpO1xuICAgICAgICBjb25zdCBtYXRjaFBhdGggPSBjcmVhdGVQYXRoKCcvZWxhc3RpY3NlYXJjaCcsIGtpYmFuYUluZGV4KTtcblxuICAgICAgICBpZiAocmVxdWVzdFBhdGggPT09IG1hdGNoUGF0aCkge1xuICAgICAgICAgIHJldHVybiByZXBseShtZXRob2ROb3RBbGxvd2VkKCdZb3UgY2Fubm90IG1vZGlmeSB0aGUgcHJpbWFyeSBraWJhbmEgaW5kZXggdGhyb3VnaCB0aGlzIGludGVyZmFjZS4nKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXBseS5jb250aW51ZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGVzZSByb3V0ZXMgYXJlIGFjdHVhbGx5IHVzZWQgdG8gZGVhbCB3aXRoIHRoaW5ncyBzdWNoIGFzIG1hbmFnaW5nXG4gICAgICAvLyBpbmRleCBwYXR0ZXJucyBhbmQgYWR2YW5jZWQgc2V0dGluZ3MsIGJ1dCBzaW5jZSBoYXBpIHRyZWF0cyByb3V0ZVxuICAgICAgLy8gd2lsZGNhcmRzIGFzIHplcm8tb3ItbW9yZSwgdGhlIHJvdXRlcyBhbHNvIG1hdGNoIHRoZSBraWJhbmEgaW5kZXhcbiAgICAgIC8vIGl0c2VsZi4gVGhlIGNsaWVudC1zaWRlIGtpYmFuYSBjb2RlIGRvZXMgbm90IGRlYWwgd2l0aCBjcmVhdGluZyBub3JcbiAgICAgIC8vIGRlc3Ryb3lpbmcgdGhlIGtpYmFuYSBpbmRleCwgc28gd2UgbGltaXQgdGhhdCBhYmlsaXR5IGhlcmUuXG4gICAgICBjcmVhdGVQcm94eShcbiAgICAgICAgc2VydmVyLFxuICAgICAgICBbJ1BVVCcsICdQT1NUJywgJ0RFTEVURSddLFxuICAgICAgICBgLyR7a2liYW5hSW5kZXh9L3twYXRocyp9YCxcbiAgICAgICAge1xuICAgICAgICAgIC8vIHByZTogWyBub0RpcmVjdEluZGV4LCBub0J1bGtDaGVjayBdXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIC8vIFNldCB1cCB0aGUgaGVhbHRoIGNoZWNrIHNlcnZpY2UgYW5kIHN0YXJ0IGl0LlxuICAgICAgY29uc3QgeyBzdGFydCwgd2FpdFVudGlsUmVhZHkgfSA9IGhlYWx0aENoZWNrKHRoaXMsIHNlcnZlcik7XG4gICAgICBzZXJ2ZXIuZXhwb3NlKCd3YWl0VW50aWxSZWFkeScsIHdhaXRVbnRpbFJlYWR5KTtcbiAgICAgIHN0YXJ0KCk7XG4gICAgfVxuICB9KTtcblxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/index.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/index.js",
      "sourcesContent": [
        "import { compact, get, has, set, trim, trimRight } from 'lodash';\nimport { unset } from '../../utils';\nimport { methodNotAllowed } from 'boom';\n\nimport healthCheck from './lib/health_check';\nimport { createDataCluster } from './lib/create_data_cluster';\nimport { createAdminCluster } from './lib/create_admin_cluster';\nimport { clientLogger } from './lib/client_logger';\nimport { createClusters } from './lib/create_clusters';\nimport filterHeaders from './lib/filter_headers';\n\nimport createProxy, { createPath } from './lib/create_proxy';\n\nconst DEFAULT_REQUEST_HEADERS = [ 'authorization' ];\n\nmodule.exports = function ({ Plugin }) {\n  return new Plugin({\n    require: ['kibana'],\n\n    config(Joi) {\n      const { array, boolean, number, object, string, ref } = Joi;\n\n      const sslSchema = object({\n        verificationMode: string().valid('none', 'certificate', 'full').default('full'),\n        certificateAuthorities: array().single().items(string()),\n        certificate: string(),\n        key: string(),\n        keyPassphrase: string()\n      }).default();\n\n      return object({\n        enabled: boolean().default(true),\n        url: string().uri({ scheme: ['http', 'https'] }).default('http://localhost:9200'),\n        preserveHost: boolean().default(true),\n        username: string(),\n        password: string(),\n        shardTimeout: number().default(0),\n        requestTimeout: number().default(30000),\n        requestHeadersWhitelist: array().items().single().default(DEFAULT_REQUEST_HEADERS),\n        customHeaders: object().default({}),\n        pingTimeout: number().default(ref('requestTimeout')),\n        startupTimeout: number().default(5000),\n        logQueries: boolean().default(false),\n        ssl: sslSchema,\n        apiVersion: Joi.string().default('master'),\n        healthCheck: object({\n          delay: number().default(2500)\n        }).default(),\n        tribe: object({\n          url: string().uri({ scheme: ['http', 'https'] }),\n          preserveHost: boolean().default(true),\n          username: string(),\n          password: string(),\n          shardTimeout: number().default(0),\n          requestTimeout: number().default(30000),\n          requestHeadersWhitelist: array().items().single().default(DEFAULT_REQUEST_HEADERS),\n          customHeaders: object().default({}),\n          pingTimeout: number().default(ref('requestTimeout')),\n          startupTimeout: number().default(5000),\n          logQueries: boolean().default(false),\n          ssl: sslSchema,\n          apiVersion: Joi.string().default('master'),\n        }).default()\n      }).default();\n    },\n\n    deprecations({ rename }) {\n      const sslVerify = (basePath) => {\n        const getKey = (path) => {\n          return compact([basePath, path]).join('.');\n        };\n\n        return (settings, log) => {\n          const sslSettings = get(settings, getKey('ssl'));\n\n          if (!has(sslSettings, 'verify')) {\n            return;\n          }\n\n          const verificationMode = get(sslSettings, 'verify') ? 'full' : 'none';\n          set(sslSettings, 'verificationMode', verificationMode);\n          unset(sslSettings, 'verify');\n\n          log(`Config key \"${getKey('ssl.verify')}\" is deprecated. It has been replaced with \"${getKey('ssl.verificationMode')}\"`);\n        };\n      };\n\n      return [\n        rename('ssl.ca', 'ssl.certificateAuthorities'),\n        rename('ssl.cert', 'ssl.certificate'),\n        sslVerify(),\n        rename('tribe.ssl.ca', 'tribe.ssl.certificateAuthorities'),\n        rename('tribe.ssl.cert', 'tribe.ssl.certificate'),\n        sslVerify('tribe')\n      ];\n    },\n\n    uiExports: {\n      injectDefaultVars(server, options) {\n        return {\n          esRequestTimeout: options.requestTimeout,\n          esShardTimeout: options.shardTimeout,\n          esApiVersion: options.apiVersion,\n          esDataIsTribe: get(options, 'tribe.url') ? true : false,\n        };\n      }\n    },\n\n    init(server, options) {\n      const kibanaIndex = server.config().get('kibana.index');\n      const clusters = createClusters(server);\n\n      server.expose('getCluster', clusters.get);\n      server.expose('createCluster', clusters.create);\n\n      server.expose('filterHeaders', filterHeaders);\n      server.expose('ElasticsearchClientLogging', clientLogger(server));\n\n      createDataCluster(server);\n      createAdminCluster(server);\n\n      createProxy(server, 'GET', '/{paths*}');\n      createProxy(server, 'POST', '/_mget');\n      createProxy(server, 'POST', '/{index}/_search');\n      createProxy(server, 'POST', '/{index}/_field_stats');\n      createProxy(server, 'POST', '/_msearch');\n      createProxy(server, 'POST', '/_search/scroll');\n\n      function noBulkCheck({ path }, reply) {\n        if (/\\/_bulk/.test(path)) {\n          return reply({\n            error: 'You can not send _bulk requests to this interface.'\n          }).code(400).takeover();\n        }\n        return reply.continue();\n      }\n\n      function noDirectIndex({ path }, reply) {\n        const requestPath = trimRight(trim(path), '/');\n        const matchPath = createPath('/elasticsearch', kibanaIndex);\n\n        if (requestPath === matchPath) {\n          return reply(methodNotAllowed('You cannot modify the primary kibana index through this interface.'));\n        }\n\n        reply.continue();\n      }\n\n      // These routes are actually used to deal with things such as managing\n      // index patterns and advanced settings, but since hapi treats route\n      // wildcards as zero-or-more, the routes also match the kibana index\n      // itself. The client-side kibana code does not deal with creating nor\n      // destroying the kibana index, so we limit that ability here.\n      createProxy(\n        server,\n        ['PUT', 'POST', 'DELETE'],\n        `/${kibanaIndex}/{paths*}`,\n        {\n          // pre: [ noDirectIndex, noBulkCheck ]\n        }\n      );\n\n      // Set up the health check service and start it.\n      const { start, waitUntilReady } = healthCheck(this, server);\n      server.expose('waitUntilReady', waitUntilReady);\n      start();\n    }\n  });\n\n};\n"
      ]
    },
    "mtime": 1500056614000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/health_check.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Promise"
              }
            ]
          },
          {
            "source": "elasticsearch",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "elasticsearch"
              }
            ]
          },
          {
            "source": "./migrate_config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "migrateConfig"
              }
            ]
          },
          {
            "source": "./create_kibana_index",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "createKibanaIndex"
              }
            ]
          },
          {
            "source": "./kibana_version",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "kibanaVersion"
              }
            ]
          },
          {
            "source": "./ensure_es_version",
            "imported": [
              "ensureEsVersion"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "ensureEsVersion",
                "local": "ensureEsVersion"
              }
            ]
          },
          {
            "source": "./ensure_not_tribe",
            "imported": [
              "ensureNotTribe"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "ensureNotTribe",
                "local": "ensureNotTribe"
              }
            ]
          },
          {
            "source": "util",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "util"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _elasticsearch = require('elasticsearch');\n\nvar _elasticsearch2 = _interopRequireDefault(_elasticsearch);\n\nvar _migrate_config = require('./migrate_config');\n\nvar _migrate_config2 = _interopRequireDefault(_migrate_config);\n\nvar _create_kibana_index = require('./create_kibana_index');\n\nvar _create_kibana_index2 = _interopRequireDefault(_create_kibana_index);\n\nvar _kibana_version = require('./kibana_version');\n\nvar _kibana_version2 = _interopRequireDefault(_kibana_version);\n\nvar _ensure_es_version = require('./ensure_es_version');\n\nvar _ensure_not_tribe = require('./ensure_not_tribe');\n\nvar _util = require('util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar NoConnections = _elasticsearch2['default'].errors.NoConnections;\n\nvar format = _util2['default'].format;\n\nvar NO_INDEX = 'no_index';\nvar INITIALIZING = 'initializing';\nvar READY = 'ready';\n\nmodule.exports = function (plugin, server) {\n  var config = server.config();\n  var callAdminAsKibanaUser = server.plugins.elasticsearch.getCluster('admin').callWithInternalUser;\n  var callDataAsKibanaUser = server.plugins.elasticsearch.getCluster('data').callWithInternalUser;\n  var REQUEST_DELAY = config.get('elasticsearch.healthCheck.delay');\n\n  plugin.status.yellow('Waiting for Elasticsearch');\n  function waitForPong(callWithInternalUser, url) {\n    return callWithInternalUser('ping')['catch'](function (err) {\n      if (!(err instanceof NoConnections)) throw err;\n      plugin.status.red(format('Unable to connect to Elasticsearch at %s.', url));\n\n      return _bluebird2['default'].delay(REQUEST_DELAY).then(waitForPong.bind(null, callWithInternalUser, url));\n    });\n  }\n\n  // just figure out the current \"health\" of the es setup\n  function getHealth() {\n    return callAdminAsKibanaUser('cluster.health', {\n      timeout: '5s', // tells es to not sit around and wait forever\n      index: config.get('kibana.index'),\n      ignore: [408]\n    }).then(function (resp) {\n      // if \"timed_out\" === true then elasticsearch could not\n      // find any idices matching our filter within 5 seconds\n      if (!resp || resp.timed_out) {\n        return NO_INDEX;\n      }\n\n      // If status === \"red\" that means that index(es) were found\n      // but the shards are not ready for queries\n      if (resp.status === 'red') {\n        return INITIALIZING;\n      }\n\n      return READY;\n    });\n  }\n\n  function waitUntilReady() {\n    return getHealth().then(function (health) {\n      if (health !== READY) {\n        return _bluebird2['default'].delay(REQUEST_DELAY).then(waitUntilReady);\n      }\n    });\n  }\n\n  function waitForShards() {\n    return getHealth().then(function (health) {\n      if (health === NO_INDEX) {\n        plugin.status.yellow('No existing Kibana index found');\n        return (0, _create_kibana_index2['default'])(server);\n      }\n\n      if (health === INITIALIZING) {\n        plugin.status.red('Elasticsearch is still initializing the kibana index.');\n        return _bluebird2['default'].delay(REQUEST_DELAY).then(waitForShards);\n      }\n    });\n  }\n\n  function waitForEsVersion() {\n    return (0, _ensure_es_version.ensureEsVersion)(server, _kibana_version2['default'].get())['catch'](function (err) {\n      plugin.status.red(err);\n      return _bluebird2['default'].delay(REQUEST_DELAY).then(waitForEsVersion);\n    });\n  }\n\n  function setGreenStatus() {\n    return plugin.status.green('Kibana index ready');\n  }\n\n  function check() {\n    var healthCheck = waitForPong(callAdminAsKibanaUser, config.get('elasticsearch.url')).then(waitForEsVersion).then(_ensure_not_tribe.ensureNotTribe.bind(this, callAdminAsKibanaUser)).then(waitForShards).then(_lodash2['default'].partial(_migrate_config2['default'], server)).then(function () {\n      var tribeUrl = config.get('elasticsearch.tribe.url');\n      if (tribeUrl) {\n        return waitForPong(callDataAsKibanaUser, tribeUrl).then(function () {\n          return (0, _ensure_es_version.ensureEsVersion)(server, _kibana_version2['default'].get(), callDataAsKibanaUser);\n        });\n      }\n    });\n\n    return healthCheck.then(setGreenStatus)['catch'](function (err) {\n      return plugin.status.red(err);\n    });\n  }\n\n  var timeoutId = null;\n\n  function scheduleCheck(ms) {\n    if (timeoutId) return;\n\n    var myId = setTimeout(function () {\n      check()['finally'](function () {\n        if (timeoutId === myId) startorRestartChecking();\n      });\n    }, ms);\n\n    timeoutId = myId;\n  }\n\n  function startorRestartChecking() {\n    scheduleCheck(stopChecking() ? REQUEST_DELAY : 1);\n  }\n\n  function stopChecking() {\n    if (!timeoutId) return false;\n    clearTimeout(timeoutId);\n    timeoutId = null;\n    return true;\n  }\n\n  return {\n    waitUntilReady: waitUntilReady,\n    run: check,\n    start: startorRestartChecking,\n    stop: stopChecking,\n    isRunning: function isRunning() {\n      return !!timeoutId;\n    }\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvaGVhbHRoX2NoZWNrLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7c0JBQWMsUUFBUTs7Ozt3QkFDRixVQUFVOzs7OzZCQUNKLGVBQWU7Ozs7OEJBQ2Ysa0JBQWtCOzs7O21DQUNkLHVCQUF1Qjs7Ozs4QkFDM0Isa0JBQWtCOzs7O2lDQUNaLHFCQUFxQjs7Z0NBQ3RCLG9CQUFvQjs7b0JBR2xDLE1BQU07Ozs7QUFEdkIsSUFBTSxhQUFhLEdBQUcsMkJBQWMsTUFBTSxDQUFDLGFBQWEsQ0FBQzs7QUFFekQsSUFBTSxNQUFNLEdBQUcsa0JBQUssTUFBTSxDQUFDOztBQUUzQixJQUFNLFFBQVEsR0FBRyxVQUFVLENBQUM7QUFDNUIsSUFBTSxZQUFZLEdBQUcsY0FBYyxDQUFDO0FBQ3BDLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQzs7QUFFdEIsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDekMsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQy9CLE1BQU0scUJBQXFCLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLG9CQUFvQixDQUFDO0FBQ3BHLE1BQU0sb0JBQW9CLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLG9CQUFvQixDQUFDO0FBQ2xHLE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsaUNBQWlDLENBQUMsQ0FBQzs7QUFFcEUsUUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUNsRCxXQUFTLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUU7QUFDOUMsV0FBTyxvQkFBb0IsQ0FB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QUksQ0FBQztBQUNqQixXQUFPLElBQUksQ0FBQztHQUNiOztBQUVELFNBQU87QUFDTCxrQkFBYyxFQUFFLGNBQWM7QUFDOUIsT0FBRyxFQUFFLEtBQUs7QUFDVixTQUFLLEVBQUUsc0JBQXNCO0FBQzdCLFFBQUksRUFBRSxZQUFZO0FBQ2xCLGFBQVMsRUFBRSxxQkFBWTtBQUFFLGFBQU8sQ0FBQyxDQUFDLFNBQVMsQ0FBQztLQUFFO0dBQy9DLENBQUM7Q0FFSCxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvaGVhbHRoX2NoZWNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBQcm9taXNlIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCBlbGFzdGljc2VhcmNoIGZyb20gJ2VsYXN0aWNzZWFyY2gnO1xuaW1wb3J0IG1pZ3JhdGVDb25maWcgZnJvbSAnLi9taWdyYXRlX2NvbmZpZyc7XG5pbXBvcnQgY3JlYXRlS2liYW5hSW5kZXggZnJvbSAnLi9jcmVhdGVfa2liYW5hX2luZGV4JztcbmltcG9ydCBraWJhbmFWZXJzaW9uIGZyb20gJy4va2liYW5hX3ZlcnNpb24nO1xuaW1wb3J0IHsgZW5zdXJlRXNWZXJzaW9uIH0gZnJvbSAnLi9lbnN1cmVfZXNfdmVyc2lvbic7XG5pbXBvcnQgeyBlbnN1cmVOb3RUcmliZSB9IGZyb20gJy4vZW5zdXJlX25vdF90cmliZSc7XG5cbmNvbnN0IE5vQ29ubmVjdGlvbnMgPSBlbGFzdGljc2VhcmNoLmVycm9ycy5Ob0Nvbm5lY3Rpb25zO1xuaW1wb3J0IHV0aWwgZnJvbSAndXRpbCc7XG5jb25zdCBmb3JtYXQgPSB1dGlsLmZvcm1hdDtcblxuY29uc3QgTk9fSU5ERVggPSAnbm9faW5kZXgnO1xuY29uc3QgSU5JVElBTElaSU5HID0gJ2luaXRpYWxpemluZyc7XG5jb25zdCBSRUFEWSA9ICdyZWFkeSc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHBsdWdpbiwgc2VydmVyKSB7XG4gIGNvbnN0IGNvbmZpZyA9IHNlcnZlci5jb25maWcoKTtcbiAgY29uc3QgY2FsbEFkbWluQXNLaWJhbmFVc2VyID0gc2VydmVyLnBsdWdpbnMuZWxhc3RpY3NlYXJjaC5nZXRDbHVzdGVyKCdhZG1pbicpLmNhbGxXaXRoSW50ZXJuYWxVc2VyO1xuICBjb25zdCBjYWxsRGF0YUFzS2liYW5hVXNlciA9IHNlcnZlci5wbHVnaW5zLmVsYXN0aWNzZWFyY2guZ2V0Q2x1c3RlcignZGF0YScpLmNhbGxXaXRoSW50ZXJuYWxVc2VyO1xuICBjb25zdCBSRVFVRVNUX0RFTEFZID0gY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC5oZWFsdGhDaGVjay5kZWxheScpO1xuXG4gIHBsdWdpbi5zdGF0dXMueWVsbG93KCdXYWl0aW5nIGZvciBFbGFzdGljc2VhcmNoJyk7XG4gIGZ1bmN0aW9uIHdhaXRGb3JQb25nKGNhbGxXaXRoSW50ZXJuYWxVc2VyLCB1cmwpIHtcbiAgICByZXR1cm4gY2FsbFdpdGhJbnRlcm5hbFVzZXIoJ3BpbmcnKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBOb0Nvbm5lY3Rpb25zKSkgdGhyb3cgZXJyO1xuICAgICAgcGx1Z2luLnN0YXR1cy5yZWQoZm9ybWF0KCdVbmFibGUgdG8gY29ubmVjdCB0byBFbGFzdGljc2VhcmNoIGF0ICVzLicsIHVybCkpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5kZWxheShSRVFVRVNUX0RFTEFZKS50aGVuKHdhaXRGb3JQb25nLmJpbmQobnVsbCwgY2FsbFdpdGhJbnRlcm5hbFVzZXIsIHVybCkpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8ganVzdCBmaWd1cmUgb3V0IHRoZSBjdXJyZW50IFwiaGVhbHRoXCIgb2YgdGhlIGVzIHNldHVwXG4gIGZ1bmN0aW9uIGdldEhlYWx0aCgpIHtcbiAgICByZXR1cm4gY2FsbEFkbWluQXNLaWJhbmFVc2VyKCdjbHVzdGVyLmhlYWx0aCcsIHtcbiAgICAgIHRpbWVvdXQ6ICc1cycsIC8vIHRlbGxzIGVzIHRvIG5vdCBzaXQgYXJvdW5kIGFuZCB3YWl0IGZvcmV2ZXJcbiAgICAgIGluZGV4OiBjb25maWcuZ2V0KCdraWJhbmEuaW5kZXgnKSxcbiAgICAgIGlnbm9yZTogWzQwOF1cbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAvLyBpZiBcInRpbWVkX291dFwiID09PSB0cnVlIHRoZW4gZWxhc3RpY3NlYXJjaCBjb3VsZCBub3RcbiAgICAgIC8vIGZpbmQgYW55IGlkaWNlcyBtYXRjaGluZyBvdXIgZmlsdGVyIHdpdGhpbiA1IHNlY29uZHNcbiAgICAgIGlmICghcmVzcCB8fCByZXNwLnRpbWVkX291dCkge1xuICAgICAgICByZXR1cm4gTk9fSU5ERVg7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHN0YXR1cyA9PT0gXCJyZWRcIiB0aGF0IG1lYW5zIHRoYXQgaW5kZXgoZXMpIHdlcmUgZm91bmRcbiAgICAgIC8vIGJ1dCB0aGUgc2hhcmRzIGFyZSBub3QgcmVhZHkgZm9yIHF1ZXJpZXNcbiAgICAgIGlmIChyZXNwLnN0YXR1cyA9PT0gJ3JlZCcpIHtcbiAgICAgICAgcmV0dXJuIElOSVRJQUxJWklORztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJFQURZO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gd2FpdFVudGlsUmVhZHkoKSB7XG4gICAgcmV0dXJuIGdldEhlYWx0aCgpXG4gICAgLnRoZW4oZnVuY3Rpb24gKGhlYWx0aCkge1xuICAgICAgaWYgKGhlYWx0aCAhPT0gUkVBRFkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuZGVsYXkoUkVRVUVTVF9ERUxBWSkudGhlbih3YWl0VW50aWxSZWFkeSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB3YWl0Rm9yU2hhcmRzKCkge1xuICAgIHJldHVybiBnZXRIZWFsdGgoKVxuICAgIC50aGVuKGZ1bmN0aW9uIChoZWFsdGgpIHtcbiAgICAgIGlmIChoZWFsdGggPT09IE5PX0lOREVYKSB7XG4gICAgICAgIHBsdWdpbi5zdGF0dXMueWVsbG93KCdObyBleGlzdGluZyBLaWJhbmEgaW5kZXggZm91bmQnKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUtpYmFuYUluZGV4KHNlcnZlcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChoZWFsdGggPT09IElOSVRJQUxJWklORykge1xuICAgICAgICBwbHVnaW4uc3RhdHVzLnJlZCgnRWxhc3RpY3NlYXJjaCBpcyBzdGlsbCBpbml0aWFsaXppbmcgdGhlIGtpYmFuYSBpbmRleC4nKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuZGVsYXkoUkVRVUVTVF9ERUxBWSkudGhlbih3YWl0Rm9yU2hhcmRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdhaXRGb3JFc1ZlcnNpb24oKSB7XG4gICAgcmV0dXJuIGVuc3VyZUVzVmVyc2lvbihzZXJ2ZXIsIGtpYmFuYVZlcnNpb24uZ2V0KCkpLmNhdGNoKGVyciA9PiB7XG4gICAgICBwbHVnaW4uc3RhdHVzLnJlZChlcnIpO1xuICAgICAgcmV0dXJuIFByb21pc2UuZGVsYXkoUkVRVUVTVF9ERUxBWSkudGhlbih3YWl0Rm9yRXNWZXJzaW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEdyZWVuU3RhdHVzKCkge1xuICAgIHJldHVybiBwbHVnaW4uc3RhdHVzLmdyZWVuKCdLaWJhbmEgaW5kZXggcmVhZHknKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgIGNvbnN0IGhlYWx0aENoZWNrID1cbiAgICAgIHdhaXRGb3JQb25nKGNhbGxBZG1pbkFzS2liYW5hVXNlciwgY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC51cmwnKSlcbiAgICAgIC50aGVuKHdhaXRGb3JFc1ZlcnNpb24pXG4gICAgICAudGhlbihlbnN1cmVOb3RUcmliZS5iaW5kKHRoaXMsIGNhbGxBZG1pbkFzS2liYW5hVXNlcikpXG4gICAgICAudGhlbih3YWl0Rm9yU2hhcmRzKVxuICAgICAgLnRoZW4oXy5wYXJ0aWFsKG1pZ3JhdGVDb25maWcsIHNlcnZlcikpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRyaWJlVXJsID0gY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC50cmliZS51cmwnKTtcbiAgICAgICAgaWYgKHRyaWJlVXJsKSB7XG4gICAgICAgICAgcmV0dXJuIHdhaXRGb3JQb25nKGNhbGxEYXRhQXNLaWJhbmFVc2VyLCB0cmliZVVybClcbiAgICAgICAgICAudGhlbigoKSA9PiBlbnN1cmVFc1ZlcnNpb24oc2VydmVyLCBraWJhbmFWZXJzaW9uLmdldCgpLCBjYWxsRGF0YUFzS2liYW5hVXNlcikpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIHJldHVybiBoZWFsdGhDaGVja1xuICAgIC50aGVuKHNldEdyZWVuU3RhdHVzKVxuICAgIC5jYXRjaChlcnIgPT4gcGx1Z2luLnN0YXR1cy5yZWQoZXJyKSk7XG4gIH1cblxuXG4gIGxldCB0aW1lb3V0SWQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlQ2hlY2sobXMpIHtcbiAgICBpZiAodGltZW91dElkKSByZXR1cm47XG5cbiAgICBjb25zdCBteUlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVjaygpLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGltZW91dElkID09PSBteUlkKSBzdGFydG9yUmVzdGFydENoZWNraW5nKCk7XG4gICAgICB9KTtcbiAgICB9LCBtcyk7XG5cbiAgICB0aW1lb3V0SWQgPSBteUlkO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnRvclJlc3RhcnRDaGVja2luZygpIHtcbiAgICBzY2hlZHVsZUNoZWNrKHN0b3BDaGVja2luZygpID8gUkVRVUVTVF9ERUxBWSA6IDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcENoZWNraW5nKCkge1xuICAgIGlmICghdGltZW91dElkKSByZXR1cm4gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgdGltZW91dElkID0gbnVsbDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2FpdFVudGlsUmVhZHk6IHdhaXRVbnRpbFJlYWR5LFxuICAgIHJ1bjogY2hlY2ssXG4gICAgc3RhcnQ6IHN0YXJ0b3JSZXN0YXJ0Q2hlY2tpbmcsXG4gICAgc3RvcDogc3RvcENoZWNraW5nLFxuICAgIGlzUnVubmluZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gISF0aW1lb3V0SWQ7IH0sXG4gIH07XG5cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/health_check.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/health_check.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport Promise from 'bluebird';\nimport elasticsearch from 'elasticsearch';\nimport migrateConfig from './migrate_config';\nimport createKibanaIndex from './create_kibana_index';\nimport kibanaVersion from './kibana_version';\nimport { ensureEsVersion } from './ensure_es_version';\nimport { ensureNotTribe } from './ensure_not_tribe';\n\nconst NoConnections = elasticsearch.errors.NoConnections;\nimport util from 'util';\nconst format = util.format;\n\nconst NO_INDEX = 'no_index';\nconst INITIALIZING = 'initializing';\nconst READY = 'ready';\n\nmodule.exports = function (plugin, server) {\n  const config = server.config();\n  const callAdminAsKibanaUser = server.plugins.elasticsearch.getCluster('admin').callWithInternalUser;\n  const callDataAsKibanaUser = server.plugins.elasticsearch.getCluster('data').callWithInternalUser;\n  const REQUEST_DELAY = config.get('elasticsearch.healthCheck.delay');\n\n  plugin.status.yellow('Waiting for Elasticsearch');\n  function waitForPong(callWithInternalUser, url) {\n    return callWithInternalUser('ping').catch(function (err) {\n      if (!(err instanceof NoConnections)) throw err;\n      plugin.status.red(format('Unable to connect to Elasticsearch at %s.', url));\n\n      return Promise.delay(REQUEST_DELAY).then(waitForPong.bind(null, callWithInternalUser, url));\n    });\n  }\n\n  // just figure out the current \"health\" of the es setup\n  function getHealth() {\n    return callAdminAsKibanaUser('cluster.health', {\n      timeout: '5s', // tells es to not sit around and wait forever\n      index: config.get('kibana.index'),\n      ignore: [408]\n    })\n    .then(function (resp) {\n      // if \"timed_out\" === true then elasticsearch could not\n      // find any idices matching our filter within 5 seconds\n      if (!resp || resp.timed_out) {\n        return NO_INDEX;\n      }\n\n      // If status === \"red\" that means that index(es) were found\n      // but the shards are not ready for queries\n      if (resp.status === 'red') {\n        return INITIALIZING;\n      }\n\n      return READY;\n    });\n  }\n\n  function waitUntilReady() {\n    return getHealth()\n    .then(function (health) {\n      if (health !== READY) {\n        return Promise.delay(REQUEST_DELAY).then(waitUntilReady);\n      }\n    });\n  }\n\n  function waitForShards() {\n    return getHealth()\n    .then(function (health) {\n      if (health === NO_INDEX) {\n        plugin.status.yellow('No existing Kibana index found');\n        return createKibanaIndex(server);\n      }\n\n      if (health === INITIALIZING) {\n        plugin.status.red('Elasticsearch is still initializing the kibana index.');\n        return Promise.delay(REQUEST_DELAY).then(waitForShards);\n      }\n    });\n  }\n\n  function waitForEsVersion() {\n    return ensureEsVersion(server, kibanaVersion.get()).catch(err => {\n      plugin.status.red(err);\n      return Promise.delay(REQUEST_DELAY).then(waitForEsVersion);\n    });\n  }\n\n  function setGreenStatus() {\n    return plugin.status.green('Kibana index ready');\n  }\n\n  function check() {\n    const healthCheck =\n      waitForPong(callAdminAsKibanaUser, config.get('elasticsearch.url'))\n      .then(waitForEsVersion)\n      .then(ensureNotTribe.bind(this, callAdminAsKibanaUser))\n      .then(waitForShards)\n      .then(_.partial(migrateConfig, server))\n      .then(() => {\n        const tribeUrl = config.get('elasticsearch.tribe.url');\n        if (tribeUrl) {\n          return waitForPong(callDataAsKibanaUser, tribeUrl)\n          .then(() => ensureEsVersion(server, kibanaVersion.get(), callDataAsKibanaUser));\n        }\n      });\n\n    return healthCheck\n    .then(setGreenStatus)\n    .catch(err => plugin.status.red(err));\n  }\n\n\n  let timeoutId = null;\n\n  function scheduleCheck(ms) {\n    if (timeoutId) return;\n\n    const myId = setTimeout(function () {\n      check().finally(function () {\n        if (timeoutId === myId) startorRestartChecking();\n      });\n    }, ms);\n\n    timeoutId = myId;\n  }\n\n  function startorRestartChecking() {\n    scheduleCheck(stopChecking() ? REQUEST_DELAY : 1);\n  }\n\n  function stopChecking() {\n    if (!timeoutId) return false;\n    clearTimeout(timeoutId);\n    timeoutId = null;\n    return true;\n  }\n\n  return {\n    waitUntilReady: waitUntilReady,\n    run: check,\n    start: startorRestartChecking,\n    stop: stopChecking,\n    isRunning: function () { return !!timeoutId; },\n  };\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/migrate_config.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./upgrade_config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "upgrade"
              }
            ]
          },
          {
            "source": "./kibana_index_mappings",
            "imported": [
              "mappings"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "mappings",
                "local": "mappings"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _upgrade_config = require('./upgrade_config');\n\nvar _upgrade_config2 = _interopRequireDefault(_upgrade_config);\n\nvar _kibana_index_mappings = require('./kibana_index_mappings');\n\nmodule.exports = function (server) {\n  var config = server.config();\n\n  var _server$plugins$elasticsearch$getCluster = server.plugins.elasticsearch.getCluster('admin');\n\n  var callWithInternalUser = _server$plugins$elasticsearch$getCluster.callWithInternalUser;\n\n  var options = {\n    index: config.get('kibana.index'),\n    type: 'config',\n    body: {\n      size: 1000,\n      sort: [{\n        buildNum: {\n          order: 'desc',\n          unmapped_type: _kibana_index_mappings.mappings.config.properties.buildNum.type\n        }\n      }]\n    }\n  };\n\n  return callWithInternalUser('search', options).then((0, _upgrade_config2['default'])(server));\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvbWlncmF0ZV9jb25maWcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs4QkFBb0Isa0JBQWtCOzs7O3FDQUNiLHlCQUF5Qjs7QUFFbEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLE1BQU0sRUFBRTtBQUNqQyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7O2lEQUNFLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUM7O01BQXpFLG9CQUFvQiw0Q0FBcEIsb0JBQW9COztBQUU1QixNQUFNLE9BQU8sR0FBSTtBQUNmLFNBQUssRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQztBQUNqQyxRQUFJLEVBQUUsUUFBUTtBQUNkLFFBQUksRUFBRTtBQUNKLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLENBQ0o7QUFDRSxnQkFBUSxFQUFFO0FBQ1IsZUFBSyxFQUFFLE1BQU07QUFDYix1QkFBYSxFQUFFLGdDQUFTLE1BQU0sQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUk7U0FDeEQ7T0FDRixDQUNGO0tBQ0Y7R0FDRixDQUFDOztBQUVGLFNBQU8sb0JBQW9CLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxpQ0FBUSxNQUFNLENBQUMsQ0FBQyxDQUFDO0NBQ3RFLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9lbGFzdGljc2VhcmNoL2xpYi9taWdyYXRlX2NvbmZpZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1cGdyYWRlIGZyb20gJy4vdXBncmFkZV9jb25maWcnO1xuaW1wb3J0IHsgbWFwcGluZ3MgfSBmcm9tICcuL2tpYmFuYV9pbmRleF9tYXBwaW5ncyc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNlcnZlcikge1xuICBjb25zdCBjb25maWcgPSBzZXJ2ZXIuY29uZmlnKCk7XG4gIGNvbnN0IHsgY2FsbFdpdGhJbnRlcm5hbFVzZXIgfSA9IHNlcnZlci5wbHVnaW5zLmVsYXN0aWNzZWFyY2guZ2V0Q2x1c3RlcignYWRtaW4nKTtcblxuICBjb25zdCBvcHRpb25zID0gIHtcbiAgICBpbmRleDogY29uZmlnLmdldCgna2liYW5hLmluZGV4JyksXG4gICAgdHlwZTogJ2NvbmZpZycsXG4gICAgYm9keToge1xuICAgICAgc2l6ZTogMTAwMCxcbiAgICAgIHNvcnQ6IFtcbiAgICAgICAge1xuICAgICAgICAgIGJ1aWxkTnVtOiB7XG4gICAgICAgICAgICBvcmRlcjogJ2Rlc2MnLFxuICAgICAgICAgICAgdW5tYXBwZWRfdHlwZTogbWFwcGluZ3MuY29uZmlnLnByb3BlcnRpZXMuYnVpbGROdW0udHlwZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gY2FsbFdpdGhJbnRlcm5hbFVzZXIoJ3NlYXJjaCcsIG9wdGlvbnMpLnRoZW4odXBncmFkZShzZXJ2ZXIpKTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/migrate_config.js"
      ],
      "names": [],
      "mappings": ";;;;8BAAoB,kBAAkB;;;;qCACb,yBAAyB;;AAElD,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;AACjC,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;;iDACE,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC;;MAAzE,oBAAoB,4CAApB,oBAAoB;;AAE5B,MAAM,OAAO,GAAI;AACf,SAAK,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AACjC,QAAI,EAAE,QAAQ;AACd,QAAI,EAAE;AACJ,UAAI,EAAE,IAAI;AACV,UAAI,EAAE,CACJ;AACE,gBAAQ,EAAE;AACR,eAAK,EAAE,MAAM;AACb,uBAAa,EAAE,gCAAS,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI;SACxD;OACF,CACF;KACF;GACF,CAAC;;AAEF,SAAO,oBAAoB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,iCAAQ,MAAM,CAAC,CAAC,CAAC;CACtE,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/migrate_config.js",
      "sourcesContent": [
        "import upgrade from './upgrade_config';\nimport { mappings } from './kibana_index_mappings';\n\nmodule.exports = function (server) {\n  const config = server.config();\n  const { callWithInternalUser } = server.plugins.elasticsearch.getCluster('admin');\n\n  const options =  {\n    index: config.get('kibana.index'),\n    type: 'config',\n    body: {\n      size: 1000,\n      sort: [\n        {\n          buildNum: {\n            order: 'desc',\n            unmapped_type: mappings.config.properties.buildNum.type\n          }\n        }\n      ]\n    }\n  };\n\n  return callWithInternalUser('search', options).then(upgrade(server));\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/upgrade_config.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "bluebird",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Promise"
              }
            ]
          },
          {
            "source": "./is_upgradeable",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "isUpgradeable"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "util",
            "imported": [
              "format"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "format",
                "local": "format"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _is_upgradeable = require('./is_upgradeable');\n\nvar _is_upgradeable2 = _interopRequireDefault(_is_upgradeable);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _util = require('util');\n\nmodule.exports = function (server) {\n  var MAX_INTEGER = Math.pow(2, 53) - 1;\n\n  var _server$plugins$elasticsearch$getCluster = server.plugins.elasticsearch.getCluster('admin');\n\n  var callWithInternalUser = _server$plugins$elasticsearch$getCluster.callWithInternalUser;\n\n  var config = server.config();\n\n  function createNewConfig() {\n    return callWithInternalUser('create', {\n      index: config.get('kibana.index'),\n      type: 'config',\n      body: { buildNum: config.get('pkg.buildNum') },\n      id: config.get('pkg.version')\n    });\n  }\n\n  return function (response) {\n    var newConfig = {};\n\n    // Check to see if there are any doc. If not then we set the build number and id\n    if (response.hits.hits.length === 0) {\n      return createNewConfig();\n    }\n\n    // if we already have a the current version in the index then we need to stop\n    var devConfig = _lodash2['default'].find(response.hits.hits, function currentVersion(hit) {\n      return hit._id !== '@@version' && hit._id === config.get('pkg.version');\n    });\n\n    if (devConfig) {\n      return _bluebird2['default'].resolve();\n    }\n\n    // Look for upgradeable configs. If none of them are upgradeable\n    // then create a new one.\n    var body = _lodash2['default'].find(response.hits.hits, _is_upgradeable2['default'].bind(null, server));\n    if (!body) {\n      return createNewConfig();\n    }\n\n    // if the build number is still the template string (which it wil be in development)\n    // then we need to set it to the max interger. Otherwise we will set it to the build num\n    body._source.buildNum = config.get('pkg.buildNum');\n\n    server.log(['plugin', 'elasticsearch'], {\n      tmpl: 'Upgrade config from <%= prevVersion %> to <%= newVersion %>',\n      prevVersion: body._id,\n      newVersion: config.get('pkg.version')\n    });\n\n    return callWithInternalUser('create', {\n      index: config.get('kibana.index'),\n      type: 'config',\n      body: body._source,\n      id: config.get('pkg.version')\n    });\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvdXBncmFkZV9jb25maWcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozt3QkFBb0IsVUFBVTs7Ozs4QkFDSixrQkFBa0I7Ozs7c0JBQzlCLFFBQVE7Ozs7b0JBQ0MsTUFBTTs7QUFFN0IsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLE1BQU0sRUFBRTtBQUNqQyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7O2lEQUVQLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUM7O01BQXpFLG9CQUFvQiw0Q0FBcEIsb0JBQW9COztBQUM1QixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7O0FBRS9CLFdBQVMsZUFBZSxHQUFHO0FBQ3pCLFdBQU8sb0JBQW9CLENBQUMsUUFBUSxFQUFFO0FBQ3BDLFdBQUssRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQztBQUNqQyxVQUFJLEVBQUUsUUFBUTtBQUNkLFVBQUksRUFBRSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxFQUFFO0FBQzlDLFFBQUUsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQztLQUM5QixDQUFDLENBQUM7R0FDSjs7QUFFRCxTQUFPLFVBQVUsUUFBUSxFQUFFO0FBQ3pCLFFBQU0sU0FBUyxHQUFHLEVBQUUsQ0FBQzs7O0FBR3JCLFFBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUNuQyxhQUFPLGVBQWUsRUFBRSxDQUFDO0tBQzFCOzs7QUFHRCxRQUFNLFNBQVMsR0FBRyxvQkFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsU0FBUyxjQUFjLENBQUMsR0FBRyxFQUFFO0FBQ3hFLGFBQU8sR0FBRyxDQUFDLEdBQUcsS0FBSyxXQUFXLElBQUksR0FBRyxDQUFDLEdBQUcsS0FBSyxNQUFNLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBQ3pFLENBQUMsQ0FBQzs7QUFFSCxRQUFJLFNBQVMsRUFBRTtBQUNiLGFBQU8sc0JBQVEsT0FBTyxFQUFFLENBQUM7S0FDMUI7Ozs7QUFJRCxRQUFNLElBQUksR0FBRyxvQkFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsNEJBQWMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQzFFLFFBQUksQ0FBQyxJQUFJLEVBQUU7QUFDVCxhQUFPLGVBQWUsRUFBRSxDQUFDO0tBQzFCOzs7O0FBSUQsUUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQzs7QUFFbkQsVUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxlQUFlLENBQUMsRUFBRTtBQUN0QyxVQUFJLEVBQUUsNkRBQTZEO0FBQ25FLGlCQUFXLEVBQUUsSUFBSSxDQUFDLEdBQUc7QUFDckIsZ0JBQVUsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQztLQUN0QyxDQUFDLENBQUM7O0FBRUgsV0FBTyxvQkFBb0IsQ0FBQyxRQUFRLEVBQUU7QUFDcEMsV0FBSyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDO0FBQ2pDLFVBQUksRUFBRSxRQUFRO0FBQ2QsVUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPO0FBQ2xCLFFBQUUsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQztLQUM5QixDQUFDLENBQUM7R0FDSixDQUFDO0NBQ0gsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2VsYXN0aWNzZWFyY2gvbGliL3VwZ3JhZGVfY29uZmlnLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb21pc2UgZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IGlzVXBncmFkZWFibGUgZnJvbSAnLi9pc191cGdyYWRlYWJsZSc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAndXRpbCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNlcnZlcikge1xuICBjb25zdCBNQVhfSU5URUdFUiA9IE1hdGgucG93KDIsIDUzKSAtIDE7XG5cbiAgY29uc3QgeyBjYWxsV2l0aEludGVybmFsVXNlciB9ID0gc2VydmVyLnBsdWdpbnMuZWxhc3RpY3NlYXJjaC5nZXRDbHVzdGVyKCdhZG1pbicpO1xuICBjb25zdCBjb25maWcgPSBzZXJ2ZXIuY29uZmlnKCk7XG5cbiAgZnVuY3Rpb24gY3JlYXRlTmV3Q29uZmlnKCkge1xuICAgIHJldHVybiBjYWxsV2l0aEludGVybmFsVXNlcignY3JlYXRlJywge1xuICAgICAgaW5kZXg6IGNvbmZpZy5nZXQoJ2tpYmFuYS5pbmRleCcpLFxuICAgICAgdHlwZTogJ2NvbmZpZycsXG4gICAgICBib2R5OiB7IGJ1aWxkTnVtOiBjb25maWcuZ2V0KCdwa2cuYnVpbGROdW0nKSB9LFxuICAgICAgaWQ6IGNvbmZpZy5nZXQoJ3BrZy52ZXJzaW9uJylcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBjb25zdCBuZXdDb25maWcgPSB7fTtcblxuICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGVyZSBhcmUgYW55IGRvYy4gSWYgbm90IHRoZW4gd2Ugc2V0IHRoZSBidWlsZCBudW1iZXIgYW5kIGlkXG4gICAgaWYgKHJlc3BvbnNlLmhpdHMuaGl0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBjcmVhdGVOZXdDb25maWcoKTtcbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSB0aGUgY3VycmVudCB2ZXJzaW9uIGluIHRoZSBpbmRleCB0aGVuIHdlIG5lZWQgdG8gc3RvcFxuICAgIGNvbnN0IGRldkNvbmZpZyA9IF8uZmluZChyZXNwb25zZS5oaXRzLmhpdHMsIGZ1bmN0aW9uIGN1cnJlbnRWZXJzaW9uKGhpdCkge1xuICAgICAgcmV0dXJuIGhpdC5faWQgIT09ICdAQHZlcnNpb24nICYmIGhpdC5faWQgPT09IGNvbmZpZy5nZXQoJ3BrZy52ZXJzaW9uJyk7XG4gICAgfSk7XG5cbiAgICBpZiAoZGV2Q29uZmlnKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgLy8gTG9vayBmb3IgdXBncmFkZWFibGUgY29uZmlncy4gSWYgbm9uZSBvZiB0aGVtIGFyZSB1cGdyYWRlYWJsZVxuICAgIC8vIHRoZW4gY3JlYXRlIGEgbmV3IG9uZS5cbiAgICBjb25zdCBib2R5ID0gXy5maW5kKHJlc3BvbnNlLmhpdHMuaGl0cywgaXNVcGdyYWRlYWJsZS5iaW5kKG51bGwsIHNlcnZlcikpO1xuICAgIGlmICghYm9keSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZU5ld0NvbmZpZygpO1xuICAgIH1cblxuICAgIC8vIGlmIHRoZSBidWlsZCBudW1iZXIgaXMgc3RpbGwgdGhlIHRlbXBsYXRlIHN0cmluZyAod2hpY2ggaXQgd2lsIGJlIGluIGRldmVsb3BtZW50KVxuICAgIC8vIHRoZW4gd2UgbmVlZCB0byBzZXQgaXQgdG8gdGhlIG1heCBpbnRlcmdlci4gT3RoZXJ3aXNlIHdlIHdpbGwgc2V0IGl0IHRvIHRoZSBidWlsZCBudW1cbiAgICBib2R5Ll9zb3VyY2UuYnVpbGROdW0gPSBjb25maWcuZ2V0KCdwa2cuYnVpbGROdW0nKTtcblxuICAgIHNlcnZlci5sb2coWydwbHVnaW4nLCAnZWxhc3RpY3NlYXJjaCddLCB7XG4gICAgICB0bXBsOiAnVXBncmFkZSBjb25maWcgZnJvbSA8JT0gcHJldlZlcnNpb24gJT4gdG8gPCU9IG5ld1ZlcnNpb24gJT4nLFxuICAgICAgcHJldlZlcnNpb246IGJvZHkuX2lkLFxuICAgICAgbmV3VmVyc2lvbjogY29uZmlnLmdldCgncGtnLnZlcnNpb24nKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNhbGxXaXRoSW50ZXJuYWxVc2VyKCdjcmVhdGUnLCB7XG4gICAgICBpbmRleDogY29uZmlnLmdldCgna2liYW5hLmluZGV4JyksXG4gICAgICB0eXBlOiAnY29uZmlnJyxcbiAgICAgIGJvZHk6IGJvZHkuX3NvdXJjZSxcbiAgICAgIGlkOiBjb25maWcuZ2V0KCdwa2cudmVyc2lvbicpXG4gICAgfSk7XG4gIH07XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/upgrade_config.js"
      ],
      "names": [],
      "mappings": ";;;;wBAAoB,UAAU;;;;8BACJ,kBAAkB;;;;sBAC9B,QAAQ;;;;oBACC,MAAM;;AAE7B,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;AACjC,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;;iDAEP,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC;;MAAzE,oBAAoB,4CAApB,oBAAoB;;AAC5B,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;;AAE/B,WAAS,eAAe,GAAG;AACzB,WAAO,oBAAoB,CAAC,QAAQ,EAAE;AACpC,WAAK,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AACjC,UAAI,EAAE,QAAQ;AACd,UAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE;AAC9C,QAAE,EAAE,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC;KAC9B,CAAC,CAAC;GACJ;;AAED,SAAO,UAAU,QAAQ,EAAE;AACzB,QAAM,SAAS,GAAG,EAAE,CAAC;;;AAGrB,QAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnC,aAAO,eAAe,EAAE,CAAC;KAC1B;;;AAGD,QAAM,SAAS,GAAG,oBAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,cAAc,CAAC,GAAG,EAAE;AACxE,aAAO,GAAG,CAAC,GAAG,KAAK,WAAW,IAAI,GAAG,CAAC,GAAG,KAAK,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;KACzE,CAAC,CAAC;;AAEH,QAAI,SAAS,EAAE;AACb,aAAO,sBAAQ,OAAO,EAAE,CAAC;KAC1B;;;;AAID,QAAM,IAAI,GAAG,oBAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,4BAAc,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;AAC1E,QAAI,CAAC,IAAI,EAAE;AACT,aAAO,eAAe,EAAE,CAAC;KAC1B;;;;AAID,QAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;;AAEnD,UAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,eAAe,CAAC,EAAE;AACtC,UAAI,EAAE,6DAA6D;AACnE,iBAAW,EAAE,IAAI,CAAC,GAAG;AACrB,gBAAU,EAAE,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC;KACtC,CAAC,CAAC;;AAEH,WAAO,oBAAoB,CAAC,QAAQ,EAAE;AACpC,WAAK,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AACjC,UAAI,EAAE,QAAQ;AACd,UAAI,EAAE,IAAI,CAAC,OAAO;AAClB,QAAE,EAAE,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC;KAC9B,CAAC,CAAC;GACJ,CAAC;CACH,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/upgrade_config.js",
      "sourcesContent": [
        "import Promise from 'bluebird';\nimport isUpgradeable from './is_upgradeable';\nimport _ from 'lodash';\nimport { format } from 'util';\n\nmodule.exports = function (server) {\n  const MAX_INTEGER = Math.pow(2, 53) - 1;\n\n  const { callWithInternalUser } = server.plugins.elasticsearch.getCluster('admin');\n  const config = server.config();\n\n  function createNewConfig() {\n    return callWithInternalUser('create', {\n      index: config.get('kibana.index'),\n      type: 'config',\n      body: { buildNum: config.get('pkg.buildNum') },\n      id: config.get('pkg.version')\n    });\n  }\n\n  return function (response) {\n    const newConfig = {};\n\n    // Check to see if there are any doc. If not then we set the build number and id\n    if (response.hits.hits.length === 0) {\n      return createNewConfig();\n    }\n\n    // if we already have a the current version in the index then we need to stop\n    const devConfig = _.find(response.hits.hits, function currentVersion(hit) {\n      return hit._id !== '@@version' && hit._id === config.get('pkg.version');\n    });\n\n    if (devConfig) {\n      return Promise.resolve();\n    }\n\n    // Look for upgradeable configs. If none of them are upgradeable\n    // then create a new one.\n    const body = _.find(response.hits.hits, isUpgradeable.bind(null, server));\n    if (!body) {\n      return createNewConfig();\n    }\n\n    // if the build number is still the template string (which it wil be in development)\n    // then we need to set it to the max interger. Otherwise we will set it to the build num\n    body._source.buildNum = config.get('pkg.buildNum');\n\n    server.log(['plugin', 'elasticsearch'], {\n      tmpl: 'Upgrade config from <%= prevVersion %> to <%= newVersion %>',\n      prevVersion: body._id,\n      newVersion: config.get('pkg.version')\n    });\n\n    return callWithInternalUser('create', {\n      index: config.get('kibana.index'),\n      type: 'config',\n      body: body._source,\n      id: config.get('pkg.version')\n    });\n  };\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/is_upgradeable.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "semver",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "semver"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _semver = require('semver');\n\nvar _semver2 = _interopRequireDefault(_semver);\n\nvar rcVersionRegex = /(\\d+\\.\\d+\\.\\d+)\\-rc(\\d+)/i;\n\nmodule.exports = function (server, doc) {\n  var config = server.config();\n  if (/alpha|beta|snapshot/i.test(doc._id)) return false;\n  if (!doc._id) return false;\n  if (doc._id === config.get('pkg.version')) return false;\n\n  var packageRcRelease = Infinity;\n  var rcRelease = Infinity;\n  var packageVersion = config.get('pkg.version');\n  var version = doc._id;\n  var matches = doc._id.match(rcVersionRegex);\n  var packageMatches = config.get('pkg.version').match(rcVersionRegex);\n\n  if (matches) {\n    version = matches[1];\n    rcRelease = parseInt(matches[2], 10);\n  }\n\n  if (packageMatches) {\n    packageVersion = packageMatches[1];\n    packageRcRelease = parseInt(packageMatches[2], 10);\n  }\n\n  try {\n    if (_semver2['default'].gte(version, packageVersion) && rcRelease >= packageRcRelease) return false;\n  } catch (e) {\n    return false;\n  }\n  return true;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvaXNfdXBncmFkZWFibGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztzQkFBbUIsUUFBUTs7OztBQUMzQixJQUFNLGNBQWMsR0FBRywyQkFBMkIsQ0FBQzs7QUFFbkQsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLE1BQU0sRUFBRSxHQUFHLEVBQUU7QUFDdEMsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQy9CLE1BQUksc0JBQXNCLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUN2RCxNQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxPQUFPLEtBQUssQ0FBQztBQUMzQixNQUFJLEdBQUcsQ0FBQyxHQUFHLEtBQUssTUFBTSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsRUFBRSxPQUFPLEtBQUssQ0FBQzs7QUFFeEQsTUFBSSxnQkFBZ0IsR0FBRyxRQUFRLENBQUM7QUFDaEMsTUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDO0FBQ3pCLE1BQUksY0FBYyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDL0MsTUFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQztBQUN0QixNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUM5QyxNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQzs7QUFFdkUsTUFBSSxPQUFPLEVBQUU7QUFDWCxXQUFPLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JCLGFBQVMsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0dBQ3RDOztBQUVELE1BQUksY0FBYyxFQUFFO0FBQ2xCLGtCQUFjLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25DLG9CQUFnQixHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDcEQ7O0FBRUQsTUFBSTtBQUNGLFFBQUksb0JBQU8sR0FBRyxDQUFDLE9BQU8sRUFBRSxjQUFjLENBQUMsSUFBSSxTQUFTLElBQUksZ0JBQWdCLEVBQUUsT0FBTyxLQUFLLENBQUM7R0FDeEYsQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUNWLFdBQU8sS0FBSyxDQUFDO0dBQ2Q7QUFDRCxTQUFPLElBQUksQ0FBQztDQUNiLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9lbGFzdGljc2VhcmNoL2xpYi9pc191cGdyYWRlYWJsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZW12ZXIgZnJvbSAnc2VtdmVyJztcbmNvbnN0IHJjVmVyc2lvblJlZ2V4ID0gLyhcXGQrXFwuXFxkK1xcLlxcZCspXFwtcmMoXFxkKykvaTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2VydmVyLCBkb2MpIHtcbiAgY29uc3QgY29uZmlnID0gc2VydmVyLmNvbmZpZygpO1xuICBpZiAoL2FscGhhfGJldGF8c25hcHNob3QvaS50ZXN0KGRvYy5faWQpKSByZXR1cm4gZmFsc2U7XG4gIGlmICghZG9jLl9pZCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoZG9jLl9pZCA9PT0gY29uZmlnLmdldCgncGtnLnZlcnNpb24nKSkgcmV0dXJuIGZhbHNlO1xuXG4gIGxldCBwYWNrYWdlUmNSZWxlYXNlID0gSW5maW5pdHk7XG4gIGxldCByY1JlbGVhc2UgPSBJbmZpbml0eTtcbiAgbGV0IHBhY2thZ2VWZXJzaW9uID0gY29uZmlnLmdldCgncGtnLnZlcnNpb24nKTtcbiAgbGV0IHZlcnNpb24gPSBkb2MuX2lkO1xuICBjb25zdCBtYXRjaGVzID0gZG9jLl9pZC5tYXRjaChyY1ZlcnNpb25SZWdleCk7XG4gIGNvbnN0IHBhY2thZ2VNYXRjaGVzID0gY29uZmlnLmdldCgncGtnLnZlcnNpb24nKS5tYXRjaChyY1ZlcnNpb25SZWdleCk7XG5cbiAgaWYgKG1hdGNoZXMpIHtcbiAgICB2ZXJzaW9uID0gbWF0Y2hlc1sxXTtcbiAgICByY1JlbGVhc2UgPSBwYXJzZUludChtYXRjaGVzWzJdLCAxMCk7XG4gIH1cblxuICBpZiAocGFja2FnZU1hdGNoZXMpIHtcbiAgICBwYWNrYWdlVmVyc2lvbiA9IHBhY2thZ2VNYXRjaGVzWzFdO1xuICAgIHBhY2thZ2VSY1JlbGVhc2UgPSBwYXJzZUludChwYWNrYWdlTWF0Y2hlc1syXSwgMTApO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBpZiAoc2VtdmVyLmd0ZSh2ZXJzaW9uLCBwYWNrYWdlVmVyc2lvbikgJiYgcmNSZWxlYXNlID49IHBhY2thZ2VSY1JlbGVhc2UpIHJldHVybiBmYWxzZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/is_upgradeable.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAmB,QAAQ;;;;AAC3B,IAAM,cAAc,GAAG,2BAA2B,CAAC;;AAEnD,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE,GAAG,EAAE;AACtC,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AAC/B,MAAI,sBAAsB,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,OAAO,KAAK,CAAC;AACvD,MAAI,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,KAAK,CAAC;AAC3B,MAAI,GAAG,CAAC,GAAG,KAAK,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,OAAO,KAAK,CAAC;;AAExD,MAAI,gBAAgB,GAAG,QAAQ,CAAC;AAChC,MAAI,SAAS,GAAG,QAAQ,CAAC;AACzB,MAAI,cAAc,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;AAC/C,MAAI,OAAO,GAAG,GAAG,CAAC,GAAG,CAAC;AACtB,MAAM,OAAO,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;AAC9C,MAAM,cAAc,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;;AAEvE,MAAI,OAAO,EAAE;AACX,WAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AACrB,aAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;GACtC;;AAED,MAAI,cAAc,EAAE;AAClB,kBAAc,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;AACnC,oBAAgB,GAAG,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;GACpD;;AAED,MAAI;AACF,QAAI,oBAAO,GAAG,CAAC,OAAO,EAAE,cAAc,CAAC,IAAI,SAAS,IAAI,gBAAgB,EAAE,OAAO,KAAK,CAAC;GACxF,CAAC,OAAO,CAAC,EAAE;AACV,WAAO,KAAK,CAAC;GACd;AACD,SAAO,IAAI,CAAC;CACb,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/is_upgradeable.js",
      "sourcesContent": [
        "import semver from 'semver';\nconst rcVersionRegex = /(\\d+\\.\\d+\\.\\d+)\\-rc(\\d+)/i;\n\nmodule.exports = function (server, doc) {\n  const config = server.config();\n  if (/alpha|beta|snapshot/i.test(doc._id)) return false;\n  if (!doc._id) return false;\n  if (doc._id === config.get('pkg.version')) return false;\n\n  let packageRcRelease = Infinity;\n  let rcRelease = Infinity;\n  let packageVersion = config.get('pkg.version');\n  let version = doc._id;\n  const matches = doc._id.match(rcVersionRegex);\n  const packageMatches = config.get('pkg.version').match(rcVersionRegex);\n\n  if (matches) {\n    version = matches[1];\n    rcRelease = parseInt(matches[2], 10);\n  }\n\n  if (packageMatches) {\n    packageVersion = packageMatches[1];\n    packageRcRelease = parseInt(packageMatches[2], 10);\n  }\n\n  try {\n    if (semver.gte(version, packageVersion) && rcRelease >= packageRcRelease) return false;\n  } catch (e) {\n    return false;\n  }\n  return true;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/kibana_index_mappings.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "mappings"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "mappings",
              "exported": "mappings"
            }
          ]
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar mappings = {\n  config: {\n    properties: {\n      buildNum: {\n        type: 'string',\n        index: 'not_analyzed'\n      }\n    }\n  },\n  server: {\n    properties: {\n      uuid: {\n        type: 'keyword'\n      }\n    }\n  }\n};\nexports.mappings = mappings;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIva2liYW5hX2luZGV4X21hcHBpbmdzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sSUFBTSxRQUFRLEdBQUc7QUFDdEIsUUFBTSxFQUFFO0FBQ04sY0FBVSxFQUFFO0FBQ1YsY0FBUSxFQUFFO0FBQ1IsWUFBSSxFQUFFLFFBQVE7QUFDZCxhQUFLLEVBQUUsY0FBYztPQUN0QjtLQUNGO0dBQ0Y7QUFDRCxRQUFNLEVBQUU7QUFDTixjQUFVLEVBQUU7QUFDVixVQUFJLEVBQUU7QUFDSixZQUFJLEVBQUUsU0FBUztPQUNoQjtLQUNGO0dBQ0Y7Q0FDRixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIva2liYW5hX2luZGV4X21hcHBpbmdzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IG1hcHBpbmdzID0ge1xuICBjb25maWc6IHtcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICBidWlsZE51bToge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgaW5kZXg6ICdub3RfYW5hbHl6ZWQnXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzZXJ2ZXI6IHtcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICB1dWlkOiB7XG4gICAgICAgIHR5cGU6ICdrZXl3b3JkJ1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/kibana_index_mappings.js"
      ],
      "names": [],
      "mappings": ";;;;;AAAO,IAAM,QAAQ,GAAG;AACtB,QAAM,EAAE;AACN,cAAU,EAAE;AACV,cAAQ,EAAE;AACR,YAAI,EAAE,QAAQ;AACd,aAAK,EAAE,cAAc;OACtB;KACF;GACF;AACD,QAAM,EAAE;AACN,cAAU,EAAE;AACV,UAAI,EAAE;AACJ,YAAI,EAAE,SAAS;OAChB;KACF;GACF;CACF,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/kibana_index_mappings.js",
      "sourcesContent": [
        "export const mappings = {\n  config: {\n    properties: {\n      buildNum: {\n        type: 'string',\n        index: 'not_analyzed'\n      }\n    }\n  },\n  server: {\n    properties: {\n      uuid: {\n        type: 'keyword'\n      }\n    }\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_kibana_index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./setup_error",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "SetupError"
              }
            ]
          },
          {
            "source": "util",
            "imported": [
              "format"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "format",
                "local": "format"
              }
            ]
          },
          {
            "source": "./kibana_index_mappings",
            "imported": [
              "mappings"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "mappings",
                "local": "mappings"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _setup_error = require('./setup_error');\n\nvar _setup_error2 = _interopRequireDefault(_setup_error);\n\nvar _util = require('util');\n\nvar _kibana_index_mappings = require('./kibana_index_mappings');\n\nmodule.exports = function (server) {\n  var _server$plugins$elasticsearch$getCluster = server.plugins.elasticsearch.getCluster('admin');\n\n  var callWithInternalUser = _server$plugins$elasticsearch$getCluster.callWithInternalUser;\n\n  var index = server.config().get('kibana.index');\n\n  function handleError(message) {\n    return function (err) {\n      throw new _setup_error2['default'](server, message, err);\n    };\n  }\n\n  return callWithInternalUser('indices.create', {\n    index: index,\n    body: {\n      settings: {\n        number_of_shards: 1\n      },\n      mappings: _kibana_index_mappings.mappings\n    }\n  })['catch'](handleError('Unable to create Kibana index \"<%= kibana.index %>\"')).then(function () {\n    return callWithInternalUser('cluster.health', {\n      waitForStatus: 'yellow',\n      index: index\n    })['catch'](handleError('Waiting for Kibana index \"<%= kibana.index %>\" to come online failed.'));\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvY3JlYXRlX2tpYmFuYV9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OzJCQUF1QixlQUFlOzs7O29CQUNmLE1BQU07O3FDQUNKLHlCQUF5Qjs7QUFFbEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLE1BQU0sRUFBRTtpREFDQSxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDOztNQUF6RSxvQkFBb0IsNENBQXBCLG9CQUFvQjs7QUFDNUIsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQzs7QUFFbEQsV0FBUyxXQUFXLENBQUMsT0FBTyxFQUFFO0FBQzVCLFdBQU8sVUFBVSxHQUFHLEVBQUU7QUFDcEIsWUFBTSw2QkFBZSxNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQzVDLENBQUM7R0FDSDs7QUFFRCxTQUFPLG9CQUFvQixDQUFDLGdCQUFnQixFQUFFO0FBQzVDLFNBQUssRUFBRSxLQUFLO0FBQ1osUUFBSSxFQUFFO0FBQ0osY0FBUSxFQUFFO0FBQ1Isd0JBQWdCLEVBQUUsQ0FBQztPQUNwQjtBQUNELGNBQVEsaUNBQUE7S0FDVDtHQUNGLENBQUMsU0FDSSxDQUFDLFdBQVcsQ0FBQyxxREFBcUQsQ0FBQyxDQUFDLENBQ3pFLElBQUksQ0FBQyxZQUFZO0FBQ2hCLFdBQU8sb0JBQW9CLENBQUMsZ0JBQWdCLEVBQUU7QUFDNUMsbUJBQWEsRUFBRSxRQUFRO0FBQ3ZCLFdBQUssRUFBRSxLQUFLO0tBQ2IsQ0FBQyxTQUNJLENBQUMsV0FBVyxDQUFDLHVFQUF1RSxDQUFDLENBQUMsQ0FBQztHQUM5RixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvY3JlYXRlX2tpYmFuYV9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTZXR1cEVycm9yIGZyb20gJy4vc2V0dXBfZXJyb3InO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAndXRpbCc7XG5pbXBvcnQgeyBtYXBwaW5ncyB9IGZyb20gJy4va2liYW5hX2luZGV4X21hcHBpbmdzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2VydmVyKSB7XG4gIGNvbnN0IHsgY2FsbFdpdGhJbnRlcm5hbFVzZXIgfSA9IHNlcnZlci5wbHVnaW5zLmVsYXN0aWNzZWFyY2guZ2V0Q2x1c3RlcignYWRtaW4nKTtcbiAgY29uc3QgaW5kZXggPSBzZXJ2ZXIuY29uZmlnKCkuZ2V0KCdraWJhbmEuaW5kZXgnKTtcblxuICBmdW5jdGlvbiBoYW5kbGVFcnJvcihtZXNzYWdlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBTZXR1cEVycm9yKHNlcnZlciwgbWVzc2FnZSwgZXJyKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNhbGxXaXRoSW50ZXJuYWxVc2VyKCdpbmRpY2VzLmNyZWF0ZScsIHtcbiAgICBpbmRleDogaW5kZXgsXG4gICAgYm9keToge1xuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgbnVtYmVyX29mX3NoYXJkczogMVxuICAgICAgfSxcbiAgICAgIG1hcHBpbmdzXG4gICAgfVxuICB9KVxuICAuY2F0Y2goaGFuZGxlRXJyb3IoJ1VuYWJsZSB0byBjcmVhdGUgS2liYW5hIGluZGV4IFwiPCU9IGtpYmFuYS5pbmRleCAlPlwiJykpXG4gIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2FsbFdpdGhJbnRlcm5hbFVzZXIoJ2NsdXN0ZXIuaGVhbHRoJywge1xuICAgICAgd2FpdEZvclN0YXR1czogJ3llbGxvdycsXG4gICAgICBpbmRleDogaW5kZXhcbiAgICB9KVxuICAgIC5jYXRjaChoYW5kbGVFcnJvcignV2FpdGluZyBmb3IgS2liYW5hIGluZGV4IFwiPCU9IGtpYmFuYS5pbmRleCAlPlwiIHRvIGNvbWUgb25saW5lIGZhaWxlZC4nKSk7XG4gIH0pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_kibana_index.js"
      ],
      "names": [],
      "mappings": ";;;;2BAAuB,eAAe;;;;oBACf,MAAM;;qCACJ,yBAAyB;;AAElD,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;iDACA,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC;;MAAzE,oBAAoB,4CAApB,oBAAoB;;AAC5B,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;;AAElD,WAAS,WAAW,CAAC,OAAO,EAAE;AAC5B,WAAO,UAAU,GAAG,EAAE;AACpB,YAAM,6BAAe,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;KAC5C,CAAC;GACH;;AAED,SAAO,oBAAoB,CAAC,gBAAgB,EAAE;AAC5C,SAAK,EAAE,KAAK;AACZ,QAAI,EAAE;AACJ,cAAQ,EAAE;AACR,wBAAgB,EAAE,CAAC;OACpB;AACD,cAAQ,iCAAA;KACT;GACF,CAAC,SACI,CAAC,WAAW,CAAC,qDAAqD,CAAC,CAAC,CACzE,IAAI,CAAC,YAAY;AAChB,WAAO,oBAAoB,CAAC,gBAAgB,EAAE;AAC5C,mBAAa,EAAE,QAAQ;AACvB,WAAK,EAAE,KAAK;KACb,CAAC,SACI,CAAC,WAAW,CAAC,uEAAuE,CAAC,CAAC,CAAC;GAC9F,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_kibana_index.js",
      "sourcesContent": [
        "import SetupError from './setup_error';\nimport { format } from 'util';\nimport { mappings } from './kibana_index_mappings';\n\nmodule.exports = function (server) {\n  const { callWithInternalUser } = server.plugins.elasticsearch.getCluster('admin');\n  const index = server.config().get('kibana.index');\n\n  function handleError(message) {\n    return function (err) {\n      throw new SetupError(server, message, err);\n    };\n  }\n\n  return callWithInternalUser('indices.create', {\n    index: index,\n    body: {\n      settings: {\n        number_of_shards: 1\n      },\n      mappings\n    }\n  })\n  .catch(handleError('Unable to create Kibana index \"<%= kibana.index %>\"'))\n  .then(function () {\n    return callWithInternalUser('cluster.health', {\n      waitForStatus: 'yellow',\n      index: index\n    })\n    .catch(handleError('Waiting for Kibana index \"<%= kibana.index %>\" to come online failed.'));\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/setup_error.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "util",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "util"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _util = require('util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction SetupError(server, template, err) {\n  var config = server.config().get();\n  // don't override other setup errors\n  if (err && err instanceof SetupError) return err;\n  Error.captureStackTrace(this, this.constructor);\n  this.name = this.constructor.name;\n  this.message = _lodash2['default'].template(template)(config);\n  if (err) {\n    this.origError = err;\n    if (err.stack) this.stack = err.stack;\n  }\n}\n_util2['default'].inherits(SetupError, Error);\nmodule.exports = SetupError;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvc2V0dXBfZXJyb3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztzQkFBYyxRQUFROzs7O29CQUNMLE1BQU07Ozs7QUFFdkIsU0FBUyxVQUFVLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUU7QUFDekMsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDOztBQUVyQyxNQUFJLEdBQUcsSUFBSSxHQUFHLFlBQVksVUFBVSxFQUFFLE9BQU8sR0FBRyxDQUFDO0FBQ2pELE9BQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ2hELE1BQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUM7QUFDbEMsTUFBSSxDQUFDLE9BQU8sR0FBRyxvQkFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDNUMsTUFBSSxHQUFHLEVBQUU7QUFDUCxRQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQztBQUNyQixRQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDO0dBQ3ZDO0NBQ0Y7QUFDRCxrQkFBSyxRQUFRLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ2pDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvc2V0dXBfZXJyb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHV0aWwgZnJvbSAndXRpbCc7XG5cbmZ1bmN0aW9uIFNldHVwRXJyb3Ioc2VydmVyLCB0ZW1wbGF0ZSwgZXJyKSB7XG4gIGNvbnN0IGNvbmZpZyA9IHNlcnZlci5jb25maWcoKS5nZXQoKTtcbiAgLy8gZG9uJ3Qgb3ZlcnJpZGUgb3RoZXIgc2V0dXAgZXJyb3JzXG4gIGlmIChlcnIgJiYgZXJyIGluc3RhbmNlb2YgU2V0dXBFcnJvcikgcmV0dXJuIGVycjtcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgdGhpcy5tZXNzYWdlID0gXy50ZW1wbGF0ZSh0ZW1wbGF0ZSkoY29uZmlnKTtcbiAgaWYgKGVycikge1xuICAgIHRoaXMub3JpZ0Vycm9yID0gZXJyO1xuICAgIGlmIChlcnIuc3RhY2spIHRoaXMuc3RhY2sgPSBlcnIuc3RhY2s7XG4gIH1cbn1cbnV0aWwuaW5oZXJpdHMoU2V0dXBFcnJvciwgRXJyb3IpO1xubW9kdWxlLmV4cG9ydHMgPSBTZXR1cEVycm9yO1xuXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/setup_error.js"
      ],
      "names": [],
      "mappings": ";;;;sBAAc,QAAQ;;;;oBACL,MAAM;;;;AAEvB,SAAS,UAAU,CAAC,MAAM,EAAE,QAAQ,EAAE,GAAG,EAAE;AACzC,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;;AAErC,MAAI,GAAG,IAAI,GAAG,YAAY,UAAU,EAAE,OAAO,GAAG,CAAC;AACjD,OAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;AAChD,MAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;AAClC,MAAI,CAAC,OAAO,GAAG,oBAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC;AAC5C,MAAI,GAAG,EAAE;AACP,QAAI,CAAC,SAAS,GAAG,GAAG,CAAC;AACrB,QAAI,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;GACvC;CACF;AACD,kBAAK,QAAQ,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AACjC,MAAM,CAAC,OAAO,GAAG,UAAU,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/setup_error.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport util from 'util';\n\nfunction SetupError(server, template, err) {\n  const config = server.config().get();\n  // don't override other setup errors\n  if (err && err instanceof SetupError) return err;\n  Error.captureStackTrace(this, this.constructor);\n  this.name = this.constructor.name;\n  this.message = _.template(template)(config);\n  if (err) {\n    this.origError = err;\n    if (err.stack) this.stack = err.stack;\n  }\n}\nutil.inherits(SetupError, Error);\nmodule.exports = SetupError;\n\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/kibana_version.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "../../../../package.json",
            "imported": [
              "version"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "version",
                "local": "kibanaVersion"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _packageJson = require('../../../../package.json');\n\nexports['default'] = {\n  // Make the version stubbable to improve testability.\n  get: function get() {\n    return _packageJson.version;\n  }\n};\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIva2liYW5hX3ZlcnNpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OzJCQUVPLDBCQUEwQjs7cUJBRWxCOztBQUViLEtBQUcsRUFBQSxlQUFHO0FBQ0osZ0NBQXFCO0dBQ3RCO0NBQ0YiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9lbGFzdGljc2VhcmNoL2xpYi9raWJhbmFfdmVyc2lvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHZlcnNpb24gYXMga2liYW5hVmVyc2lvbixcbn0gZnJvbSAnLi4vLi4vLi4vLi4vcGFja2FnZS5qc29uJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAvLyBNYWtlIHRoZSB2ZXJzaW9uIHN0dWJiYWJsZSB0byBpbXByb3ZlIHRlc3RhYmlsaXR5LlxuICBnZXQoKSB7XG4gICAgcmV0dXJuIGtpYmFuYVZlcnNpb247XG4gIH0sXG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/kibana_version.js"
      ],
      "names": [],
      "mappings": ";;;;;;2BAEO,0BAA0B;;qBAElB;;AAEb,KAAG,EAAA,eAAG;AACJ,gCAAqB;GACtB;CACF",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/kibana_version.js",
      "sourcesContent": [
        "import {\n  version as kibanaVersion,\n} from '../../../../package.json';\n\nexport default {\n  // Make the version stubbable to improve testability.\n  get() {\n    return kibanaVersion;\n  },\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/ensure_es_version.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "forEach",
              "get"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "forEach",
                "local": "forEach"
              },
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              }
            ]
          },
          {
            "source": "./is_es_compatible_with_kibana",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "isEsCompatibleWithKibana"
              }
            ]
          },
          {
            "source": "./setup_error",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "SetupError"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ensureEsVersion",
            "server",
            "kibanaVersion"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ensureEsVersion",
              "exported": "ensureEsVersion"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "server"
            },
            {
              "kind": "local",
              "local": "kibanaVersion",
              "exported": "kibanaVersion"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "/**\n * ES and Kibana versions are locked, so Kibana should require that ES has the same version as\n * that defined in Kibana's package.json.\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.ensureEsVersion = ensureEsVersion;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _is_es_compatible_with_kibana = require('./is_es_compatible_with_kibana');\n\nvar _is_es_compatible_with_kibana2 = _interopRequireDefault(_is_es_compatible_with_kibana);\n\nvar _setup_error = require('./setup_error');\n\nvar _setup_error2 = _interopRequireDefault(_setup_error);\n\n/**\n * tracks the node descriptions that get logged in warnings so\n * that we don't spam the log with the same message over and over.\n *\n * There are situations, like in testing or multi-tenancy, where\n * the server argument changes, so we must track the previous\n * node warnings per server\n */\nvar lastWarnedNodesForServer = new WeakMap();\n\nfunction ensureEsVersion(server, kibanaVersion) {\n  var _server$plugins$elasticsearch$getCluster = server.plugins.elasticsearch.getCluster('admin');\n\n  var callWithInternalUser = _server$plugins$elasticsearch$getCluster.callWithInternalUser;\n\n  server.log(['plugin', 'debug'], 'Checking Elasticsearch version');\n  return callWithInternalUser('nodes.info', {\n    filterPath: ['nodes.*.version', 'nodes.*.http.publish_address', 'nodes.*.ip']\n  }).then(function (info) {\n    // Aggregate incompatible ES nodes.\n    var incompatibleNodes = [];\n\n    // Aggregate ES nodes which should prompt a Kibana upgrade.\n    var warningNodes = [];\n\n    (0, _lodash.forEach)(info.nodes, function (esNode) {\n      if (!(0, _is_es_compatible_with_kibana2['default'])(esNode.version, kibanaVersion)) {\n        // Exit early to avoid collecting ES nodes with newer major versions in the `warningNodes`.\n        return incompatibleNodes.push(esNode);\n      }\n\n      // It's acceptable if ES and Kibana versions are not the same so long as\n      // they are not incompatible, but we should warn about it\n      if (esNode.version !== kibanaVersion) {\n        warningNodes.push(esNode);\n      }\n    });\n\n    function getHumanizedNodeNames(nodes) {\n      return nodes.map(function (node) {\n        var publishAddress = (0, _lodash.get)(node, 'http.publish_address') ? (0, _lodash.get)(node, 'http.publish_address') + ' ' : '';\n        return 'v' + node.version + ' @ ' + publishAddress + '(' + node.ip + ')';\n      });\n    }\n\n    if (warningNodes.length) {\n      var simplifiedNodes = warningNodes.map(function (node) {\n        return {\n          version: node.version,\n          http: {\n            publish_address: (0, _lodash.get)(node, 'http.publish_address')\n          },\n          ip: node.ip\n        };\n      });\n\n      // Don't show the same warning over and over again.\n      var warningNodeNames = getHumanizedNodeNames(simplifiedNodes).join(', ');\n      if (lastWarnedNodesForServer.get(server) !== warningNodeNames) {\n        lastWarnedNodesForServer.set(server, warningNodeNames);\n        server.log(['warning'], {\n          tmpl: 'You\\'re running Kibana ' + kibanaVersion + ' with some different versions of ' + 'Elasticsearch. Update Kibana or Elasticsearch to the same ' + ('version to prevent compatibility issues: ' + warningNodeNames),\n          kibanaVersion: kibanaVersion,\n          nodes: simplifiedNodes\n        });\n      }\n    }\n\n    if (incompatibleNodes.length) {\n      var incompatibleNodeNames = getHumanizedNodeNames(incompatibleNodes);\n\n      var errorMessage = 'This version of Kibana requires Elasticsearch v' + (kibanaVersion + ' on all nodes. I found ') + ('the following incompatible nodes in your cluster: ' + incompatibleNodeNames.join(', '));\n\n      throw new _setup_error2['default'](server, errorMessage);\n    }\n\n    return true;\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvZW5zdXJlX2VzX3ZlcnNpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7c0JBSzZCLFFBQVE7OzRDQUNBLGdDQUFnQzs7OzsyQkFDOUMsZUFBZTs7Ozs7Ozs7Ozs7O0FBVXRDLElBQU0sd0JBQXdCLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQzs7QUFFeEMsU0FBUyxlQUFlLENBQUMsTUFBTSxFQUFFLGFBQWEsRUFBRTtpREFDcEIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQzs7TUFBekUsb0JBQW9CLDRDQUFwQixvQkFBb0I7O0FBRTVCLFFBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLEVBQUUsZ0NBQWdDLENBQUMsQ0FBQztBQUNsRSxTQUFPLG9CQUFvQixDQUFDLFlBQVksRUFBRTtBQUN4QyxjQUFVLEVBQUUsQ0FDVixpQkFBaUIsRUFDakIsOEJBQThCLEVBQzlCLFlBQVksQ0FDYjtHQUNGLENBQUMsQ0FDRCxJQUFJLENBQUMsVUFBVSxJQUFJLEVBQUU7O0FBRXBCLFFBQU0saUJBQWlCLEdBQUcsRUFBRSxDQUFDOzs7QUFHN0IsUUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDOztBQUV4Qix5QkFBUSxJQUFJLENBQUMsS0FBSyxFQUFFLFVBQUEsTUFBTSxFQUFJO0FBQzVCLFVBQUksQ0FBQywrQ0FBeUIsTUFBTSxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUMsRUFBRTs7QUFFNUQsZUFBTyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7T0FDdkM7Ozs7QUFJRCxVQUFJLE1BQU0sQ0FBQyxPQUFPLEtBQUssYUFBYSxFQUFFO0FBQ3BDLG9CQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO09BQzNCO0tBQ0YsQ0FBQyxDQUFDOztBQUVILGFBQVMscUJBQXFCLENBQUMsS0FBSyxFQUFFO0FBQ3BDLGFBQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLElBQUksRUFBSTtBQUN2QixZQUFNLGNBQWMsR0FBSSxpQkFBSSxJQUFJLEVBQUUsc0JBQXNCLENBQUMsR0FBSSxpQkFBSSxJQUFJLEVBQUUsc0JBQXNCLENBQUMsR0FBRyxHQUFHLEdBQUksRUFBRSxDQUFDO0FBQzNHLGVBQU8sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxHQUFHLGNBQWMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUM7T0FDMUUsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsUUFBSSxZQUFZLENBQUMsTUFBTSxFQUFFO0FBQ3ZCLFVBQU0sZUFBZSxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsVUFBQSxJQUFJO2VBQUs7QUFDaEQsaUJBQU8sRUFBRSxJQUFJLENBQUMsT0FBTztBQUNyQixjQUFJLEVBQUU7QUFDSiwyQkFBZSxFQUFFLGlCQUFJLElBQUksRUFBRSxzQkFBc0IsQ0FBQztXQUNuRDtBQUNELFlBQUUsRUFBRSxJQUFJLENBQUMsRUFBRTtTQUNaO09BQUMsQ0FBQyxDQUFDOzs7QUFHSixVQUFNLGdCQUFnQixHQUFHLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMzRSxVQUFJLHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxnQkFBZ0IsRUFBRTtBQUM3RCxnQ0FBd0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLGdCQUFnQixDQUFDLENBQUM7QUFDdkQsY0FBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxFQUFFO0FBQ3RCLGNBQUksRUFDRiw0QkFBeUIsYUFBYSx5Q0FDdEMsNERBQTRELGtEQUNoQixnQkFBZ0IsQ0FBRSxBQUMvRDtBQUNELHVCQUFhLEVBQWIsYUFBYTtBQUNiLGVBQUssRUFBRSxlQUFlO1NBQ3ZCLENBQUMsQ0FBQztPQUNKO0tBQ0Y7O0FBRUQsUUFBSSxpQkFBaUIsQ0FBQyxNQUFNLEVBQUU7QUFDNUIsVUFBTSxxQkFBcUIsR0FBRyxxQkFBcUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDOztBQUV2RSxVQUFNLFlBQVksR0FDaEIscURBQ0csYUFBYSw2QkFBeUIsMkRBQ1kscUJBQXFCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFFLENBQUM7O0FBRTFGLFlBQU0sNkJBQWUsTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFDO0tBQzVDOztBQUVELFdBQU8sSUFBSSxDQUFDO0dBQ2IsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9lbGFzdGljc2VhcmNoL2xpYi9lbnN1cmVfZXNfdmVyc2lvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRVMgYW5kIEtpYmFuYSB2ZXJzaW9ucyBhcmUgbG9ja2VkLCBzbyBLaWJhbmEgc2hvdWxkIHJlcXVpcmUgdGhhdCBFUyBoYXMgdGhlIHNhbWUgdmVyc2lvbiBhc1xuICogdGhhdCBkZWZpbmVkIGluIEtpYmFuYSdzIHBhY2thZ2UuanNvbi5cbiAqL1xuXG5pbXBvcnQgeyBmb3JFYWNoLCBnZXQgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IGlzRXNDb21wYXRpYmxlV2l0aEtpYmFuYSBmcm9tICcuL2lzX2VzX2NvbXBhdGlibGVfd2l0aF9raWJhbmEnO1xuaW1wb3J0IFNldHVwRXJyb3IgZnJvbSAnLi9zZXR1cF9lcnJvcic7XG5cbi8qKlxuICogdHJhY2tzIHRoZSBub2RlIGRlc2NyaXB0aW9ucyB0aGF0IGdldCBsb2dnZWQgaW4gd2FybmluZ3Mgc29cbiAqIHRoYXQgd2UgZG9uJ3Qgc3BhbSB0aGUgbG9nIHdpdGggdGhlIHNhbWUgbWVzc2FnZSBvdmVyIGFuZCBvdmVyLlxuICpcbiAqIFRoZXJlIGFyZSBzaXR1YXRpb25zLCBsaWtlIGluIHRlc3Rpbmcgb3IgbXVsdGktdGVuYW5jeSwgd2hlcmVcbiAqIHRoZSBzZXJ2ZXIgYXJndW1lbnQgY2hhbmdlcywgc28gd2UgbXVzdCB0cmFjayB0aGUgcHJldmlvdXNcbiAqIG5vZGUgd2FybmluZ3MgcGVyIHNlcnZlclxuICovXG5jb25zdCBsYXN0V2FybmVkTm9kZXNGb3JTZXJ2ZXIgPSBuZXcgV2Vha01hcCgpO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlRXNWZXJzaW9uKHNlcnZlciwga2liYW5hVmVyc2lvbikge1xuICBjb25zdCB7IGNhbGxXaXRoSW50ZXJuYWxVc2VyIH0gPSBzZXJ2ZXIucGx1Z2lucy5lbGFzdGljc2VhcmNoLmdldENsdXN0ZXIoJ2FkbWluJyk7XG5cbiAgc2VydmVyLmxvZyhbJ3BsdWdpbicsICdkZWJ1ZyddLCAnQ2hlY2tpbmcgRWxhc3RpY3NlYXJjaCB2ZXJzaW9uJyk7XG4gIHJldHVybiBjYWxsV2l0aEludGVybmFsVXNlcignbm9kZXMuaW5mbycsIHtcbiAgICBmaWx0ZXJQYXRoOiBbXG4gICAgICAnbm9kZXMuKi52ZXJzaW9uJyxcbiAgICAgICdub2Rlcy4qLmh0dHAucHVibGlzaF9hZGRyZXNzJyxcbiAgICAgICdub2Rlcy4qLmlwJyxcbiAgICBdXG4gIH0pXG4gIC50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgLy8gQWdncmVnYXRlIGluY29tcGF0aWJsZSBFUyBub2Rlcy5cbiAgICBjb25zdCBpbmNvbXBhdGlibGVOb2RlcyA9IFtdO1xuXG4gICAgLy8gQWdncmVnYXRlIEVTIG5vZGVzIHdoaWNoIHNob3VsZCBwcm9tcHQgYSBLaWJhbmEgdXBncmFkZS5cbiAgICBjb25zdCB3YXJuaW5nTm9kZXMgPSBbXTtcblxuICAgIGZvckVhY2goaW5mby5ub2RlcywgZXNOb2RlID0+IHtcbiAgICAgIGlmICghaXNFc0NvbXBhdGlibGVXaXRoS2liYW5hKGVzTm9kZS52ZXJzaW9uLCBraWJhbmFWZXJzaW9uKSkge1xuICAgICAgICAvLyBFeGl0IGVhcmx5IHRvIGF2b2lkIGNvbGxlY3RpbmcgRVMgbm9kZXMgd2l0aCBuZXdlciBtYWpvciB2ZXJzaW9ucyBpbiB0aGUgYHdhcm5pbmdOb2Rlc2AuXG4gICAgICAgIHJldHVybiBpbmNvbXBhdGlibGVOb2Rlcy5wdXNoKGVzTm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEl0J3MgYWNjZXB0YWJsZSBpZiBFUyBhbmQgS2liYW5hIHZlcnNpb25zIGFyZSBub3QgdGhlIHNhbWUgc28gbG9uZyBhc1xuICAgICAgLy8gdGhleSBhcmUgbm90IGluY29tcGF0aWJsZSwgYnV0IHdlIHNob3VsZCB3YXJuIGFib3V0IGl0XG4gICAgICBpZiAoZXNOb2RlLnZlcnNpb24gIT09IGtpYmFuYVZlcnNpb24pIHtcbiAgICAgICAgd2FybmluZ05vZGVzLnB1c2goZXNOb2RlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGdldEh1bWFuaXplZE5vZGVOYW1lcyhub2Rlcykge1xuICAgICAgcmV0dXJuIG5vZGVzLm1hcChub2RlID0+IHtcbiAgICAgICAgY29uc3QgcHVibGlzaEFkZHJlc3MgPSAgZ2V0KG5vZGUsICdodHRwLnB1Ymxpc2hfYWRkcmVzcycpID8gKGdldChub2RlLCAnaHR0cC5wdWJsaXNoX2FkZHJlc3MnKSArICcgJykgOiAnJztcbiAgICAgICAgcmV0dXJuICd2JyArIG5vZGUudmVyc2lvbiArICcgQCAnICsgcHVibGlzaEFkZHJlc3MgKyAnKCcgKyBub2RlLmlwICsgJyknO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHdhcm5pbmdOb2Rlcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHNpbXBsaWZpZWROb2RlcyA9IHdhcm5pbmdOb2Rlcy5tYXAobm9kZSA9PiAoe1xuICAgICAgICB2ZXJzaW9uOiBub2RlLnZlcnNpb24sXG4gICAgICAgIGh0dHA6IHtcbiAgICAgICAgICBwdWJsaXNoX2FkZHJlc3M6IGdldChub2RlLCAnaHR0cC5wdWJsaXNoX2FkZHJlc3MnKVxuICAgICAgICB9LFxuICAgICAgICBpcDogbm9kZS5pcCxcbiAgICAgIH0pKTtcblxuICAgICAgLy8gRG9uJ3Qgc2hvdyB0aGUgc2FtZSB3YXJuaW5nIG92ZXIgYW5kIG92ZXIgYWdhaW4uXG4gICAgICBjb25zdCB3YXJuaW5nTm9kZU5hbWVzID0gZ2V0SHVtYW5pemVkTm9kZU5hbWVzKHNpbXBsaWZpZWROb2Rlcykuam9pbignLCAnKTtcbiAgICAgIGlmIChsYXN0V2FybmVkTm9kZXNGb3JTZXJ2ZXIuZ2V0KHNlcnZlcikgIT09IHdhcm5pbmdOb2RlTmFtZXMpIHtcbiAgICAgICAgbGFzdFdhcm5lZE5vZGVzRm9yU2VydmVyLnNldChzZXJ2ZXIsIHdhcm5pbmdOb2RlTmFtZXMpO1xuICAgICAgICBzZXJ2ZXIubG9nKFsnd2FybmluZyddLCB7XG4gICAgICAgICAgdG1wbDogKFxuICAgICAgICAgICAgYFlvdSdyZSBydW5uaW5nIEtpYmFuYSAke2tpYmFuYVZlcnNpb259IHdpdGggc29tZSBkaWZmZXJlbnQgdmVyc2lvbnMgb2YgYCArXG4gICAgICAgICAgICAnRWxhc3RpY3NlYXJjaC4gVXBkYXRlIEtpYmFuYSBvciBFbGFzdGljc2VhcmNoIHRvIHRoZSBzYW1lICcgK1xuICAgICAgICAgICAgYHZlcnNpb24gdG8gcHJldmVudCBjb21wYXRpYmlsaXR5IGlzc3VlczogJHt3YXJuaW5nTm9kZU5hbWVzfWBcbiAgICAgICAgICApLFxuICAgICAgICAgIGtpYmFuYVZlcnNpb24sXG4gICAgICAgICAgbm9kZXM6IHNpbXBsaWZpZWROb2RlcyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGluY29tcGF0aWJsZU5vZGVzLmxlbmd0aCkge1xuICAgICAgY29uc3QgaW5jb21wYXRpYmxlTm9kZU5hbWVzID0gZ2V0SHVtYW5pemVkTm9kZU5hbWVzKGluY29tcGF0aWJsZU5vZGVzKTtcblxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgYFRoaXMgdmVyc2lvbiBvZiBLaWJhbmEgcmVxdWlyZXMgRWxhc3RpY3NlYXJjaCB2YCArXG4gICAgICAgIGAke2tpYmFuYVZlcnNpb259IG9uIGFsbCBub2Rlcy4gSSBmb3VuZCBgICtcbiAgICAgICAgYHRoZSBmb2xsb3dpbmcgaW5jb21wYXRpYmxlIG5vZGVzIGluIHlvdXIgY2x1c3RlcjogJHtpbmNvbXBhdGlibGVOb2RlTmFtZXMuam9pbignLCAnKX1gO1xuXG4gICAgICB0aHJvdyBuZXcgU2V0dXBFcnJvcihzZXJ2ZXIsIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/ensure_es_version.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;sBAK6B,QAAQ;;4CACA,gCAAgC;;;;2BAC9C,eAAe;;;;;;;;;;;;AAUtC,IAAM,wBAAwB,GAAG,IAAI,OAAO,EAAE,CAAC;;AAExC,SAAS,eAAe,CAAC,MAAM,EAAE,aAAa,EAAE;iDACpB,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC;;MAAzE,oBAAoB,4CAApB,oBAAoB;;AAE5B,QAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,EAAE,gCAAgC,CAAC,CAAC;AAClE,SAAO,oBAAoB,CAAC,YAAY,EAAE;AACxC,cAAU,EAAE,CACV,iBAAiB,EACjB,8BAA8B,EAC9B,YAAY,CACb;GACF,CAAC,CACD,IAAI,CAAC,UAAU,IAAI,EAAE;;AAEpB,QAAM,iBAAiB,GAAG,EAAE,CAAC;;;AAG7B,QAAM,YAAY,GAAG,EAAE,CAAC;;AAExB,yBAAQ,IAAI,CAAC,KAAK,EAAE,UAAA,MAAM,EAAI;AAC5B,UAAI,CAAC,+CAAyB,MAAM,CAAC,OAAO,EAAE,aAAa,CAAC,EAAE;;AAE5D,eAAO,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;OACvC;;;;AAID,UAAI,MAAM,CAAC,OAAO,KAAK,aAAa,EAAE;AACpC,oBAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;OAC3B;KACF,CAAC,CAAC;;AAEH,aAAS,qBAAqB,CAAC,KAAK,EAAE;AACpC,aAAO,KAAK,CAAC,GAAG,CAAC,UAAA,IAAI,EAAI;AACvB,YAAM,cAAc,GAAI,iBAAI,IAAI,EAAE,sBAAsB,CAAC,GAAI,iBAAI,IAAI,EAAE,sBAAsB,CAAC,GAAG,GAAG,GAAI,EAAE,CAAC;AAC3G,eAAO,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,KAAK,GAAG,cAAc,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;OAC1E,CAAC,CAAC;KACJ;;AAED,QAAI,YAAY,CAAC,MAAM,EAAE;AACvB,UAAM,eAAe,GAAG,YAAY,CAAC,GAAG,CAAC,UAAA,IAAI;eAAK;AAChD,iBAAO,EAAE,IAAI,CAAC,OAAO;AACrB,cAAI,EAAE;AACJ,2BAAe,EAAE,iBAAI,IAAI,EAAE,sBAAsB,CAAC;WACnD;AACD,YAAE,EAAE,IAAI,CAAC,EAAE;SACZ;OAAC,CAAC,CAAC;;;AAGJ,UAAM,gBAAgB,GAAG,qBAAqB,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC3E,UAAI,wBAAwB,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,gBAAgB,EAAE;AAC7D,gCAAwB,CAAC,GAAG,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;AACvD,cAAM,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,EAAE;AACtB,cAAI,EACF,4BAAyB,aAAa,yCACtC,4DAA4D,kDAChB,gBAAgB,CAAE,AAC/D;AACD,uBAAa,EAAb,aAAa;AACb,eAAK,EAAE,eAAe;SACvB,CAAC,CAAC;OACJ;KACF;;AAED,QAAI,iBAAiB,CAAC,MAAM,EAAE;AAC5B,UAAM,qBAAqB,GAAG,qBAAqB,CAAC,iBAAiB,CAAC,CAAC;;AAEvE,UAAM,YAAY,GAChB,qDACG,aAAa,6BAAyB,2DACY,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAE,CAAC;;AAE1F,YAAM,6BAAe,MAAM,EAAE,YAAY,CAAC,CAAC;KAC5C;;AAED,WAAO,IAAI,CAAC;GACb,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/ensure_es_version.js",
      "sourcesContent": [
        "/**\n * ES and Kibana versions are locked, so Kibana should require that ES has the same version as\n * that defined in Kibana's package.json.\n */\n\nimport { forEach, get } from 'lodash';\nimport isEsCompatibleWithKibana from './is_es_compatible_with_kibana';\nimport SetupError from './setup_error';\n\n/**\n * tracks the node descriptions that get logged in warnings so\n * that we don't spam the log with the same message over and over.\n *\n * There are situations, like in testing or multi-tenancy, where\n * the server argument changes, so we must track the previous\n * node warnings per server\n */\nconst lastWarnedNodesForServer = new WeakMap();\n\nexport function ensureEsVersion(server, kibanaVersion) {\n  const { callWithInternalUser } = server.plugins.elasticsearch.getCluster('admin');\n\n  server.log(['plugin', 'debug'], 'Checking Elasticsearch version');\n  return callWithInternalUser('nodes.info', {\n    filterPath: [\n      'nodes.*.version',\n      'nodes.*.http.publish_address',\n      'nodes.*.ip',\n    ]\n  })\n  .then(function (info) {\n    // Aggregate incompatible ES nodes.\n    const incompatibleNodes = [];\n\n    // Aggregate ES nodes which should prompt a Kibana upgrade.\n    const warningNodes = [];\n\n    forEach(info.nodes, esNode => {\n      if (!isEsCompatibleWithKibana(esNode.version, kibanaVersion)) {\n        // Exit early to avoid collecting ES nodes with newer major versions in the `warningNodes`.\n        return incompatibleNodes.push(esNode);\n      }\n\n      // It's acceptable if ES and Kibana versions are not the same so long as\n      // they are not incompatible, but we should warn about it\n      if (esNode.version !== kibanaVersion) {\n        warningNodes.push(esNode);\n      }\n    });\n\n    function getHumanizedNodeNames(nodes) {\n      return nodes.map(node => {\n        const publishAddress =  get(node, 'http.publish_address') ? (get(node, 'http.publish_address') + ' ') : '';\n        return 'v' + node.version + ' @ ' + publishAddress + '(' + node.ip + ')';\n      });\n    }\n\n    if (warningNodes.length) {\n      const simplifiedNodes = warningNodes.map(node => ({\n        version: node.version,\n        http: {\n          publish_address: get(node, 'http.publish_address')\n        },\n        ip: node.ip,\n      }));\n\n      // Don't show the same warning over and over again.\n      const warningNodeNames = getHumanizedNodeNames(simplifiedNodes).join(', ');\n      if (lastWarnedNodesForServer.get(server) !== warningNodeNames) {\n        lastWarnedNodesForServer.set(server, warningNodeNames);\n        server.log(['warning'], {\n          tmpl: (\n            `You're running Kibana ${kibanaVersion} with some different versions of ` +\n            'Elasticsearch. Update Kibana or Elasticsearch to the same ' +\n            `version to prevent compatibility issues: ${warningNodeNames}`\n          ),\n          kibanaVersion,\n          nodes: simplifiedNodes,\n        });\n      }\n    }\n\n    if (incompatibleNodes.length) {\n      const incompatibleNodeNames = getHumanizedNodeNames(incompatibleNodes);\n\n      const errorMessage =\n        `This version of Kibana requires Elasticsearch v` +\n        `${kibanaVersion} on all nodes. I found ` +\n        `the following incompatible nodes in your cluster: ${incompatibleNodeNames.join(', ')}`;\n\n      throw new SetupError(server, errorMessage);\n    }\n\n    return true;\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/is_es_compatible_with_kibana.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "semver",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "semver"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "isEsCompatibleWithKibana",
            "esVersion",
            "kibanaVersion"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "isEsCompatibleWithKibana",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "esVersion",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "kibanaVersion",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "/**\n * Let's weed out the ES versions that won't work with a given Kibana version.\n * 1. Major version differences will never work together.\n * 2. Older versions of ES won't work with newer versions of Kibana.\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = isEsCompatibleWithKibana;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _semver = require('semver');\n\nvar _semver2 = _interopRequireDefault(_semver);\n\nfunction isEsCompatibleWithKibana(esVersion, kibanaVersion) {\n  var esVersionNumbers = {\n    major: _semver2['default'].major(esVersion),\n    minor: _semver2['default'].minor(esVersion),\n    patch: _semver2['default'].patch(esVersion)\n  };\n\n  var kibanaVersionNumbers = {\n    major: _semver2['default'].major(kibanaVersion),\n    minor: _semver2['default'].minor(kibanaVersion),\n    patch: _semver2['default'].patch(kibanaVersion)\n  };\n\n  // Reject mismatching major version numbers.\n  if (esVersionNumbers.major !== kibanaVersionNumbers.major) {\n    return false;\n  }\n\n  // Reject older minor versions of ES.\n  if (esVersionNumbers.minor < kibanaVersionNumbers.minor) {\n    return false;\n  }\n\n  return true;\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvaXNfZXNfY29tcGF0aWJsZV93aXRoX2tpYmFuYS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztxQkFRd0Isd0JBQXdCOzs7O3NCQUY3QixRQUFROzs7O0FBRVosU0FBUyx3QkFBd0IsQ0FBQyxTQUFTLEVBQUUsYUFBYSxFQUFFO0FBQ3pFLE1BQU0sZ0JBQWdCLEdBQUc7QUFDdkIsU0FBSyxFQUFFLG9CQUFPLEtBQUssQ0FBQyxTQUFTLENBQUM7QUFDOUIsU0FBSyxFQUFFLG9CQUFPLEtBQUssQ0FBQyxTQUFTLENBQUM7QUFDOUIsU0FBSyxFQUFFLG9CQUFPLEtBQUssQ0FBQyxTQUFTLENBQUM7R0FDL0IsQ0FBQzs7QUFFRixNQUFNLG9CQUFvQixHQUFHO0FBQzNCLFNBQUssRUFBRSxvQkFBTyxLQUFLLENBQUMsYUFBYSxDQUFDO0FBQ2xDLFNBQUssRUFBRSxvQkFBTyxLQUFLLENBQUMsYUFBYSxDQUFDO0FBQ2xDLFNBQUssRUFBRSxvQkFBTyxLQUFLLENBQUMsYUFBYSxDQUFDO0dBQ25DLENBQUM7OztBQUdGLE1BQUksZ0JBQWdCLENBQUMsS0FBSyxLQUFLLG9CQUFvQixDQUFDLEtBQUssRUFBRTtBQUN6RCxXQUFPLEtBQUssQ0FBQztHQUNkOzs7QUFHRCxNQUFJLGdCQUFnQixDQUFDLEtBQUssR0FBRyxvQkFBb0IsQ0FBQyxLQUFLLEVBQUU7QUFDdkQsV0FBTyxLQUFLLENBQUM7R0FDZDs7QUFFRCxTQUFPLElBQUksQ0FBQztDQUNiIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvaXNfZXNfY29tcGF0aWJsZV93aXRoX2tpYmFuYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGV0J3Mgd2VlZCBvdXQgdGhlIEVTIHZlcnNpb25zIHRoYXQgd29uJ3Qgd29yayB3aXRoIGEgZ2l2ZW4gS2liYW5hIHZlcnNpb24uXG4gKiAxLiBNYWpvciB2ZXJzaW9uIGRpZmZlcmVuY2VzIHdpbGwgbmV2ZXIgd29yayB0b2dldGhlci5cbiAqIDIuIE9sZGVyIHZlcnNpb25zIG9mIEVTIHdvbid0IHdvcmsgd2l0aCBuZXdlciB2ZXJzaW9ucyBvZiBLaWJhbmEuXG4gKi9cblxuaW1wb3J0IHNlbXZlciBmcm9tICdzZW12ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0VzQ29tcGF0aWJsZVdpdGhLaWJhbmEoZXNWZXJzaW9uLCBraWJhbmFWZXJzaW9uKSB7XG4gIGNvbnN0IGVzVmVyc2lvbk51bWJlcnMgPSB7XG4gICAgbWFqb3I6IHNlbXZlci5tYWpvcihlc1ZlcnNpb24pLFxuICAgIG1pbm9yOiBzZW12ZXIubWlub3IoZXNWZXJzaW9uKSxcbiAgICBwYXRjaDogc2VtdmVyLnBhdGNoKGVzVmVyc2lvbiksXG4gIH07XG5cbiAgY29uc3Qga2liYW5hVmVyc2lvbk51bWJlcnMgPSB7XG4gICAgbWFqb3I6IHNlbXZlci5tYWpvcihraWJhbmFWZXJzaW9uKSxcbiAgICBtaW5vcjogc2VtdmVyLm1pbm9yKGtpYmFuYVZlcnNpb24pLFxuICAgIHBhdGNoOiBzZW12ZXIucGF0Y2goa2liYW5hVmVyc2lvbiksXG4gIH07XG5cbiAgLy8gUmVqZWN0IG1pc21hdGNoaW5nIG1ham9yIHZlcnNpb24gbnVtYmVycy5cbiAgaWYgKGVzVmVyc2lvbk51bWJlcnMubWFqb3IgIT09IGtpYmFuYVZlcnNpb25OdW1iZXJzLm1ham9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gUmVqZWN0IG9sZGVyIG1pbm9yIHZlcnNpb25zIG9mIEVTLlxuICBpZiAoZXNWZXJzaW9uTnVtYmVycy5taW5vciA8IGtpYmFuYVZlcnNpb25OdW1iZXJzLm1pbm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/is_es_compatible_with_kibana.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;qBAQwB,wBAAwB;;;;sBAF7B,QAAQ;;;;AAEZ,SAAS,wBAAwB,CAAC,SAAS,EAAE,aAAa,EAAE;AACzE,MAAM,gBAAgB,GAAG;AACvB,SAAK,EAAE,oBAAO,KAAK,CAAC,SAAS,CAAC;AAC9B,SAAK,EAAE,oBAAO,KAAK,CAAC,SAAS,CAAC;AAC9B,SAAK,EAAE,oBAAO,KAAK,CAAC,SAAS,CAAC;GAC/B,CAAC;;AAEF,MAAM,oBAAoB,GAAG;AAC3B,SAAK,EAAE,oBAAO,KAAK,CAAC,aAAa,CAAC;AAClC,SAAK,EAAE,oBAAO,KAAK,CAAC,aAAa,CAAC;AAClC,SAAK,EAAE,oBAAO,KAAK,CAAC,aAAa,CAAC;GACnC,CAAC;;;AAGF,MAAI,gBAAgB,CAAC,KAAK,KAAK,oBAAoB,CAAC,KAAK,EAAE;AACzD,WAAO,KAAK,CAAC;GACd;;;AAGD,MAAI,gBAAgB,CAAC,KAAK,GAAG,oBAAoB,CAAC,KAAK,EAAE;AACvD,WAAO,KAAK,CAAC;GACd;;AAED,SAAO,IAAI,CAAC;CACb",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/is_es_compatible_with_kibana.js",
      "sourcesContent": [
        "/**\n * Let's weed out the ES versions that won't work with a given Kibana version.\n * 1. Major version differences will never work together.\n * 2. Older versions of ES won't work with newer versions of Kibana.\n */\n\nimport semver from 'semver';\n\nexport default function isEsCompatibleWithKibana(esVersion, kibanaVersion) {\n  const esVersionNumbers = {\n    major: semver.major(esVersion),\n    minor: semver.minor(esVersion),\n    patch: semver.patch(esVersion),\n  };\n\n  const kibanaVersionNumbers = {\n    major: semver.major(kibanaVersion),\n    minor: semver.minor(kibanaVersion),\n    patch: semver.patch(kibanaVersion),\n  };\n\n  // Reject mismatching major version numbers.\n  if (esVersionNumbers.major !== kibanaVersionNumbers.major) {\n    return false;\n  }\n\n  // Reject older minor versions of ES.\n  if (esVersionNumbers.minor < kibanaVersionNumbers.minor) {\n    return false;\n  }\n\n  return true;\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/ensure_not_tribe.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "get"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ensureNotTribe",
            "callWithInternalUser"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ensureNotTribe",
              "exported": "ensureNotTribe"
            },
            {
              "kind": "local",
              "local": "callWithInternalUser",
              "exported": "callWithInternalUser"
            }
          ]
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.ensureNotTribe = ensureNotTribe;\n\nvar _lodash = require('lodash');\n\nfunction ensureNotTribe(callWithInternalUser) {\n  return callWithInternalUser('nodes.info', {\n    nodeId: '_local',\n    filterPath: 'nodes.*.settings.tribe'\n  }).then(function (info) {\n    var nodeId = Object.keys(info.nodes || {})[0];\n    var tribeSettings = (0, _lodash.get)(info, ['nodes', nodeId, 'settings', 'tribe']);\n\n    if (tribeSettings) {\n      throw new Error('Kibana does not support using tribe nodes as the primary elasticsearch connection.');\n    }\n\n    return true;\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvZW5zdXJlX25vdF90cmliZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3NCQUFvQixRQUFROztBQUVyQixTQUFTLGNBQWMsQ0FBQyxvQkFBb0IsRUFBRTtBQUNuRCxTQUFPLG9CQUFvQixDQUFDLFlBQVksRUFBRTtBQUN4QyxVQUFNLEVBQUUsUUFBUTtBQUNoQixjQUFVLEVBQUUsd0JBQXdCO0dBQ3JDLENBQUMsQ0FDRCxJQUFJLENBQUMsVUFBVSxJQUFJLEVBQUU7QUFDcEIsUUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2hELFFBQU0sYUFBYSxHQUFHLGlCQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7O0FBRXhFLFFBQUksYUFBYSxFQUFFO0FBQ2pCLFlBQU0sSUFBSSxLQUFLLENBQUMsb0ZBQW9GLENBQUMsQ0FBQztLQUN2Rzs7QUFFRCxXQUFPLElBQUksQ0FBQztHQUNiLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvZW5zdXJlX25vdF90cmliZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldCB9IGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVOb3RUcmliZShjYWxsV2l0aEludGVybmFsVXNlcikge1xuICByZXR1cm4gY2FsbFdpdGhJbnRlcm5hbFVzZXIoJ25vZGVzLmluZm8nLCB7XG4gICAgbm9kZUlkOiAnX2xvY2FsJyxcbiAgICBmaWx0ZXJQYXRoOiAnbm9kZXMuKi5zZXR0aW5ncy50cmliZSdcbiAgfSlcbiAgLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcbiAgICBjb25zdCBub2RlSWQgPSBPYmplY3Qua2V5cyhpbmZvLm5vZGVzIHx8IHt9KVswXTtcbiAgICBjb25zdCB0cmliZVNldHRpbmdzID0gZ2V0KGluZm8sIFsnbm9kZXMnLCBub2RlSWQsICdzZXR0aW5ncycsICd0cmliZSddKTtcblxuICAgIGlmICh0cmliZVNldHRpbmdzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0tpYmFuYSBkb2VzIG5vdCBzdXBwb3J0IHVzaW5nIHRyaWJlIG5vZGVzIGFzIHRoZSBwcmltYXJ5IGVsYXN0aWNzZWFyY2ggY29ubmVjdGlvbi4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/ensure_not_tribe.js"
      ],
      "names": [],
      "mappings": ";;;;;;;sBAAoB,QAAQ;;AAErB,SAAS,cAAc,CAAC,oBAAoB,EAAE;AACnD,SAAO,oBAAoB,CAAC,YAAY,EAAE;AACxC,UAAM,EAAE,QAAQ;AAChB,cAAU,EAAE,wBAAwB;GACrC,CAAC,CACD,IAAI,CAAC,UAAU,IAAI,EAAE;AACpB,QAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAChD,QAAM,aAAa,GAAG,iBAAI,IAAI,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC;;AAExE,QAAI,aAAa,EAAE;AACjB,YAAM,IAAI,KAAK,CAAC,oFAAoF,CAAC,CAAC;KACvG;;AAED,WAAO,IAAI,CAAC;GACb,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/ensure_not_tribe.js",
      "sourcesContent": [
        "import { get } from 'lodash';\n\nexport function ensureNotTribe(callWithInternalUser) {\n  return callWithInternalUser('nodes.info', {\n    nodeId: '_local',\n    filterPath: 'nodes.*.settings.tribe'\n  })\n  .then(function (info) {\n    const nodeId = Object.keys(info.nodes || {})[0];\n    const tribeSettings = get(info, ['nodes', nodeId, 'settings', 'tribe']);\n\n    if (tribeSettings) {\n      throw new Error('Kibana does not support using tribe nodes as the primary elasticsearch connection.');\n    }\n\n    return true;\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_data_cluster.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "bindKey"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "bindKey",
                "local": "bindKey"
              }
            ]
          },
          {
            "source": "./client_logger",
            "imported": [
              "clientLogger"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "clientLogger",
                "local": "clientLogger"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "createDataCluster",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "createDataCluster",
              "exported": "createDataCluster"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "server"
            }
          ]
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nexports.createDataCluster = createDataCluster;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _lodash = require('lodash');\n\nvar _client_logger = require('./client_logger');\n\nfunction createDataCluster(server) {\n  var config = server.config();\n  var ElasticsearchClientLogging = (0, _client_logger.clientLogger)(server);\n\n  var DataClientLogging = (function (_ElasticsearchClientLogging) {\n    _inherits(DataClientLogging, _ElasticsearchClientLogging);\n\n    function DataClientLogging() {\n      _classCallCheck(this, DataClientLogging);\n\n      _get(Object.getPrototypeOf(DataClientLogging.prototype), 'constructor', this).apply(this, arguments);\n\n      this.tags = ['data'];\n      this.logQueries = getConfig().logQueries;\n    }\n\n    return DataClientLogging;\n  })(ElasticsearchClientLogging);\n\n  function getConfig() {\n    if (Boolean(config.get('elasticsearch.tribe.url'))) {\n      return config.get('elasticsearch.tribe');\n    }\n\n    return config.get('elasticsearch');\n  }\n\n  var dataCluster = server.plugins.elasticsearch.createCluster('data', Object.assign({ log: DataClientLogging }, getConfig()));\n\n  server.on('close', (0, _lodash.bindKey)(dataCluster, 'close'));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvY3JlYXRlX2RhdGFfY2x1c3Rlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztzQkFBd0IsUUFBUTs7NkJBQ0gsaUJBQWlCOztBQUV2QyxTQUFTLGlCQUFpQixDQUFDLE1BQU0sRUFBRTtBQUN4QyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDL0IsTUFBTSwwQkFBMEIsR0FBRyxpQ0FBYSxNQUFNLENBQUMsQ0FBQzs7TUFFbEQsaUJBQWlCO2NBQWpCLGlCQUFpQjs7YUFBakIsaUJBQWlCOzRCQUFqQixpQkFBaUI7O2lDQUFqQixpQkFBaUI7O1dBQ3JCLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQztXQUNmLFVBQVUsR0FBRyxTQUFTLEVBQUUsQ0FBQyxVQUFVOzs7V0FGL0IsaUJBQWlCO0tBQVMsMEJBQTBCOztBQUsxRCxXQUFTLFNBQVMsR0FBRztBQUNuQixRQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUMsRUFBRTtBQUNsRCxhQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQztLQUMxQzs7QUFFRCxXQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7R0FDcEM7O0FBRUQsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUM1RCxNQUFNLEVBQ04sTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxpQkFBaUIsRUFBRSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQ3ZELENBQUM7O0FBRUYsUUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUscUJBQVEsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7Q0FDbkQiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9lbGFzdGljc2VhcmNoL2xpYi9jcmVhdGVfZGF0YV9jbHVzdGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmluZEtleSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBjbGllbnRMb2dnZXIgfSBmcm9tICcuL2NsaWVudF9sb2dnZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGF0YUNsdXN0ZXIoc2VydmVyKSB7XG4gIGNvbnN0IGNvbmZpZyA9IHNlcnZlci5jb25maWcoKTtcbiAgY29uc3QgRWxhc3RpY3NlYXJjaENsaWVudExvZ2dpbmcgPSBjbGllbnRMb2dnZXIoc2VydmVyKTtcblxuICBjbGFzcyBEYXRhQ2xpZW50TG9nZ2luZyBleHRlbmRzIEVsYXN0aWNzZWFyY2hDbGllbnRMb2dnaW5nIHtcbiAgICB0YWdzID0gWydkYXRhJ107XG4gICAgbG9nUXVlcmllcyA9IGdldENvbmZpZygpLmxvZ1F1ZXJpZXM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDb25maWcoKSB7XG4gICAgaWYgKEJvb2xlYW4oY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC50cmliZS51cmwnKSkpIHtcbiAgICAgIHJldHVybiBjb25maWcuZ2V0KCdlbGFzdGljc2VhcmNoLnRyaWJlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmZpZy5nZXQoJ2VsYXN0aWNzZWFyY2gnKTtcbiAgfVxuXG4gIGNvbnN0IGRhdGFDbHVzdGVyID0gc2VydmVyLnBsdWdpbnMuZWxhc3RpY3NlYXJjaC5jcmVhdGVDbHVzdGVyKFxuICAgICdkYXRhJyxcbiAgICBPYmplY3QuYXNzaWduKHsgbG9nOiBEYXRhQ2xpZW50TG9nZ2luZyB9LCBnZXRDb25maWcoKSlcbiAgKTtcblxuICBzZXJ2ZXIub24oJ2Nsb3NlJywgYmluZEtleShkYXRhQ2x1c3RlciwgJ2Nsb3NlJykpO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_data_cluster.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;sBAAwB,QAAQ;;6BACH,iBAAiB;;AAEvC,SAAS,iBAAiB,CAAC,MAAM,EAAE;AACxC,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AAC/B,MAAM,0BAA0B,GAAG,iCAAa,MAAM,CAAC,CAAC;;MAElD,iBAAiB;cAAjB,iBAAiB;;aAAjB,iBAAiB;4BAAjB,iBAAiB;;iCAAjB,iBAAiB;;WACrB,IAAI,GAAG,CAAC,MAAM,CAAC;WACf,UAAU,GAAG,SAAS,EAAE,CAAC,UAAU;;;WAF/B,iBAAiB;KAAS,0BAA0B;;AAK1D,WAAS,SAAS,GAAG;AACnB,QAAI,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC,EAAE;AAClD,aAAO,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;KAC1C;;AAED,WAAO,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;GACpC;;AAED,MAAM,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,aAAa,CAC5D,MAAM,EACN,MAAM,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,iBAAiB,EAAE,EAAE,SAAS,EAAE,CAAC,CACvD,CAAC;;AAEF,QAAM,CAAC,EAAE,CAAC,OAAO,EAAE,qBAAQ,WAAW,EAAE,OAAO,CAAC,CAAC,CAAC;CACnD",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_data_cluster.js",
      "sourcesContent": [
        "import { bindKey } from 'lodash';\nimport { clientLogger } from './client_logger';\n\nexport function createDataCluster(server) {\n  const config = server.config();\n  const ElasticsearchClientLogging = clientLogger(server);\n\n  class DataClientLogging extends ElasticsearchClientLogging {\n    tags = ['data'];\n    logQueries = getConfig().logQueries;\n  }\n\n  function getConfig() {\n    if (Boolean(config.get('elasticsearch.tribe.url'))) {\n      return config.get('elasticsearch.tribe');\n    }\n\n    return config.get('elasticsearch');\n  }\n\n  const dataCluster = server.plugins.elasticsearch.createCluster(\n    'data',\n    Object.assign({ log: DataClientLogging }, getConfig())\n  );\n\n  server.on('close', bindKey(dataCluster, 'close'));\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/client_logger.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "clientLogger",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "clientLogger",
              "exported": "clientLogger"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "server"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nexports.clientLogger = clientLogger;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction clientLogger(server) {\n  return (function () {\n    function ElasticsearchClientLogging() {\n      _classCallCheck(this, ElasticsearchClientLogging);\n\n      this.tags = [];\n      this.logQueries = false;\n    }\n\n    _createClass(ElasticsearchClientLogging, [{\n      key: 'error',\n      value: function error(err) {\n        server.log(['error', 'elasticsearch'].concat(this.tags), err);\n      }\n    }, {\n      key: 'warning',\n      value: function warning(message) {\n        server.log(['warning', 'elasticsearch'].concat(this.tags), message);\n      }\n    }, {\n      key: 'trace',\n      value: function trace(method, options, query, _response, statusCode) {\n        /* Check if query logging is enabled\n         * It requires Kibana to be configured with verbose logging turned on. */\n        if (this.logQueries) {\n          var methodAndPath = method + ' ' + options.path;\n          var queryDsl = query ? query.trim() : '';\n          server.log(['elasticsearch', 'query', 'debug'].concat(this.tags), [statusCode, methodAndPath, queryDsl].join('\\n'));\n        }\n      }\n\n      // elasticsearch-js expects the following functions to exist\n\n    }, {\n      key: 'info',\n      value: function info() {}\n    }, {\n      key: 'debug',\n      value: function debug() {}\n    }, {\n      key: 'close',\n      value: function close() {}\n    }]);\n\n    return ElasticsearchClientLogging;\n  })();\n}\n\n// additional tags to differentiate connection\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvY2xpZW50X2xvZ2dlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBTyxTQUFTLFlBQVksQ0FBQyxNQUFNLEVBQUU7QUFDbkM7YUFBYSwwQkFBMEI7NEJBQTFCLDBCQUEwQjs7V0FFckMsSUFBSSxHQUFHLEVBQUU7V0FFVCxVQUFVLEdBQUcsS0FBSzs7O2lCQUpQLDBCQUEwQjs7YUFNaEMsZUFBQyxHQUFHLEVBQUU7QUFDVCxjQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7T0FDL0Q7OzthQUVNLGlCQUFDLE9BQU8sRUFBRTtBQUNmLGNBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUUsZUFBZSxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztPQUNyRTs7O2FBRUksZUFBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFOzs7QUFHbkQsWUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO0FBQ25CLGNBQU0sYUFBYSxHQUFNLE1BQU0sU0FBSSxPQUFPLENBQUMsSUFBSSxBQUFFLENBQUM7QUFDbEQsY0FBTSxRQUFRLEdBQUcsS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUM7QUFDM0MsZ0JBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FDaEUsVUFBVSxFQUNWLGFBQWEsRUFDYixRQUFRLENBQ1QsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztTQUNmO09BQ0Y7Ozs7OzthQUtHLGdCQUFHLEVBQUU7OzthQUVKLGlCQUFHLEVBQUU7OzthQUVMLGlCQUFHLEVBQUU7OztXQW5DQywwQkFBMEI7T0FvQ3JDO0NBQ0giLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9lbGFzdGljc2VhcmNoL2xpYi9jbGllbnRfbG9nZ2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGNsaWVudExvZ2dlcihzZXJ2ZXIpIHtcbiAgcmV0dXJuIGNsYXNzIEVsYXN0aWNzZWFyY2hDbGllbnRMb2dnaW5nIHtcbiAgICAvLyBhZGRpdGlvbmFsIHRhZ3MgdG8gZGlmZmVyZW50aWF0ZSBjb25uZWN0aW9uXG4gICAgdGFncyA9IFtdO1xuXG4gICAgbG9nUXVlcmllcyA9IGZhbHNlO1xuXG4gICAgZXJyb3IoZXJyKSB7XG4gICAgICBzZXJ2ZXIubG9nKFsnZXJyb3InLCAnZWxhc3RpY3NlYXJjaCddLmNvbmNhdCh0aGlzLnRhZ3MpLCBlcnIpO1xuICAgIH1cblxuICAgIHdhcm5pbmcobWVzc2FnZSkge1xuICAgICAgc2VydmVyLmxvZyhbJ3dhcm5pbmcnLCAnZWxhc3RpY3NlYXJjaCddLmNvbmNhdCh0aGlzLnRhZ3MpLCBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICB0cmFjZShtZXRob2QsIG9wdGlvbnMsIHF1ZXJ5LCBfcmVzcG9uc2UsIHN0YXR1c0NvZGUpIHtcbiAgICAgIC8qIENoZWNrIGlmIHF1ZXJ5IGxvZ2dpbmcgaXMgZW5hYmxlZFxuICAgICAgICogSXQgcmVxdWlyZXMgS2liYW5hIHRvIGJlIGNvbmZpZ3VyZWQgd2l0aCB2ZXJib3NlIGxvZ2dpbmcgdHVybmVkIG9uLiAqL1xuICAgICAgaWYgKHRoaXMubG9nUXVlcmllcykge1xuICAgICAgICBjb25zdCBtZXRob2RBbmRQYXRoID0gYCR7bWV0aG9kfSAke29wdGlvbnMucGF0aH1gO1xuICAgICAgICBjb25zdCBxdWVyeURzbCA9IHF1ZXJ5ID8gcXVlcnkudHJpbSgpIDogJyc7XG4gICAgICAgIHNlcnZlci5sb2coWydlbGFzdGljc2VhcmNoJywgJ3F1ZXJ5JywgJ2RlYnVnJ10uY29uY2F0KHRoaXMudGFncyksIFtcbiAgICAgICAgICBzdGF0dXNDb2RlLFxuICAgICAgICAgIG1ldGhvZEFuZFBhdGgsXG4gICAgICAgICAgcXVlcnlEc2xcbiAgICAgICAgXS5qb2luKCdcXG4nKSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBlbGFzdGljc2VhcmNoLWpzIGV4cGVjdHMgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgdG8gZXhpc3RcblxuICAgIGluZm8oKSB7fVxuXG4gICAgZGVidWcoKSB7fVxuXG4gICAgY2xvc2UoKSB7fVxuICB9O1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/client_logger.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;AAAO,SAAS,YAAY,CAAC,MAAM,EAAE;AACnC;aAAa,0BAA0B;4BAA1B,0BAA0B;;WAErC,IAAI,GAAG,EAAE;WAET,UAAU,GAAG,KAAK;;;iBAJP,0BAA0B;;aAMhC,eAAC,GAAG,EAAE;AACT,cAAM,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;OAC/D;;;aAEM,iBAAC,OAAO,EAAE;AACf,cAAM,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;OACrE;;;aAEI,eAAC,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,UAAU,EAAE;;;AAGnD,YAAI,IAAI,CAAC,UAAU,EAAE;AACnB,cAAM,aAAa,GAAM,MAAM,SAAI,OAAO,CAAC,IAAI,AAAE,CAAC;AAClD,cAAM,QAAQ,GAAG,KAAK,GAAG,KAAK,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC;AAC3C,gBAAM,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAChE,UAAU,EACV,aAAa,EACb,QAAQ,CACT,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACf;OACF;;;;;;aAKG,gBAAG,EAAE;;;aAEJ,iBAAG,EAAE;;;aAEL,iBAAG,EAAE;;;WAnCC,0BAA0B;OAoCrC;CACH",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/client_logger.js",
      "sourcesContent": [
        "export function clientLogger(server) {\n  return class ElasticsearchClientLogging {\n    // additional tags to differentiate connection\n    tags = [];\n\n    logQueries = false;\n\n    error(err) {\n      server.log(['error', 'elasticsearch'].concat(this.tags), err);\n    }\n\n    warning(message) {\n      server.log(['warning', 'elasticsearch'].concat(this.tags), message);\n    }\n\n    trace(method, options, query, _response, statusCode) {\n      /* Check if query logging is enabled\n       * It requires Kibana to be configured with verbose logging turned on. */\n      if (this.logQueries) {\n        const methodAndPath = `${method} ${options.path}`;\n        const queryDsl = query ? query.trim() : '';\n        server.log(['elasticsearch', 'query', 'debug'].concat(this.tags), [\n          statusCode,\n          methodAndPath,\n          queryDsl\n        ].join('\\n'));\n      }\n    }\n\n\n    // elasticsearch-js expects the following functions to exist\n\n    info() {}\n\n    debug() {}\n\n    close() {}\n  };\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_admin_cluster.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "bindKey"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "bindKey",
                "local": "bindKey"
              }
            ]
          },
          {
            "source": "./client_logger",
            "imported": [
              "clientLogger"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "clientLogger",
                "local": "clientLogger"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "createAdminCluster",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "createAdminCluster",
              "exported": "createAdminCluster"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "server"
            }
          ]
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nexports.createAdminCluster = createAdminCluster;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _lodash = require('lodash');\n\nvar _client_logger = require('./client_logger');\n\nfunction createAdminCluster(server) {\n  var config = server.config();\n  var ElasticsearchClientLogging = (0, _client_logger.clientLogger)(server);\n\n  var AdminClientLogging = (function (_ElasticsearchClientLogging) {\n    _inherits(AdminClientLogging, _ElasticsearchClientLogging);\n\n    function AdminClientLogging() {\n      _classCallCheck(this, AdminClientLogging);\n\n      _get(Object.getPrototypeOf(AdminClientLogging.prototype), 'constructor', this).apply(this, arguments);\n\n      this.tags = ['admin'];\n      this.logQueries = config.get('elasticsearch.logQueries');\n    }\n\n    return AdminClientLogging;\n  })(ElasticsearchClientLogging);\n\n  var adminCluster = server.plugins.elasticsearch.createCluster('admin', Object.assign({ log: AdminClientLogging }, config.get('elasticsearch')));\n\n  server.on('close', (0, _lodash.bindKey)(adminCluster, 'close'));\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvY3JlYXRlX2FkbWluX2NsdXN0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7c0JBQXdCLFFBQVE7OzZCQUNILGlCQUFpQjs7QUFFdkMsU0FBUyxrQkFBa0IsQ0FBQyxNQUFNLEVBQUU7QUFDekMsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQy9CLE1BQU0sMEJBQTBCLEdBQUcsaUNBQWEsTUFBTSxDQUFDLENBQUM7O01BRWxELGtCQUFrQjtjQUFsQixrQkFBa0I7O2FBQWxCLGtCQUFrQjs0QkFBbEIsa0JBQWtCOztpQ0FBbEIsa0JBQWtCOztXQUN0QixJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUM7V0FDaEIsVUFBVSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUM7OztXQUYvQyxrQkFBa0I7S0FBUywwQkFBMEI7O0FBSzNELE1BQU0sWUFBWSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FDN0QsT0FBTyxFQUNQLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFHLEVBQUUsa0JBQWtCLEVBQUUsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQ3hFLENBQUM7O0FBRUYsUUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUscUJBQVEsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7Q0FDcEQiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9lbGFzdGljc2VhcmNoL2xpYi9jcmVhdGVfYWRtaW5fY2x1c3Rlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJpbmRLZXkgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgY2xpZW50TG9nZ2VyIH0gZnJvbSAnLi9jbGllbnRfbG9nZ2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFkbWluQ2x1c3RlcihzZXJ2ZXIpIHtcbiAgY29uc3QgY29uZmlnID0gc2VydmVyLmNvbmZpZygpO1xuICBjb25zdCBFbGFzdGljc2VhcmNoQ2xpZW50TG9nZ2luZyA9IGNsaWVudExvZ2dlcihzZXJ2ZXIpO1xuXG4gIGNsYXNzIEFkbWluQ2xpZW50TG9nZ2luZyBleHRlbmRzIEVsYXN0aWNzZWFyY2hDbGllbnRMb2dnaW5nIHtcbiAgICB0YWdzID0gWydhZG1pbiddO1xuICAgIGxvZ1F1ZXJpZXMgPSBjb25maWcuZ2V0KCdlbGFzdGljc2VhcmNoLmxvZ1F1ZXJpZXMnKTtcbiAgfVxuXG4gIGNvbnN0IGFkbWluQ2x1c3RlciA9IHNlcnZlci5wbHVnaW5zLmVsYXN0aWNzZWFyY2guY3JlYXRlQ2x1c3RlcihcbiAgICAnYWRtaW4nLFxuICAgIE9iamVjdC5hc3NpZ24oeyBsb2c6IEFkbWluQ2xpZW50TG9nZ2luZyB9LCBjb25maWcuZ2V0KCdlbGFzdGljc2VhcmNoJykpXG4gICk7XG5cbiAgc2VydmVyLm9uKCdjbG9zZScsIGJpbmRLZXkoYWRtaW5DbHVzdGVyLCAnY2xvc2UnKSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_admin_cluster.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;sBAAwB,QAAQ;;6BACH,iBAAiB;;AAEvC,SAAS,kBAAkB,CAAC,MAAM,EAAE;AACzC,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AAC/B,MAAM,0BAA0B,GAAG,iCAAa,MAAM,CAAC,CAAC;;MAElD,kBAAkB;cAAlB,kBAAkB;;aAAlB,kBAAkB;4BAAlB,kBAAkB;;iCAAlB,kBAAkB;;WACtB,IAAI,GAAG,CAAC,OAAO,CAAC;WAChB,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,0BAA0B,CAAC;;;WAF/C,kBAAkB;KAAS,0BAA0B;;AAK3D,MAAM,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,aAAa,CAC7D,OAAO,EACP,MAAM,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,kBAAkB,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CACxE,CAAC;;AAEF,QAAM,CAAC,EAAE,CAAC,OAAO,EAAE,qBAAQ,YAAY,EAAE,OAAO,CAAC,CAAC,CAAC;CACpD",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_admin_cluster.js",
      "sourcesContent": [
        "import { bindKey } from 'lodash';\nimport { clientLogger } from './client_logger';\n\nexport function createAdminCluster(server) {\n  const config = server.config();\n  const ElasticsearchClientLogging = clientLogger(server);\n\n  class AdminClientLogging extends ElasticsearchClientLogging {\n    tags = ['admin'];\n    logQueries = config.get('elasticsearch.logQueries');\n  }\n\n  const adminCluster = server.plugins.elasticsearch.createCluster(\n    'admin',\n    Object.assign({ log: AdminClientLogging }, config.get('elasticsearch'))\n  );\n\n  server.on('close', bindKey(adminCluster, 'close'));\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_clusters.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./cluster",
            "imported": [
              "Cluster"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Cluster",
                "local": "Cluster"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "get",
              "set"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "set",
                "local": "set"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "createClusters",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "createClusters",
              "exported": "createClusters"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "server"
            }
          ]
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.createClusters = createClusters;\n\nvar _cluster = require('./cluster');\n\nvar _lodash = require('lodash');\n\nfunction createClusters(server) {\n  var esPlugin = server.plugins.elasticsearch;\n  esPlugin._clusters = esPlugin._clusters || new Map();\n\n  return {\n    get: function get(name) {\n      return esPlugin._clusters.get(name);\n    },\n\n    create: function create(name, config) {\n      var cluster = new _cluster.Cluster(config);\n\n      if (esPlugin._clusters.has(name)) {\n        throw new Error('cluster \\'' + name + '\\' already exists');\n      }\n\n      esPlugin._clusters.set(name, cluster);\n\n      return cluster;\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvY3JlYXRlX2NsdXN0ZXJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7dUJBQXdCLFdBQVc7O3NCQUNWLFFBQVE7O0FBRTFCLFNBQVMsY0FBYyxDQUFDLE1BQU0sRUFBRTtBQUNyQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUM5QyxVQUFRLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxTQUFTLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQzs7QUFFckQsU0FBTztBQUNMLE9BQUcsRUFBQSxhQUFDLElBQUksRUFBRTtBQUNSLGFBQU8sUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDckM7O0FBRUQsVUFBTSxFQUFBLGdCQUFDLElBQUksRUFBRSxNQUFNLEVBQUU7QUFDbkIsVUFBTSxPQUFPLEdBQUcscUJBQVksTUFBTSxDQUFDLENBQUM7O0FBRXBDLFVBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDaEMsY0FBTSxJQUFJLEtBQUssZ0JBQWEsSUFBSSx1QkFBbUIsQ0FBQztPQUNyRDs7QUFFRCxjQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7O0FBRXRDLGFBQU8sT0FBTyxDQUFDO0tBQ2hCO0dBQ0YsQ0FBQztDQUNIIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvY3JlYXRlX2NsdXN0ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2x1c3RlciB9IGZyb20gJy4vY2x1c3Rlcic7XG5pbXBvcnQgeyBnZXQsIHNldCB9IGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDbHVzdGVycyhzZXJ2ZXIpIHtcbiAgY29uc3QgZXNQbHVnaW4gPSBzZXJ2ZXIucGx1Z2lucy5lbGFzdGljc2VhcmNoO1xuICBlc1BsdWdpbi5fY2x1c3RlcnMgPSBlc1BsdWdpbi5fY2x1c3RlcnMgfHwgbmV3IE1hcCgpO1xuXG4gIHJldHVybiB7XG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgIHJldHVybiBlc1BsdWdpbi5fY2x1c3RlcnMuZ2V0KG5hbWUpO1xuICAgIH0sXG5cbiAgICBjcmVhdGUobmFtZSwgY29uZmlnKSB7XG4gICAgICBjb25zdCBjbHVzdGVyID0gbmV3IENsdXN0ZXIoY29uZmlnKTtcblxuICAgICAgaWYgKGVzUGx1Z2luLl9jbHVzdGVycy5oYXMobmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjbHVzdGVyICcke25hbWV9JyBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgfVxuXG4gICAgICBlc1BsdWdpbi5fY2x1c3RlcnMuc2V0KG5hbWUsIGNsdXN0ZXIpO1xuXG4gICAgICByZXR1cm4gY2x1c3RlcjtcbiAgICB9XG4gIH07XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_clusters.js"
      ],
      "names": [],
      "mappings": ";;;;;;;uBAAwB,WAAW;;sBACV,QAAQ;;AAE1B,SAAS,cAAc,CAAC,MAAM,EAAE;AACrC,MAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC;AAC9C,UAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,IAAI,IAAI,GAAG,EAAE,CAAC;;AAErD,SAAO;AACL,OAAG,EAAA,aAAC,IAAI,EAAE;AACR,aAAO,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;KACrC;;AAED,UAAM,EAAA,gBAAC,IAAI,EAAE,MAAM,EAAE;AACnB,UAAM,OAAO,GAAG,qBAAY,MAAM,CAAC,CAAC;;AAEpC,UAAI,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;AAChC,cAAM,IAAI,KAAK,gBAAa,IAAI,uBAAmB,CAAC;OACrD;;AAED,cAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;;AAEtC,aAAO,OAAO,CAAC;KAChB;GACF,CAAC;CACH",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_clusters.js",
      "sourcesContent": [
        "import { Cluster } from './cluster';\nimport { get, set } from 'lodash';\n\nexport function createClusters(server) {\n  const esPlugin = server.plugins.elasticsearch;\n  esPlugin._clusters = esPlugin._clusters || new Map();\n\n  return {\n    get(name) {\n      return esPlugin._clusters.get(name);\n    },\n\n    create(name, config) {\n      const cluster = new Cluster(config);\n\n      if (esPlugin._clusters.has(name)) {\n        throw new Error(`cluster '${name}' already exists`);\n      }\n\n      esPlugin._clusters.set(name, cluster);\n\n      return cluster;\n    }\n  };\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/cluster.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "elasticsearch",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "elasticsearch"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "get",
              "set",
              "isEmpty",
              "cloneDeep",
              "pick"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "set",
                "local": "set"
              },
              {
                "kind": "named",
                "imported": "isEmpty",
                "local": "isEmpty"
              },
              {
                "kind": "named",
                "imported": "cloneDeep",
                "local": "cloneDeep"
              },
              {
                "kind": "named",
                "imported": "pick",
                "local": "pick"
              }
            ]
          },
          {
            "source": "lodash/internal/toPath",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "toPath"
              }
            ]
          },
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          },
          {
            "source": "./filter_headers",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "filterHeaders"
              }
            ]
          },
          {
            "source": "./parse_config",
            "imported": [
              "parseConfig"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "parseConfig",
                "local": "parseConfig"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "Cluster"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "Cluster",
              "exported": "Cluster"
            }
          ]
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _elasticsearch = require('elasticsearch');\n\nvar _elasticsearch2 = _interopRequireDefault(_elasticsearch);\n\nvar _lodash = require('lodash');\n\nvar _lodashInternalToPath = require('lodash/internal/toPath');\n\nvar _lodashInternalToPath2 = _interopRequireDefault(_lodashInternalToPath);\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nvar _filter_headers = require('./filter_headers');\n\nvar _filter_headers2 = _interopRequireDefault(_filter_headers);\n\nvar _parse_config = require('./parse_config');\n\nvar Cluster = (function () {\n  function Cluster(config) {\n    var _this = this;\n\n    _classCallCheck(this, Cluster);\n\n    this.callWithRequest = function (req, endpoint) {\n      if (req === undefined) req = {};\n      var clientParams = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n      var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n      if (req.headers) {\n        var filteredHeaders = (0, _filter_headers2['default'])(req.headers, _this.getRequestHeadersWhitelist());\n        (0, _lodash.set)(clientParams, 'headers', filteredHeaders);\n      }\n\n      return callAPI(_this._noAuthClient, endpoint, clientParams, options);\n    };\n\n    this.callWithInternalUser = function (endpoint) {\n      var clientParams = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      return callAPI(_this._client, endpoint, clientParams, options);\n    };\n\n    this.getRequestHeadersWhitelist = function () {\n      return getClonedProperty(_this._config, 'requestHeadersWhitelist');\n    };\n\n    this.getCustomHeaders = function () {\n      return getClonedProperty(_this._config, 'customHeaders');\n    };\n\n    this.getRequestTimeout = function () {\n      return getClonedProperty(_this._config, 'requestTimeout');\n    };\n\n    this.getUrl = function () {\n      return getClonedProperty(_this._config, 'url');\n    };\n\n    this.getSsl = function () {\n      return getClonedProperty(_this._config, 'ssl');\n    };\n\n    this.getClient = function () {\n      return _this._client;\n    };\n\n    this.createClient = function (configOverrides) {\n      var config = Object.assign({}, _this._getClientConfig(), configOverrides);\n      //config.host = \"http://search-cognito-test-zcikkvndl2skcocg5n6czsm6eq.us-east-1.es.amazonaws.com\";\n      return new _elasticsearch2['default'].Client((0, _parse_config.parseConfig)(config));\n      // return new elasticsearch.Client({\n      //  hosts: [ 'https://search-cognito-test-zcikkvndl2skcocg5n6czsm6eq.us-east-1.es.amazonaws.com' ],\n      //  connectionClass: require('http-aws-es')\n      // });\n    };\n\n    this._getClientConfig = function () {\n      return getClonedProperties(_this._config, ['url', 'ssl', 'username', 'password', 'customHeaders', 'plugins', 'apiVersion', 'keepAlive', 'pingTimeout', 'requestTimeout', 'log']);\n    };\n\n    this._config = Object.assign({}, config);\n    this.errors = _elasticsearch2['default'].errors;\n\n    this._client = this.createClient();\n    this._noAuthClient = this.createClient({ auth: false });\n\n    return this;\n  }\n\n  _createClass(Cluster, [{\n    key: 'close',\n    value: function close() {\n      if (this._client) {\n        this._client.close();\n      }\n\n      if (this._noAuthClient) {\n        this._noAuthClient.close();\n      }\n    }\n  }]);\n\n  return Cluster;\n})();\n\nexports.Cluster = Cluster;\n\nfunction callAPI(client, endpoint) {\n  var clientParams = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n  var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n  var wrap401Errors = options.wrap401Errors !== false;\n  var clientPath = (0, _lodashInternalToPath2['default'])(endpoint);\n  var api = (0, _lodash.get)(client, clientPath);\n\n  var apiContext = (0, _lodash.get)(client, clientPath.slice(0, -1));\n  if ((0, _lodash.isEmpty)(apiContext)) {\n    apiContext = client;\n  }\n\n  if (!api) {\n    throw new Error('called with an invalid endpoint: ' + endpoint);\n  }\n\n  return api.call(apiContext, clientParams)['catch'](function (err) {\n    if (!wrap401Errors || err.statusCode !== 401) {\n      return Promise.reject(err);\n    }\n\n    var boomError = _boom2['default'].wrap(err, err.statusCode);\n    var wwwAuthHeader = (0, _lodash.get)(err, 'body.error.header[WWW-Authenticate]');\n    boomError.output.headers['WWW-Authenticate'] = wwwAuthHeader || 'Basic realm=\"Authorization Required\"';\n\n    throw boomError;\n  });\n}\n\nfunction getClonedProperties(config, paths) {\n  return (0, _lodash.cloneDeep)(paths ? (0, _lodash.pick)(config, paths) : config);\n}\n\nfunction getClonedProperty(config, path) {\n  return (0, _lodash.cloneDeep)(path ? (0, _lodash.get)(config, path) : config);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvY2x1c3Rlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7NkJBQTBCLGVBQWU7Ozs7c0JBQ1UsUUFBUTs7b0NBQ3hDLHdCQUF3Qjs7OztvQkFDMUIsTUFBTTs7Ozs4QkFDRyxrQkFBa0I7Ozs7NEJBQ2hCLGdCQUFnQjs7SUFFL0IsT0FBTztBQUNQLFdBREEsT0FBTyxDQUNOLE1BQU0sRUFBRTs7OzBCQURULE9BQU87O1NBWWxCLGVBQWUsR0FBRyxVQUFDLEdBQUcsRUFBTyxRQUFRLEVBQXNDO1VBQXhELEdBQUcsZ0JBQUgsR0FBRyxHQUFHLEVBQUU7VUFBWSxZQUFZLHlEQUFHLEVBQUU7VUFBRSxPQUFPLHlEQUFHLEVBQUU7O0FBQ3BFLFVBQUksR0FBRyxDQUFDLE9BQU8sRUFBRTtBQUNmLFlBQU0sZUFBZSxHQUFHLGlDQUFjLEdBQUcsQ0FBQyxPQUFPLEVBQUUsTUFBSywwQkFBMEIsRUFBRSxDQUFDLENBQUM7QUFDdEYseUJBQUksWUFBWSxFQUFFLFNBQVMsRUFBRSxlQUFlLENBQUMsQ0FBQztPQUMvQzs7QUFFRCxhQUFPLE9BQU8sQ0FBQyxNQUFLLGFBQWEsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQ3JFOztTQUVELG9CQUFvQixHQUFHLFVBQUMsUUFBUSxFQUFzQztVQUFwQyxZQUFZLHlEQUFHLEVBQUU7VUFBRSxPQUFPLHlEQUFHLEVBQUU7O0FBQy9ELGFBQU8sT0FBTyxDQUFDLE1BQUssT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDL0Q7O1NBRUQsMEJBQTBCLEdBQUc7YUFBTSxpQkFBaUIsQ0FBQyxNQUFLLE9BQU8sRUFBRSx5QkFBeUIsQ0FBQztLQUFBOztTQUU3RixnQkFBZ0IsR0FBRzthQUFNLGlCQUFpQixDQUFDLE1BQUssT0FBTyxF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RUFBRSxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDakQsUUFBTSxhQUFhLEdBQUcsaUJBQUksR0FBRyxFQUFFLHFDQUFxQyxDQUFDLENBQUM7QUFDdEUsYUFBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsR0FBRyxhQUFhLElBQUksc0NBQXNDLENBQUM7O0FBRXZHLFVBQU0sU0FBUyxDQUFDO0dBQ2pCLENBQUMsQ0FBQztDQUNKOztBQUVELFNBQVMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRTtBQUMxQyxTQUFPLHVCQUFVLEtBQUssR0FBRyxrQkFBSyxNQUFNLEVBQUUsS0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7Q0FDeEQ7O0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFO0FBQ3ZDLFNBQU8sdUJBQVUsSUFBSSxHQUFHLGlCQUFJLE1BQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztDQUNyRCIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2VsYXN0aWNzZWFyY2gvbGliL2NsdXN0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZWxhc3RpY3NlYXJjaCBmcm9tICdlbGFzdGljc2VhcmNoJztcbmltcG9ydCB7IGdldCwgc2V0LCBpc0VtcHR5LCBjbG9uZURlZXAsIHBpY2sgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHRvUGF0aCBmcm9tICdsb2Rhc2gvaW50ZXJuYWwvdG9QYXRoJztcbmltcG9ydCBCb29tIGZyb20gJ2Jvb20nO1xuaW1wb3J0IGZpbHRlckhlYWRlcnMgZnJvbSAnLi9maWx0ZXJfaGVhZGVycyc7XG5pbXBvcnQgeyBwYXJzZUNvbmZpZyB9IGZyb20gJy4vcGFyc2VfY29uZmlnJztcblxuZXhwb3J0IGNsYXNzIENsdXN0ZXIge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLl9jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBjb25maWcpO1xuICAgIHRoaXMuZXJyb3JzID0gZWxhc3RpY3NlYXJjaC5lcnJvcnM7XG5cbiAgICB0aGlzLl9jbGllbnQgPSB0aGlzLmNyZWF0ZUNsaWVudCgpO1xuICAgIHRoaXMuX25vQXV0aENsaWVudCA9IHRoaXMuY3JlYXRlQ2xpZW50KHsgYXV0aDogZmFsc2UgfSk7XG5cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY2FsbFdpdGhSZXF1ZXN0ID0gKHJlcSA9IHt9LCBlbmRwb2ludCwgY2xpZW50UGFyYW1zID0ge30sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmIChyZXEuaGVhZGVycykge1xuICAgICAgY29uc3QgZmlsdGVyZWRIZWFkZXJzID0gZmlsdGVySGVhZGVycyhyZXEuaGVhZGVycywgdGhpcy5nZXRSZXF1ZXN0SGVhZGVyc1doaXRlbGlzdCgpKTtcbiAgICAgIHNldChjbGllbnRQYXJhbXMsICdoZWFkZXJzJywgZmlsdGVyZWRIZWFkZXJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FsbEFQSSh0aGlzLl9ub0F1dGhDbGllbnQsIGVuZHBvaW50LCBjbGllbnRQYXJhbXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgY2FsbFdpdGhJbnRlcm5hbFVzZXIgPSAoZW5kcG9pbnQsIGNsaWVudFBhcmFtcyA9IHt9LCBvcHRpb25zID0ge30pID0+IHtcbiAgICByZXR1cm4gY2FsbEFQSSh0aGlzLl9jbGllbnQsIGVuZHBvaW50LCBjbGllbnRQYXJhbXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0UmVxdWVzdEhlYWRlcnNXaGl0ZWxpc3QgPSAoKSA9PiBnZXRDbG9uZWRQcm9wZXJ0eSh0aGlzLl9jb25maWcsICdyZXF1ZXN0SGVhZGVyc1doaXRlbGlzdCcpO1xuXG4gIGdldEN1c3RvbUhlYWRlcnMgPSAoKSA9PiBnZXRDbG9uZWRQcm9wZXJ0eSh0aGlzLl9jb25maWcsICdjdXN0b21IZWFkZXJzJyk7XG5cbiAgZ2V0UmVxdWVzdFRpbWVvdXQgPSAoKSA9PiBnZXRDbG9uZWRQcm9wZXJ0eSh0aGlzLl9jb25maWcsICdyZXF1ZXN0VGltZW91dCcpO1xuXG4gIGdldFVybCA9ICgpID0+IGdldENsb25lZFByb3BlcnR5KHRoaXMuX2NvbmZpZywgJ3VybCcpO1xuXG4gIGdldFNzbCA9ICgpID0+IGdldENsb25lZFByb3BlcnR5KHRoaXMuX2NvbmZpZywgJ3NzbCcpO1xuXG4gIGdldENsaWVudCA9ICgpID0+IHRoaXMuX2NsaWVudDtcblxuICBjbG9zZSgpIHtcbiAgICBpZiAodGhpcy5fY2xpZW50KSB7XG4gICAgICB0aGlzLl9jbGllbnQuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbm9BdXRoQ2xpZW50KSB7XG4gICAgICB0aGlzLl9ub0F1dGhDbGllbnQuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVDbGllbnQgPSBjb25maWdPdmVycmlkZXMgPT4ge1xuICAgIGNvbnN0IGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX2dldENsaWVudENvbmZpZygpLCBjb25maWdPdmVycmlkZXMpO1xuICAgIC8vY29uZmlnLmhvc3QgPSBcImh0dHA6Ly9zZWFyY2gtY29nbml0by10ZXN0LXpjaWtrdm5kbDJza2NvY2c1bjZjenNtNmVxLnVzLWVhc3QtMS5lcy5hbWF6b25hd3MuY29tXCI7XG4gICAgcmV0dXJuIG5ldyBlbGFzdGljc2VhcmNoLkNsaWVudChwYXJzZUNvbmZpZyhjb25maWcpKTtcbiAgICAvLyByZXR1cm4gbmV3IGVsYXN0aWNzZWFyY2guQ2xpZW50KHtcbiAgICAvLyAgaG9zdHM6IFsgJ2h0dHBzOi8vc2VhcmNoLWNvZ25pdG8tdGVzdC16Y2lra3ZuZGwyc2tjb2NnNW42Y3pzbTZlcS51cy1lYXN0LTEuZXMuYW1hem9uYXdzLmNvbScgXSxcbiAgICAvLyAgY29ubmVjdGlvbkNsYXNzOiByZXF1aXJlKCdodHRwLWF3cy1lcycpXG4gICAgLy8gfSk7XG4gIH1cblxuICBfZ2V0Q2xpZW50Q29uZmlnID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXRDbG9uZWRQcm9wZXJ0aWVzKHRoaXMuX2NvbmZpZywgW1xuICAgICAgJ3VybCcsXG4gICAgICAnc3NsJyxcbiAgICAgICd1c2VybmFtZScsXG4gICAgICAncGFzc3dvcmQnLFxuICAgICAgJ2N1c3RvbUhlYWRlcnMnLFxuICAgICAgJ3BsdWdpbnMnLFxuICAgICAgJ2FwaVZlcnNpb24nLFxuICAgICAgJ2tlZXBBbGl2ZScsXG4gICAgICAncGluZ1RpbWVvdXQnLFxuICAgICAgJ3JlcXVlc3RUaW1lb3V0JyxcbiAgICAgICdsb2cnXG4gICAgXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsbEFQSShjbGllbnQsIGVuZHBvaW50LCBjbGllbnRQYXJhbXMgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHdyYXA0MDFFcnJvcnMgPSBvcHRpb25zLndyYXA0MDFFcnJvcnMgIT09IGZhbHNlO1xuICBjb25zdCBjbGllbnRQYXRoID0gdG9QYXRoKGVuZHBvaW50KTtcbiAgY29uc3QgYXBpID0gZ2V0KGNsaWVudCwgY2xpZW50UGF0aCk7XG5cbiAgbGV0IGFwaUNvbnRleHQgPSBnZXQoY2xpZW50LCBjbGllbnRQYXRoLnNsaWNlKDAsIC0xKSk7XG4gIGlmIChpc0VtcHR5KGFwaUNvbnRleHQpKSB7XG4gICAgYXBpQ29udGV4dCA9IGNsaWVudDtcbiAgfVxuXG4gIGlmICghYXBpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIGVuZHBvaW50OiAke2VuZHBvaW50fWApO1xuICB9XG5cbiAgcmV0dXJuIGFwaS5jYWxsKGFwaUNvbnRleHQsIGNsaWVudFBhcmFtcykuY2F0Y2goKGVycikgPT4ge1xuICAgIGlmICghd3JhcDQwMUVycm9ycyB8fCBlcnIuc3RhdHVzQ29kZSAhPT0gNDAxKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBjb25zdCBib29tRXJyb3IgPSBCb29tLndyYXAoZXJyLCBlcnIuc3RhdHVzQ29kZSk7XG4gICAgY29uc3Qgd3d3QXV0aEhlYWRlciA9IGdldChlcnIsICdib2R5LmVycm9yLmhlYWRlcltXV1ctQXV0aGVudGljYXRlXScpO1xuICAgIGJvb21FcnJvci5vdXRwdXQuaGVhZGVyc1snV1dXLUF1dGhlbnRpY2F0ZSddID0gd3d3QXV0aEhlYWRlciB8fCAnQmFzaWMgcmVhbG09XCJBdXRob3JpemF0aW9uIFJlcXVpcmVkXCInO1xuXG4gICAgdGhyb3cgYm9vbUVycm9yO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2xvbmVkUHJvcGVydGllcyhjb25maWcsIHBhdGhzKSB7XG4gIHJldHVybiBjbG9uZURlZXAocGF0aHMgPyBwaWNrKGNvbmZpZywgcGF0aHMpIDogY29uZmlnKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2xvbmVkUHJvcGVydHkoY29uZmlnLCBwYXRoKSB7XG4gIHJldHVybiBjbG9uZURlZXAocGF0aCA/IGdldChjb25maWcsIHBhdGgpIDogY29uZmlnKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/cluster.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/cluster.js",
      "sourcesContent": [
        "import elasticsearch from 'elasticsearch';\nimport { get, set, isEmpty, cloneDeep, pick } from 'lodash';\nimport toPath from 'lodash/internal/toPath';\nimport Boom from 'boom';\nimport filterHeaders from './filter_headers';\nimport { parseConfig } from './parse_config';\n\nexport class Cluster {\n  constructor(config) {\n    this._config = Object.assign({}, config);\n    this.errors = elasticsearch.errors;\n\n    this._client = this.createClient();\n    this._noAuthClient = this.createClient({ auth: false });\n\n\n    return this;\n  }\n\n  callWithRequest = (req = {}, endpoint, clientParams = {}, options = {}) => {\n    if (req.headers) {\n      const filteredHeaders = filterHeaders(req.headers, this.getRequestHeadersWhitelist());\n      set(clientParams, 'headers', filteredHeaders);\n    }\n\n    return callAPI(this._noAuthClient, endpoint, clientParams, options);\n  }\n\n  callWithInternalUser = (endpoint, clientParams = {}, options = {}) => {\n    return callAPI(this._client, endpoint, clientParams, options);\n  }\n\n  getRequestHeadersWhitelist = () => getClonedProperty(this._config, 'requestHeadersWhitelist');\n\n  getCustomHeaders = () => getClonedProperty(this._config, 'customHeaders');\n\n  getRequestTimeout = () => getClonedProperty(this._config, 'requestTimeout');\n\n  getUrl = () => getClonedProperty(this._config, 'url');\n\n  getSsl = () => getClonedProperty(this._config, 'ssl');\n\n  getClient = () => this._client;\n\n  close() {\n    if (this._client) {\n      this._client.close();\n    }\n\n    if (this._noAuthClient) {\n      this._noAuthClient.close();\n    }\n  }\n\n  createClient = configOverrides => {\n    const config = Object.assign({}, this._getClientConfig(), configOverrides);\n    //config.host = \"http://search-cognito-test-zcikkvndl2skcocg5n6czsm6eq.us-east-1.es.amazonaws.com\";\n    return new elasticsearch.Client(parseConfig(config));\n    // return new elasticsearch.Client({\n    //  hosts: [ 'https://search-cognito-test-zcikkvndl2skcocg5n6czsm6eq.us-east-1.es.amazonaws.com' ],\n    //  connectionClass: require('http-aws-es')\n    // });\n  }\n\n  _getClientConfig = () => {\n    return getClonedProperties(this._config, [\n      'url',\n      'ssl',\n      'username',\n      'password',\n      'customHeaders',\n      'plugins',\n      'apiVersion',\n      'keepAlive',\n      'pingTimeout',\n      'requestTimeout',\n      'log'\n    ]);\n  }\n}\n\nfunction callAPI(client, endpoint, clientParams = {}, options = {}) {\n  const wrap401Errors = options.wrap401Errors !== false;\n  const clientPath = toPath(endpoint);\n  const api = get(client, clientPath);\n\n  let apiContext = get(client, clientPath.slice(0, -1));\n  if (isEmpty(apiContext)) {\n    apiContext = client;\n  }\n\n  if (!api) {\n    throw new Error(`called with an invalid endpoint: ${endpoint}`);\n  }\n\n  return api.call(apiContext, clientParams).catch((err) => {\n    if (!wrap401Errors || err.statusCode !== 401) {\n      return Promise.reject(err);\n    }\n\n    const boomError = Boom.wrap(err, err.statusCode);\n    const wwwAuthHeader = get(err, 'body.error.header[WWW-Authenticate]');\n    boomError.output.headers['WWW-Authenticate'] = wwwAuthHeader || 'Basic realm=\"Authorization Required\"';\n\n    throw boomError;\n  });\n}\n\nfunction getClonedProperties(config, paths) {\n  return cloneDeep(paths ? pick(config, paths) : config);\n}\n\nfunction getClonedProperty(config, path) {\n  return cloneDeep(path ? get(config, path) : config);\n}\n"
      ]
    },
    "mtime": 1500066222000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/filter_headers.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nexports['default'] = function (originalHeaders, headersToKeep) {\n\n  var normalizeHeader = function normalizeHeader(header) {\n    if (!header) {\n      return '';\n    }\n    header = header.toString();\n    return header.trim().toLowerCase();\n  };\n\n  // Normalize list of headers we want to allow in upstream request\n  var headersToKeepNormalized = headersToKeep.map(normalizeHeader);\n\n  // Normalize original headers in request\n  var originalHeadersNormalized = _lodash2['default'].mapKeys(originalHeaders, function (headerValue, headerName) {\n    return normalizeHeader(headerName);\n  });\n\n  return _lodash2['default'].pick(originalHeaders, headersToKeepNormalized);\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvZmlsdGVyX2hlYWRlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7c0JBQWMsUUFBUTs7OztxQkFFUCxVQUFVLGVBQWUsRUFBRSxhQUFhLEVBQUU7O0FBRXZELE1BQU0sZUFBZSxHQUFHLFNBQWxCLGVBQWUsQ0FBYSxNQUFNLEVBQUU7QUFDeEMsUUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNYLGFBQU8sRUFBRSxDQUFDO0tBQ1g7QUFDRCxVQUFNLEdBQUcsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQzNCLFdBQU8sTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO0dBQ3BDLENBQUM7OztBQUdGLE1BQU0sdUJBQXVCLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQzs7O0FBR25FLE1BQU0seUJBQXlCLEdBQUcsb0JBQUUsT0FBTyxDQUFDLGVBQWUsRUFBRSxVQUFVLFdBQVcsRUFBRSxVQUFVLEVBQUU7QUFDOUYsV0FBTyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7R0FDcEMsQ0FBQyxDQUFDOztBQUVILFNBQU8sb0JBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO0NBQ3pEIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvZmlsdGVyX2hlYWRlcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAob3JpZ2luYWxIZWFkZXJzLCBoZWFkZXJzVG9LZWVwKSB7XG5cbiAgY29uc3Qgbm9ybWFsaXplSGVhZGVyID0gZnVuY3Rpb24gKGhlYWRlcikge1xuICAgIGlmICghaGVhZGVyKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGhlYWRlciA9IGhlYWRlci50b1N0cmluZygpO1xuICAgIHJldHVybiBoZWFkZXIudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gIH07XG5cbiAgLy8gTm9ybWFsaXplIGxpc3Qgb2YgaGVhZGVycyB3ZSB3YW50IHRvIGFsbG93IGluIHVwc3RyZWFtIHJlcXVlc3RcbiAgY29uc3QgaGVhZGVyc1RvS2VlcE5vcm1hbGl6ZWQgPSBoZWFkZXJzVG9LZWVwLm1hcChub3JtYWxpemVIZWFkZXIpO1xuXG4gIC8vIE5vcm1hbGl6ZSBvcmlnaW5hbCBoZWFkZXJzIGluIHJlcXVlc3RcbiAgY29uc3Qgb3JpZ2luYWxIZWFkZXJzTm9ybWFsaXplZCA9IF8ubWFwS2V5cyhvcmlnaW5hbEhlYWRlcnMsIGZ1bmN0aW9uIChoZWFkZXJWYWx1ZSwgaGVhZGVyTmFtZSkge1xuICAgIHJldHVybiBub3JtYWxpemVIZWFkZXIoaGVhZGVyTmFtZSk7XG4gIH0pO1xuXG4gIHJldHVybiBfLnBpY2sob3JpZ2luYWxIZWFkZXJzLCBoZWFkZXJzVG9LZWVwTm9ybWFsaXplZCk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/filter_headers.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;sBAAc,QAAQ;;;;qBAEP,UAAU,eAAe,EAAE,aAAa,EAAE;;AAEvD,MAAM,eAAe,GAAG,SAAlB,eAAe,CAAa,MAAM,EAAE;AACxC,QAAI,CAAC,MAAM,EAAE;AACX,aAAO,EAAE,CAAC;KACX;AACD,UAAM,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;AAC3B,WAAO,MAAM,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;GACpC,CAAC;;;AAGF,MAAM,uBAAuB,GAAG,aAAa,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;;;AAGnE,MAAM,yBAAyB,GAAG,oBAAE,OAAO,CAAC,eAAe,EAAE,UAAU,WAAW,EAAE,UAAU,EAAE;AAC9F,WAAO,eAAe,CAAC,UAAU,CAAC,CAAC;GACpC,CAAC,CAAC;;AAEH,SAAO,oBAAE,IAAI,CAAC,eAAe,EAAE,uBAAuB,CAAC,CAAC;CACzD",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/filter_headers.js",
      "sourcesContent": [
        "import _ from 'lodash';\n\nexport default function (originalHeaders, headersToKeep) {\n\n  const normalizeHeader = function (header) {\n    if (!header) {\n      return '';\n    }\n    header = header.toString();\n    return header.trim().toLowerCase();\n  };\n\n  // Normalize list of headers we want to allow in upstream request\n  const headersToKeepNormalized = headersToKeep.map(normalizeHeader);\n\n  // Normalize original headers in request\n  const originalHeadersNormalized = _.mapKeys(originalHeaders, function (headerValue, headerName) {\n    return normalizeHeader(headerName);\n  });\n\n  return _.pick(originalHeaders, headersToKeepNormalized);\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/parse_config.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "util",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "util"
              }
            ]
          },
          {
            "source": "url",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "url"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "get",
              "noop",
              "size",
              "pick"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "noop",
                "local": "noop"
              },
              {
                "kind": "named",
                "imported": "size",
                "local": "size"
              },
              {
                "kind": "named",
                "imported": "pick",
                "local": "pick"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "readFileSync"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readFileSync",
                "local": "readFileSync"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Bluebird"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "parseConfig",
            "serverConfig"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "parseConfig",
              "exported": "parseConfig"
            },
            {
              "kind": "local",
              "local": "serverConfig",
              "exported": "serverConfig"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.parseConfig = parseConfig;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _util = require('util');\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _lodash = require('lodash');\n\nvar _fs = require('fs');\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar readFile = function readFile(file) {\n  return (0, _fs.readFileSync)(file, 'utf8');\n};\n\nfunction parseConfig() {\n  var serverConfig = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var config = Object.assign({\n    keepAlive: true\n  }, (0, _lodash.pick)(serverConfig, ['plugins', 'apiVersion', 'keepAlive', 'pingTimeout', 'requestTimeout', 'log', 'logQueries']));\n\n  var uri = _url2['default'].parse(serverConfig.url);\n  config.host = {\n    host: uri.hostname,\n    port: uri.port,\n    protocol: uri.protocol,\n    path: uri.pathname,\n    query: uri.query,\n    headers: serverConfig.customHeaders\n  }; //\n  //config.connectionClass = require('http-aws-es');\n\n  // Auth\n  if (serverConfig.auth !== false && serverConfig.username && serverConfig.password) {\n    config.host.auth = _util2['default'].format('%s:%s', serverConfig.username, serverConfig.password);\n  }\n\n  // SSL\n  config.ssl = {};\n\n  var verificationMode = (0, _lodash.get)(serverConfig, 'ssl.verificationMode');\n  switch (verificationMode) {\n    case 'none':\n      config.ssl.rejectUnauthorized = false;\n      break;\n    case 'certificate':\n      config.ssl.rejectUnauthorized = true;\n\n      // by default, NodeJS is checking the server identify\n      config.ssl.checkServerIdentity = _lodash.noop;\n      break;\n    case 'full':\n      config.ssl.rejectUnauthorized = true;\n      break;\n    default:\n      throw new Error('Unknown ssl verificationMode: ' + verificationMode);\n  }\n\n  if ((0, _lodash.size)((0, _lodash.get)(serverConfig, 'ssl.certificateAuthorities'))) {\n    config.ssl.ca = serverConfig.ssl.certificateAuthorities.map(readFile);\n  }\n\n  // Add client certificate and key if required by elasticsearch\n  if ((0, _lodash.get)(serverConfig, 'ssl.certificate') && (0, _lodash.get)(serverConfig, 'ssl.key')) {\n    config.ssl.cert = readFile(serverConfig.ssl.certificate);\n    config.ssl.key = readFile(serverConfig.ssl.key);\n    config.ssl.passphrase = serverConfig.ssl.keyPassphrase;\n  }\n\n  config.defer = function () {\n    return _bluebird2['default'].defer();\n  };\n\n  return config;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvcGFyc2VfY29uZmlnLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztvQkFBaUIsTUFBTTs7OzttQkFDUCxLQUFLOzs7O3NCQUNpQixRQUFROztrQkFDakIsSUFBSTs7d0JBQ1osVUFBVTs7OztBQUUvQixJQUFNLFFBQVEsR0FBRyxTQUFYLFFBQVEsQ0FBSSxJQUFJO1NBQUssc0JBQWEsSUFBSSxFQUFFLE1BQU0sQ0FBQztDQUFBLENBQUM7O0FBRS9DLFNBQVMsV0FBVyxHQUFvQjtNQUFuQixZQUFZLHlEQUFHLEVBQUU7O0FBQzNDLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDM0IsYUFBUyxFQUFFLElBQUk7R0FDaEIsRUFBRSxrQkFBSyxZQUFZLEVBQUUsQ0FDcEIsU0FBUyxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsYUFBYSxFQUNuRCxnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsWUFBWSxDQUN0QyxDQUFDLENBQUMsQ0FBQzs7QUFFSixNQUFNLEdBQUcsR0FBRyxpQkFBSSxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3hDLFFBQU0sQ0FBQyxJQUFJLEdBQUc7QUFDWixRQUFJLEVBQUUsR0FBRyxDQUFDLFFBQVE7QUFDbEIsUUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJO0FBQ2QsWUFBUSxFQUFFLEdBQUcsQ0FBQyxRQUFRO0FBQ3RCLFFBQUksRUFBRSxHQUFHLENBQUMsUUFBUTtBQUNsQixTQUFLLEVBQUUsR0FBRyxDQUFDLEtBQUs7QUFDaEIsV0FBTyxFQUFFLFlBQVksQ0FBQyxhQUFhO0dBQ3BDLENBQUM7Ozs7QUFJRixNQUFJLFlBQVksQ0FBQyxJQUFJLEtBQUssS0FBSyxJQUFJLFlBQVksQ0FBQyxRQUFRLElBQUksWUFBWSxDQUFDLFFBQVEsRUFBRTtBQUNqRixVQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxrQkFBSyxNQUFNLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0dBQ3ZGOzs7QUFHRCxRQUFNLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQzs7QUFFaEIsTUFBTSxnQkFBZ0IsR0FBRyxpQkFBSSxZQUFZLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztBQUNuRSxVQUFRLGdCQUFnQjtBQUN0QixTQUFLLE1BQU07QUFDVCxZQUFNLENBQUMsR0FBRyxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztBQUN0QyxZQUFNO0FBQUEsQUFDUixTQUFLLGFBQWE7QUFDaEIsWUFBTSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7OztBQUdyQyxZQUFNLENBQUMsR0FBRyxDQUFDLG1CQUFtQixlQUFPLENBQUM7QUFDdEMsWUFBTTtBQUFBLEFBQ1IsU0FBSyxNQUFNO0FBQ1QsWUFBTSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7QUFDckMsWUFBTTtBQUFBLEFBQ1I7QUFDRSxZQUFNLElBQUksS0FBSyxvQ0FBa0MsZ0JBQWdCLENBQUcsQ0FBQztBQUFBLEdBQ3hFOztBQUVELE1BQUksa0JBQUssaUJBQUksWUFBWSxFQUFFLDRCQUE0QixDQUFDLENBQUMsRUFBRTtBQUN6RCxVQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxZQUFZLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztHQUN2RTs7O0FBR0QsTUFBSSxpQkFBSSxZQUFZLEVBQUUsaUJBQWlCLENBQUMsSUFBSSxpQkFBSSxZQUFZLEVBQUUsU0FBUyxDQUFDLEVBQUU7QUFDeEUsVUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDekQsVUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEQsVUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7R0FDeEQ7O0FBRUQsUUFBTSxDQUFDLEtBQUssR0FBRztXQUFNLHNCQUFTLEtBQUssRUFBRTtHQUFBLENBQUM7O0FBRXRDLFNBQU8sTUFBTSxDQUFDO0NBQ2YiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9lbGFzdGljc2VhcmNoL2xpYi9wYXJzZV9jb25maWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdXRpbCBmcm9tICd1dGlsJztcbmltcG9ydCB1cmwgZnJvbSAndXJsJztcbmltcG9ydCB7IGdldCwgbm9vcCwgc2l6ZSwgcGljayB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgQmx1ZWJpcmQgZnJvbSAnYmx1ZWJpcmQnO1xuXG5jb25zdCByZWFkRmlsZSA9IChmaWxlKSA9PiByZWFkRmlsZVN5bmMoZmlsZSwgJ3V0ZjgnKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ29uZmlnKHNlcnZlckNvbmZpZyA9IHt9KSB7XG4gIGNvbnN0IGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGtlZXBBbGl2ZTogdHJ1ZVxuICB9LCBwaWNrKHNlcnZlckNvbmZpZywgW1xuICAgICdwbHVnaW5zJywgJ2FwaVZlcnNpb24nLCAna2VlcEFsaXZlJywgJ3BpbmdUaW1lb3V0JyxcbiAgICAncmVxdWVzdFRpbWVvdXQnLCAnbG9nJywgJ2xvZ1F1ZXJpZXMnXG4gIF0pKTtcblxuICBjb25zdCB1cmkgPSB1cmwucGFyc2Uoc2VydmVyQ29uZmlnLnVybCk7XG4gIGNvbmZpZy5ob3N0ID0ge1xuICAgIGhvc3Q6IHVyaS5ob3N0bmFtZSxcbiAgICBwb3J0OiB1cmkucG9ydCxcbiAgICBwcm90b2NvbDogdXJpLnByb3RvY29sLFxuICAgIHBhdGg6IHVyaS5wYXRobmFtZSxcbiAgICBxdWVyeTogdXJpLnF1ZXJ5LFxuICAgIGhlYWRlcnM6IHNlcnZlckNvbmZpZy5jdXN0b21IZWFkZXJzXG4gIH07Ly9cbiAgLy9jb25maWcuY29ubmVjdGlvbkNsYXNzID0gcmVxdWlyZSgnaHR0cC1hd3MtZXMnKTtcblxuICAvLyBBdXRoXG4gIGlmIChzZXJ2ZXJDb25maWcuYXV0aCAhPT0gZmFsc2UgJiYgc2VydmVyQ29uZmlnLnVzZXJuYW1lICYmIHNlcnZlckNvbmZpZy5wYXNzd29yZCkge1xuICAgIGNvbmZpZy5ob3N0LmF1dGggPSB1dGlsLmZvcm1hdCgnJXM6JXMnLCBzZXJ2ZXJDb25maWcudXNlcm5hbWUsIHNlcnZlckNvbmZpZy5wYXNzd29yZCk7XG4gIH1cblxuICAvLyBTU0xcbiAgY29uZmlnLnNzbCA9IHt9O1xuXG4gIGNvbnN0IHZlcmlmaWNhdGlvbk1vZGUgPSBnZXQoc2VydmVyQ29uZmlnLCAnc3NsLnZlcmlmaWNhdGlvbk1vZGUnKTtcbiAgc3dpdGNoICh2ZXJpZmljYXRpb25Nb2RlKSB7XG4gICAgY2FzZSAnbm9uZSc6XG4gICAgICBjb25maWcuc3NsLnJlamVjdFVuYXV0aG9yaXplZCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY2VydGlmaWNhdGUnOlxuICAgICAgY29uZmlnLnNzbC5yZWplY3RVbmF1dGhvcml6ZWQgPSB0cnVlO1xuXG4gICAgICAvLyBieSBkZWZhdWx0LCBOb2RlSlMgaXMgY2hlY2tpbmcgdGhlIHNlcnZlciBpZGVudGlmeVxuICAgICAgY29uZmlnLnNzbC5jaGVja1NlcnZlcklkZW50aXR5ID0gbm9vcDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Z1bGwnOlxuICAgICAgY29uZmlnLnNzbC5yZWplY3RVbmF1dGhvcml6ZWQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzc2wgdmVyaWZpY2F0aW9uTW9kZTogJHt2ZXJpZmljYXRpb25Nb2RlfWApO1xuICB9XG5cbiAgaWYgKHNpemUoZ2V0KHNlcnZlckNvbmZpZywgJ3NzbC5jZXJ0aWZpY2F0ZUF1dGhvcml0aWVzJykpKSB7XG4gICAgY29uZmlnLnNzbC5jYSA9IHNlcnZlckNvbmZpZy5zc2wuY2VydGlmaWNhdGVBdXRob3JpdGllcy5tYXAocmVhZEZpbGUpO1xuICB9XG5cbiAgLy8gQWRkIGNsaWVudCBjZXJ0aWZpY2F0ZSBhbmQga2V5IGlmIHJlcXVpcmVkIGJ5IGVsYXN0aWNzZWFyY2hcbiAgaWYgKGdldChzZXJ2ZXJDb25maWcsICdzc2wuY2VydGlmaWNhdGUnKSAmJiBnZXQoc2VydmVyQ29uZmlnLCAnc3NsLmtleScpKSB7XG4gICAgY29uZmlnLnNzbC5jZXJ0ID0gcmVhZEZpbGUoc2VydmVyQ29uZmlnLnNzbC5jZXJ0aWZpY2F0ZSk7XG4gICAgY29uZmlnLnNzbC5rZXkgPSByZWFkRmlsZShzZXJ2ZXJDb25maWcuc3NsLmtleSk7XG4gICAgY29uZmlnLnNzbC5wYXNzcGhyYXNlID0gc2VydmVyQ29uZmlnLnNzbC5rZXlQYXNzcGhyYXNlO1xuICB9XG5cbiAgY29uZmlnLmRlZmVyID0gKCkgPT4gQmx1ZWJpcmQuZGVmZXIoKTtcblxuICByZXR1cm4gY29uZmlnO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/parse_config.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;oBAAiB,MAAM;;;;mBACP,KAAK;;;;sBACiB,QAAQ;;kBACjB,IAAI;;wBACZ,UAAU;;;;AAE/B,IAAM,QAAQ,GAAG,SAAX,QAAQ,CAAI,IAAI;SAAK,sBAAa,IAAI,EAAE,MAAM,CAAC;CAAA,CAAC;;AAE/C,SAAS,WAAW,GAAoB;MAAnB,YAAY,yDAAG,EAAE;;AAC3C,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;AAC3B,aAAS,EAAE,IAAI;GAChB,EAAE,kBAAK,YAAY,EAAE,CACpB,SAAS,EAAE,YAAY,EAAE,WAAW,EAAE,aAAa,EACnD,gBAAgB,EAAE,KAAK,EAAE,YAAY,CACtC,CAAC,CAAC,CAAC;;AAEJ,MAAM,GAAG,GAAG,iBAAI,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACxC,QAAM,CAAC,IAAI,GAAG;AACZ,QAAI,EAAE,GAAG,CAAC,QAAQ;AAClB,QAAI,EAAE,GAAG,CAAC,IAAI;AACd,YAAQ,EAAE,GAAG,CAAC,QAAQ;AACtB,QAAI,EAAE,GAAG,CAAC,QAAQ;AAClB,SAAK,EAAE,GAAG,CAAC,KAAK;AAChB,WAAO,EAAE,YAAY,CAAC,aAAa;GACpC,CAAC;;;;AAIF,MAAI,YAAY,CAAC,IAAI,KAAK,KAAK,IAAI,YAAY,CAAC,QAAQ,IAAI,YAAY,CAAC,QAAQ,EAAE;AACjF,UAAM,CAAC,IAAI,CAAC,IAAI,GAAG,kBAAK,MAAM,CAAC,OAAO,EAAE,YAAY,CAAC,QAAQ,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC;GACvF;;;AAGD,QAAM,CAAC,GAAG,GAAG,EAAE,CAAC;;AAEhB,MAAM,gBAAgB,GAAG,iBAAI,YAAY,EAAE,sBAAsB,CAAC,CAAC;AACnE,UAAQ,gBAAgB;AACtB,SAAK,MAAM;AACT,YAAM,CAAC,GAAG,CAAC,kBAAkB,GAAG,KAAK,CAAC;AACtC,YAAM;AAAA,AACR,SAAK,aAAa;AAChB,YAAM,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC;;;AAGrC,YAAM,CAAC,GAAG,CAAC,mBAAmB,eAAO,CAAC;AACtC,YAAM;AAAA,AACR,SAAK,MAAM;AACT,YAAM,CAAC,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC;AACrC,YAAM;AAAA,AACR;AACE,YAAM,IAAI,KAAK,oCAAkC,gBAAgB,CAAG,CAAC;AAAA,GACxE;;AAED,MAAI,kBAAK,iBAAI,YAAY,EAAE,4BAA4B,CAAC,CAAC,EAAE;AACzD,UAAM,CAAC,GAAG,CAAC,EAAE,GAAG,YAAY,CAAC,GAAG,CAAC,sBAAsB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;GACvE;;;AAGD,MAAI,iBAAI,YAAY,EAAE,iBAAiB,CAAC,IAAI,iBAAI,YAAY,EAAE,SAAS,CAAC,EAAE;AACxE,UAAM,CAAC,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;AACzD,UAAM,CAAC,GAAG,CAAC,GAAG,GAAG,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAChD,UAAM,CAAC,GAAG,CAAC,UAAU,GAAG,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC;GACxD;;AAED,QAAM,CAAC,KAAK,GAAG;WAAM,sBAAS,KAAK,EAAE;GAAA,CAAC;;AAEtC,SAAO,MAAM,CAAC;CACf",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/parse_config.js",
      "sourcesContent": [
        "import util from 'util';\nimport url from 'url';\nimport { get, noop, size, pick } from 'lodash';\nimport { readFileSync } from 'fs';\nimport Bluebird from 'bluebird';\n\nconst readFile = (file) => readFileSync(file, 'utf8');\n\nexport function parseConfig(serverConfig = {}) {\n  const config = Object.assign({\n    keepAlive: true\n  }, pick(serverConfig, [\n    'plugins', 'apiVersion', 'keepAlive', 'pingTimeout',\n    'requestTimeout', 'log', 'logQueries'\n  ]));\n\n  const uri = url.parse(serverConfig.url);\n  config.host = {\n    host: uri.hostname,\n    port: uri.port,\n    protocol: uri.protocol,\n    path: uri.pathname,\n    query: uri.query,\n    headers: serverConfig.customHeaders\n  };//\n  //config.connectionClass = require('http-aws-es');\n\n  // Auth\n  if (serverConfig.auth !== false && serverConfig.username && serverConfig.password) {\n    config.host.auth = util.format('%s:%s', serverConfig.username, serverConfig.password);\n  }\n\n  // SSL\n  config.ssl = {};\n\n  const verificationMode = get(serverConfig, 'ssl.verificationMode');\n  switch (verificationMode) {\n    case 'none':\n      config.ssl.rejectUnauthorized = false;\n      break;\n    case 'certificate':\n      config.ssl.rejectUnauthorized = true;\n\n      // by default, NodeJS is checking the server identify\n      config.ssl.checkServerIdentity = noop;\n      break;\n    case 'full':\n      config.ssl.rejectUnauthorized = true;\n      break;\n    default:\n      throw new Error(`Unknown ssl verificationMode: ${verificationMode}`);\n  }\n\n  if (size(get(serverConfig, 'ssl.certificateAuthorities'))) {\n    config.ssl.ca = serverConfig.ssl.certificateAuthorities.map(readFile);\n  }\n\n  // Add client certificate and key if required by elasticsearch\n  if (get(serverConfig, 'ssl.certificate') && get(serverConfig, 'ssl.key')) {\n    config.ssl.cert = readFile(serverConfig.ssl.certificate);\n    config.ssl.key = readFile(serverConfig.ssl.key);\n    config.ssl.passphrase = serverConfig.ssl.keyPassphrase;\n  }\n\n  config.defer = () => Bluebird.defer();\n\n  return config;\n}\n"
      ]
    },
    "mtime": 1500060029000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_proxy.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./create_agent",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "createAgent"
              }
            ]
          },
          {
            "source": "./map_uri",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mapUri"
              }
            ]
          },
          {
            "source": "url",
            "imported": [
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "assign"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "assign",
                "local": "assign"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "sliced-to-array",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _create_agent = require('./create_agent');\n\nvar _create_agent2 = _interopRequireDefault(_create_agent);\n\nvar _map_uri = require('./map_uri');\n\nvar _map_uri2 = _interopRequireDefault(_map_uri);\n\nvar _url = require('url');\n\nvar _lodash = require('lodash');\n\nfunction createProxy(server, method, path, config) {\n  var proxies = new Map([['/elasticsearch', server.plugins.elasticsearch.getCluster('data')], ['/es_admin', server.plugins.elasticsearch.getCluster('admin')]]);\n\n  var responseHandler = function responseHandler(err, upstreamResponse, request, reply) {\n    if (err) {\n      reply(err);\n      return;\n    }\n\n    if (upstreamResponse.headers.location) {\n      // TODO: Workaround for #8705 until hapi has been updated to >= 15.0.0\n      upstreamResponse.headers.location = encodeURI(upstreamResponse.headers.location);\n    }\n\n    reply(null, upstreamResponse);\n  };\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = proxies[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var proxyPrefix = _step$value[0];\n      var cluster = _step$value[1];\n\n      var options = {\n        method: method,\n        path: createProxy.createPath(proxyPrefix, path),\n        config: {\n          timeout: {\n            socket: cluster.getRequestTimeout()\n          }\n        },\n        handler: {\n          proxy: {\n            mapUri: (0, _map_uri2['default'])(cluster, proxyPrefix),\n            agent: (0, _create_agent2['default'])({\n              url: cluster.getUrl(),\n              ssl: cluster.getSsl()\n            }),\n            xforward: true,\n            timeout: cluster.getRequestTimeout(),\n            onResponse: responseHandler\n          }\n        }\n      };\n\n      (0, _lodash.assign)(options.config, config);\n\n      server.route(options);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\ncreateProxy.createPath = function createPath(prefix, path) {\n  path = path[0] === '/' ? path : '/' + path;\n  prefix = prefix[0] === '/' ? prefix : '/' + prefix;\n\n  return '' + prefix + path;\n};\n\nmodule.exports = createProxy;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvY3JlYXRlX3Byb3h5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs0QkFBd0IsZ0JBQWdCOzs7O3VCQUNyQixXQUFXOzs7O21CQUNOLEtBQUs7O3NCQUNOLFFBQVE7O0FBRS9CLFNBQVMsV0FBVyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRTtBQUNqRCxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUN0QixDQUFDLGdCQUFnQixFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUNuRSxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FDaEUsQ0FBQyxDQUFDOztBQUVILE1BQU0sZUFBZSxHQUFHLFNBQWxCLGVBQWUsQ0FBYSxHQUFHLEVBQUUsZ0JBQWdCLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRTtBQUN2RSxRQUFJLEdBQUcsRUFBRTtBQUNQLFdBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNYLGFBQU87S0FDUjs7QUFFRCxRQUFJLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUU7O0FBRXJDLHNCQUFnQixDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUNsRjs7QUFFRCxTQUFLLENBQUMsSUFBSSxFQUFFLGdCQUFnQixDQUFDLENBQUM7R0FDL0IsQ0FBQzs7Ozs7OztBQUVGLHlCQUFxQyxPQUFPLDhIQUFFOzs7VUFBbEMsV0FBVztVQUFFLE9BQU87O0FBQzlCLFVBQU0sT0FBTyxHQUFHO0FBQ2QsY0FBTSxFQUFOLE1BQU07QUFDTixZQUFJLEVBQUUsV0FBVyxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDO0FBQy9DLGNBQU0sRUFBRTtBQUNOLGlCQUFPLEVBQUU7QUFDUCxrQkFBTSxFQUFFLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRTtXQUNwQztTQUNGO0FBQ0QsZUFBTyxFQUFFO0FBQ1AsZUFBSyxFQUFFO0FBQ0wsa0JBQU0sRUFBRSwwQkFBTyxPQUFPLEVBQUUsV0FBVyxDQUFDO0FBQ3BDLGlCQUFLLEVBQUUsK0JBQVk7QUFDakIsaUJBQUcsRUFBRSxPQUFPLENBQUMsTUFBTSxFQUFFO0FBQ3JCLGlCQUFHLEVBQUUsT0FBTyxDQUFDLE1BQU0sRUFBRTthQUN0QixDQUFDO0FBQ0Ysb0JBQVEsRUFBRSxJQUFJO0FBQ2QsbUJBQU8sRUFBRSxPQUFPLENBQUMsaUJBQWlCLEVBQUU7QUFDcEMsc0JBQVUsRUFBRSxlQUFlO1dBQzVCO1NBQ0Y7T0FDRixDQUFDOztBQUVGLDBCQUFPLE9BQU8sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7O0FBRS9CLFlBQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDdkI7Ozs7Ozs7Ozs7Ozs7OztDQUNGOztBQUVELFdBQVcsQ0FBQyxVQUFVLEdBQUcsU0FBUyxVQUFVLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRTtBQUN6RCxNQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxJQUFJLFNBQU8sSUFBSSxBQUFFLENBQUM7QUFDM0MsUUFBTSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUcsTUFBTSxTQUFPLE1BQU0sQUFBRSxDQUFDOztBQUVuRCxjQUFVLE1BQU0sR0FBRyxJQUFJLENBQUc7Q0FDM0IsQ0FBQzs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLFdBQVcsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2VsYXN0aWNzZWFyY2gvbGliL2NyZWF0ZV9wcm94eS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGVBZ2VudCBmcm9tICcuL2NyZWF0ZV9hZ2VudCc7XG5pbXBvcnQgbWFwVXJpIGZyb20gJy4vbWFwX3VyaSc7XG5pbXBvcnQgeyByZXNvbHZlIH0gZnJvbSAndXJsJztcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJ2xvZGFzaCc7XG5cbmZ1bmN0aW9uIGNyZWF0ZVByb3h5KHNlcnZlciwgbWV0aG9kLCBwYXRoLCBjb25maWcpIHtcbiAgY29uc3QgcHJveGllcyA9IG5ldyBNYXAoW1xuICAgIFsnL2VsYXN0aWNzZWFyY2gnLCBzZXJ2ZXIucGx1Z2lucy5lbGFzdGljc2VhcmNoLmdldENsdXN0ZXIoJ2RhdGEnKV0sXG4gICAgWycvZXNfYWRtaW4nLCBzZXJ2ZXIucGx1Z2lucy5lbGFzdGljc2VhcmNoLmdldENsdXN0ZXIoJ2FkbWluJyldXG4gIF0pO1xuXG4gIGNvbnN0IHJlc3BvbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChlcnIsIHVwc3RyZWFtUmVzcG9uc2UsIHJlcXVlc3QsIHJlcGx5KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmVwbHkoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodXBzdHJlYW1SZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uKSB7XG4gICAgICAvLyBUT0RPOiBXb3JrYXJvdW5kIGZvciAjODcwNSB1bnRpbCBoYXBpIGhhcyBiZWVuIHVwZGF0ZWQgdG8gPj0gMTUuMC4wXG4gICAgICB1cHN0cmVhbVJlc3BvbnNlLmhlYWRlcnMubG9jYXRpb24gPSBlbmNvZGVVUkkodXBzdHJlYW1SZXNwb25zZS5oZWFkZXJzLmxvY2F0aW9uKTtcbiAgICB9XG5cbiAgICByZXBseShudWxsLCB1cHN0cmVhbVJlc3BvbnNlKTtcbiAgfTtcblxuICBmb3IgKGNvbnN0IFtwcm94eVByZWZpeCwgY2x1c3Rlcl0gb2YgcHJveGllcykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBtZXRob2QsXG4gICAgICBwYXRoOiBjcmVhdGVQcm94eS5jcmVhdGVQYXRoKHByb3h5UHJlZml4LCBwYXRoKSxcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICB0aW1lb3V0OiB7XG4gICAgICAgICAgc29ja2V0OiBjbHVzdGVyLmdldFJlcXVlc3RUaW1lb3V0KClcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhhbmRsZXI6IHtcbiAgICAgICAgcHJveHk6IHtcbiAgICAgICAgICBtYXBVcmk6IG1hcFVyaShjbHVzdGVyLCBwcm94eVByZWZpeCksXG4gICAgICAgICAgYWdlbnQ6IGNyZWF0ZUFnZW50KHtcbiAgICAgICAgICAgIHVybDogY2x1c3Rlci5nZXRVcmwoKSxcbiAgICAgICAgICAgIHNzbDogY2x1c3Rlci5nZXRTc2woKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHhmb3J3YXJkOiB0cnVlLFxuICAgICAgICAgIHRpbWVvdXQ6IGNsdXN0ZXIuZ2V0UmVxdWVzdFRpbWVvdXQoKSxcbiAgICAgICAgICBvblJlc3BvbnNlOiByZXNwb25zZUhhbmRsZXJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgYXNzaWduKG9wdGlvbnMuY29uZmlnLCBjb25maWcpO1xuXG4gICAgc2VydmVyLnJvdXRlKG9wdGlvbnMpO1xuICB9XG59XG5cbmNyZWF0ZVByb3h5LmNyZWF0ZVBhdGggPSBmdW5jdGlvbiBjcmVhdGVQYXRoKHByZWZpeCwgcGF0aCkge1xuICBwYXRoID0gcGF0aFswXSA9PT0gJy8nID8gcGF0aCA6IGAvJHtwYXRofWA7XG4gIHByZWZpeCA9IHByZWZpeFswXSA9PT0gJy8nID8gcHJlZml4IDogYC8ke3ByZWZpeH1gO1xuXG4gIHJldHVybiBgJHtwcmVmaXh9JHtwYXRofWA7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVByb3h5O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_proxy.js"
      ],
      "names": [],
      "mappings": ";;;;;;4BAAwB,gBAAgB;;;;uBACrB,WAAW;;;;mBACN,KAAK;;sBACN,QAAQ;;AAE/B,SAAS,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;AACjD,MAAM,OAAO,GAAG,IAAI,GAAG,CAAC,CACtB,CAAC,gBAAgB,EAAE,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,EACnE,CAAC,WAAW,EAAE,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAChE,CAAC,CAAC;;AAEH,MAAM,eAAe,GAAG,SAAlB,eAAe,CAAa,GAAG,EAAE,gBAAgB,EAAE,OAAO,EAAE,KAAK,EAAE;AACvE,QAAI,GAAG,EAAE;AACP,WAAK,CAAC,GAAG,CAAC,CAAC;AACX,aAAO;KACR;;AAED,QAAI,gBAAgB,CAAC,OAAO,CAAC,QAAQ,EAAE;;AAErC,sBAAgB,CAAC,OAAO,CAAC,QAAQ,GAAG,SAAS,CAAC,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;KAClF;;AAED,SAAK,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC;GAC/B,CAAC;;;;;;;AAEF,yBAAqC,OAAO,8HAAE;;;UAAlC,WAAW;UAAE,OAAO;;AAC9B,UAAM,OAAO,GAAG;AACd,cAAM,EAAN,MAAM;AACN,YAAI,EAAE,WAAW,CAAC,UAAU,CAAC,WAAW,EAAE,IAAI,CAAC;AAC/C,cAAM,EAAE;AACN,iBAAO,EAAE;AACP,kBAAM,EAAE,OAAO,CAAC,iBAAiB,EAAE;WACpC;SACF;AACD,eAAO,EAAE;AACP,eAAK,EAAE;AACL,kBAAM,EAAE,0BAAO,OAAO,EAAE,WAAW,CAAC;AACpC,iBAAK,EAAE,+BAAY;AACjB,iBAAG,EAAE,OAAO,CAAC,MAAM,EAAE;AACrB,iBAAG,EAAE,OAAO,CAAC,MAAM,EAAE;aACtB,CAAC;AACF,oBAAQ,EAAE,IAAI;AACd,mBAAO,EAAE,OAAO,CAAC,iBAAiB,EAAE;AACpC,sBAAU,EAAE,eAAe;WAC5B;SACF;OACF,CAAC;;AAEF,0BAAO,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;;AAE/B,YAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;KACvB;;;;;;;;;;;;;;;CACF;;AAED,WAAW,CAAC,UAAU,GAAG,SAAS,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE;AACzD,MAAI,GAAG,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,IAAI,SAAO,IAAI,AAAE,CAAC;AAC3C,QAAM,GAAG,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,MAAM,SAAO,MAAM,AAAE,CAAC;;AAEnD,cAAU,MAAM,GAAG,IAAI,CAAG;CAC3B,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,WAAW,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_proxy.js",
      "sourcesContent": [
        "import createAgent from './create_agent';\nimport mapUri from './map_uri';\nimport { resolve } from 'url';\nimport { assign } from 'lodash';\n\nfunction createProxy(server, method, path, config) {\n  const proxies = new Map([\n    ['/elasticsearch', server.plugins.elasticsearch.getCluster('data')],\n    ['/es_admin', server.plugins.elasticsearch.getCluster('admin')]\n  ]);\n\n  const responseHandler = function (err, upstreamResponse, request, reply) {\n    if (err) {\n      reply(err);\n      return;\n    }\n\n    if (upstreamResponse.headers.location) {\n      // TODO: Workaround for #8705 until hapi has been updated to >= 15.0.0\n      upstreamResponse.headers.location = encodeURI(upstreamResponse.headers.location);\n    }\n\n    reply(null, upstreamResponse);\n  };\n\n  for (const [proxyPrefix, cluster] of proxies) {\n    const options = {\n      method,\n      path: createProxy.createPath(proxyPrefix, path),\n      config: {\n        timeout: {\n          socket: cluster.getRequestTimeout()\n        }\n      },\n      handler: {\n        proxy: {\n          mapUri: mapUri(cluster, proxyPrefix),\n          agent: createAgent({\n            url: cluster.getUrl(),\n            ssl: cluster.getSsl()\n          }),\n          xforward: true,\n          timeout: cluster.getRequestTimeout(),\n          onResponse: responseHandler\n        }\n      },\n    };\n\n    assign(options.config, config);\n\n    server.route(options);\n  }\n}\n\ncreateProxy.createPath = function createPath(prefix, path) {\n  path = path[0] === '/' ? path : `/${path}`;\n  prefix = prefix[0] === '/' ? prefix : `/${prefix}`;\n\n  return `${prefix}${path}`;\n};\n\nmodule.exports = createProxy;\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_agent.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "url",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "url"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "get",
              "size"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "size",
                "local": "size"
              }
            ]
          },
          {
            "source": "http",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "http"
              }
            ]
          },
          {
            "source": "https",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "https"
              }
            ]
          },
          {
            "source": "./parse_config",
            "imported": [
              "parseConfig"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "parseConfig",
                "local": "parseConfig"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _lodash = require('lodash');\n\nvar _http = require('http');\n\nvar _http2 = _interopRequireDefault(_http);\n\nvar _https = require('https');\n\nvar _https2 = _interopRequireDefault(_https);\n\nvar _parse_config = require('./parse_config');\n\nvar readFile = function readFile(file) {\n  return require('fs').readFileSync(file, 'utf8');\n};\n\nexports['default'] = function (config) {\n  var target = _url2['default'].parse((0, _lodash.get)(config, 'url'));\n\n  if (!/^https/.test(target.protocol)) return new _http2['default'].Agent();\n\n  return new _https2['default'].Agent((0, _parse_config.parseConfig)(config).ssl);\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvY3JlYXRlX2FnZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O21CQUFnQixLQUFLOzs7O3NCQUNLLFFBQVE7O29CQUVqQixNQUFNOzs7O3FCQUNMLE9BQU87Ozs7NEJBRUcsZ0JBQWdCOztBQUo1QyxJQUFNLFFBQVEsR0FBRyxTQUFYLFFBQVEsQ0FBSSxJQUFJO1NBQUssT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDO0NBQUEsQ0FBQzs7cUJBTXJELFVBQVUsTUFBTSxFQUFFO0FBQy9CLE1BQU0sTUFBTSxHQUFHLGlCQUFJLEtBQUssQ0FBQyxpQkFBSSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQzs7QUFFN0MsTUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLE9BQU8sSUFBSSxrQkFBSyxLQUFLLEVBQUUsQ0FBQzs7QUFFN0QsU0FBTyxJQUFJLG1CQUFNLEtBQUssQ0FBQywrQkFBWSxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNqRCIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2VsYXN0aWNzZWFyY2gvbGliL2NyZWF0ZV9hZ2VudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB1cmwgZnJvbSAndXJsJztcbmltcG9ydCB7IGdldCwgc2l6ZSB9IGZyb20gJ2xvZGFzaCc7XG5jb25zdCByZWFkRmlsZSA9IChmaWxlKSA9PiByZXF1aXJlKCdmcycpLnJlYWRGaWxlU3luYyhmaWxlLCAndXRmOCcpO1xuaW1wb3J0IGh0dHAgZnJvbSAnaHR0cCc7XG5pbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnO1xuXG5pbXBvcnQgeyBwYXJzZUNvbmZpZyB9IGZyb20gJy4vcGFyc2VfY29uZmlnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGNvbmZpZykge1xuICBjb25zdCB0YXJnZXQgPSB1cmwucGFyc2UoZ2V0KGNvbmZpZywgJ3VybCcpKTtcblxuICBpZiAoIS9eaHR0cHMvLnRlc3QodGFyZ2V0LnByb3RvY29sKSkgcmV0dXJuIG5ldyBodHRwLkFnZW50KCk7XG5cbiAgcmV0dXJuIG5ldyBodHRwcy5BZ2VudChwYXJzZUNvbmZpZyhjb25maWcpLnNzbCk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_agent.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;mBAAgB,KAAK;;;;sBACK,QAAQ;;oBAEjB,MAAM;;;;qBACL,OAAO;;;;4BAEG,gBAAgB;;AAJ5C,IAAM,QAAQ,GAAG,SAAX,QAAQ,CAAI,IAAI;SAAK,OAAO,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC;CAAA,CAAC;;qBAMrD,UAAU,MAAM,EAAE;AAC/B,MAAM,MAAM,GAAG,iBAAI,KAAK,CAAC,iBAAI,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;;AAE7C,MAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,OAAO,IAAI,kBAAK,KAAK,EAAE,CAAC;;AAE7D,SAAO,IAAI,mBAAM,KAAK,CAAC,+BAAY,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;CACjD",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/create_agent.js",
      "sourcesContent": [
        "import url from 'url';\nimport { get, size } from 'lodash';\nconst readFile = (file) => require('fs').readFileSync(file, 'utf8');\nimport http from 'http';\nimport https from 'https';\n\nimport { parseConfig } from './parse_config';\n\nexport default function (config) {\n  const target = url.parse(get(config, 'url'));\n\n  if (!/^https/.test(target.protocol)) return new http.Agent();\n\n  return new https.Agent(parseConfig(config).ssl);\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/map_uri.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "defaults",
              "omit",
              "trimLeft",
              "trimRight"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "defaults",
                "local": "defaults"
              },
              {
                "kind": "named",
                "imported": "omit",
                "local": "omit"
              },
              {
                "kind": "named",
                "imported": "trimLeft",
                "local": "trimLeft"
              },
              {
                "kind": "named",
                "imported": "trimRight",
                "local": "trimRight"
              }
            ]
          },
          {
            "source": "url",
            "imported": [
              "parse",
              "format",
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "parse",
                "local": "parseUrl"
              },
              {
                "kind": "named",
                "imported": "format",
                "local": "formatUrl"
              },
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          },
          {
            "source": "./filter_headers",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "filterHeaders"
              }
            ]
          },
          {
            "source": "./set_headers",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "setHeaders"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "mapUri",
            "cluster",
            "proxyPrefix"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "mapUri",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "cluster",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "proxyPrefix",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = mapUri;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _url = require('url');\n\nvar _filter_headers = require('./filter_headers');\n\nvar _filter_headers2 = _interopRequireDefault(_filter_headers);\n\nvar _set_headers = require('./set_headers');\n\nvar _set_headers2 = _interopRequireDefault(_set_headers);\n\nfunction mapUri(cluster, proxyPrefix) {\n  function joinPaths(pathA, pathB) {\n    return (0, _lodash.trimRight)(pathA, '/') + '/' + (0, _lodash.trimLeft)(pathB, '/');\n  }\n\n  return function (request, done) {\n    var _parseUrl = (0, _url.parse)(cluster.getUrl(), true);\n\n    var esUrlProtocol = _parseUrl.protocol;\n    var esUrlHasSlashes = _parseUrl.slashes;\n    var esUrlAuth = _parseUrl.auth;\n    var esUrlHostname = _parseUrl.hostname;\n    var esUrlPort = _parseUrl.port;\n    var esUrlBasePath = _parseUrl.pathname;\n    var esUrlQuery = _parseUrl.query;\n\n    // copy most url components directly from the elasticsearch.url\n    var mappedUrlComponents = {\n      protocol: esUrlProtocol,\n      slashes: esUrlHasSlashes,\n      auth: esUrlAuth,\n      hostname: esUrlHostname,\n      port: esUrlPort\n    };\n\n    // pathname\n    var reqSubPath = request.path.replace(proxyPrefix, '');\n    mappedUrlComponents.pathname = joinPaths(esUrlBasePath, reqSubPath);\n\n    // querystring\n    var mappedQuery = (0, _lodash.defaults)((0, _lodash.omit)(request.query, '_'), esUrlQuery);\n    if (Object.keys(mappedQuery).length) {\n      mappedUrlComponents.query = mappedQuery;\n    }\n\n    var filteredHeaders = (0, _filter_headers2['default'])(request.headers, cluster.getRequestHeadersWhitelist());\n    var mappedHeaders = (0, _set_headers2['default'])(filteredHeaders, cluster.getCustomHeaders());\n    var mappedUrl = (0, _url.format)(mappedUrlComponents);\n    done(null, mappedUrl, mappedHeaders);\n  };\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvbWFwX3VyaS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztxQkFLd0IsTUFBTTs7OztzQkFMc0IsUUFBUTs7bUJBQ0ksS0FBSzs7OEJBQzNDLGtCQUFrQjs7OzsyQkFDckIsZUFBZTs7OztBQUV2QixTQUFTLE1BQU0sQ0FBQyxPQUFPLEVBQUUsV0FBVyxFQUFFO0FBQ25ELFdBQVMsU0FBUyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDL0IsV0FBTyx1QkFBVSxLQUFLLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLHNCQUFTLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztHQUMzRDs7QUFFRCxTQUFPLFVBQVUsT0FBTyxFQUFFLElBQUksRUFBRTtvQkFTMUIsZ0JBQVMsT0FBTyxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQzs7UUFQeEIsYUFBYSxhQUF2QixRQUFRO1FBQ0MsZUFBZSxhQUF4QixPQUFPO1FBQ0QsU0FBUyxhQUFmLElBQUk7UUFDTSxhQUFhLGFBQXZCLFFBQVE7UUFDRixTQUFTLGFBQWYsSUFBSTtRQUNNLGFBQWEsYUFBdkIsUUFBUTtRQUNELFVBQVUsYUFBakIsS0FBSzs7O0FBSVAsUUFBTSxtQkFBbUIsR0FBRztBQUMxQixjQUFRLEVBQUUsYUFBYTtBQUN2QixhQUFPLEVBQUUsZUFBZTtBQUN4QixVQUFJLEVBQUUsU0FBUztBQUNmLGNBQVEsRUFBRSxhQUFhO0FBQ3ZCLFVBQUksRUFBRSxTQUFTO0tBQ2hCLENBQUM7OztBQUdGLFFBQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUN6RCx1QkFBbUIsQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLGFBQWEsRUFBRSxVQUFVLENBQUMsQ0FBQzs7O0FBR3BFLFFBQU0sV0FBVyxHQUFHLHNCQUFTLGtCQUFLLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDbkUsUUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sRUFBRTtBQUNuQyx5QkFBbUIsQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDO0tBQ3pDOztBQUVELFFBQU0sZUFBZSxHQUFHLGlDQUFjLE9BQU8sQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLDBCQUEwQixFQUFFLENBQUMsQ0FBQztBQUM3RixRQUFNLGFBQWEsR0FBRyw4QkFBVyxlQUFlLEVBQUUsT0FBTyxDQUFDLGdCQUFnQixFQUFFLENBQUMsQ0FBQztBQUM5RSxRQUFNLFNBQVMsR0FBRyxpQkFBVSxtQkFBbUIsQ0FBQyxDQUFDO0FBQ2pELFFBQUksQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0dBQ3RDLENBQUM7Q0FDSCIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2VsYXN0aWNzZWFyY2gvbGliL21hcF91cmkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0cywgb21pdCwgdHJpbUxlZnQsIHRyaW1SaWdodCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBwYXJzZSBhcyBwYXJzZVVybCwgZm9ybWF0IGFzIGZvcm1hdFVybCwgcmVzb2x2ZSB9IGZyb20gJ3VybCc7XG5pbXBvcnQgZmlsdGVySGVhZGVycyBmcm9tICcuL2ZpbHRlcl9oZWFkZXJzJztcbmltcG9ydCBzZXRIZWFkZXJzIGZyb20gJy4vc2V0X2hlYWRlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBVcmkoY2x1c3RlciwgcHJveHlQcmVmaXgpIHtcbiAgZnVuY3Rpb24gam9pblBhdGhzKHBhdGhBLCBwYXRoQikge1xuICAgIHJldHVybiB0cmltUmlnaHQocGF0aEEsICcvJykgKyAnLycgKyB0cmltTGVmdChwYXRoQiwgJy8nKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAocmVxdWVzdCwgZG9uZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHByb3RvY29sOiBlc1VybFByb3RvY29sLFxuICAgICAgc2xhc2hlczogZXNVcmxIYXNTbGFzaGVzLFxuICAgICAgYXV0aDogZXNVcmxBdXRoLFxuICAgICAgaG9zdG5hbWU6IGVzVXJsSG9zdG5hbWUsXG4gICAgICBwb3J0OiBlc1VybFBvcnQsXG4gICAgICBwYXRobmFtZTogZXNVcmxCYXNlUGF0aCxcbiAgICAgIHF1ZXJ5OiBlc1VybFF1ZXJ5XG4gICAgfSA9IHBhcnNlVXJsKGNsdXN0ZXIuZ2V0VXJsKCksIHRydWUpO1xuXG4gICAgLy8gY29weSBtb3N0IHVybCBjb21wb25lbnRzIGRpcmVjdGx5IGZyb20gdGhlIGVsYXN0aWNzZWFyY2gudXJsXG4gICAgY29uc3QgbWFwcGVkVXJsQ29tcG9uZW50cyA9IHtcbiAgICAgIHByb3RvY29sOiBlc1VybFByb3RvY29sLFxuICAgICAgc2xhc2hlczogZXNVcmxIYXNTbGFzaGVzLFxuICAgICAgYXV0aDogZXNVcmxBdXRoLFxuICAgICAgaG9zdG5hbWU6IGVzVXJsSG9zdG5hbWUsXG4gICAgICBwb3J0OiBlc1VybFBvcnRcbiAgICB9O1xuXG4gICAgLy8gcGF0aG5hbWVcbiAgICBjb25zdCByZXFTdWJQYXRoID0gcmVxdWVzdC5wYXRoLnJlcGxhY2UocHJveHlQcmVmaXgsICcnKTtcbiAgICBtYXBwZWRVcmxDb21wb25lbnRzLnBhdGhuYW1lID0gam9pblBhdGhzKGVzVXJsQmFzZVBhdGgsIHJlcVN1YlBhdGgpO1xuXG4gICAgLy8gcXVlcnlzdHJpbmdcbiAgICBjb25zdCBtYXBwZWRRdWVyeSA9IGRlZmF1bHRzKG9taXQocmVxdWVzdC5xdWVyeSwgJ18nKSwgZXNVcmxRdWVyeSk7XG4gICAgaWYgKE9iamVjdC5rZXlzKG1hcHBlZFF1ZXJ5KS5sZW5ndGgpIHtcbiAgICAgIG1hcHBlZFVybENvbXBvbmVudHMucXVlcnkgPSBtYXBwZWRRdWVyeTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXJlZEhlYWRlcnMgPSBmaWx0ZXJIZWFkZXJzKHJlcXVlc3QuaGVhZGVycywgY2x1c3Rlci5nZXRSZXF1ZXN0SGVhZGVyc1doaXRlbGlzdCgpKTtcbiAgICBjb25zdCBtYXBwZWRIZWFkZXJzID0gc2V0SGVhZGVycyhmaWx0ZXJlZEhlYWRlcnMsIGNsdXN0ZXIuZ2V0Q3VzdG9tSGVhZGVycygpKTtcbiAgICBjb25zdCBtYXBwZWRVcmwgPSBmb3JtYXRVcmwobWFwcGVkVXJsQ29tcG9uZW50cyk7XG4gICAgZG9uZShudWxsLCBtYXBwZWRVcmwsIG1hcHBlZEhlYWRlcnMpO1xuICB9O1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/map_uri.js"
      ],
      "names": [],
      "mappings": ";;;;;qBAKwB,MAAM;;;;sBALsB,QAAQ;;mBACI,KAAK;;8BAC3C,kBAAkB;;;;2BACrB,eAAe;;;;AAEvB,SAAS,MAAM,CAAC,OAAO,EAAE,WAAW,EAAE;AACnD,WAAS,SAAS,CAAC,KAAK,EAAE,KAAK,EAAE;AAC/B,WAAO,uBAAU,KAAK,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,sBAAS,KAAK,EAAE,GAAG,CAAC,CAAC;GAC3D;;AAED,SAAO,UAAU,OAAO,EAAE,IAAI,EAAE;oBAS1B,gBAAS,OAAO,CAAC,MAAM,EAAE,EAAE,IAAI,CAAC;;QAPxB,aAAa,aAAvB,QAAQ;QACC,eAAe,aAAxB,OAAO;QACD,SAAS,aAAf,IAAI;QACM,aAAa,aAAvB,QAAQ;QACF,SAAS,aAAf,IAAI;QACM,aAAa,aAAvB,QAAQ;QACD,UAAU,aAAjB,KAAK;;;AAIP,QAAM,mBAAmB,GAAG;AAC1B,cAAQ,EAAE,aAAa;AACvB,aAAO,EAAE,eAAe;AACxB,UAAI,EAAE,SAAS;AACf,cAAQ,EAAE,aAAa;AACvB,UAAI,EAAE,SAAS;KAChB,CAAC;;;AAGF,QAAM,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;AACzD,uBAAmB,CAAC,QAAQ,GAAG,SAAS,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;;;AAGpE,QAAM,WAAW,GAAG,sBAAS,kBAAK,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE,UAAU,CAAC,CAAC;AACnE,QAAI,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,EAAE;AACnC,yBAAmB,CAAC,KAAK,GAAG,WAAW,CAAC;KACzC;;AAED,QAAM,eAAe,GAAG,iCAAc,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,0BAA0B,EAAE,CAAC,CAAC;AAC7F,QAAM,aAAa,GAAG,8BAAW,eAAe,EAAE,OAAO,CAAC,gBAAgB,EAAE,CAAC,CAAC;AAC9E,QAAM,SAAS,GAAG,iBAAU,mBAAmB,CAAC,CAAC;AACjD,QAAI,CAAC,IAAI,EAAE,SAAS,EAAE,aAAa,CAAC,CAAC;GACtC,CAAC;CACH",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/map_uri.js",
      "sourcesContent": [
        "import { defaults, omit, trimLeft, trimRight } from 'lodash';\nimport { parse as parseUrl, format as formatUrl, resolve } from 'url';\nimport filterHeaders from './filter_headers';\nimport setHeaders from './set_headers';\n\nexport default function mapUri(cluster, proxyPrefix) {\n  function joinPaths(pathA, pathB) {\n    return trimRight(pathA, '/') + '/' + trimLeft(pathB, '/');\n  }\n\n  return function (request, done) {\n    const {\n      protocol: esUrlProtocol,\n      slashes: esUrlHasSlashes,\n      auth: esUrlAuth,\n      hostname: esUrlHostname,\n      port: esUrlPort,\n      pathname: esUrlBasePath,\n      query: esUrlQuery\n    } = parseUrl(cluster.getUrl(), true);\n\n    // copy most url components directly from the elasticsearch.url\n    const mappedUrlComponents = {\n      protocol: esUrlProtocol,\n      slashes: esUrlHasSlashes,\n      auth: esUrlAuth,\n      hostname: esUrlHostname,\n      port: esUrlPort\n    };\n\n    // pathname\n    const reqSubPath = request.path.replace(proxyPrefix, '');\n    mappedUrlComponents.pathname = joinPaths(esUrlBasePath, reqSubPath);\n\n    // querystring\n    const mappedQuery = defaults(omit(request.query, '_'), esUrlQuery);\n    if (Object.keys(mappedQuery).length) {\n      mappedUrlComponents.query = mappedQuery;\n    }\n\n    const filteredHeaders = filterHeaders(request.headers, cluster.getRequestHeadersWhitelist());\n    const mappedHeaders = setHeaders(filteredHeaders, cluster.getCustomHeaders());\n    const mappedUrl = formatUrl(mappedUrlComponents);\n    done(null, mappedUrl, mappedHeaders);\n  };\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/set_headers.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "isPlainObject"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "isPlainObject",
                "local": "isPlainObject"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "setHeaders",
            "originalHeaders",
            "newHeaders"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "setHeaders",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "originalHeaders",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "newHeaders",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "extends"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = setHeaders;\n\nvar _lodash = require('lodash');\n\nfunction setHeaders(originalHeaders, newHeaders) {\n  if (!(0, _lodash.isPlainObject)(originalHeaders)) {\n    throw new Error('Expected originalHeaders to be an object, but ' + typeof originalHeaders + ' given');\n  }\n  if (!(0, _lodash.isPlainObject)(newHeaders)) {\n    throw new Error('Expected newHeaders to be an object, but ' + typeof newHeaders + ' given');\n  }\n\n  return _extends({}, originalHeaders, newHeaders);\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvZWxhc3RpY3NlYXJjaC9saWIvc2V0X2hlYWRlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7cUJBRXdCLFVBQVU7O3NCQUZKLFFBQVE7O0FBRXZCLFNBQVMsVUFBVSxDQUFDLGVBQWUsRUFBRSxVQUFVLEVBQUU7QUFDOUQsTUFBSSxDQUFDLDJCQUFjLGVBQWUsQ0FBQyxFQUFFO0FBQ25DLFVBQU0sSUFBSSxLQUFLLG9EQUFrRCxPQUFPLGVBQWUsWUFBUyxDQUFDO0dBQ2xHO0FBQ0QsTUFBSSxDQUFDLDJCQUFjLFVBQVUsQ0FBQyxFQUFFO0FBQzlCLFVBQU0sSUFBSSxLQUFLLCtDQUE2QyxPQUFPLFVBQVUsWUFBUyxDQUFDO0dBQ3hGOztBQUVELHNCQUNLLGVBQWUsRUFDZixVQUFVLEVBQ2I7Q0FDSCIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2VsYXN0aWNzZWFyY2gvbGliL3NldF9oZWFkZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNQbGFpbk9iamVjdCB9IGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldEhlYWRlcnMob3JpZ2luYWxIZWFkZXJzLCBuZXdIZWFkZXJzKSB7XG4gIGlmICghaXNQbGFpbk9iamVjdChvcmlnaW5hbEhlYWRlcnMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBvcmlnaW5hbEhlYWRlcnMgdG8gYmUgYW4gb2JqZWN0LCBidXQgJHt0eXBlb2Ygb3JpZ2luYWxIZWFkZXJzfSBnaXZlbmApO1xuICB9XG4gIGlmICghaXNQbGFpbk9iamVjdChuZXdIZWFkZXJzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgbmV3SGVhZGVycyB0byBiZSBhbiBvYmplY3QsIGJ1dCAke3R5cGVvZiBuZXdIZWFkZXJzfSBnaXZlbmApO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5vcmlnaW5hbEhlYWRlcnMsXG4gICAgLi4ubmV3SGVhZGVyc1xuICB9O1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/set_headers.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;qBAEwB,UAAU;;sBAFJ,QAAQ;;AAEvB,SAAS,UAAU,CAAC,eAAe,EAAE,UAAU,EAAE;AAC9D,MAAI,CAAC,2BAAc,eAAe,CAAC,EAAE;AACnC,UAAM,IAAI,KAAK,oDAAkD,OAAO,eAAe,YAAS,CAAC;GAClG;AACD,MAAI,CAAC,2BAAc,UAAU,CAAC,EAAE;AAC9B,UAAM,IAAI,KAAK,+CAA6C,OAAO,UAAU,YAAS,CAAC;GACxF;;AAED,sBACK,eAAe,EACf,UAAU,EACb;CACH",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/elasticsearch/lib/set_headers.js",
      "sourcesContent": [
        "import { isPlainObject } from 'lodash';\n\nexport default function setHeaders(originalHeaders, newHeaders) {\n  if (!isPlainObject(originalHeaders)) {\n    throw new Error(`Expected originalHeaders to be an object, but ${typeof originalHeaders} given`);\n  }\n  if (!isPlainObject(newHeaders)) {\n    throw new Error(`Expected newHeaders to be an object, but ${typeof newHeaders} given`);\n  }\n\n  return {\n    ...originalHeaders,\n    ...newHeaders\n  };\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kbn_doc_views/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (kibana) {\n\n  return new kibana.Plugin({\n\n    uiExports: {\n      docViews: ['plugins/kbn_doc_views/kbn_doc_views']\n    }\n\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2JuX2RvY192aWV3cy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7cUJBQWUsVUFBVSxNQUFNLEVBQUU7O0FBRS9CLFNBQU8sSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDOztBQUV2QixhQUFTLEVBQUU7QUFDVCxjQUFRLEVBQUUsQ0FDUixxQ0FBcUMsQ0FDdEM7S0FDRjs7R0FFRixDQUFDLENBQUM7Q0FFSiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2tibl9kb2Nfdmlld3MvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoa2liYW5hKSB7XG5cbiAgcmV0dXJuIG5ldyBraWJhbmEuUGx1Z2luKHtcblxuICAgIHVpRXhwb3J0czoge1xuICAgICAgZG9jVmlld3M6IFtcbiAgICAgICAgJ3BsdWdpbnMva2JuX2RvY192aWV3cy9rYm5fZG9jX3ZpZXdzJ1xuICAgICAgXVxuICAgIH1cblxuICB9KTtcblxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kbn_doc_views/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAU,MAAM,EAAE;;AAE/B,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;;AAEvB,aAAS,EAAE;AACT,cAAQ,EAAE,CACR,qCAAqC,CACtC;KACF;;GAEF,CAAC,CAAC;CAEJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kbn_doc_views/index.js",
      "sourcesContent": [
        "export default function (kibana) {\n\n  return new kibana.Plugin({\n\n    uiExports: {\n      docViews: [\n        'plugins/kbn_doc_views/kbn_doc_views'\n      ]\n    }\n\n  });\n\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kbn_vislib_vis_types/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (kibana) {\n\n  return new kibana.Plugin({\n\n    uiExports: {\n      visTypes: ['plugins/kbn_vislib_vis_types/kbn_vislib_vis_types']\n    }\n\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2JuX3Zpc2xpYl92aXNfdHlwZXMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O3FCQUFlLFVBQVUsTUFBTSxFQUFFOztBQUUvQixTQUFPLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQzs7QUFFdkIsYUFBUyxFQUFFO0FBQ1QsY0FBUSxFQUFFLENBQ1IsbURBQW1ELENBQ3BEO0tBQ0Y7O0dBRUYsQ0FBQyxDQUFDO0NBRUoiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9rYm5fdmlzbGliX3Zpc190eXBlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChraWJhbmEpIHtcblxuICByZXR1cm4gbmV3IGtpYmFuYS5QbHVnaW4oe1xuXG4gICAgdWlFeHBvcnRzOiB7XG4gICAgICB2aXNUeXBlczogW1xuICAgICAgICAncGx1Z2lucy9rYm5fdmlzbGliX3Zpc190eXBlcy9rYm5fdmlzbGliX3Zpc190eXBlcydcbiAgICAgIF1cbiAgICB9XG5cbiAgfSk7XG5cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kbn_vislib_vis_types/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAU,MAAM,EAAE;;AAE/B,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;;AAEvB,aAAS,EAAE;AACT,cAAQ,EAAE,CACR,mDAAmD,CACpD;KACF;;GAEF,CAAC,CAAC;CAEJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kbn_vislib_vis_types/index.js",
      "sourcesContent": [
        "export default function (kibana) {\n\n  return new kibana.Plugin({\n\n    uiExports: {\n      visTypes: [\n        'plugins/kbn_vislib_vis_types/kbn_vislib_vis_types'\n      ]\n    }\n\n  });\n\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "bluebird",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Promise"
              }
            ]
          },
          {
            "source": "mkdirp",
            "imported": [
              "mkdirp"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "mkdirp",
                "local": "mkdirpNode"
              }
            ]
          },
          {
            "source": "./server/lib/manage_uuid",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "manageUuid"
              }
            ]
          },
          {
            "source": "./server/routes/api/ingest",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "ingest"
              }
            ]
          },
          {
            "source": "./server/routes/api/search",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "search"
              }
            ]
          },
          {
            "source": "./server/routes/api/settings",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "settings"
              }
            ]
          },
          {
            "source": "./server/routes/api/scripts",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "scripts"
              }
            ]
          },
          {
            "source": "./server/lib/system_api",
            "imported": [
              "*"
            ],
            "specifiers": [
              {
                "kind": "namespace",
                "local": "systemApi"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default",
        "interop-require-wildcard"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new _bluebird2['default'](function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { _bluebird2['default'].resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _mkdirp = require('mkdirp');\n\nvar _serverLibManage_uuid = require('./server/lib/manage_uuid');\n\nvar _serverLibManage_uuid2 = _interopRequireDefault(_serverLibManage_uuid);\n\nvar _serverRoutesApiIngest = require('./server/routes/api/ingest');\n\nvar _serverRoutesApiIngest2 = _interopRequireDefault(_serverRoutesApiIngest);\n\nvar _serverRoutesApiSearch = require('./server/routes/api/search');\n\nvar _serverRoutesApiSearch2 = _interopRequireDefault(_serverRoutesApiSearch);\n\nvar _serverRoutesApiSettings = require('./server/routes/api/settings');\n\nvar _serverRoutesApiSettings2 = _interopRequireDefault(_serverRoutesApiSettings);\n\nvar _serverRoutesApiScripts = require('./server/routes/api/scripts');\n\nvar _serverRoutesApiScripts2 = _interopRequireDefault(_serverRoutesApiScripts);\n\nvar _serverLibSystem_api = require('./server/lib/system_api');\n\nvar systemApi = _interopRequireWildcard(_serverLibSystem_api);\n\nvar mkdirp = _bluebird2['default'].promisify(_mkdirp.mkdirp);\n\nmodule.exports = function (kibana) {\n  var kbnBaseUrl = '/app/kibana';\n  return new kibana.Plugin({\n    id: 'kibana',\n    config: function config(Joi) {\n      return Joi.object({\n        enabled: Joi.boolean()['default'](true),\n        defaultAppId: Joi.string()['default']('discover'),\n        index: Joi.string()['default']('.kibana')\n      })['default']();\n    },\n\n    uiExports: {\n      hacks: ['plugins/kibana/dev_tools/hacks/hide_empty_tools'],\n      app: {\n        id: 'kibana',\n        title: 'Kibana',\n        listed: false,\n        description: 'the kibana you know and love',\n        main: 'plugins/kibana/kibana',\n        uses: ['visTypes', 'spyModes', 'fieldFormats', 'navbarExtensions', 'managementSections', 'devTools', 'docViews'],\n\n        injectVars: function injectVars(server) {\n          var serverConfig = server.config();\n\n          //DEPRECATED SETTINGS\n          //if the url is set, the old settings must be used.\n          //keeping this logic for backward compatibilty.\n          var configuredUrl = server.config().get('tilemap.url');\n          var isOverridden = typeof configuredUrl === 'string' && configuredUrl !== '';\n          var tilemapConfig = serverConfig.get('tilemap');\n          return {\n            kbnDefaultAppId: serverConfig.get('kibana.defaultAppId'),\n            tilemapsConfig: {\n              deprecated: {\n                isOverridden: isOverridden,\n                config: tilemapConfig\n              },\n              manifestServiceUrl: serverConfig.get('tilemap.manifestServiceUrl')\n            }\n          };\n        }\n      },\n\n      links: [{\n        id: 'kibana:discover',\n        title: 'Discover',\n        order: -1003,\n        url: kbnBaseUrl + '#/discover',\n        description: 'interactively explore your data',\n        icon: 'plugins/kibana/assets/discover.svg'\n      }, {\n        id: 'kibana:visualize',\n        title: 'Visualize',\n        order: -1002,\n        url: kbnBaseUrl + '#/visualize',\n        description: 'design data visualizations',\n        icon: 'plugins/kibana/assets/visualize.svg'\n      }, {\n        id: 'kibana:dashboard',\n        title: 'Dashboard',\n        order: -1001,\n        url: kbnBaseUrl + '#/dashboards',\n        // The subUrlBase is the common substring of all urls for this app. If not given, it defaults to the url\n        // above. This app has to use a different subUrlBase, in addition to the url above, because \"#/dashboard\"\n        // routes to a page that creates a new dashboard. When we introduced a landing page, we needed to change\n        // the url above in order to preserve the original url for BWC. The subUrlBase helps the Chrome api nav\n        // to determine what url to use for the app link.\n        subUrlBase: kbnBaseUrl + '#/dashboard',\n        description: 'compose visualizations for much win',\n        icon: 'plugins/kibana/assets/dashboard.svg'\n      }, {\n        id: 'kibana:dev_tools',\n        title: 'Dev Tools',\n        order: 9001,\n        url: '/app/kibana#/dev_tools',\n        description: 'development tools',\n        icon: 'plugins/kibana/assets/wrench.svg'\n      }, {\n        id: 'kibana:management',\n        title: 'Management',\n        order: 9003,\n        url: kbnBaseUrl + '#/management',\n        description: 'define index patterns, change config, and more',\n        icon: 'plugins/kibana/assets/settings.svg',\n        linkToLastSubUrl: false\n      }],\n      injectDefaultVars: function injectDefaultVars(server, options) {\n        return {\n          kbnIndex: options.index,\n          kbnBaseUrl: kbnBaseUrl\n        };\n      }\n    },\n\n    preInit: _asyncToGenerator(function* (server) {\n      try {\n        // Create the data directory (recursively, if the a parent dir doesn't exist).\n        // If it already exists, does nothing.\n        yield mkdirp(server.config().get('path.data'));\n      } catch (err) {\n        server.log(['error', 'init'], err);\n        // Stop the server startup with a fatal error\n        throw err;\n      }\n    }),\n\n    init: function init(server, options) {\n      // uuid\n      (0, _serverLibManage_uuid2['default'])(server);\n      // routes\n      (0, _serverRoutesApiIngest2['default'])(server);\n      (0, _serverRoutesApiSearch2['default'])(server);\n      (0, _serverRoutesApiSettings2['default'])(server);\n      (0, _serverRoutesApiScripts2['default'])(server);\n\n      server.expose('systemApi', systemApi);\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O3dCQUFvQixVQUFVOzs7O3NCQUNPLFFBQVE7O29DQUN0QiwwQkFBMEI7Ozs7cUNBQzlCLDRCQUE0Qjs7OztxQ0FDNUIsNEJBQTRCOzs7O3VDQUMxQiw4QkFBOEI7Ozs7c0NBQy9CLDZCQUE2Qjs7OzttQ0FDdEIseUJBQXlCOztJQUF4QyxTQUFTOztBQUVyQixJQUFNLE1BQU0sR0FBRyxzQkFBUSxTQUFTLGdCQUFZLENBQUM7O0FBRTdDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxNQUFNLEVBQUU7QUFDakMsTUFBTSxVQUFVLEdBQUcsYUFBYSxDQUFDO0FBQ2pDLFNBQU8sSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ3ZCLE1BQUUsRUFBRSxRQUFRO0FBQ1osVUFBTSxFQUFFLGdCQUFVLEdBQUcsRUFBRTtBQUNyQixhQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUM7QUFDaEIsZUFBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsV0FBUSxDQUFDLElBQUksQ0FBQztBQUNwQyxvQkFBWSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsV0FBUSxDQUFDLFVBQVUsQ0FBQztBQUM5QyxhQUFLLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxXQUFRLENBQUMsU0FBUyxDQUFDO09BQ3ZDLENBQUMsV0FBUSxFQUFFLENBQUM7S0FDZDs7QUFFRCxhQUFTLEVBQUU7QUFDVCxXQUFLLEVBQUUsQ0FBQyxpREFBaUQsQ0FBQztBQUMxRCxTQUFHLEVBQUU7QUFDSCxVQUFFLEVBQUUsUUFBUTtBQUNaLGFBQUssRUFBRSxRQUFRO0FBQ2YsY0FBTSxFQUFFLEtBQUs7QUFDYixtQkFBVyxFQUFFLDhCQUE4QjtBQUMzQyxZQUFJLEVBQUUsdUJBQXVCO0FBQzdCLFlBQUksRUFBRSxDQUNKLFVBQVUsRUFDVixVQUFVLEVBQ1YsY0FBYyxFQUNkLGtCQUFrQixFQUNsQixvQkFBb0IsRUFDcEIsVUFBVSxFQUNWLFVBQVUsQ0FDWDs7QUFFRCxrQkFBVSxFQUFFLG9CQUFVLE1BQU0sRUFBRTtBQUM1QixjQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7Ozs7O0FBS3JDLGNBQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDekQsY0FBTSxZQUFZLEdBQUcsT0FBTyxhQUFhLEtBQUssUUFBUSxJQUFJLGFBQWEsS0FBSyxFQUFFLENBQUM7QUFDL0UsY0FBTSxhQUFhLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNsRCxpQkFBTztBQUNMLDJCQUFlLEVBQUUsWUFBWSxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQztBQUN4RCwwQkFBYyxFQUFFO0FBQ2Qsd0JBQVUsRUFBRTtBQUNWLDRCQUFZLEVBQUUsWUFBWTtBQUMxQixzQkFBTSxFQUFFLGFBQWE7ZUFDdEI7QUFDRCxnQ0FBa0IsRUFBRSxZQUFZLENBQUMsR0FBRyxDQUFDLDRCQUE0QixDQUFDO2FBQ25FO1dBQ0YsQ0FBQztTQUNIO09BQ0Y7O0FBRUQsV0FBSyxFQUFFLENBQ0w7QUFDRSxVQUFFLEVBQUUsaUJBQWlCO0FBQ3JCLGFBQUssRUFBRSxVQUFVO0FBQ2pCLGFBQUssRUFBRSxDQUFDLElBQUk7QUFDWixXQUFHLEVBQUssVUFBVSxlQUFZO0FBQzlCLG1CQUFXLEVBQUUsaUNBQWlDO0FBQzlDLFlBQUksRUFBRSxvQ0FBb0M7T0FDM0MsRUFBRTtBQUNELFVBQUUsRUFBRSxrQkFBa0I7QUFDdEIsYUFBSyxFQUFFLFdBQVc7QUFDbEIsYUFBSyxFQUFFLENBQUMsSUFBSTtBQUNaLFdBQUcsRUFBSyxVQUFVLGdCQUFhO0FBQy9CLG1CQUFXLEVBQUUsNEJBQTRCO0FBQ3pDLFlBQUksRUFBRSxxQ0FBcUM7T0FDNUMsRUFBRTtBQUNELFVBQUUsRUFBRSxrQkFBa0I7QUFDdEIsYUFBSyxFQUFFLFdBQVc7QUFDbEIsYUFBSyxFQUFFLENBQUMsSUFBSTtBQUNaLFdBQUcsRUFBSyxVQUFVLGlCQUFjOzs7Ozs7QUFNaEMsa0JBQVUsRUFBSyxVQUFVLGdCQUFhO0FBQ3RDLG1CQUFXLEVBQUUscUNBQXFDO0FBQ2xELFlBQUksRUFBRSxxQ0FBcUM7T0FDNUMsRUFBRTtBQUNELFVBQUUsRUFBRSxrQkFBa0I7QUFDdEIsYUFBSyxFQUFFLFdBQVc7QUFDbEIsYUFBSyxFQUFFLElBQUk7QUFDWCxXQUFHLEVBQUUsd0JBQXdCO0FBQzdCLG1CQUFXLEVBQUUsbUJBQW1CO0FBQ2hDLFlBQUksRUFBRSxrQ0FBa0M7T0FDekMsRUFBRTtBQUNELFVBQUUsRUFBRSxtQkFBbUI7QUFDdkIsYUFBSyxFQUFFLFlBQVk7QUFDbkIsYUFBSyxFQUFFLElBQUk7QUFDWCxXQUFHLEVBQUssVUFBVSxpQkFBYztBQUNoQyxtQkFBVyxFQUFFLGdEQUFnRDtBQUM3RCxZQUFJLEVBQUUsb0NBQW9DO0FBQzFDLHdCQUFnQixFQUFFLEtBQUs7T0FDeEIsQ0FDRjtBQUNELHVCQUFpQixFQUFBLDJCQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUU7QUFDakMsZUFBTztBQUNMLGtCQUFRLEVBQUUsT0FBTyxDQUFDLEtBQUs7QUFDdkIsb0JBQVUsRUFBVixVQUFVO1NBQ1gsQ0FBQztPQUNIO0tBQ0Y7O0FBRUQsV0FBTyxvQkFBRSxXQUFnQixNQUFNLEVBQUU7QUFDL0IsVUFBSTs7O0FBR0YsY0FBTSxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO09BQ2hELENBQUMsT0FBTyxHQUFHLEVBQUU7QUFDWixjQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDOztBQUVuQyxjQUFNLEdBQUcsQ0FBQztPQUNYO0tBQ0YsQ0FBQTs7QUFFRCxRQUFJLEVBQUUsY0FBVSxNQUFNLEVBQUUsT0FBTyxFQUFFOztBQUUvQiw2Q0FBVyxNQUFNLENBQUMsQ0FBQzs7QUFFbkIsOENBQU8sTUFBTSxDQUFDLENBQUM7QUFDZiw4Q0FBTyxNQUFNLENBQUMsQ0FBQztBQUNmLGdEQUFTLE1BQU0sQ0FBQyxDQUFDO0FBQ2pCLCtDQUFRLE1BQU0sQ0FBQyxDQUFDOztBQUVoQixZQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQztLQUN2QztHQUNGLENBQUMsQ0FBQztDQUVKLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9raWJhbmEvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvbWlzZSBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgeyBta2RpcnAgYXMgbWtkaXJwTm9kZSB9IGZyb20gJ21rZGlycCc7XG5pbXBvcnQgbWFuYWdlVXVpZCBmcm9tICcuL3NlcnZlci9saWIvbWFuYWdlX3V1aWQnO1xuaW1wb3J0IGluZ2VzdCBmcm9tICcuL3NlcnZlci9yb3V0ZXMvYXBpL2luZ2VzdCc7XG5pbXBvcnQgc2VhcmNoIGZyb20gJy4vc2VydmVyL3JvdXRlcy9hcGkvc2VhcmNoJztcbmltcG9ydCBzZXR0aW5ncyBmcm9tICcuL3NlcnZlci9yb3V0ZXMvYXBpL3NldHRpbmdzJztcbmltcG9ydCBzY3JpcHRzIGZyb20gJy4vc2VydmVyL3JvdXRlcy9hcGkvc2NyaXB0cyc7XG5pbXBvcnQgKiBhcyBzeXN0ZW1BcGkgZnJvbSAnLi9zZXJ2ZXIvbGliL3N5c3RlbV9hcGknO1xuXG5jb25zdCBta2RpcnAgPSBQcm9taXNlLnByb21pc2lmeShta2RpcnBOb2RlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2liYW5hKSB7XG4gIGNvbnN0IGtibkJhc2VVcmwgPSAnL2FwcC9raWJhbmEnO1xuICByZXR1cm4gbmV3IGtpYmFuYS5QbHVnaW4oe1xuICAgIGlkOiAna2liYW5hJyxcbiAgICBjb25maWc6IGZ1bmN0aW9uIChKb2kpIHtcbiAgICAgIHJldHVybiBKb2kub2JqZWN0KHtcbiAgICAgICAgZW5hYmxlZDogSm9pLmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuICAgICAgICBkZWZhdWx0QXBwSWQ6IEpvaS5zdHJpbmcoKS5kZWZhdWx0KCdkaXNjb3ZlcicpLFxuICAgICAgICBpbmRleDogSm9pLnN0cmluZygpLmRlZmF1bHQoJy5raWJhbmEnKVxuICAgICAgfSkuZGVmYXVsdCgpO1xuICAgIH0sXG5cbiAgICB1aUV4cG9ydHM6IHtcbiAgICAgIGhhY2tzOiBbJ3BsdWdpbnMva2liYW5hL2Rldl90b29scy9oYWNrcy9oaWRlX2VtcHR5X3Rvb2xzJ10sXG4gICAgICBhcHA6IHtcbiAgICAgICAgaWQ6ICdraWJhbmEnLFxuICAgICAgICB0aXRsZTogJ0tpYmFuYScsXG4gICAgICAgIGxpc3RlZDogZmFsc2UsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAndGhlIGtpYmFuYSB5b3Uga25vdyBhbmQgbG92ZScsXG4gICAgICAgIG1haW46ICdwbHVnaW5zL2tpYmFuYS9raWJhbmEnLFxuICAgICAgICB1c2VzOiBbXG4gICAgICAgICAgJ3Zpc1R5cGVzJyxcbiAgICAgICAgICAnc3B5TW9kZXMnLFxuICAgICAgICAgICdmaWVsZEZvcm1hdHMnLFxuICAgICAgICAgICduYXZiYXJFeHRlbnNpb25zJyxcbiAgICAgICAgICAnbWFuYWdlbWVudFNlY3Rpb25zJyxcbiAgICAgICAgICAnZGV2VG9vbHMnLFxuICAgICAgICAgICdkb2NWaWV3cydcbiAgICAgICAgXSxcblxuICAgICAgICBpbmplY3RWYXJzOiBmdW5jdGlvbiAoc2VydmVyKSB7XG4gICAgICAgICAgY29uc3Qgc2VydmVyQ29uZmlnID0gc2VydmVyLmNvbmZpZygpO1xuXG4gICAgICAgICAgLy9ERVBSRUNBVEVEIFNFVFRJTkdTXG4gICAgICAgICAgLy9pZiB0aGUgdXJsIGlzIHNldCwgdGhlIG9sZCBzZXR0aW5ncyBtdXN0IGJlIHVzZWQuXG4gICAgICAgICAgLy9rZWVwaW5nIHRoaXMgbG9naWMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWx0eS5cbiAgICAgICAgICBjb25zdCBjb25maWd1cmVkVXJsID0gc2VydmVyLmNvbmZpZygpLmdldCgndGlsZW1hcC51cmwnKTtcbiAgICAgICAgICBjb25zdCBpc092ZXJyaWRkZW4gPSB0eXBlb2YgY29uZmlndXJlZFVybCA9PT0gJ3N0cmluZycgJiYgY29uZmlndXJlZFVybCAhPT0gJyc7XG4gICAgICAgICAgY29uc3QgdGlsZW1hcENvbmZpZyA9IHNlcnZlckNvbmZpZy5nZXQoJ3RpbGVtYXAnKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2JuRGVmYXVsdEFwcElkOiBzZXJ2ZXJDb25maWcuZ2V0KCdraWJhbmEuZGVmYXVsdEFwcElkJyksXG4gICAgICAgICAgICB0aWxlbWFwc0NvbmZpZzoge1xuICAgICAgICAgICAgICBkZXByZWNhdGVkOiB7XG4gICAgICAgICAgICAgICAgaXNPdmVycmlkZGVuOiBpc092ZXJyaWRkZW4sXG4gICAgICAgICAgICAgICAgY29uZmlnOiB0aWxlbWFwQ29uZmlnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBtYW5pZmVzdFNlcnZpY2VVcmw6IHNlcnZlckNvbmZpZy5nZXQoJ3RpbGVtYXAubWFuaWZlc3RTZXJ2aWNlVXJsJylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG5cbiAgICAgIGxpbmtzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2tpYmFuYTpkaXNjb3ZlcicsXG4gICAgICAgICAgdGl0bGU6ICdEaXNjb3ZlcicsXG4gICAgICAgICAgb3JkZXI6IC0xMDAzLFxuICAgICAgICAgIHVybDogYCR7a2JuQmFzZVVybH0jL2Rpc2NvdmVyYCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ2ludGVyYWN0aXZlbHkgZXhwbG9yZSB5b3VyIGRhdGEnLFxuICAgICAgICAgIGljb246ICdwbHVnaW5zL2tpYmFuYS9hc3NldHMvZGlzY292ZXIuc3ZnJyxcbiAgICAgICAgfSwge1xuICAgICAgICAgIGlkOiAna2liYW5hOnZpc3VhbGl6ZScsXG4gICAgICAgICAgdGl0bGU6ICdWaXN1YWxpemUnLFxuICAgICAgICAgIG9yZGVyOiAtMTAwMixcbiAgICAgICAgICB1cmw6IGAke2tibkJhc2VVcmx9Iy92aXN1YWxpemVgLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnZGVzaWduIGRhdGEgdmlzdWFsaXphdGlvbnMnLFxuICAgICAgICAgIGljb246ICdwbHVnaW5zL2tpYmFuYS9hc3NldHMvdmlzdWFsaXplLnN2ZycsXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBpZDogJ2tpYmFuYTpkYXNoYm9hcmQnLFxuICAgICAgICAgIHRpdGxlOiAnRGFzaGJvYXJkJyxcbiAgICAgICAgICBvcmRlcjogLTEwMDEsXG4gICAgICAgICAgdXJsOiBgJHtrYm5CYXNlVXJsfSMvZGFzaGJvYXJkc2AsXG4gICAgICAgICAgLy8gVGhlIHN1YlVybEJhc2UgaXMgdGhlIGNvbW1vbiBzdWJzdHJpbmcgb2YgYWxsIHVybHMgZm9yIHRoaXMgYXBwLiBJZiBub3QgZ2l2ZW4sIGl0IGRlZmF1bHRzIHRvIHRoZSB1cmxcbiAgICAgICAgICAvLyBhYm92ZS4gVGhpcyBhcHAgaGFzIHRvIHVzZSBhIGRpZmZlcmVudCBzdWJVcmxCYXNlLCBpbiBhZGRpdGlvbiB0byB0aGUgdXJsIGFib3ZlLCBiZWNhdXNlIFwiIy9kYXNoYm9hcmRcIlxuICAgICAgICAgIC8vIHJvdXRlcyB0byBhIHBhZ2UgdGhhdCBjcmVhdGVzIGEgbmV3IGRhc2hib2FyZC4gV2hlbiB3ZSBpbnRyb2R1Y2VkIGEgbGFuZGluZyBwYWdlLCB3ZSBuZWVkZWQgdG8gY2hhbmdlXG4gICAgICAgICAgLy8gdGhlIHVybCBhYm92ZSBpbiBvcmRlciB0byBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgdXJsIGZvciBCV0MuIFRoZSBzdWJVcmxCYXNlIGhlbHBzIHRoZSBDaHJvbWUgYXBpIG5hdlxuICAgICAgICAgIC8vIHRvIGRldGVybWluZSB3aGF0IHVybCB0byB1c2UgZm9yIHRoZSBhcHAgbGluay5cbiAgICAgICAgICBzdWJVcmxCYXNlOiBgJHtrYm5CYXNlVXJsfSMvZGFzaGJvYXJkYCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ2NvbXBvc2UgdmlzdWFsaXphdGlvbnMgZm9yIG11Y2ggd2luJyxcbiAgICAgICAgICBpY29uOiAncGx1Z2lucy9raWJhbmEvYXNzZXRzL2Rhc2hib2FyZC5zdmcnLFxuICAgICAgICB9LCB7XG4gICAgICAgICAgaWQ6ICdraWJhbmE6ZGV2X3Rvb2xzJyxcbiAgICAgICAgICB0aXRsZTogJ0RldiBUb29scycsXG4gICAgICAgICAgb3JkZXI6IDkwMDEsXG4gICAgICAgICAgdXJsOiAnL2FwcC9raWJhbmEjL2Rldl90b29scycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdkZXZlbG9wbWVudCB0b29scycsXG4gICAgICAgICAgaWNvbjogJ3BsdWdpbnMva2liYW5hL2Fzc2V0cy93cmVuY2guc3ZnJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaWQ6ICdraWJhbmE6bWFuYWdlbWVudCcsXG4gICAgICAgICAgdGl0bGU6ICdNYW5hZ2VtZW50JyxcbiAgICAgICAgICBvcmRlcjogOTAwMyxcbiAgICAgICAgICB1cmw6IGAke2tibkJhc2VVcmx9Iy9tYW5hZ2VtZW50YCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ2RlZmluZSBpbmRleCBwYXR0ZXJucywgY2hhbmdlIGNvbmZpZywgYW5kIG1vcmUnLFxuICAgICAgICAgIGljb246ICdwbHVnaW5zL2tpYmFuYS9hc3NldHMvc2V0dGluZ3Muc3ZnJyxcbiAgICAgICAgICBsaW5rVG9MYXN0U3ViVXJsOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGluamVjdERlZmF1bHRWYXJzKHNlcnZlciwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtibkluZGV4OiBvcHRpb25zLmluZGV4LFxuICAgICAgICAgIGtibkJhc2VVcmxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSxcblxuICAgIHByZUluaXQ6IGFzeW5jIGZ1bmN0aW9uIChzZXJ2ZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgZGF0YSBkaXJlY3RvcnkgKHJlY3Vyc2l2ZWx5LCBpZiB0aGUgYSBwYXJlbnQgZGlyIGRvZXNuJ3QgZXhpc3QpLlxuICAgICAgICAvLyBJZiBpdCBhbHJlYWR5IGV4aXN0cywgZG9lcyBub3RoaW5nLlxuICAgICAgICBhd2FpdCBta2RpcnAoc2VydmVyLmNvbmZpZygpLmdldCgncGF0aC5kYXRhJykpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNlcnZlci5sb2coWydlcnJvcicsICdpbml0J10sIGVycik7XG4gICAgICAgIC8vIFN0b3AgdGhlIHNlcnZlciBzdGFydHVwIHdpdGggYSBmYXRhbCBlcnJvclxuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uIChzZXJ2ZXIsIG9wdGlvbnMpIHtcbiAgICAgIC8vIHV1aWRcbiAgICAgIG1hbmFnZVV1aWQoc2VydmVyKTtcbiAgICAgIC8vIHJvdXRlc1xuICAgICAgaW5nZXN0KHNlcnZlcik7XG4gICAgICBzZWFyY2goc2VydmVyKTtcbiAgICAgIHNldHRpbmdzKHNlcnZlcik7XG4gICAgICBzY3JpcHRzKHNlcnZlcik7XG5cbiAgICAgIHNlcnZlci5leHBvc2UoJ3N5c3RlbUFwaScsIHN5c3RlbUFwaSk7XG4gICAgfVxuICB9KTtcblxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/index.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/index.js",
      "sourcesContent": [
        "import Promise from 'bluebird';\nimport { mkdirp as mkdirpNode } from 'mkdirp';\nimport manageUuid from './server/lib/manage_uuid';\nimport ingest from './server/routes/api/ingest';\nimport search from './server/routes/api/search';\nimport settings from './server/routes/api/settings';\nimport scripts from './server/routes/api/scripts';\nimport * as systemApi from './server/lib/system_api';\n\nconst mkdirp = Promise.promisify(mkdirpNode);\n\nmodule.exports = function (kibana) {\n  const kbnBaseUrl = '/app/kibana';\n  return new kibana.Plugin({\n    id: 'kibana',\n    config: function (Joi) {\n      return Joi.object({\n        enabled: Joi.boolean().default(true),\n        defaultAppId: Joi.string().default('discover'),\n        index: Joi.string().default('.kibana')\n      }).default();\n    },\n\n    uiExports: {\n      hacks: ['plugins/kibana/dev_tools/hacks/hide_empty_tools'],\n      app: {\n        id: 'kibana',\n        title: 'Kibana',\n        listed: false,\n        description: 'the kibana you know and love',\n        main: 'plugins/kibana/kibana',\n        uses: [\n          'visTypes',\n          'spyModes',\n          'fieldFormats',\n          'navbarExtensions',\n          'managementSections',\n          'devTools',\n          'docViews'\n        ],\n\n        injectVars: function (server) {\n          const serverConfig = server.config();\n\n          //DEPRECATED SETTINGS\n          //if the url is set, the old settings must be used.\n          //keeping this logic for backward compatibilty.\n          const configuredUrl = server.config().get('tilemap.url');\n          const isOverridden = typeof configuredUrl === 'string' && configuredUrl !== '';\n          const tilemapConfig = serverConfig.get('tilemap');\n          return {\n            kbnDefaultAppId: serverConfig.get('kibana.defaultAppId'),\n            tilemapsConfig: {\n              deprecated: {\n                isOverridden: isOverridden,\n                config: tilemapConfig,\n              },\n              manifestServiceUrl: serverConfig.get('tilemap.manifestServiceUrl')\n            },\n          };\n        },\n      },\n\n      links: [\n        {\n          id: 'kibana:discover',\n          title: 'Discover',\n          order: -1003,\n          url: `${kbnBaseUrl}#/discover`,\n          description: 'interactively explore your data',\n          icon: 'plugins/kibana/assets/discover.svg',\n        }, {\n          id: 'kibana:visualize',\n          title: 'Visualize',\n          order: -1002,\n          url: `${kbnBaseUrl}#/visualize`,\n          description: 'design data visualizations',\n          icon: 'plugins/kibana/assets/visualize.svg',\n        }, {\n          id: 'kibana:dashboard',\n          title: 'Dashboard',\n          order: -1001,\n          url: `${kbnBaseUrl}#/dashboards`,\n          // The subUrlBase is the common substring of all urls for this app. If not given, it defaults to the url\n          // above. This app has to use a different subUrlBase, in addition to the url above, because \"#/dashboard\"\n          // routes to a page that creates a new dashboard. When we introduced a landing page, we needed to change\n          // the url above in order to preserve the original url for BWC. The subUrlBase helps the Chrome api nav\n          // to determine what url to use for the app link.\n          subUrlBase: `${kbnBaseUrl}#/dashboard`,\n          description: 'compose visualizations for much win',\n          icon: 'plugins/kibana/assets/dashboard.svg',\n        }, {\n          id: 'kibana:dev_tools',\n          title: 'Dev Tools',\n          order: 9001,\n          url: '/app/kibana#/dev_tools',\n          description: 'development tools',\n          icon: 'plugins/kibana/assets/wrench.svg'\n        }, {\n          id: 'kibana:management',\n          title: 'Management',\n          order: 9003,\n          url: `${kbnBaseUrl}#/management`,\n          description: 'define index patterns, change config, and more',\n          icon: 'plugins/kibana/assets/settings.svg',\n          linkToLastSubUrl: false\n        },\n      ],\n      injectDefaultVars(server, options) {\n        return {\n          kbnIndex: options.index,\n          kbnBaseUrl\n        };\n      },\n    },\n\n    preInit: async function (server) {\n      try {\n        // Create the data directory (recursively, if the a parent dir doesn't exist).\n        // If it already exists, does nothing.\n        await mkdirp(server.config().get('path.data'));\n      } catch (err) {\n        server.log(['error', 'init'], err);\n        // Stop the server startup with a fatal error\n        throw err;\n      }\n    },\n\n    init: function (server, options) {\n      // uuid\n      manageUuid(server);\n      // routes\n      ingest(server);\n      search(server);\n      settings(server);\n      scripts(server);\n\n      server.expose('systemApi', systemApi);\n    }\n  });\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/lib/manage_uuid.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "node-uuid",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "uuid"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Promise"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "join"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "join",
                "local": "pathJoin"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "readFile",
              "writeFile"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "readFile",
                "local": "readFileCallback"
              },
              {
                "kind": "named",
                "imported": "writeFile",
                "local": "writeFileCallback"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new _bluebird2['default'](function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { _bluebird2['default'].resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _nodeUuid = require('node-uuid');\n\nvar _nodeUuid2 = _interopRequireDefault(_nodeUuid);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _path = require('path');\n\nvar _fs = require('fs');\n\nvar FILE_ENCODING = 'utf8';\n\nexports['default'] = _asyncToGenerator(function* (server) {\n  var detectUuid = _asyncToGenerator(function* () {\n    var readFile = _bluebird2['default'].promisify(_fs.readFile);\n    try {\n      var result = yield readFile(uuidFile);\n      return result.toString(FILE_ENCODING);\n    } catch (err) {\n      if (err.code === 'ENOENT') {\n        // non-existant uuid file is ok\n        return false;\n      }\n      server.log(['error', 'read-uuid'], err);\n      // Note: this will most likely be logged as an Unhandled Rejection\n      throw err;\n    }\n  });\n\n  var writeUuid = _asyncToGenerator(function* (uuid) {\n    var writeFile = _bluebird2['default'].promisify(_fs.writeFile);\n    try {\n      return yield writeFile(uuidFile, uuid, { encoding: FILE_ENCODING });\n    } catch (err) {\n      server.log(['error', 'write-uuid'], err);\n      // Note: this will most likely be logged as an Unhandled Rejection\n      throw err;\n    }\n  }\n\n  // detect if uuid exists already from before a restart\n  );\n\n  var config = server.config();\n  var fileName = 'uuid';\n  var uuidFile = (0, _path.join)(config.get('path.data'), fileName);\n\n  var logToServer = function logToServer(msg) {\n    return server.log(['server', 'uuid', fileName], msg);\n  };\n  var dataFileUuid = yield detectUuid();\n  var serverConfigUuid = config.get('server.uuid'); // check if already set in config\n\n  if (dataFileUuid) {\n    // data uuid found\n    if (serverConfigUuid === dataFileUuid) {\n      // config uuid exists, data uuid exists and matches\n      logToServer('Kibana instance UUID: ' + dataFileUuid);\n      return;\n    }\n\n    if (!serverConfigUuid) {\n      // config uuid missing, data uuid exists\n      serverConfigUuid = dataFileUuid;\n      logToServer('Resuming persistent Kibana instance UUID: ' + serverConfigUuid);\n      config.set('server.uuid', serverConfigUuid);\n      return;\n    }\n\n    if (serverConfigUuid !== dataFileUuid) {\n      // config uuid exists, data uuid exists but mismatches\n      logToServer('Updating Kibana instance UUID to: ' + serverConfigUuid + ' (was: ' + dataFileUuid + ')');\n      return writeUuid(serverConfigUuid);\n    }\n  }\n\n  // data uuid missing\n\n  if (!serverConfigUuid) {\n    // config uuid missing\n    serverConfigUuid = _nodeUuid2['default'].v4();\n    config.set('server.uuid', serverConfigUuid);\n  }\n\n  logToServer('Setting new Kibana instance UUID: ' + serverConfigUuid);\n  return writeUuid(serverConfigUuid);\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9saWIvbWFuYWdlX3V1aWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozt3QkFBaUIsV0FBVzs7Ozt3QkFDUixVQUFVOzs7O29CQUNHLE1BQU07O2tCQUNzQyxJQUFJOztBQUVqRixJQUFNLGFBQWEsR0FBRyxNQUFNLENBQUM7O3VDQUVkLFdBQTBCLE1BQU0sRUFBRTtNQUtoQyxVQUFVLHFCQUF6QixhQUE0QjtBQUMxQixRQUFNLFFBQVEsR0FBRyxzQkFBUSxTQUFTLGNBQWtCLENBQUM7QUFDckQsUUFBSTtBQUNGLFVBQU0sTUFBTSxHQUFHLE1BQU0sUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3hDLGFBQU8sTUFBTSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztLQUN2QyxDQUFDLE9BQU8sR0FBRyxFQUFFO0FBQ1osVUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLFFBQVEsRUFBRTs7QUFFekIsZUFBTyxLQUFLLENBQUM7T0FDZDtBQUNELFlBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7O0FBRXhDLFlBQU0sR0FBRyxDQUFDO0tBQ1g7R0FDRjs7TUFFYyxTQUFTLHFCQUF4QixXQUF5QixJQUFJLEVBQUU7QUFDN0IsUUFBTSxTQUFTLEdBQUcsc0JBQVEsU0FBUyxlQUFtQixDQUFDO0FBQ3ZELFFBQUk7QUFDRixhQUFPLE1BQU0sU0FBUyxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsYUFBYSxFQUFFLENBQUMsQ0FBQztLQUNyRSxDQUFDLE9BQU8sR0FBRyxFQUFFO0FBQ1osWUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQzs7QUFFekMsWUFBTSxHQUFHLENBQUM7S0FDWDtHQUNGOzs7OztBQTdCRCxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDL0IsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDO0FBQ3hCLE1BQU0sUUFBUSxHQUFHLGdCQUFTLE1BQU0sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7O0FBOEI3RCxNQUFNLFdBQVcsR0FBRyxTQUFkLFdBQVcsQ0FBSSxHQUFHO1dBQUssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLEVBQUUsR0FBRyxDQUFDO0dBQUEsQ0FBQztBQUMzRSxNQUFNLFlBQVksR0FBRyxNQUFNLFVBQVUsRUFBRSxDQUFDO0FBQ3hDLE1BQUksZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQzs7QUFFakQsTUFBSSxZQUFZLEVBQUU7O0FBRWhCLFFBQUksZ0JBQWdCLEtBQUssWUFBWSxFQUFFOztBQUVyQyxpQkFBVyw0QkFBMEIsWUFBWSxDQUFHLENBQUM7QUFDckQsYUFBTztLQUNSOztBQUVELFFBQUksQ0FBQyxnQkFBZ0IsRUFBRTs7QUFFckIsc0JBQWdCLEdBQUcsWUFBWSxDQUFDO0FBQ2hDLGlCQUFXLGdEQUE4QyxnQkFBZ0IsQ0FBRyxDQUFDO0FBQzdFLFlBQU0sQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLGdCQUFnQixDQUFDLENBQUM7QUFDNUMsYUFBTztLQUNSOztBQUVELFFBQUksZ0JBQWdCLEtBQUssWUFBWSxFQUFFOztBQUVyQyxpQkFBVyx3Q0FBc0MsZ0JBQWdCLGVBQVUsWUFBWSxPQUFJLENBQUM7QUFDNUYsYUFBTyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztLQUNwQztHQUNGOzs7O0FBSUQsTUFBSSxDQUFDLGdCQUFnQixFQUFFOztBQUVyQixvQkFBZ0IsR0FBRyxzQkFBSyxFQUFFLEVBQUUsQ0FBQztBQUM3QixVQUFNLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0dBQzdDOztBQUVELGFBQVcsd0NBQXNDLGdCQUFnQixDQUFHLENBQUM7QUFDckUsU0FBTyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztDQUNwQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2tpYmFuYS9zZXJ2ZXIvbGliL21hbmFnZV91dWlkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV1aWQgZnJvbSAnbm9kZS11dWlkJztcbmltcG9ydCBQcm9taXNlIGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCB7IGpvaW4gYXMgcGF0aEpvaW4gfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IHJlYWRGaWxlIGFzIHJlYWRGaWxlQ2FsbGJhY2ssIHdyaXRlRmlsZSBhcyB3cml0ZUZpbGVDYWxsYmFjayB9IGZyb20gJ2ZzJztcblxuY29uc3QgRklMRV9FTkNPRElORyA9ICd1dGY4JztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gbWFuYWdlVXVpZChzZXJ2ZXIpIHtcbiAgY29uc3QgY29uZmlnID0gc2VydmVyLmNvbmZpZygpO1xuICBjb25zdCBmaWxlTmFtZSA9ICd1dWlkJztcbiAgY29uc3QgdXVpZEZpbGUgPSBwYXRoSm9pbihjb25maWcuZ2V0KCdwYXRoLmRhdGEnKSwgZmlsZU5hbWUpO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGRldGVjdFV1aWQoKSB7XG4gICAgY29uc3QgcmVhZEZpbGUgPSBQcm9taXNlLnByb21pc2lmeShyZWFkRmlsZUNhbGxiYWNrKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhZEZpbGUodXVpZEZpbGUpO1xuICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZyhGSUxFX0VOQ09ESU5HKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgICAgLy8gbm9uLWV4aXN0YW50IHV1aWQgZmlsZSBpcyBva1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzZXJ2ZXIubG9nKFsnZXJyb3InLCAncmVhZC11dWlkJ10sIGVycik7XG4gICAgICAvLyBOb3RlOiB0aGlzIHdpbGwgbW9zdCBsaWtlbHkgYmUgbG9nZ2VkIGFzIGFuIFVuaGFuZGxlZCBSZWplY3Rpb25cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiB3cml0ZVV1aWQodXVpZCkge1xuICAgIGNvbnN0IHdyaXRlRmlsZSA9IFByb21pc2UucHJvbWlzaWZ5KHdyaXRlRmlsZUNhbGxiYWNrKTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHdyaXRlRmlsZSh1dWlkRmlsZSwgdXVpZCwgeyBlbmNvZGluZzogRklMRV9FTkNPRElORyB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHNlcnZlci5sb2coWydlcnJvcicsICd3cml0ZS11dWlkJ10sIGVycik7XG4gICAgICAvLyBOb3RlOiB0aGlzIHdpbGwgbW9zdCBsaWtlbHkgYmUgbG9nZ2VkIGFzIGFuIFVuaGFuZGxlZCBSZWplY3Rpb25cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvLyBkZXRlY3QgaWYgdXVpZCBleGlzdHMgYWxyZWFkeSBmcm9tIGJlZm9yZSBhIHJlc3RhcnRcbiAgY29uc3QgbG9nVG9TZXJ2ZXIgPSAobXNnKSA9PiBzZXJ2ZXIubG9nKFsnc2VydmVyJywgJ3V1aWQnLCBmaWxlTmFtZV0sIG1zZyk7XG4gIGNvbnN0IGRhdGFGaWxlVXVpZCA9IGF3YWl0IGRldGVjdFV1aWQoKTtcbiAgbGV0IHNlcnZlckNvbmZpZ1V1aWQgPSBjb25maWcuZ2V0KCdzZXJ2ZXIudXVpZCcpOyAvLyBjaGVjayBpZiBhbHJlYWR5IHNldCBpbiBjb25maWdcblxuICBpZiAoZGF0YUZpbGVVdWlkKSB7XG4gICAgLy8gZGF0YSB1dWlkIGZvdW5kXG4gICAgaWYgKHNlcnZlckNvbmZpZ1V1aWQgPT09IGRhdGFGaWxlVXVpZCkge1xuICAgICAgLy8gY29uZmlnIHV1aWQgZXhpc3RzLCBkYXRhIHV1aWQgZXhpc3RzIGFuZCBtYXRjaGVzXG4gICAgICBsb2dUb1NlcnZlcihgS2liYW5hIGluc3RhbmNlIFVVSUQ6ICR7ZGF0YUZpbGVVdWlkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghc2VydmVyQ29uZmlnVXVpZCkge1xuICAgICAgLy8gY29uZmlnIHV1aWQgbWlzc2luZywgZGF0YSB1dWlkIGV4aXN0c1xuICAgICAgc2VydmVyQ29uZmlnVXVpZCA9IGRhdGFGaWxlVXVpZDtcbiAgICAgIGxvZ1RvU2VydmVyKGBSZXN1bWluZyBwZXJzaXN0ZW50IEtpYmFuYSBpbnN0YW5jZSBVVUlEOiAke3NlcnZlckNvbmZpZ1V1aWR9YCk7XG4gICAgICBjb25maWcuc2V0KCdzZXJ2ZXIudXVpZCcsIHNlcnZlckNvbmZpZ1V1aWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZXJ2ZXJDb25maWdVdWlkICE9PSBkYXRhRmlsZVV1aWQpIHtcbiAgICAgIC8vIGNvbmZpZyB1dWlkIGV4aXN0cywgZGF0YSB1dWlkIGV4aXN0cyBidXQgbWlzbWF0Y2hlc1xuICAgICAgbG9nVG9TZXJ2ZXIoYFVwZGF0aW5nIEtpYmFuYSBpbnN0YW5jZSBVVUlEIHRvOiAke3NlcnZlckNvbmZpZ1V1aWR9ICh3YXM6ICR7ZGF0YUZpbGVVdWlkfSlgKTtcbiAgICAgIHJldHVybiB3cml0ZVV1aWQoc2VydmVyQ29uZmlnVXVpZCk7XG4gICAgfVxuICB9XG5cbiAgLy8gZGF0YSB1dWlkIG1pc3NpbmdcblxuICBpZiAoIXNlcnZlckNvbmZpZ1V1aWQpIHtcbiAgICAvLyBjb25maWcgdXVpZCBtaXNzaW5nXG4gICAgc2VydmVyQ29uZmlnVXVpZCA9IHV1aWQudjQoKTtcbiAgICBjb25maWcuc2V0KCdzZXJ2ZXIudXVpZCcsIHNlcnZlckNvbmZpZ1V1aWQpO1xuICB9XG5cbiAgbG9nVG9TZXJ2ZXIoYFNldHRpbmcgbmV3IEtpYmFuYSBpbnN0YW5jZSBVVUlEOiAke3NlcnZlckNvbmZpZ1V1aWR9YCk7XG4gIHJldHVybiB3cml0ZVV1aWQoc2VydmVyQ29uZmlnVXVpZCk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/lib/manage_uuid.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;wBAAiB,WAAW;;;;wBACR,UAAU;;;;oBACG,MAAM;;kBACsC,IAAI;;AAEjF,IAAM,aAAa,GAAG,MAAM,CAAC;;uCAEd,WAA0B,MAAM,EAAE;MAKhC,UAAU,qBAAzB,aAA4B;AAC1B,QAAM,QAAQ,GAAG,sBAAQ,SAAS,cAAkB,CAAC;AACrD,QAAI;AACF,UAAM,MAAM,GAAG,MAAM,QAAQ,CAAC,QAAQ,CAAC,CAAC;AACxC,aAAO,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;KACvC,CAAC,OAAO,GAAG,EAAE;AACZ,UAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,EAAE;;AAEzB,eAAO,KAAK,CAAC;OACd;AACD,YAAM,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,WAAW,CAAC,EAAE,GAAG,CAAC,CAAC;;AAExC,YAAM,GAAG,CAAC;KACX;GACF;;MAEc,SAAS,qBAAxB,WAAyB,IAAI,EAAE;AAC7B,QAAM,SAAS,GAAG,sBAAQ,SAAS,eAAmB,CAAC;AACvD,QAAI;AACF,aAAO,MAAM,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,aAAa,EAAE,CAAC,CAAC;KACrE,CAAC,OAAO,GAAG,EAAE;AACZ,YAAM,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,YAAY,CAAC,EAAE,GAAG,CAAC,CAAC;;AAEzC,YAAM,GAAG,CAAC;KACX;GACF;;;;;AA7BD,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AAC/B,MAAM,QAAQ,GAAG,MAAM,CAAC;AACxB,MAAM,QAAQ,GAAG,gBAAS,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,QAAQ,CAAC,CAAC;;AA8B7D,MAAM,WAAW,GAAG,SAAd,WAAW,CAAI,GAAG;WAAK,MAAM,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,MAAM,EAAE,QAAQ,CAAC,EAAE,GAAG,CAAC;GAAA,CAAC;AAC3E,MAAM,YAAY,GAAG,MAAM,UAAU,EAAE,CAAC;AACxC,MAAI,gBAAgB,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;;AAEjD,MAAI,YAAY,EAAE;;AAEhB,QAAI,gBAAgB,KAAK,YAAY,EAAE;;AAErC,iBAAW,4BAA0B,YAAY,CAAG,CAAC;AACrD,aAAO;KACR;;AAED,QAAI,CAAC,gBAAgB,EAAE;;AAErB,sBAAgB,GAAG,YAAY,CAAC;AAChC,iBAAW,gDAA8C,gBAAgB,CAAG,CAAC;AAC7E,YAAM,CAAC,GAAG,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;AAC5C,aAAO;KACR;;AAED,QAAI,gBAAgB,KAAK,YAAY,EAAE;;AAErC,iBAAW,wCAAsC,gBAAgB,eAAU,YAAY,OAAI,CAAC;AAC5F,aAAO,SAAS,CAAC,gBAAgB,CAAC,CAAC;KACpC;GACF;;;;AAID,MAAI,CAAC,gBAAgB,EAAE;;AAErB,oBAAgB,GAAG,sBAAK,EAAE,EAAE,CAAC;AAC7B,UAAM,CAAC,GAAG,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;GAC7C;;AAED,aAAW,wCAAsC,gBAAgB,CAAG,CAAC;AACrE,SAAO,SAAS,CAAC,gBAAgB,CAAC,CAAC;CACpC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/lib/manage_uuid.js",
      "sourcesContent": [
        "import uuid from 'node-uuid';\nimport Promise from 'bluebird';\nimport { join as pathJoin } from 'path';\nimport { readFile as readFileCallback, writeFile as writeFileCallback } from 'fs';\n\nconst FILE_ENCODING = 'utf8';\n\nexport default async function manageUuid(server) {\n  const config = server.config();\n  const fileName = 'uuid';\n  const uuidFile = pathJoin(config.get('path.data'), fileName);\n\n  async function detectUuid() {\n    const readFile = Promise.promisify(readFileCallback);\n    try {\n      const result = await readFile(uuidFile);\n      return result.toString(FILE_ENCODING);\n    } catch (err) {\n      if (err.code === 'ENOENT') {\n        // non-existant uuid file is ok\n        return false;\n      }\n      server.log(['error', 'read-uuid'], err);\n      // Note: this will most likely be logged as an Unhandled Rejection\n      throw err;\n    }\n  }\n\n  async function writeUuid(uuid) {\n    const writeFile = Promise.promisify(writeFileCallback);\n    try {\n      return await writeFile(uuidFile, uuid, { encoding: FILE_ENCODING });\n    } catch (err) {\n      server.log(['error', 'write-uuid'], err);\n      // Note: this will most likely be logged as an Unhandled Rejection\n      throw err;\n    }\n  }\n\n  // detect if uuid exists already from before a restart\n  const logToServer = (msg) => server.log(['server', 'uuid', fileName], msg);\n  const dataFileUuid = await detectUuid();\n  let serverConfigUuid = config.get('server.uuid'); // check if already set in config\n\n  if (dataFileUuid) {\n    // data uuid found\n    if (serverConfigUuid === dataFileUuid) {\n      // config uuid exists, data uuid exists and matches\n      logToServer(`Kibana instance UUID: ${dataFileUuid}`);\n      return;\n    }\n\n    if (!serverConfigUuid) {\n      // config uuid missing, data uuid exists\n      serverConfigUuid = dataFileUuid;\n      logToServer(`Resuming persistent Kibana instance UUID: ${serverConfigUuid}`);\n      config.set('server.uuid', serverConfigUuid);\n      return;\n    }\n\n    if (serverConfigUuid !== dataFileUuid) {\n      // config uuid exists, data uuid exists but mismatches\n      logToServer(`Updating Kibana instance UUID to: ${serverConfigUuid} (was: ${dataFileUuid})`);\n      return writeUuid(serverConfigUuid);\n    }\n  }\n\n  // data uuid missing\n\n  if (!serverConfigUuid) {\n    // config uuid missing\n    serverConfigUuid = uuid.v4();\n    config.set('server.uuid', serverConfigUuid);\n  }\n\n  logToServer(`Setting new Kibana instance UUID: ${serverConfigUuid}`);\n  return writeUuid(serverConfigUuid);\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/ingest/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./register_field_capabilities",
            "imported": [
              "registerFieldCapabilities"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "registerFieldCapabilities",
                "local": "registerFieldCapabilities"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _register_field_capabilities = require('./register_field_capabilities');\n\nexports['default'] = function (server) {\n  (0, _register_field_capabilities.registerFieldCapabilities)(server);\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL2luZ2VzdC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7MkNBQTBDLCtCQUErQjs7cUJBRTFELFVBQVUsTUFBTSxFQUFFO0FBQy9CLDhEQUEwQixNQUFNLENBQUMsQ0FBQztDQUNuQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2tpYmFuYS9zZXJ2ZXIvcm91dGVzL2FwaS9pbmdlc3QvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZWdpc3RlckZpZWxkQ2FwYWJpbGl0aWVzIH0gZnJvbSAnLi9yZWdpc3Rlcl9maWVsZF9jYXBhYmlsaXRpZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoc2VydmVyKSB7XG4gIHJlZ2lzdGVyRmllbGRDYXBhYmlsaXRpZXMoc2VydmVyKTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/ingest/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;2CAA0C,+BAA+B;;qBAE1D,UAAU,MAAM,EAAE;AAC/B,8DAA0B,MAAM,CAAC,CAAC;CACnC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/ingest/index.js",
      "sourcesContent": [
        "import { registerFieldCapabilities } from './register_field_capabilities';\n\nexport default function (server) {\n  registerFieldCapabilities(server);\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/ingest/register_field_capabilities.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "../../../lib/handle_es_error",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "handleESError"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "registerFieldCapabilities",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "registerFieldCapabilities",
              "exported": "registerFieldCapabilities"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "server"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.registerFieldCapabilities = registerFieldCapabilities;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _libHandle_es_error = require('../../../lib/handle_es_error');\n\nvar _libHandle_es_error2 = _interopRequireDefault(_libHandle_es_error);\n\nfunction registerFieldCapabilities(server) {\n  server.route({\n    path: '/api/kibana/{indices}/field_capabilities',\n    method: ['GET'],\n    handler: function handler(req, reply) {\n      var _server$plugins$elasticsearch$getCluster = server.plugins.elasticsearch.getCluster('data');\n\n      var callWithRequest = _server$plugins$elasticsearch$getCluster.callWithRequest;\n\n      var indices = req.params.indices || '';\n\n      return callWithRequest(req, 'fieldStats', {\n        fields: '*',\n        level: 'cluster',\n        index: indices,\n        allowNoIndices: false\n      }).then(function (res) {\n        var fields = _lodash2['default'].get(res, 'indices._all.fields', {});\n        var fieldsFilteredValues = _lodash2['default'].mapValues(fields, function (value) {\n          return _lodash2['default'].pick(value, ['searchable', 'aggregatable']);\n        });\n\n        reply({ fields: fieldsFilteredValues });\n      }, function (error) {\n        reply((0, _libHandle_es_error2['default'])(error));\n      });\n    }\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL2luZ2VzdC9yZWdpc3Rlcl9maWVsZF9jYXBhYmlsaXRpZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O3NCQUFjLFFBQVE7Ozs7a0NBQ0ksOEJBQThCOzs7O0FBRWpELFNBQVMseUJBQXlCLENBQUMsTUFBTSxFQUFFO0FBQ2hELFFBQU0sQ0FBQyxLQUFLLENBQUM7QUFDWCxRQUFJLEVBQUUsMENBQTBDO0FBQ2hELFVBQU0sRUFBRSxDQUFDLEtBQUssQ0FBQztBQUNmLFdBQU8sRUFBRSxpQkFBVSxHQUFHLEVBQUUsS0FBSyxFQUFFO3FEQUNELE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUM7O1VBQW5FLGVBQWUsNENBQWYsZUFBZTs7QUFDdkIsVUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDOztBQUV6QyxhQUFPLGVBQWUsQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFFO0FBQ3hDLGNBQU0sRUFBRSxHQUFHO0FBQ1gsYUFBSyxFQUFFLFNBQVM7QUFDaEIsYUFBSyxFQUFFLE9BQU87QUFDZCxzQkFBYyxFQUFFLEtBQUs7T0FDdEIsQ0FBQyxDQUNELElBQUksQ0FDSCxVQUFDLEdBQUcsRUFBSztBQUNQLFlBQU0sTUFBTSxHQUFHLG9CQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDckQsWUFBTSxvQkFBb0IsR0FBRyxvQkFBRSxTQUFTLENBQUMsTUFBTSxFQUFFLFVBQUMsS0FBSyxFQUFLO0FBQzFELGlCQUFPLG9CQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQztTQUN0RCxDQUFDLENBQUM7O0FBRUgsYUFBSyxDQUFDLEVBQUUsTUFBTSxFQUFFLG9CQUFvQixFQUFFLENBQUMsQ0FBQztPQUN6QyxFQUNELFVBQUMsS0FBSyxFQUFLO0FBQ1QsYUFBSyxDQUFDLHFDQUFjLEtBQUssQ0FBQyxDQUFDLENBQUM7T0FDN0IsQ0FDRixDQUFDO0tBQ0g7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2tpYmFuYS9zZXJ2ZXIvcm91dGVzL2FwaS9pbmdlc3QvcmVnaXN0ZXJfZmllbGRfY2FwYWJpbGl0aWVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBoYW5kbGVFU0Vycm9yIGZyb20gJy4uLy4uLy4uL2xpYi9oYW5kbGVfZXNfZXJyb3InO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJGaWVsZENhcGFiaWxpdGllcyhzZXJ2ZXIpIHtcbiAgc2VydmVyLnJvdXRlKHtcbiAgICBwYXRoOiAnL2FwaS9raWJhbmEve2luZGljZXN9L2ZpZWxkX2NhcGFiaWxpdGllcycsXG4gICAgbWV0aG9kOiBbJ0dFVCddLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChyZXEsIHJlcGx5KSB7XG4gICAgICBjb25zdCB7IGNhbGxXaXRoUmVxdWVzdCB9ID0gc2VydmVyLnBsdWdpbnMuZWxhc3RpY3NlYXJjaC5nZXRDbHVzdGVyKCdkYXRhJyk7XG4gICAgICBjb25zdCBpbmRpY2VzID0gcmVxLnBhcmFtcy5pbmRpY2VzIHx8ICcnO1xuXG4gICAgICByZXR1cm4gY2FsbFdpdGhSZXF1ZXN0KHJlcSwgJ2ZpZWxkU3RhdHMnLCB7XG4gICAgICAgIGZpZWxkczogJyonLFxuICAgICAgICBsZXZlbDogJ2NsdXN0ZXInLFxuICAgICAgICBpbmRleDogaW5kaWNlcyxcbiAgICAgICAgYWxsb3dOb0luZGljZXM6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLnRoZW4oXG4gICAgICAgIChyZXMpID0+IHtcbiAgICAgICAgICBjb25zdCBmaWVsZHMgPSBfLmdldChyZXMsICdpbmRpY2VzLl9hbGwuZmllbGRzJywge30pO1xuICAgICAgICAgIGNvbnN0IGZpZWxkc0ZpbHRlcmVkVmFsdWVzID0gXy5tYXBWYWx1ZXMoZmllbGRzLCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBfLnBpY2sodmFsdWUsIFsnc2VhcmNoYWJsZScsICdhZ2dyZWdhdGFibGUnXSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXBseSh7IGZpZWxkczogZmllbGRzRmlsdGVyZWRWYWx1ZXMgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgIHJlcGx5KGhhbmRsZUVTRXJyb3IoZXJyb3IpKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/ingest/register_field_capabilities.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;sBAAc,QAAQ;;;;kCACI,8BAA8B;;;;AAEjD,SAAS,yBAAyB,CAAC,MAAM,EAAE;AAChD,QAAM,CAAC,KAAK,CAAC;AACX,QAAI,EAAE,0CAA0C;AAChD,UAAM,EAAE,CAAC,KAAK,CAAC;AACf,WAAO,EAAE,iBAAU,GAAG,EAAE,KAAK,EAAE;qDACD,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC;;UAAnE,eAAe,4CAAf,eAAe;;AACvB,UAAM,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;;AAEzC,aAAO,eAAe,CAAC,GAAG,EAAE,YAAY,EAAE;AACxC,cAAM,EAAE,GAAG;AACX,aAAK,EAAE,SAAS;AAChB,aAAK,EAAE,OAAO;AACd,sBAAc,EAAE,KAAK;OACtB,CAAC,CACD,IAAI,CACH,UAAC,GAAG,EAAK;AACP,YAAM,MAAM,GAAG,oBAAE,GAAG,CAAC,GAAG,EAAE,qBAAqB,EAAE,EAAE,CAAC,CAAC;AACrD,YAAM,oBAAoB,GAAG,oBAAE,SAAS,CAAC,MAAM,EAAE,UAAC,KAAK,EAAK;AAC1D,iBAAO,oBAAE,IAAI,CAAC,KAAK,EAAE,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC,CAAC;SACtD,CAAC,CAAC;;AAEH,aAAK,CAAC,EAAE,MAAM,EAAE,oBAAoB,EAAE,CAAC,CAAC;OACzC,EACD,UAAC,KAAK,EAAK;AACT,aAAK,CAAC,qCAAc,KAAK,CAAC,CAAC,CAAC;OAC7B,CACF,CAAC;KACH;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/ingest/register_field_capabilities.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport handleESError from '../../../lib/handle_es_error';\n\nexport function registerFieldCapabilities(server) {\n  server.route({\n    path: '/api/kibana/{indices}/field_capabilities',\n    method: ['GET'],\n    handler: function (req, reply) {\n      const { callWithRequest } = server.plugins.elasticsearch.getCluster('data');\n      const indices = req.params.indices || '';\n\n      return callWithRequest(req, 'fieldStats', {\n        fields: '*',\n        level: 'cluster',\n        index: indices,\n        allowNoIndices: false\n      })\n      .then(\n        (res) => {\n          const fields = _.get(res, 'indices._all.fields', {});\n          const fieldsFilteredValues = _.mapValues(fields, (value) => {\n            return _.pick(value, ['searchable', 'aggregatable']);\n          });\n\n          reply({ fields: fieldsFilteredValues });\n        },\n        (error) => {\n          reply(handleESError(error));\n        }\n      );\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/lib/handle_es_error.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "elasticsearch",
            "imported": [
              "errors"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "errors",
                "local": "esErrors"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _elasticsearch = require('elasticsearch');\n\nmodule.exports = function handleESError(error) {\n  if (!(error instanceof Error)) {\n    throw new Error('Expected an instance of Error');\n  }\n\n  if (error instanceof _elasticsearch.errors.ConnectionFault || error instanceof _elasticsearch.errors.ServiceUnavailable || error instanceof _elasticsearch.errors.NoConnections || error instanceof _elasticsearch.errors.RequestTimeout) {\n    return _boom2['default'].serverTimeout(error);\n  } else if (error instanceof _elasticsearch.errors.Conflict || _lodash2['default'].contains(error.message, 'index_template_already_exists')) {\n    return _boom2['default'].conflict(error);\n  } else if (error instanceof _elasticsearch.errors[403]) {\n    return _boom2['default'].forbidden(error);\n  } else if (error instanceof _elasticsearch.errors.NotFound) {\n    return _boom2['default'].notFound(error);\n  } else if (error instanceof _elasticsearch.errors.BadRequest) {\n    return _boom2['default'].badRequest(error);\n  } else {\n    return error;\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9saWIvaGFuZGxlX2VzX2Vycm9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7b0JBQWlCLE1BQU07Ozs7c0JBQ1QsUUFBUTs7Ozs2QkFDYSxlQUFlOztBQUVsRCxNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsYUFBYSxDQUFDLEtBQUssRUFBRTtBQUM3QyxNQUFJLEVBQUUsS0FBSyxZQUFZLEtBQUssQ0FBQSxBQUFDLEVBQUU7QUFDN0IsVUFBTSxJQUFJLEtBQUssQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0dBQ2xEOztBQUVELE1BQUksS0FBSyxZQUFZLHNCQUFTLGVBQWUsSUFDM0MsS0FBSyxZQUFZLHNCQUFTLGtCQUFrQixJQUM1QyxLQUFLLFlBQVksc0JBQVMsYUFBYSxJQUN2QyxLQUFLLFlBQVksc0JBQVMsY0FBYyxFQUFFO0FBQzFDLFdBQU8sa0JBQUssYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0dBQ2xDLE1BQU0sSUFBSSxLQUFLLFlBQVksc0JBQVMsUUFBUSxJQUFJLG9CQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLCtCQUErQixDQUFDLEVBQUU7QUFDM0csV0FBTyxrQkFBSyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7R0FDN0IsTUFBTSxJQUFJLEtBQUssWUFBWSxzQkFBUyxHQUFHLENBQUMsRUFBRTtBQUN6QyxXQUFPLGtCQUFLLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztHQUM5QixNQUFNLElBQUksS0FBSyxZQUFZLHNCQUFTLFFBQVEsRUFBRTtBQUM3QyxXQUFPLGtCQUFLLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztHQUM3QixNQUFNLElBQUksS0FBSyxZQUFZLHNCQUFTLFVBQVUsRUFBRTtBQUMvQyxXQUFPLGtCQUFLLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztHQUMvQixNQUFNO0FBQ0wsV0FBTyxLQUFLLENBQUM7R0FDZDtDQUNGLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9raWJhbmEvc2VydmVyL2xpYi9oYW5kbGVfZXNfZXJyb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQm9vbSBmcm9tICdib29tJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBlcnJvcnMgYXMgZXNFcnJvcnMgfSBmcm9tICdlbGFzdGljc2VhcmNoJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBoYW5kbGVFU0Vycm9yKGVycm9yKSB7XG4gIGlmICghKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBFcnJvcicpO1xuICB9XG5cbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgZXNFcnJvcnMuQ29ubmVjdGlvbkZhdWx0IHx8XG4gICAgZXJyb3IgaW5zdGFuY2VvZiBlc0Vycm9ycy5TZXJ2aWNlVW5hdmFpbGFibGUgfHxcbiAgICBlcnJvciBpbnN0YW5jZW9mIGVzRXJyb3JzLk5vQ29ubmVjdGlvbnMgfHxcbiAgICBlcnJvciBpbnN0YW5jZW9mIGVzRXJyb3JzLlJlcXVlc3RUaW1lb3V0KSB7XG4gICAgcmV0dXJuIEJvb20uc2VydmVyVGltZW91dChlcnJvcik7XG4gIH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBlc0Vycm9ycy5Db25mbGljdCB8fCBfLmNvbnRhaW5zKGVycm9yLm1lc3NhZ2UsICdpbmRleF90ZW1wbGF0ZV9hbHJlYWR5X2V4aXN0cycpKSB7XG4gICAgcmV0dXJuIEJvb20uY29uZmxpY3QoZXJyb3IpO1xuICB9IGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgZXNFcnJvcnNbNDAzXSkge1xuICAgIHJldHVybiBCb29tLmZvcmJpZGRlbihlcnJvcik7XG4gIH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBlc0Vycm9ycy5Ob3RGb3VuZCkge1xuICAgIHJldHVybiBCb29tLm5vdEZvdW5kKGVycm9yKTtcbiAgfSBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIGVzRXJyb3JzLkJhZFJlcXVlc3QpIHtcbiAgICByZXR1cm4gQm9vbS5iYWRSZXF1ZXN0KGVycm9yKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/lib/handle_es_error.js"
      ],
      "names": [],
      "mappings": ";;;;oBAAiB,MAAM;;;;sBACT,QAAQ;;;;6BACa,eAAe;;AAElD,MAAM,CAAC,OAAO,GAAG,SAAS,aAAa,CAAC,KAAK,EAAE;AAC7C,MAAI,EAAE,KAAK,YAAY,KAAK,CAAA,AAAC,EAAE;AAC7B,UAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;GAClD;;AAED,MAAI,KAAK,YAAY,sBAAS,eAAe,IAC3C,KAAK,YAAY,sBAAS,kBAAkB,IAC5C,KAAK,YAAY,sBAAS,aAAa,IACvC,KAAK,YAAY,sBAAS,cAAc,EAAE;AAC1C,WAAO,kBAAK,aAAa,CAAC,KAAK,CAAC,CAAC;GAClC,MAAM,IAAI,KAAK,YAAY,sBAAS,QAAQ,IAAI,oBAAE,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,+BAA+B,CAAC,EAAE;AAC3G,WAAO,kBAAK,QAAQ,CAAC,KAAK,CAAC,CAAC;GAC7B,MAAM,IAAI,KAAK,YAAY,sBAAS,GAAG,CAAC,EAAE;AACzC,WAAO,kBAAK,SAAS,CAAC,KAAK,CAAC,CAAC;GAC9B,MAAM,IAAI,KAAK,YAAY,sBAAS,QAAQ,EAAE;AAC7C,WAAO,kBAAK,QAAQ,CAAC,KAAK,CAAC,CAAC;GAC7B,MAAM,IAAI,KAAK,YAAY,sBAAS,UAAU,EAAE;AAC/C,WAAO,kBAAK,UAAU,CAAC,KAAK,CAAC,CAAC;GAC/B,MAAM;AACL,WAAO,KAAK,CAAC;GACd;CACF,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/lib/handle_es_error.js",
      "sourcesContent": [
        "import Boom from 'boom';\nimport _ from 'lodash';\nimport { errors as esErrors } from 'elasticsearch';\n\nmodule.exports = function handleESError(error) {\n  if (!(error instanceof Error)) {\n    throw new Error('Expected an instance of Error');\n  }\n\n  if (error instanceof esErrors.ConnectionFault ||\n    error instanceof esErrors.ServiceUnavailable ||\n    error instanceof esErrors.NoConnections ||\n    error instanceof esErrors.RequestTimeout) {\n    return Boom.serverTimeout(error);\n  } else if (error instanceof esErrors.Conflict || _.contains(error.message, 'index_template_already_exists')) {\n    return Boom.conflict(error);\n  } else if (error instanceof esErrors[403]) {\n    return Boom.forbidden(error);\n  } else if (error instanceof esErrors.NotFound) {\n    return Boom.notFound(error);\n  } else if (error instanceof esErrors.BadRequest) {\n    return Boom.badRequest(error);\n  } else {\n    return error;\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/search/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./count/register_count",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "registerCount"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _countRegister_count = require('./count/register_count');\n\nvar _countRegister_count2 = _interopRequireDefault(_countRegister_count);\n\nexports['default'] = function (server) {\n  (0, _countRegister_count2['default'])(server);\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NlYXJjaC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OzttQ0FBMEIsd0JBQXdCOzs7O3FCQUVuQyxVQUFVLE1BQU0sRUFBRTtBQUMvQix3Q0FBYyxNQUFNLENBQUMsQ0FBQztDQUN2QiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2tpYmFuYS9zZXJ2ZXIvcm91dGVzL2FwaS9zZWFyY2gvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVnaXN0ZXJDb3VudCBmcm9tICcuL2NvdW50L3JlZ2lzdGVyX2NvdW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHNlcnZlcikge1xuICByZWdpc3RlckNvdW50KHNlcnZlcik7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/search/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;mCAA0B,wBAAwB;;;;qBAEnC,UAAU,MAAM,EAAE;AAC/B,wCAAc,MAAM,CAAC,CAAC;CACvB",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/search/index.js",
      "sourcesContent": [
        "import registerCount from './count/register_count';\n\nexport default function (server) {\n  registerCount(server);\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/search/count/register_count.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "../../../../lib/handle_es_error",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "handleESError"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "registerCount",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "registerCount",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = registerCount;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _libHandle_es_error = require('../../../../lib/handle_es_error');\n\nvar _libHandle_es_error2 = _interopRequireDefault(_libHandle_es_error);\n\nfunction registerCount(server) {\n  server.route({\n    path: '/api/kibana/{id}/_count',\n    method: ['POST', 'GET'],\n    handler: function handler(req, reply) {\n      var _server$plugins$elasticsearch$getCluster = server.plugins.elasticsearch.getCluster('data');\n\n      var callWithRequest = _server$plugins$elasticsearch$getCluster.callWithRequest;\n\n      var boundCallWithRequest = _lodash2['default'].partial(callWithRequest, req);\n\n      boundCallWithRequest('count', {\n        allowNoIndices: false,\n        index: req.params.id\n      }).then(function (res) {\n        reply({ count: res.count });\n      }, function (error) {\n        reply((0, _libHandle_es_error2['default'])(error));\n      });\n    }\n  });\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NlYXJjaC9jb3VudC9yZWdpc3Rlcl9jb3VudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztxQkFHd0IsYUFBYTs7OztzQkFIdkIsUUFBUTs7OztrQ0FDSSxpQ0FBaUM7Ozs7QUFFNUMsU0FBUyxhQUFhLENBQUMsTUFBTSxFQUFFO0FBQzVDLFFBQU0sQ0FBQyxLQUFLLENBQUM7QUFDWCxRQUFJLEVBQUUseUJBQXlCO0FBQy9CLFVBQU0sRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUM7QUFDdkIsV0FBTyxFQUFFLGlCQUFVLEdBQUcsRUFBRSxLQUFLLEVBQUU7cURBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQzs7VUFBbkUsZUFBZSw0Q0FBZixlQUFlOztBQUN2QixVQUFNLG9CQUFvQixHQUFHLG9CQUFFLE9BQU8sQ0FBQyxlQUFlLEVBQUUsR0FBRyxDQUFDLENBQUM7O0FBRTdELDBCQUFvQixDQUFDLE9BQU8sRUFBRTtBQUM1QixzQkFBYyxFQUFFLEtBQUs7QUFDckIsYUFBSyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRTtPQUNyQixDQUFDLENBQ0QsSUFBSSxDQUNILFVBQVUsR0FBRyxFQUFFO0FBQ2IsYUFBSyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO09BQzdCLEVBQ0QsVUFBVSxLQUFLLEVBQUU7QUFDZixhQUFLLENBQUMscUNBQWMsS0FBSyxDQUFDLENBQUMsQ0FBQztPQUM3QixDQUNGLENBQUM7S0FDSDtHQUNGLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NlYXJjaC9jb3VudC9yZWdpc3Rlcl9jb3VudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgaGFuZGxlRVNFcnJvciBmcm9tICcuLi8uLi8uLi8uLi9saWIvaGFuZGxlX2VzX2Vycm9yJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVnaXN0ZXJDb3VudChzZXJ2ZXIpIHtcbiAgc2VydmVyLnJvdXRlKHtcbiAgICBwYXRoOiAnL2FwaS9raWJhbmEve2lkfS9fY291bnQnLFxuICAgIG1ldGhvZDogWydQT1NUJywgJ0dFVCddLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChyZXEsIHJlcGx5KSB7XG4gICAgICBjb25zdCB7IGNhbGxXaXRoUmVxdWVzdCB9ID0gc2VydmVyLnBsdWdpbnMuZWxhc3RpY3NlYXJjaC5nZXRDbHVzdGVyKCdkYXRhJyk7XG4gICAgICBjb25zdCBib3VuZENhbGxXaXRoUmVxdWVzdCA9IF8ucGFydGlhbChjYWxsV2l0aFJlcXVlc3QsIHJlcSk7XG5cbiAgICAgIGJvdW5kQ2FsbFdpdGhSZXF1ZXN0KCdjb3VudCcsIHtcbiAgICAgICAgYWxsb3dOb0luZGljZXM6IGZhbHNlLFxuICAgICAgICBpbmRleDogcmVxLnBhcmFtcy5pZFxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgcmVwbHkoeyBjb3VudDogcmVzLmNvdW50IH0pO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICByZXBseShoYW5kbGVFU0Vycm9yKGVycm9yKSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/search/count/register_count.js"
      ],
      "names": [],
      "mappings": ";;;;;qBAGwB,aAAa;;;;sBAHvB,QAAQ;;;;kCACI,iCAAiC;;;;AAE5C,SAAS,aAAa,CAAC,MAAM,EAAE;AAC5C,QAAM,CAAC,KAAK,CAAC;AACX,QAAI,EAAE,yBAAyB;AAC/B,UAAM,EAAE,CAAC,MAAM,EAAE,KAAK,CAAC;AACvB,WAAO,EAAE,iBAAU,GAAG,EAAE,KAAK,EAAE;qDACD,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC;;UAAnE,eAAe,4CAAf,eAAe;;AACvB,UAAM,oBAAoB,GAAG,oBAAE,OAAO,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;;AAE7D,0BAAoB,CAAC,OAAO,EAAE;AAC5B,sBAAc,EAAE,KAAK;AACrB,aAAK,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE;OACrB,CAAC,CACD,IAAI,CACH,UAAU,GAAG,EAAE;AACb,aAAK,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC;OAC7B,EACD,UAAU,KAAK,EAAE;AACf,aAAK,CAAC,qCAAc,KAAK,CAAC,CAAC,CAAC;OAC7B,CACF,CAAC;KACH;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/search/count/register_count.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport handleESError from '../../../../lib/handle_es_error';\n\nexport default function registerCount(server) {\n  server.route({\n    path: '/api/kibana/{id}/_count',\n    method: ['POST', 'GET'],\n    handler: function (req, reply) {\n      const { callWithRequest } = server.plugins.elasticsearch.getCluster('data');\n      const boundCallWithRequest = _.partial(callWithRequest, req);\n\n      boundCallWithRequest('count', {\n        allowNoIndices: false,\n        index: req.params.id\n      })\n      .then(\n        function (res) {\n          reply({ count: res.count });\n        },\n        function (error) {\n          reply(handleESError(error));\n        }\n      );\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (server) {\n  require('./register_get')(server);\n  require('./register_set')(server);\n  require('./register_set_many')(server);\n  require('./register_delete')(server);\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NldHRpbmdzL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztxQkFBZSxVQUFVLE1BQU0sRUFBRTtBQUMvQixTQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNsQyxTQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNsQyxTQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN2QyxTQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztDQUN0QyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2tpYmFuYS9zZXJ2ZXIvcm91dGVzL2FwaS9zZXR0aW5ncy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzZXJ2ZXIpIHtcbiAgcmVxdWlyZSgnLi9yZWdpc3Rlcl9nZXQnKShzZXJ2ZXIpO1xuICByZXF1aXJlKCcuL3JlZ2lzdGVyX3NldCcpKHNlcnZlcik7XG4gIHJlcXVpcmUoJy4vcmVnaXN0ZXJfc2V0X21hbnknKShzZXJ2ZXIpO1xuICByZXF1aXJlKCcuL3JlZ2lzdGVyX2RlbGV0ZScpKHNlcnZlcik7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAU,MAAM,EAAE;AAC/B,SAAO,CAAC,gBAAgB,CAAC,CAAC,MAAM,CAAC,CAAC;AAClC,SAAO,CAAC,gBAAgB,CAAC,CAAC,MAAM,CAAC,CAAC;AAClC,SAAO,CAAC,qBAAqB,CAAC,CAAC,MAAM,CAAC,CAAC;AACvC,SAAO,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,CAAC;CACtC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/index.js",
      "sourcesContent": [
        "export default function (server) {\n  require('./register_get')(server);\n  require('./register_set')(server);\n  require('./register_set_many')(server);\n  require('./register_delete')(server);\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/scripts/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./register_languages",
            "imported": [
              "registerLanguages"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "registerLanguages",
                "local": "registerLanguages"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _register_languages = require('./register_languages');\n\nexports['default'] = function (server) {\n  (0, _register_languages.registerLanguages)(server);\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NjcmlwdHMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O2tDQUFrQyxzQkFBc0I7O3FCQUV6QyxVQUFVLE1BQU0sRUFBRTtBQUMvQiw2Q0FBa0IsTUFBTSxDQUFDLENBQUM7Q0FDM0IiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9raWJhbmEvc2VydmVyL3JvdXRlcy9hcGkvc2NyaXB0cy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlZ2lzdGVyTGFuZ3VhZ2VzIH0gZnJvbSAnLi9yZWdpc3Rlcl9sYW5ndWFnZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoc2VydmVyKSB7XG4gIHJlZ2lzdGVyTGFuZ3VhZ2VzKHNlcnZlcik7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/scripts/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;kCAAkC,sBAAsB;;qBAEzC,UAAU,MAAM,EAAE;AAC/B,6CAAkB,MAAM,CAAC,CAAC;CAC3B",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/scripts/index.js",
      "sourcesContent": [
        "import { registerLanguages } from './register_languages';\n\nexport default function (server) {\n  registerLanguages(server);\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/scripts/register_languages.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "../../../lib/handle_es_error",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "handleESError"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "registerLanguages",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "registerLanguages",
              "exported": "registerLanguages"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "server"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.registerLanguages = registerLanguages;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _libHandle_es_error = require('../../../lib/handle_es_error');\n\nvar _libHandle_es_error2 = _interopRequireDefault(_libHandle_es_error);\n\nfunction registerLanguages(server) {\n  server.route({\n    path: '/api/kibana/scripts/languages',\n    method: 'GET',\n    handler: function handler(request, reply) {\n      var _server$plugins$elasticsearch$getCluster = server.plugins.elasticsearch.getCluster('data');\n\n      var callWithRequest = _server$plugins$elasticsearch$getCluster.callWithRequest;\n\n      return callWithRequest(request, 'cluster.getSettings', {\n        include_defaults: true,\n        filter_path: '**.script.engine.*.inline'\n      }).then(function (esResponse) {\n        var langs = _lodash2['default'].get(esResponse, 'defaults.script.engine', {});\n        var inlineLangs = _lodash2['default'].pick(langs, function (lang) {\n          return lang.inline === 'true';\n        });\n        var supportedLangs = _lodash2['default'].omit(inlineLangs, 'mustache');\n        return _lodash2['default'].keys(supportedLangs);\n      }).then(reply)['catch'](function (error) {\n        reply((0, _libHandle_es_error2['default'])(error));\n      });\n    }\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NjcmlwdHMvcmVnaXN0ZXJfbGFuZ3VhZ2VzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztzQkFBYyxRQUFROzs7O2tDQUNJLDhCQUE4Qjs7OztBQUVqRCxTQUFTLGlCQUFpQixDQUFDLE1BQU0sRUFBRTtBQUN4QyxRQUFNLENBQUMsS0FBSyxDQUFDO0FBQ1gsUUFBSSxFQUFFLCtCQUErQjtBQUNyQyxVQUFNLEVBQUUsS0FBSztBQUNiLFdBQU8sRUFBRSxpQkFBVSxPQUFPLEVBQUUsS0FBSyxFQUFFO3FEQUNMLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUM7O1VBQW5FLGVBQWUsNENBQWYsZUFBZTs7QUFFdkIsYUFBTyxlQUFlLENBQUMsT0FBTyxFQUFFLHFCQUFxQixFQUFFO0FBQ3JELHdCQUFnQixFQUFFLElBQUk7QUFDdEIsbUJBQVcsRUFBRSwyQkFBMkI7T0FDekMsQ0FBQyxDQUNELElBQUksQ0FBQyxVQUFDLFVBQVUsRUFBSztBQUNwQixZQUFNLEtBQUssR0FBRyxvQkFBRSxHQUFHLENBQUMsVUFBVSxFQUFFLHdCQUF3QixFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzlELFlBQU0sV0FBVyxHQUFHLG9CQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsVUFBQyxJQUFJO2lCQUFLLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTTtTQUFBLENBQUMsQ0FBQztBQUNwRSxZQUFNLGNBQWMsR0FBRyxvQkFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQ3ZELGVBQU8sb0JBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO09BQy9CLENBQUMsQ0FDRCxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQ04sQ0FBQyxVQUFDLEtBQUssRUFBSztBQUNoQixhQUFLLENBQUMscUNBQWMsS0FBSyxDQUFDLENBQUMsQ0FBQztPQUM3QixDQUFDLENBQUM7S0FDSjtHQUNGLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NjcmlwdHMvcmVnaXN0ZXJfbGFuZ3VhZ2VzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBoYW5kbGVFU0Vycm9yIGZyb20gJy4uLy4uLy4uL2xpYi9oYW5kbGVfZXNfZXJyb3InO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJMYW5ndWFnZXMoc2VydmVyKSB7XG4gIHNlcnZlci5yb3V0ZSh7XG4gICAgcGF0aDogJy9hcGkva2liYW5hL3NjcmlwdHMvbGFuZ3VhZ2VzJyxcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChyZXF1ZXN0LCByZXBseSkge1xuICAgICAgY29uc3QgeyBjYWxsV2l0aFJlcXVlc3QgfSA9IHNlcnZlci5wbHVnaW5zLmVsYXN0aWNzZWFyY2guZ2V0Q2x1c3RlcignZGF0YScpO1xuXG4gICAgICByZXR1cm4gY2FsbFdpdGhSZXF1ZXN0KHJlcXVlc3QsICdjbHVzdGVyLmdldFNldHRpbmdzJywge1xuICAgICAgICBpbmNsdWRlX2RlZmF1bHRzOiB0cnVlLFxuICAgICAgICBmaWx0ZXJfcGF0aDogJyoqLnNjcmlwdC5lbmdpbmUuKi5pbmxpbmUnXG4gICAgICB9KVxuICAgICAgLnRoZW4oKGVzUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgbGFuZ3MgPSBfLmdldChlc1Jlc3BvbnNlLCAnZGVmYXVsdHMuc2NyaXB0LmVuZ2luZScsIHt9KTtcbiAgICAgICAgY29uc3QgaW5saW5lTGFuZ3MgPSBfLnBpY2sobGFuZ3MsIChsYW5nKSA9PiBsYW5nLmlubGluZSA9PT0gJ3RydWUnKTtcbiAgICAgICAgY29uc3Qgc3VwcG9ydGVkTGFuZ3MgPSBfLm9taXQoaW5saW5lTGFuZ3MsICdtdXN0YWNoZScpO1xuICAgICAgICByZXR1cm4gXy5rZXlzKHN1cHBvcnRlZExhbmdzKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihyZXBseSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgcmVwbHkoaGFuZGxlRVNFcnJvcihlcnJvcikpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/scripts/register_languages.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;sBAAc,QAAQ;;;;kCACI,8BAA8B;;;;AAEjD,SAAS,iBAAiB,CAAC,MAAM,EAAE;AACxC,QAAM,CAAC,KAAK,CAAC;AACX,QAAI,EAAE,+BAA+B;AACrC,UAAM,EAAE,KAAK;AACb,WAAO,EAAE,iBAAU,OAAO,EAAE,KAAK,EAAE;qDACL,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC;;UAAnE,eAAe,4CAAf,eAAe;;AAEvB,aAAO,eAAe,CAAC,OAAO,EAAE,qBAAqB,EAAE;AACrD,wBAAgB,EAAE,IAAI;AACtB,mBAAW,EAAE,2BAA2B;OACzC,CAAC,CACD,IAAI,CAAC,UAAC,UAAU,EAAK;AACpB,YAAM,KAAK,GAAG,oBAAE,GAAG,CAAC,UAAU,EAAE,wBAAwB,EAAE,EAAE,CAAC,CAAC;AAC9D,YAAM,WAAW,GAAG,oBAAE,IAAI,CAAC,KAAK,EAAE,UAAC,IAAI;iBAAK,IAAI,CAAC,MAAM,KAAK,MAAM;SAAA,CAAC,CAAC;AACpE,YAAM,cAAc,GAAG,oBAAE,IAAI,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;AACvD,eAAO,oBAAE,IAAI,CAAC,cAAc,CAAC,CAAC;OAC/B,CAAC,CACD,IAAI,CAAC,KAAK,CAAC,SACN,CAAC,UAAC,KAAK,EAAK;AAChB,aAAK,CAAC,qCAAc,KAAK,CAAC,CAAC,CAAC;OAC7B,CAAC,CAAC;KACJ;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/scripts/register_languages.js",
      "sourcesContent": [
        "import _ from 'lodash';\nimport handleESError from '../../../lib/handle_es_error';\n\nexport function registerLanguages(server) {\n  server.route({\n    path: '/api/kibana/scripts/languages',\n    method: 'GET',\n    handler: function (request, reply) {\n      const { callWithRequest } = server.plugins.elasticsearch.getCluster('data');\n\n      return callWithRequest(request, 'cluster.getSettings', {\n        include_defaults: true,\n        filter_path: '**.script.engine.*.inline'\n      })\n      .then((esResponse) => {\n        const langs = _.get(esResponse, 'defaults.script.engine', {});\n        const inlineLangs = _.pick(langs, (lang) => lang.inline === 'true');\n        const supportedLangs = _.omit(inlineLangs, 'mustache');\n        return _.keys(supportedLangs);\n      })\n      .then(reply)\n      .catch((error) => {\n        reply(handleESError(error));\n      });\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/lib/system_api.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "isSystemApiRequest",
            "request"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "isSystemApiRequest",
              "exported": "isSystemApiRequest"
            },
            {
              "kind": "local",
              "local": "request",
              "exported": "request"
            }
          ]
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.isSystemApiRequest = isSystemApiRequest;\nvar SYSTEM_API_HEADER_NAME = 'kbn-system-api';\n\n/**\n * Checks on the *server-side*, if an HTTP request is a system API request\n *\n * @param request HAPI request object\n * @return        true if request is a system API request; false, otherwise\n */\n\nfunction isSystemApiRequest(request) {\n  return !!request.headers[SYSTEM_API_HEADER_NAME];\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9saWIvc3lzdGVtX2FwaS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFNLHNCQUFzQixHQUFHLGdCQUFnQixDQUFDOzs7Ozs7Ozs7QUFRekMsU0FBUyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUU7QUFDMUMsU0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0NBQ2xEIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9saWIvc3lzdGVtX2FwaS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNZU1RFTV9BUElfSEVBREVSX05BTUUgPSAna2JuLXN5c3RlbS1hcGknO1xuXG4vKipcbiAqIENoZWNrcyBvbiB0aGUgKnNlcnZlci1zaWRlKiwgaWYgYW4gSFRUUCByZXF1ZXN0IGlzIGEgc3lzdGVtIEFQSSByZXF1ZXN0XG4gKlxuICogQHBhcmFtIHJlcXVlc3QgSEFQSSByZXF1ZXN0IG9iamVjdFxuICogQHJldHVybiAgICAgICAgdHJ1ZSBpZiByZXF1ZXN0IGlzIGEgc3lzdGVtIEFQSSByZXF1ZXN0OyBmYWxzZSwgb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N5c3RlbUFwaVJlcXVlc3QocmVxdWVzdCkge1xuICByZXR1cm4gISFyZXF1ZXN0LmhlYWRlcnNbU1lTVEVNX0FQSV9IRUFERVJfTkFNRV07XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/lib/system_api.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAAA,IAAM,sBAAsB,GAAG,gBAAgB,CAAC;;;;;;;;;AAQzC,SAAS,kBAAkB,CAAC,OAAO,EAAE;AAC1C,SAAO,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;CAClD",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/lib/system_api.js",
      "sourcesContent": [
        "const SYSTEM_API_HEADER_NAME = 'kbn-system-api';\n\n/**\n * Checks on the *server-side*, if an HTTP request is a system API request\n *\n * @param request HAPI request object\n * @return        true if request is a system API request; false, otherwise\n */\nexport function isSystemApiRequest(request) {\n  return !!request.headers[SYSTEM_API_HEADER_NAME];\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/markdown_vis/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (kibana) {\n\n  return new kibana.Plugin({\n\n    uiExports: {\n      visTypes: ['plugins/markdown_vis/markdown_vis']\n    }\n\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvbWFya2Rvd25fdmlzL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztxQkFBZSxVQUFVLE1BQU0sRUFBRTs7QUFFL0IsU0FBTyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUM7O0FBRXZCLGFBQVMsRUFBRTtBQUNULGNBQVEsRUFBRSxDQUNSLG1DQUFtQyxDQUNwQztLQUNGOztHQUVGLENBQUMsQ0FBQztDQUVKIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvbWFya2Rvd25fdmlzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGtpYmFuYSkge1xuXG4gIHJldHVybiBuZXcga2liYW5hLlBsdWdpbih7XG5cbiAgICB1aUV4cG9ydHM6IHtcbiAgICAgIHZpc1R5cGVzOiBbXG4gICAgICAgICdwbHVnaW5zL21hcmtkb3duX3Zpcy9tYXJrZG93bl92aXMnXG4gICAgICBdXG4gICAgfVxuXG4gIH0pO1xuXG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/markdown_vis/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAU,MAAM,EAAE;;AAE/B,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;;AAEvB,aAAS,EAAE;AACT,cAAQ,EAAE,CACR,mCAAmC,CACpC;KACF;;GAEF,CAAC,CAAC;CAEJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/markdown_vis/index.js",
      "sourcesContent": [
        "export default function (kibana) {\n\n  return new kibana.Plugin({\n\n    uiExports: {\n      visTypes: [\n        'plugins/markdown_vis/markdown_vis'\n      ]\n    }\n\n  });\n\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/metric_vis/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (kibana) {\n\n  return new kibana.Plugin({\n\n    uiExports: {\n      visTypes: ['plugins/metric_vis/metric_vis']\n    }\n\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvbWV0cmljX3Zpcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7cUJBQWUsVUFBVSxNQUFNLEVBQUU7O0FBRS9CLFNBQU8sSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDOztBQUV2QixhQUFTLEVBQUU7QUFDVCxjQUFRLEVBQUUsQ0FDUiwrQkFBK0IsQ0FDaEM7S0FDRjs7R0FFRixDQUFDLENBQUM7Q0FFSiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL21ldHJpY192aXMvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoa2liYW5hKSB7XG5cbiAgcmV0dXJuIG5ldyBraWJhbmEuUGx1Z2luKHtcblxuICAgIHVpRXhwb3J0czoge1xuICAgICAgdmlzVHlwZXM6IFtcbiAgICAgICAgJ3BsdWdpbnMvbWV0cmljX3Zpcy9tZXRyaWNfdmlzJ1xuICAgICAgXVxuICAgIH1cblxuICB9KTtcblxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/metric_vis/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAU,MAAM,EAAE;;AAE/B,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;;AAEvB,aAAS,EAAE;AACT,cAAQ,EAAE,CACR,+BAA+B,CAChC;KACF;;GAEF,CAAC,CAAC;CAEJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/metric_vis/index.js",
      "sourcesContent": [
        "export default function (kibana) {\n\n  return new kibana.Plugin({\n\n    uiExports: {\n      visTypes: [\n        'plugins/metric_vis/metric_vis'\n      ]\n    }\n\n  });\n\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/spy_modes/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (kibana) {\n  return new kibana.Plugin({\n    uiExports: {\n      spyModes: ['plugins/spy_modes/table_spy_mode', 'plugins/spy_modes/req_resp_stats_spy_mode']\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvc3B5X21vZGVzL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztxQkFBZSxVQUFVLE1BQU0sRUFBRTtBQUMvQixTQUFPLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUN2QixhQUFTLEVBQUU7QUFDVCxjQUFRLEVBQUUsQ0FDUixrQ0FBa0MsRUFDbEMsMkNBQTJDLENBQzVDO0tBQ0Y7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3NweV9tb2Rlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChraWJhbmEpIHtcbiAgcmV0dXJuIG5ldyBraWJhbmEuUGx1Z2luKHtcbiAgICB1aUV4cG9ydHM6IHtcbiAgICAgIHNweU1vZGVzOiBbXG4gICAgICAgICdwbHVnaW5zL3NweV9tb2Rlcy90YWJsZV9zcHlfbW9kZScsXG4gICAgICAgICdwbHVnaW5zL3NweV9tb2Rlcy9yZXFfcmVzcF9zdGF0c19zcHlfbW9kZSdcbiAgICAgIF1cbiAgICB9XG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/spy_modes/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAU,MAAM,EAAE;AAC/B,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;AACvB,aAAS,EAAE;AACT,cAAQ,EAAE,CACR,kCAAkC,EAClC,2CAA2C,CAC5C;KACF;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/spy_modes/index.js",
      "sourcesContent": [
        "export default function (kibana) {\n  return new kibana.Plugin({\n    uiExports: {\n      spyModes: [\n        'plugins/spy_modes/table_spy_mode',\n        'plugins/spy_modes/req_resp_stats_spy_mode'\n      ]\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/status_page/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (kibana) {\n  return new kibana.Plugin({\n    uiExports: {\n      app: {\n        title: 'Server Status',\n        main: 'plugins/status_page/status_page',\n        hidden: true,\n        url: '/status'\n      }\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvc3RhdHVzX3BhZ2UvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O3FCQUFlLFVBQVUsTUFBTSxFQUFFO0FBQy9CLFNBQU8sSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ3ZCLGFBQVMsRUFBRTtBQUNULFNBQUcsRUFBRTtBQUNILGFBQUssRUFBRSxlQUFlO0FBQ3RCLFlBQUksRUFBRSxpQ0FBaUM7QUFDdkMsY0FBTSxFQUFFLElBQUk7QUFDWixXQUFHLEVBQUUsU0FBUztPQUNmO0tBQ0Y7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3N0YXR1c19wYWdlL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGtpYmFuYSkge1xuICByZXR1cm4gbmV3IGtpYmFuYS5QbHVnaW4oe1xuICAgIHVpRXhwb3J0czoge1xuICAgICAgYXBwOiB7XG4gICAgICAgIHRpdGxlOiAnU2VydmVyIFN0YXR1cycsXG4gICAgICAgIG1haW46ICdwbHVnaW5zL3N0YXR1c19wYWdlL3N0YXR1c19wYWdlJyxcbiAgICAgICAgaGlkZGVuOiB0cnVlLFxuICAgICAgICB1cmw6ICcvc3RhdHVzJ1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/status_page/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAU,MAAM,EAAE;AAC/B,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;AACvB,aAAS,EAAE;AACT,SAAG,EAAE;AACH,aAAK,EAAE,eAAe;AACtB,YAAI,EAAE,iCAAiC;AACvC,cAAM,EAAE,IAAI;AACZ,WAAG,EAAE,SAAS;OACf;KACF;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/status_page/index.js",
      "sourcesContent": [
        "export default function (kibana) {\n  return new kibana.Plugin({\n    uiExports: {\n      app: {\n        title: 'Server Status',\n        main: 'plugins/status_page/status_page',\n        hidden: true,\n        url: '/status'\n      }\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/table_vis/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (kibana) {\n\n  return new kibana.Plugin({\n    uiExports: {\n      visTypes: ['plugins/table_vis/table_vis']\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGFibGVfdmlzL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztxQkFBZSxVQUFVLE1BQU0sRUFBRTs7QUFFL0IsU0FBTyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDdkIsYUFBUyxFQUFFO0FBQ1QsY0FBUSxFQUFFLENBQ1IsNkJBQTZCLENBQzlCO0tBQ0Y7R0FDRixDQUFDLENBQUM7Q0FFSiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RhYmxlX3Zpcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChraWJhbmEpIHtcblxuICByZXR1cm4gbmV3IGtpYmFuYS5QbHVnaW4oe1xuICAgIHVpRXhwb3J0czoge1xuICAgICAgdmlzVHlwZXM6IFtcbiAgICAgICAgJ3BsdWdpbnMvdGFibGVfdmlzL3RhYmxlX3ZpcydcbiAgICAgIF1cbiAgICB9XG4gIH0pO1xuXG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/table_vis/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAU,MAAM,EAAE;;AAE/B,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;AACvB,aAAS,EAAE;AACT,cAAQ,EAAE,CACR,6BAA6B,CAC9B;KACF;GACF,CAAC,CAAC;CAEJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/table_vis/index.js",
      "sourcesContent": [
        "export default function (kibana) {\n\n  return new kibana.Plugin({\n    uiExports: {\n      visTypes: [\n        'plugins/table_vis/table_vis'\n      ]\n    }\n  });\n\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/tagcloud/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function (kibana) {\n\n  return new kibana.Plugin({\n    uiExports: {\n      visTypes: ['plugins/tagcloud/tag_cloud_vis']\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGFnY2xvdWQvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O3FCQUFlLFVBQVUsTUFBTSxFQUFFOztBQUUvQixTQUFPLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUN2QixhQUFTLEVBQUU7QUFDVCxjQUFRLEVBQUUsQ0FBQyxnQ0FBZ0MsQ0FBQztLQUM3QztHQUNGLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGFnY2xvdWQvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoa2liYW5hKSB7XG5cbiAgcmV0dXJuIG5ldyBraWJhbmEuUGx1Z2luKHtcbiAgICB1aUV4cG9ydHM6IHtcbiAgICAgIHZpc1R5cGVzOiBbJ3BsdWdpbnMvdGFnY2xvdWQvdGFnX2Nsb3VkX3ZpcyddXG4gICAgfVxuICB9KTtcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/tagcloud/index.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBAAe,UAAU,MAAM,EAAE;;AAE/B,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;AACvB,aAAS,EAAE;AACT,cAAQ,EAAE,CAAC,gCAAgC,CAAC;KAC7C;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/tagcloud/index.js",
      "sourcesContent": [
        "export default function (kibana) {\n\n  return new kibana.Plugin({\n    uiExports: {\n      visTypes: ['plugins/tagcloud/tag_cloud_vis']\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/tests_bundle/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "union"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "union",
                "local": "union"
              }
            ]
          },
          {
            "source": "../../ui/settings/defaults",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "defaultsProvider"
              }
            ]
          },
          {
            "source": "./find_source_files",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "findSourceFiles"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "fromRoot"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromRoot",
                "local": "fromRoot"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _lodash = require('lodash');\n\nvar _uiSettingsDefaults = require('../../ui/settings/defaults');\n\nvar _uiSettingsDefaults2 = _interopRequireDefault(_uiSettingsDefaults);\n\nvar _find_source_files = require('./find_source_files');\n\nvar _find_source_files2 = _interopRequireDefault(_find_source_files);\n\nvar _utils = require('../../utils');\n\nexports['default'] = function (kibana) {\n  return new kibana.Plugin({\n    config: function config(Joi) {\n      return Joi.object({\n        enabled: Joi.boolean()['default'](true),\n        instrument: Joi.boolean()['default'](false),\n        pluginId: Joi.string()\n      })['default']();\n    },\n\n    uiExports: {\n      bundle: _asyncToGenerator(function* (UiBundle, env, apps, plugins) {\n        var modules = [];\n        var config = kibana.config;\n\n        var testGlobs = ['src/ui/public/**/*.js'];\n        var testingPluginIds = config.get('tests_bundle.pluginId');\n\n        if (testingPluginIds) {\n          testGlobs.push('!src/ui/public/**/__tests__/**/*');\n          testingPluginIds.split(',').forEach(function (pluginId) {\n            var plugin = plugins.byId[pluginId];\n            if (!plugin) throw new Error('Invalid testingPluginId :: unknown plugin ' + pluginId);\n\n            // add the modules from all of this plugins apps\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n              for (var _iterator = plugin.apps[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var app = _step.value;\n\n                modules = (0, _lodash.union)(modules, app.getModules());\n              }\n            } catch (err) {\n              _didIteratorError = true;\n              _iteratorError = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion && _iterator['return']) {\n                  _iterator['return']();\n                }\n              } finally {\n                if (_didIteratorError) {\n                  throw _iteratorError;\n                }\n              }\n            }\n\n            testGlobs.push(plugin.publicDir + '/**/__tests__/**/*.js');\n          });\n        } else {\n\n          // add the modules from all of the apps\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = apps[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var app = _step2.value;\n\n              modules = (0, _lodash.union)(modules, app.getModules());\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n                _iterator2['return']();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n\n          var _iteratorNormalCompletion3 = true;\n          var _didIteratorError3 = false;\n          var _iteratorError3 = undefined;\n\n          try {\n            for (var _iterator3 = plugins[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n              var plugin = _step3.value;\n\n              testGlobs.push(plugin.publicDir + '/**/__tests__/**/*.js');\n            }\n          } catch (err) {\n            _didIteratorError3 = true;\n            _iteratorError3 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n                _iterator3['return']();\n              }\n            } finally {\n              if (_didIteratorError3) {\n                throw _iteratorError3;\n              }\n            }\n          }\n        }\n\n        var testFiles = yield (0, _find_source_files2['default'])(testGlobs);\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = testFiles[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var f = _step4.value;\n            modules.push(f);\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n              _iterator4['return']();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n\n        if (config.get('tests_bundle.instrument')) {\n          env.addPostLoader({\n            test: /\\.jsx?$/,\n            exclude: /[\\/\\\\](__tests__|node_modules|bower_components|webpackShims)[\\/\\\\]/,\n            loader: 'istanbul-instrumenter'\n          });\n        }\n\n        env.defaultUiSettings = (0, _uiSettingsDefaults2['default'])();\n\n        return new UiBundle({\n          id: 'tests',\n          modules: modules,\n          template: require('./tests_entry_template'),\n          env: env\n        });\n      }),\n\n      __globalImportAliases__: {\n        ng_mock$: (0, _utils.fromRoot)('src/core_plugins/dev_mode/public/ng_mock'),\n        'angular-mocks$': require.resolve('./webpackShims/angular-mocks'),\n        fixtures: (0, _utils.fromRoot)('src/fixtures'),\n        test_utils: (0, _utils.fromRoot)('src/test_utils')\n      }\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGVzdHNfYnVuZGxlL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7c0JBQXNCLFFBQVE7O2tDQUNELDRCQUE0Qjs7OztpQ0FDN0IscUJBQXFCOzs7O3FCQUN4QixhQUFhOztxQkFFdkIsVUFBQyxNQUFNLEVBQUs7QUFDekIsU0FBTyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDdkIsVUFBTSxFQUFFLGdCQUFDLEdBQUcsRUFBSztBQUNmLGFBQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQztBQUNoQixlQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxXQUFRLENBQUMsSUFBSSxDQUFDO0FBQ3BDLGtCQUFVLEVBQUUsR0FBRyxDQUFDLE9BQU8sRUFBRSxXQUFRLENBQUMsS0FBSyxDQUFDO0FBQ3hDLGdCQUFRLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRTtPQUN2QixDQUFDLFdBQVEsRUFBRSxDQUFDO0tBQ2Q7O0FBRUQsYUFBUyxFQUFFO0FBQ1QsWUFBTSxvQkFBRSxXQUFPLFFBQVEsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBSztBQUM5QyxZQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7QUFDakIsWUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQzs7QUFFN0IsWUFBTSxTQUFTLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0FBQzVDLFlBQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDOztBQUU3RCxZQUFJLGdCQUFnQixFQUFFO0FBQ3BCLG1CQUFTLENBQUMsSUFBSSxDQUFDLGtDQUFrQyxDQUFDLENBQUM7QUFDbkQsMEJBQWdCLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFDLFFBQVEsRUFBSztBQUNoRCxnQkFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN0QyxnQkFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLDRDQUE0QyxHQUFHLFFBQVEsQ0FBQyxDQUFDOzs7Ozs7OztBQUd0RixtQ0FBa0IsTUFBTSxDQUFDLElBQUksOEhBQUU7b0JBQXBCLEdBQUc7O0FBQ1osdUJBQU8sR0FBRyxtQkFBTSxPQUFPLEVBQUUsR0FBRyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7ZUFDNUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFRCxxQkFBUyxDQUFDLElBQUksQ0FBSSxNQUFNLENBQUMsU0FBUywyQkFBd0IsQ0FBQztXQUM1RCxDQUFDLENBQUM7U0FDSixNQUFNOzs7Ozs7OztBQUdMLGtDQUFrQixJQUFJLG1JQUFFO2tCQUFiLEdBQUc7O0FBQ1oscUJBQU8sR0FBRyxtQkFBTSxPQUFPLEVBQUUsR0FBRyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7YUFDNUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVELGtDQUFxQixPQUFPLG1JQUFFO2tCQUFuQixNQUFNOztBQUNmLHVCQUFTLENBQUMsSUFBSSxDQUFJLE1BQU0sQ0FBQyxTQUFTLDJCQUF3QixDQUFDO2FBQzVEOzs7Ozs7Ozs7Ozs7Ozs7U0FDRjs7QUFFRCxZQUFNLFNBQVMsR0FBRyxNQUFNLG9DQUFnQixTQUFTLENBQUMsQ0FBQzs7Ozs7O0FBQ25ELGdDQUFnQixTQUFTO2dCQUFkLENBQUM7QUFBZSxtQkFBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztXQUFBOzs7Ozs7Ozs7Ozs7Ozs7O0FBRTNDLFlBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxFQUFFO0FBQ3pDLGFBQUcsQ0FBQyxhQUFhLENBQUM7QUFDaEIsZ0JBQUksRUFBRSxTQUFTO0FBQ2YsbUJBQU8sRUFBRSxvRUFBb0U7QUFDN0Usa0JBQU0sRUFBRSx1QkFBdUI7V0FDaEMsQ0FBQyxDQUFDO1NBQ0o7O0FBRUQsV0FBRyxDQUFDLGlCQUFpQixHQUFHLHNDQUFrQixDQUFDOztBQUUzQyxlQUFPLElBQUksUUFBUSxDQUFDO0FBQ2xCLFlBQUUsRUFBRSxPQUFPO0FBQ1gsaUJBQU8sRUFBRSxPQUFPO0FBQ2hCLGtCQUFRLEVBQUUsT0FBTyxDQUFDLHdCQUF3QixDQUFDO0FBQzNDLGFBQUcsRUFBRSxHQUFHO1NBQ1QsQ0FBQyxDQUFDO09BQ0osQ0FBQTs7QUFFRCw2QkFBdUIsRUFBRTtBQUN2QixnQkFBUSxFQUFFLHFCQUFTLDBDQUEwQyxDQUFDO0FBQzlELHdCQUFnQixFQUFFLE9BQU8sQ0FBQyxPQUFPLENBQUMsOEJBQThCLENBQUM7QUFDakUsZ0JBQVEsRUFBRSxxQkFBUyxjQUFjLENBQUM7QUFDbEMsa0JBQVUsRUFBRSxxQkFBUyxnQkFBZ0IsQ0FBQztPQUN2QztLQUNGO0dBQ0YsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90ZXN0c19idW5kbGUvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1bmlvbiB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgZGVmYXVsdHNQcm92aWRlciBmcm9tICcuLi8uLi91aS9zZXR0aW5ncy9kZWZhdWx0cyc7XG5pbXBvcnQgZmluZFNvdXJjZUZpbGVzIGZyb20gJy4vZmluZF9zb3VyY2VfZmlsZXMnO1xuaW1wb3J0IHsgZnJvbVJvb3QgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IChraWJhbmEpID0+IHtcbiAgcmV0dXJuIG5ldyBraWJhbmEuUGx1Z2luKHtcbiAgICBjb25maWc6IChKb2kpID0+IHtcbiAgICAgIHJldHVybiBKb2kub2JqZWN0KHtcbiAgICAgICAgZW5hYmxlZDogSm9pLmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuICAgICAgICBpbnN0cnVtZW50OiBKb2kuYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICAgICAgICBwbHVnaW5JZDogSm9pLnN0cmluZygpXG4gICAgICB9KS5kZWZhdWx0KCk7XG4gICAgfSxcblxuICAgIHVpRXhwb3J0czoge1xuICAgICAgYnVuZGxlOiBhc3luYyAoVWlCdW5kbGUsIGVudiwgYXBwcywgcGx1Z2lucykgPT4ge1xuICAgICAgICBsZXQgbW9kdWxlcyA9IFtdO1xuICAgICAgICBjb25zdCBjb25maWcgPSBraWJhbmEuY29uZmlnO1xuXG4gICAgICAgIGNvbnN0IHRlc3RHbG9icyA9IFsnc3JjL3VpL3B1YmxpYy8qKi8qLmpzJ107XG4gICAgICAgIGNvbnN0IHRlc3RpbmdQbHVnaW5JZHMgPSBjb25maWcuZ2V0KCd0ZXN0c19idW5kbGUucGx1Z2luSWQnKTtcblxuICAgICAgICBpZiAodGVzdGluZ1BsdWdpbklkcykge1xuICAgICAgICAgIHRlc3RHbG9icy5wdXNoKCchc3JjL3VpL3B1YmxpYy8qKi9fX3Rlc3RzX18vKiovKicpO1xuICAgICAgICAgIHRlc3RpbmdQbHVnaW5JZHMuc3BsaXQoJywnKS5mb3JFYWNoKChwbHVnaW5JZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGx1Z2luID0gcGx1Z2lucy5ieUlkW3BsdWdpbklkXTtcbiAgICAgICAgICAgIGlmICghcGx1Z2luKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGVzdGluZ1BsdWdpbklkIDo6IHVua25vd24gcGx1Z2luICcgKyBwbHVnaW5JZCk7XG5cbiAgICAgICAgICAgIC8vIGFkZCB0aGUgbW9kdWxlcyBmcm9tIGFsbCBvZiB0aGlzIHBsdWdpbnMgYXBwc1xuICAgICAgICAgICAgZm9yIChjb25zdCBhcHAgb2YgcGx1Z2luLmFwcHMpIHtcbiAgICAgICAgICAgICAgbW9kdWxlcyA9IHVuaW9uKG1vZHVsZXMsIGFwcC5nZXRNb2R1bGVzKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXN0R2xvYnMucHVzaChgJHtwbHVnaW4ucHVibGljRGlyfS8qKi9fX3Rlc3RzX18vKiovKi5qc2ApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgLy8gYWRkIHRoZSBtb2R1bGVzIGZyb20gYWxsIG9mIHRoZSBhcHBzXG4gICAgICAgICAgZm9yIChjb25zdCBhcHAgb2YgYXBwcykge1xuICAgICAgICAgICAgbW9kdWxlcyA9IHVuaW9uKG1vZHVsZXMsIGFwcC5nZXRNb2R1bGVzKCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAoY29uc3QgcGx1Z2luIG9mIHBsdWdpbnMpIHtcbiAgICAgICAgICAgIHRlc3RHbG9icy5wdXNoKGAke3BsdWdpbi5wdWJsaWNEaXJ9LyoqL19fdGVzdHNfXy8qKi8qLmpzYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGVzdEZpbGVzID0gYXdhaXQgZmluZFNvdXJjZUZpbGVzKHRlc3RHbG9icyk7XG4gICAgICAgIGZvciAoY29uc3QgZiBvZiB0ZXN0RmlsZXMpIG1vZHVsZXMucHVzaChmKTtcblxuICAgICAgICBpZiAoY29uZmlnLmdldCgndGVzdHNfYnVuZGxlLmluc3RydW1lbnQnKSkge1xuICAgICAgICAgIGVudi5hZGRQb3N0TG9hZGVyKHtcbiAgICAgICAgICAgIHRlc3Q6IC9cXC5qc3g/JC8sXG4gICAgICAgICAgICBleGNsdWRlOiAvW1xcL1xcXFxdKF9fdGVzdHNfX3xub2RlX21vZHVsZXN8Ym93ZXJfY29tcG9uZW50c3x3ZWJwYWNrU2hpbXMpW1xcL1xcXFxdLyxcbiAgICAgICAgICAgIGxvYWRlcjogJ2lzdGFuYnVsLWluc3RydW1lbnRlcidcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVudi5kZWZhdWx0VWlTZXR0aW5ncyA9IGRlZmF1bHRzUHJvdmlkZXIoKTtcblxuICAgICAgICByZXR1cm4gbmV3IFVpQnVuZGxlKHtcbiAgICAgICAgICBpZDogJ3Rlc3RzJyxcbiAgICAgICAgICBtb2R1bGVzOiBtb2R1bGVzLFxuICAgICAgICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL3Rlc3RzX2VudHJ5X3RlbXBsYXRlJyksXG4gICAgICAgICAgZW52OiBlbnZcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBfX2dsb2JhbEltcG9ydEFsaWFzZXNfXzoge1xuICAgICAgICBuZ19tb2NrJDogZnJvbVJvb3QoJ3NyYy9jb3JlX3BsdWdpbnMvZGV2X21vZGUvcHVibGljL25nX21vY2snKSxcbiAgICAgICAgJ2FuZ3VsYXItbW9ja3MkJzogcmVxdWlyZS5yZXNvbHZlKCcuL3dlYnBhY2tTaGltcy9hbmd1bGFyLW1vY2tzJyksXG4gICAgICAgIGZpeHR1cmVzOiBmcm9tUm9vdCgnc3JjL2ZpeHR1cmVzJyksXG4gICAgICAgIHRlc3RfdXRpbHM6IGZyb21Sb290KCdzcmMvdGVzdF91dGlscycpLFxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/tests_bundle/index.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/tests_bundle/index.js",
      "sourcesContent": [
        "import { union } from 'lodash';\nimport defaultsProvider from '../../ui/settings/defaults';\nimport findSourceFiles from './find_source_files';\nimport { fromRoot } from '../../utils';\n\nexport default (kibana) => {\n  return new kibana.Plugin({\n    config: (Joi) => {\n      return Joi.object({\n        enabled: Joi.boolean().default(true),\n        instrument: Joi.boolean().default(false),\n        pluginId: Joi.string()\n      }).default();\n    },\n\n    uiExports: {\n      bundle: async (UiBundle, env, apps, plugins) => {\n        let modules = [];\n        const config = kibana.config;\n\n        const testGlobs = ['src/ui/public/**/*.js'];\n        const testingPluginIds = config.get('tests_bundle.pluginId');\n\n        if (testingPluginIds) {\n          testGlobs.push('!src/ui/public/**/__tests__/**/*');\n          testingPluginIds.split(',').forEach((pluginId) => {\n            const plugin = plugins.byId[pluginId];\n            if (!plugin) throw new Error('Invalid testingPluginId :: unknown plugin ' + pluginId);\n\n            // add the modules from all of this plugins apps\n            for (const app of plugin.apps) {\n              modules = union(modules, app.getModules());\n            }\n\n            testGlobs.push(`${plugin.publicDir}/**/__tests__/**/*.js`);\n          });\n        } else {\n\n          // add the modules from all of the apps\n          for (const app of apps) {\n            modules = union(modules, app.getModules());\n          }\n\n          for (const plugin of plugins) {\n            testGlobs.push(`${plugin.publicDir}/**/__tests__/**/*.js`);\n          }\n        }\n\n        const testFiles = await findSourceFiles(testGlobs);\n        for (const f of testFiles) modules.push(f);\n\n        if (config.get('tests_bundle.instrument')) {\n          env.addPostLoader({\n            test: /\\.jsx?$/,\n            exclude: /[\\/\\\\](__tests__|node_modules|bower_components|webpackShims)[\\/\\\\]/,\n            loader: 'istanbul-instrumenter'\n          });\n        }\n\n        env.defaultUiSettings = defaultsProvider();\n\n        return new UiBundle({\n          id: 'tests',\n          modules: modules,\n          template: require('./tests_entry_template'),\n          env: env\n        });\n      },\n\n      __globalImportAliases__: {\n        ng_mock$: fromRoot('src/core_plugins/dev_mode/public/ng_mock'),\n        'angular-mocks$': require.resolve('./webpackShims/angular-mocks'),\n        fixtures: fromRoot('src/fixtures'),\n        test_utils: fromRoot('src/test_utils'),\n      }\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/tests_bundle/find_source_files.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "../../utils",
            "imported": [
              "fromRoot"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromRoot",
                "local": "fromRoot"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "chain",
              "memoize"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "chain",
                "local": "chain"
              },
              {
                "kind": "named",
                "imported": "memoize",
                "local": "memoize"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "resolve"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "resolve",
                "local": "resolve"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "map",
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "map",
                "local": "map"
              },
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          },
          {
            "source": "glob-all",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "glob"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _utils = require('../../utils');\n\nvar _lodash = require('lodash');\n\nvar _path = require('path');\n\nvar _bluebird = require('bluebird');\n\nvar _globAll = require('glob-all');\n\nvar _globAll2 = _interopRequireDefault(_globAll);\n\nvar findSourceFiles = _asyncToGenerator(function* (patterns) {\n  var cwd = arguments.length <= 1 || arguments[1] === undefined ? (0, _utils.fromRoot)('.') : arguments[1];\n\n  patterns = [].concat(patterns || []);\n\n  var matches = yield (0, _bluebird.fromNode)(function (cb) {\n    (0, _globAll2['default'])(patterns, {\n      cwd: cwd,\n      ignore: ['node_modules/**/*', 'bower_components/**/*', '**/_*.js'],\n      symlinks: findSourceFiles.symlinks,\n      statCache: findSourceFiles.statCache,\n      realpathCache: findSourceFiles.realpathCache,\n      cache: findSourceFiles.cache\n    }, cb);\n  });\n\n  return (0, _lodash.chain)(matches).flatten().uniq().map(function (match) {\n    return (0, _path.resolve)(cwd, match);\n  }).value();\n});\n\nfindSourceFiles.symlinks = {};\nfindSourceFiles.statCache = {};\nfindSourceFiles.realpathCache = {};\nfindSourceFiles.cache = {};\n\nmodule.exports = findSourceFiles;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGVzdHNfYnVuZGxlL2ZpbmRfc291cmNlX2ZpbGVzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztxQkFDeUIsYUFBYTs7c0JBQ1AsUUFBUTs7b0JBQ2YsTUFBTTs7d0JBQ0EsVUFBVTs7dUJBQ3ZCLFVBQVU7Ozs7QUFFM0IsSUFBTSxlQUFlLHFCQUFHLFdBQU8sUUFBUSxFQUEwQjtNQUF4QixHQUFHLHlEQUFHLHFCQUFTLEdBQUcsQ0FBQzs7QUFDMUQsVUFBUSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQyxDQUFDOztBQUVyQyxNQUFNLE9BQU8sR0FBRyxNQUFNLHdCQUFTLFVBQUEsRUFBRSxFQUFJO0FBQ25DLDhCQUFLLFFBQVEsRUFBRTtBQUNiLFNBQUcsRUFBRSxHQUFHO0FBQ1IsWUFBTSxFQUFFLENBQ04sbUJBQW1CLEVBQ25CLHVCQUF1QixFQUN2QixVQUFVLENBQ1g7QUFDRCxjQUFRLEVBQUUsZUFBZSxDQUFDLFFBQVE7QUFDbEMsZUFBUyxFQUFFLGVBQWUsQ0FBQyxTQUFTO0FBQ3BDLG1CQUFhLEVBQUUsZUFBZSxDQUFDLGFBQWE7QUFDNUMsV0FBSyxFQUFFLGVBQWUsQ0FBQyxLQUFLO0tBQzdCLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDUixDQUFDLENBQUM7O0FBRUgsU0FBTyxtQkFBTSxPQUFPLENBQUMsQ0FDcEIsT0FBTyxFQUFFLENBQ1QsSUFBSSxFQUFFLENBQ04sR0FBRyxDQUFDLFVBQUEsS0FBSztXQUFJLG1CQUFRLEdBQUcsRUFBRSxLQUFLLENBQUM7R0FBQSxDQUFDLENBQ2pDLEtBQUssRUFBRSxDQUFDO0NBQ1YsQ0FBQSxDQUFDOztBQUVGLGVBQWUsQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQzlCLGVBQWUsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBQy9CLGVBQWUsQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO0FBQ25DLGVBQWUsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDOztBQUUzQixNQUFNLENBQUMsT0FBTyxHQUFHLGVBQWUsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3Rlc3RzX2J1bmRsZS9maW5kX3NvdXJjZV9maWxlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgZnJvbVJvb3QgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBjaGFpbiwgbWVtb2l6ZSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyByZXNvbHZlIH0gZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBtYXAsIGZyb21Ob2RlIH0gZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IGdsb2IgZnJvbSAnZ2xvYi1hbGwnO1xuXG5jb25zdCBmaW5kU291cmNlRmlsZXMgPSBhc3luYyAocGF0dGVybnMsIGN3ZCA9IGZyb21Sb290KCcuJykpID0+IHtcbiAgcGF0dGVybnMgPSBbXS5jb25jYXQocGF0dGVybnMgfHwgW10pO1xuXG4gIGNvbnN0IG1hdGNoZXMgPSBhd2FpdCBmcm9tTm9kZShjYiA9PiB7XG4gICAgZ2xvYihwYXR0ZXJucywge1xuICAgICAgY3dkOiBjd2QsXG4gICAgICBpZ25vcmU6IFtcbiAgICAgICAgJ25vZGVfbW9kdWxlcy8qKi8qJyxcbiAgICAgICAgJ2Jvd2VyX2NvbXBvbmVudHMvKiovKicsXG4gICAgICAgICcqKi9fKi5qcydcbiAgICAgIF0sXG4gICAgICBzeW1saW5rczogZmluZFNvdXJjZUZpbGVzLnN5bWxpbmtzLFxuICAgICAgc3RhdENhY2hlOiBmaW5kU291cmNlRmlsZXMuc3RhdENhY2hlLFxuICAgICAgcmVhbHBhdGhDYWNoZTogZmluZFNvdXJjZUZpbGVzLnJlYWxwYXRoQ2FjaGUsXG4gICAgICBjYWNoZTogZmluZFNvdXJjZUZpbGVzLmNhY2hlXG4gICAgfSwgY2IpO1xuICB9KTtcblxuICByZXR1cm4gY2hhaW4obWF0Y2hlcylcbiAgLmZsYXR0ZW4oKVxuICAudW5pcSgpXG4gIC5tYXAobWF0Y2ggPT4gcmVzb2x2ZShjd2QsIG1hdGNoKSlcbiAgLnZhbHVlKCk7XG59O1xuXG5maW5kU291cmNlRmlsZXMuc3ltbGlua3MgPSB7fTtcbmZpbmRTb3VyY2VGaWxlcy5zdGF0Q2FjaGUgPSB7fTtcbmZpbmRTb3VyY2VGaWxlcy5yZWFscGF0aENhY2hlID0ge307XG5maW5kU291cmNlRmlsZXMuY2FjaGUgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBmaW5kU291cmNlRmlsZXM7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/tests_bundle/find_source_files.js"
      ],
      "names": [],
      "mappings": ";;;;;;qBACyB,aAAa;;sBACP,QAAQ;;oBACf,MAAM;;wBACA,UAAU;;uBACvB,UAAU;;;;AAE3B,IAAM,eAAe,qBAAG,WAAO,QAAQ,EAA0B;MAAxB,GAAG,yDAAG,qBAAS,GAAG,CAAC;;AAC1D,UAAQ,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC;;AAErC,MAAM,OAAO,GAAG,MAAM,wBAAS,UAAA,EAAE,EAAI;AACnC,8BAAK,QAAQ,EAAE;AACb,SAAG,EAAE,GAAG;AACR,YAAM,EAAE,CACN,mBAAmB,EACnB,uBAAuB,EACvB,UAAU,CACX;AACD,cAAQ,EAAE,eAAe,CAAC,QAAQ;AAClC,eAAS,EAAE,eAAe,CAAC,SAAS;AACpC,mBAAa,EAAE,eAAe,CAAC,aAAa;AAC5C,WAAK,EAAE,eAAe,CAAC,KAAK;KAC7B,EAAE,EAAE,CAAC,CAAC;GACR,CAAC,CAAC;;AAEH,SAAO,mBAAM,OAAO,CAAC,CACpB,OAAO,EAAE,CACT,IAAI,EAAE,CACN,GAAG,CAAC,UAAA,KAAK;WAAI,mBAAQ,GAAG,EAAE,KAAK,CAAC;GAAA,CAAC,CACjC,KAAK,EAAE,CAAC;CACV,CAAA,CAAC;;AAEF,eAAe,CAAC,QAAQ,GAAG,EAAE,CAAC;AAC9B,eAAe,CAAC,SAAS,GAAG,EAAE,CAAC;AAC/B,eAAe,CAAC,aAAa,GAAG,EAAE,CAAC;AACnC,eAAe,CAAC,KAAK,GAAG,EAAE,CAAC;;AAE3B,MAAM,CAAC,OAAO,GAAG,eAAe,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/tests_bundle/find_source_files.js",
      "sourcesContent": [
        "\nimport { fromRoot } from '../../utils';\nimport { chain, memoize } from 'lodash';\nimport { resolve } from 'path';\nimport { map, fromNode } from 'bluebird';\nimport glob from 'glob-all';\n\nconst findSourceFiles = async (patterns, cwd = fromRoot('.')) => {\n  patterns = [].concat(patterns || []);\n\n  const matches = await fromNode(cb => {\n    glob(patterns, {\n      cwd: cwd,\n      ignore: [\n        'node_modules/**/*',\n        'bower_components/**/*',\n        '**/_*.js'\n      ],\n      symlinks: findSourceFiles.symlinks,\n      statCache: findSourceFiles.statCache,\n      realpathCache: findSourceFiles.realpathCache,\n      cache: findSourceFiles.cache\n    }, cb);\n  });\n\n  return chain(matches)\n  .flatten()\n  .uniq()\n  .map(match => resolve(cwd, match))\n  .value();\n};\n\nfindSourceFiles.symlinks = {};\nfindSourceFiles.statCache = {};\nfindSourceFiles.realpathCache = {};\nfindSourceFiles.cache = {};\n\nmodule.exports = findSourceFiles;\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar path = require('path');\n\nmodule.exports = function (kibana) {\n  var mainFile = 'plugins/timelion/app';\n\n  var ownDescriptor = Object.getOwnPropertyDescriptor(kibana, 'autoload');\n  var protoDescriptor = Object.getOwnPropertyDescriptor(kibana.constructor.prototype, 'autoload');\n  var descriptor = ownDescriptor || protoDescriptor || {};\n  if (descriptor.get) {\n    // the autoload list has been replaced with a getter that complains about\n    // improper access, bypass that getter by seeing if it is defined\n    mainFile = 'plugins/timelion/app_with_autoload';\n  }\n\n  return new kibana.Plugin({\n    require: ['kibana', 'elasticsearch'],\n    uiExports: {\n      app: {\n        title: 'Timelion',\n        order: -1000,\n        description: 'Time series expressions for everything',\n        icon: 'plugins/timelion/icon.svg',\n        main: mainFile,\n        injectVars: function injectVars(server, options) {\n          var config = server.config();\n          return {\n            kbnIndex: config.get('kibana.index'),\n            esShardTimeout: config.get('elasticsearch.shardTimeout'),\n            esApiVersion: config.get('elasticsearch.apiVersion')\n          };\n        }\n      },\n      hacks: ['plugins/timelion/lib/panel_registry', 'plugins/timelion/panels/timechart/timechart'],\n      visTypes: ['plugins/timelion/vis']\n    },\n    init: require('./init.js')\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRTdCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxNQUFNLEVBQUU7QUFDakMsTUFBSSxRQUFRLEdBQUcsc0JBQXNCLENBQUM7O0FBRXRDLE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDMUUsTUFBTSxlQUFlLEdBQUcsTUFBTSxDQUFDLHdCQUF3QixDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQ2xHLE1BQU0sVUFBVSxHQUFHLGFBQWEsSUFBSSxlQUFlLElBQUksRUFBRSxDQUFDO0FBQzFELE1BQUksVUFBVSxDQUFDLEdBQUcsRUFBRTs7O0FBR2xCLFlBQVEsR0FBRyxvQ0FBb0MsQ0FBQztHQUNqRDs7QUFFRCxTQUFPLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUN2QixXQUFPLEVBQUUsQ0FBQyxRQUFRLEVBQUUsZUFBZSxDQUFDO0FBQ3BDLGFBQVMsRUFBRTtBQUNULFNBQUcsRUFBRTtBQUNILGFBQUssRUFBRSxVQUFVO0FBQ2pCLGFBQUssRUFBRSxDQUFDLElBQUk7QUFDWixtQkFBVyxFQUFFLHdDQUF3QztBQUNyRCxZQUFJLEVBQUUsMkJBQTJCO0FBQ2pDLFlBQUksRUFBRSxRQUFRO0FBQ2Qsa0JBQVUsRUFBRSxvQkFBVSxNQUFNLEVBQUUsT0FBTyxFQUFFO0FBQ3JDLGNBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUMvQixpQkFBTztBQUNMLG9CQUFRLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7QUFDcEMsMEJBQWMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLDRCQUE0QixDQUFDO0FBQ3hELHdCQUFZLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQztXQUNyRCxDQUFDO1NBQ0g7T0FDRjtBQUNELFdBQUssRUFBRSxDQUNMLHFDQUFxQyxFQUNyQyw2Q0FBNkMsQ0FDOUM7QUFDRCxjQUFRLEVBQUUsQ0FDUixzQkFBc0IsQ0FDdkI7S0FDRjtBQUNELFFBQUksRUFBRSxPQUFPLENBQUMsV0FBVyxDQUFDO0dBQzNCLENBQUMsQ0FBQztDQUNKLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2liYW5hKSB7XG4gIGxldCBtYWluRmlsZSA9ICdwbHVnaW5zL3RpbWVsaW9uL2FwcCc7XG5cbiAgY29uc3Qgb3duRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa2liYW5hLCAnYXV0b2xvYWQnKTtcbiAgY29uc3QgcHJvdG9EZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihraWJhbmEuY29uc3RydWN0b3IucHJvdG90eXBlLCAnYXV0b2xvYWQnKTtcbiAgY29uc3QgZGVzY3JpcHRvciA9IG93bkRlc2NyaXB0b3IgfHwgcHJvdG9EZXNjcmlwdG9yIHx8IHt9O1xuICBpZiAoZGVzY3JpcHRvci5nZXQpIHtcbiAgICAvLyB0aGUgYXV0b2xvYWQgbGlzdCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIGEgZ2V0dGVyIHRoYXQgY29tcGxhaW5zIGFib3V0XG4gICAgLy8gaW1wcm9wZXIgYWNjZXNzLCBieXBhc3MgdGhhdCBnZXR0ZXIgYnkgc2VlaW5nIGlmIGl0IGlzIGRlZmluZWRcbiAgICBtYWluRmlsZSA9ICdwbHVnaW5zL3RpbWVsaW9uL2FwcF93aXRoX2F1dG9sb2FkJztcbiAgfVxuXG4gIHJldHVybiBuZXcga2liYW5hLlBsdWdpbih7XG4gICAgcmVxdWlyZTogWydraWJhbmEnLCAnZWxhc3RpY3NlYXJjaCddLFxuICAgIHVpRXhwb3J0czoge1xuICAgICAgYXBwOiB7XG4gICAgICAgIHRpdGxlOiAnVGltZWxpb24nLFxuICAgICAgICBvcmRlcjogLTEwMDAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGltZSBzZXJpZXMgZXhwcmVzc2lvbnMgZm9yIGV2ZXJ5dGhpbmcnLFxuICAgICAgICBpY29uOiAncGx1Z2lucy90aW1lbGlvbi9pY29uLnN2ZycsXG4gICAgICAgIG1haW46IG1haW5GaWxlLFxuICAgICAgICBpbmplY3RWYXJzOiBmdW5jdGlvbiAoc2VydmVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgY29uc3QgY29uZmlnID0gc2VydmVyLmNvbmZpZygpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrYm5JbmRleDogY29uZmlnLmdldCgna2liYW5hLmluZGV4JyksXG4gICAgICAgICAgICBlc1NoYXJkVGltZW91dDogY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC5zaGFyZFRpbWVvdXQnKSxcbiAgICAgICAgICAgIGVzQXBpVmVyc2lvbjogY29uZmlnLmdldCgnZWxhc3RpY3NlYXJjaC5hcGlWZXJzaW9uJylcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGFja3M6IFtcbiAgICAgICAgJ3BsdWdpbnMvdGltZWxpb24vbGliL3BhbmVsX3JlZ2lzdHJ5JyxcbiAgICAgICAgJ3BsdWdpbnMvdGltZWxpb24vcGFuZWxzL3RpbWVjaGFydC90aW1lY2hhcnQnXG4gICAgICBdLFxuICAgICAgdmlzVHlwZXM6IFtcbiAgICAgICAgJ3BsdWdpbnMvdGltZWxpb24vdmlzJ1xuICAgICAgXVxuICAgIH0sXG4gICAgaW5pdDogcmVxdWlyZSgnLi9pbml0LmpzJyksXG4gIH0pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/index.js"
      ],
      "names": [],
      "mappings": ";;AACA,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;AAE7B,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;AACjC,MAAI,QAAQ,GAAG,sBAAsB,CAAC;;AAEtC,MAAM,aAAa,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;AAC1E,MAAM,eAAe,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;AAClG,MAAM,UAAU,GAAG,aAAa,IAAI,eAAe,IAAI,EAAE,CAAC;AAC1D,MAAI,UAAU,CAAC,GAAG,EAAE;;;AAGlB,YAAQ,GAAG,oCAAoC,CAAC;GACjD;;AAED,SAAO,IAAI,MAAM,CAAC,MAAM,CAAC;AACvB,WAAO,EAAE,CAAC,QAAQ,EAAE,eAAe,CAAC;AACpC,aAAS,EAAE;AACT,SAAG,EAAE;AACH,aAAK,EAAE,UAAU;AACjB,aAAK,EAAE,CAAC,IAAI;AACZ,mBAAW,EAAE,wCAAwC;AACrD,YAAI,EAAE,2BAA2B;AACjC,YAAI,EAAE,QAAQ;AACd,kBAAU,EAAE,oBAAU,MAAM,EAAE,OAAO,EAAE;AACrC,cAAM,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;AAC/B,iBAAO;AACL,oBAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC;AACpC,0BAAc,EAAE,MAAM,CAAC,GAAG,CAAC,4BAA4B,CAAC;AACxD,wBAAY,EAAE,MAAM,CAAC,GAAG,CAAC,0BAA0B,CAAC;WACrD,CAAC;SACH;OACF;AACD,WAAK,EAAE,CACL,qCAAqC,EACrC,6CAA6C,CAC9C;AACD,cAAQ,EAAE,CACR,sBAAsB,CACvB;KACF;AACD,QAAI,EAAE,OAAO,CAAC,WAAW,CAAC;GAC3B,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/index.js",
      "sourcesContent": [
        "\nconst path = require('path');\n\nmodule.exports = function (kibana) {\n  let mainFile = 'plugins/timelion/app';\n\n  const ownDescriptor = Object.getOwnPropertyDescriptor(kibana, 'autoload');\n  const protoDescriptor = Object.getOwnPropertyDescriptor(kibana.constructor.prototype, 'autoload');\n  const descriptor = ownDescriptor || protoDescriptor || {};\n  if (descriptor.get) {\n    // the autoload list has been replaced with a getter that complains about\n    // improper access, bypass that getter by seeing if it is defined\n    mainFile = 'plugins/timelion/app_with_autoload';\n  }\n\n  return new kibana.Plugin({\n    require: ['kibana', 'elasticsearch'],\n    uiExports: {\n      app: {\n        title: 'Timelion',\n        order: -1000,\n        description: 'Time series expressions for everything',\n        icon: 'plugins/timelion/icon.svg',\n        main: mainFile,\n        injectVars: function (server, options) {\n          const config = server.config();\n          return {\n            kbnIndex: config.get('kibana.index'),\n            esShardTimeout: config.get('elasticsearch.shardTimeout'),\n            esApiVersion: config.get('elasticsearch.apiVersion')\n          };\n        }\n      },\n      hacks: [\n        'plugins/timelion/lib/panel_registry',\n        'plugins/timelion/panels/timechart/timechart'\n      ],\n      visTypes: [\n        'plugins/timelion/vis'\n      ]\n    },\n    init: require('./init.js'),\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/init.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar processFunctionDefinition = require('./server/lib/process_function_definition');\n\nmodule.exports = function (server) {\n  //var config = server.config();\n\n  require('./server/routes/run.js')(server);\n  require('./server/routes/functions.js')(server);\n  require('./server/routes/validate_es.js')(server);\n\n  var functions = require('./server/lib/load_functions')('series_functions');\n\n  function addFunction(func) {\n    _.assign(functions, processFunctionDefinition(func));\n  }\n\n  function getFunction(name) {\n    if (!functions[name]) throw new Error('No such function: ' + name);\n    return functions[name];\n  }\n\n  server.plugins.timelion = {\n    functions: functions,\n    addFunction: addFunction,\n    getFunction: getFunction\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vaW5pdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLHlCQUF5QixHQUFHLE9BQU8sQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDOztBQUV0RixNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsTUFBTSxFQUFFOzs7QUFHakMsU0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDMUMsU0FBTyxDQUFDLDhCQUE4QixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDaEQsU0FBTyxDQUFDLGdDQUFnQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRWxELE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUM7O0FBRTdFLFdBQVMsV0FBVyxDQUFDLElBQUksRUFBRTtBQUN6QixLQUFDLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0dBQ3REOztBQUVELFdBQVMsV0FBVyxDQUFDLElBQUksRUFBRTtBQUN6QixRQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLE1BQU0sSUFBSSxLQUFLLENBQUUsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDcEUsV0FBTyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDeEI7O0FBRUQsUUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUc7QUFDeEIsYUFBUyxFQUFFLFNBQVM7QUFDcEIsZUFBVyxFQUFFLFdBQVc7QUFDeEIsZUFBVyxFQUFFLFdBQVc7R0FDekIsQ0FBQztDQUdILENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9pbml0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgcHJvY2Vzc0Z1bmN0aW9uRGVmaW5pdGlvbiA9IHJlcXVpcmUoJy4vc2VydmVyL2xpYi9wcm9jZXNzX2Z1bmN0aW9uX2RlZmluaXRpb24nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2VydmVyKSB7XG4gIC8vdmFyIGNvbmZpZyA9IHNlcnZlci5jb25maWcoKTtcblxuICByZXF1aXJlKCcuL3NlcnZlci9yb3V0ZXMvcnVuLmpzJykoc2VydmVyKTtcbiAgcmVxdWlyZSgnLi9zZXJ2ZXIvcm91dGVzL2Z1bmN0aW9ucy5qcycpKHNlcnZlcik7XG4gIHJlcXVpcmUoJy4vc2VydmVyL3JvdXRlcy92YWxpZGF0ZV9lcy5qcycpKHNlcnZlcik7XG5cbiAgY29uc3QgZnVuY3Rpb25zID0gcmVxdWlyZSgnLi9zZXJ2ZXIvbGliL2xvYWRfZnVuY3Rpb25zJykoJ3Nlcmllc19mdW5jdGlvbnMnKTtcblxuICBmdW5jdGlvbiBhZGRGdW5jdGlvbihmdW5jKSB7XG4gICAgXy5hc3NpZ24oZnVuY3Rpb25zLCBwcm9jZXNzRnVuY3Rpb25EZWZpbml0aW9uKGZ1bmMpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAoIWZ1bmN0aW9uc1tuYW1lXSkgdGhyb3cgbmV3IEVycm9yICgnTm8gc3VjaCBmdW5jdGlvbjogJyArIG5hbWUpO1xuICAgIHJldHVybiBmdW5jdGlvbnNbbmFtZV07XG4gIH1cblxuICBzZXJ2ZXIucGx1Z2lucy50aW1lbGlvbiA9IHtcbiAgICBmdW5jdGlvbnM6IGZ1bmN0aW9ucyxcbiAgICBhZGRGdW5jdGlvbjogYWRkRnVuY3Rpb24sXG4gICAgZ2V0RnVuY3Rpb246IGdldEZ1bmN0aW9uXG4gIH07XG5cblxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/init.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,yBAAyB,GAAG,OAAO,CAAC,0CAA0C,CAAC,CAAC;;AAEtF,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;;;AAGjC,SAAO,CAAC,wBAAwB,CAAC,CAAC,MAAM,CAAC,CAAC;AAC1C,SAAO,CAAC,8BAA8B,CAAC,CAAC,MAAM,CAAC,CAAC;AAChD,SAAO,CAAC,gCAAgC,CAAC,CAAC,MAAM,CAAC,CAAC;;AAElD,MAAM,SAAS,GAAG,OAAO,CAAC,6BAA6B,CAAC,CAAC,kBAAkB,CAAC,CAAC;;AAE7E,WAAS,WAAW,CAAC,IAAI,EAAE;AACzB,KAAC,CAAC,MAAM,CAAC,SAAS,EAAE,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC;GACtD;;AAED,WAAS,WAAW,CAAC,IAAI,EAAE;AACzB,QAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,MAAM,IAAI,KAAK,CAAE,oBAAoB,GAAG,IAAI,CAAC,CAAC;AACpE,WAAO,SAAS,CAAC,IAAI,CAAC,CAAC;GACxB;;AAED,QAAM,CAAC,OAAO,CAAC,QAAQ,GAAG;AACxB,aAAS,EAAE,SAAS;AACpB,eAAW,EAAE,WAAW;AACxB,eAAW,EAAE,WAAW;GACzB,CAAC;CAGH,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/init.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst processFunctionDefinition = require('./server/lib/process_function_definition');\n\nmodule.exports = function (server) {\n  //var config = server.config();\n\n  require('./server/routes/run.js')(server);\n  require('./server/routes/functions.js')(server);\n  require('./server/routes/validate_es.js')(server);\n\n  const functions = require('./server/lib/load_functions')('series_functions');\n\n  function addFunction(func) {\n    _.assign(functions, processFunctionDefinition(func));\n  }\n\n  function getFunction(name) {\n    if (!functions[name]) throw new Error ('No such function: ' + name);\n    return functions[name];\n  }\n\n  server.plugins.timelion = {\n    functions: functions,\n    addFunction: addFunction,\n    getFunction: getFunction\n  };\n\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/process_function_definition.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\nmodule.exports = function (func) {\n  var functions = {};\n  functions[func.name] = func;\n  if (func.aliases) {\n    _.each(func.aliases, function (alias) {\n      var aliasFn = _.clone(func);\n      aliasFn.isAlias = true;\n      functions[alias] = aliasFn;\n    });\n  }\n\n  return functions;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9wcm9jZXNzX2Z1bmN0aW9uX2RlZmluaXRpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRTVCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxJQUFJLEVBQUU7QUFDL0IsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBQ3JCLFdBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQzVCLE1BQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtBQUNoQixLQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsVUFBVSxLQUFLLEVBQUU7QUFDcEMsVUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM5QixhQUFPLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztBQUN2QixlQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDO0tBQzVCLENBQUMsQ0FBQztHQUNKOztBQUVELFNBQU8sU0FBUyxDQUFDO0NBQ2xCLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvbGliL3Byb2Nlc3NfZnVuY3Rpb25fZGVmaW5pdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZnVuYykge1xuICBjb25zdCBmdW5jdGlvbnMgPSB7fTtcbiAgZnVuY3Rpb25zW2Z1bmMubmFtZV0gPSBmdW5jO1xuICBpZiAoZnVuYy5hbGlhc2VzKSB7XG4gICAgXy5lYWNoKGZ1bmMuYWxpYXNlcywgZnVuY3Rpb24gKGFsaWFzKSB7XG4gICAgICBjb25zdCBhbGlhc0ZuID0gXy5jbG9uZShmdW5jKTtcbiAgICAgIGFsaWFzRm4uaXNBbGlhcyA9IHRydWU7XG4gICAgICBmdW5jdGlvbnNbYWxpYXNdID0gYWxpYXNGbjtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbnM7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/process_function_definition.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,MAAM,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE;AAC/B,MAAM,SAAS,GAAG,EAAE,CAAC;AACrB,WAAS,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;AAC5B,MAAI,IAAI,CAAC,OAAO,EAAE;AAChB,KAAC,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,KAAK,EAAE;AACpC,UAAM,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AAC9B,aAAO,CAAC,OAAO,GAAG,IAAI,CAAC;AACvB,eAAS,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC;KAC5B,CAAC,CAAC;GACJ;;AAED,SAAO,SAAS,CAAC;CAClB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/process_function_definition.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\nmodule.exports = function (func) {\n  const functions = {};\n  functions[func.name] = func;\n  if (func.aliases) {\n    _.each(func.aliases, function (alias) {\n      const aliasFn = _.clone(func);\n      aliasFn.isAlias = true;\n      functions[alias] = aliasFn;\n    });\n  }\n\n  return functions;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/tests_bundle/tests_entry_template.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (_ref) {\n  var env = _ref.env;\n  var bundle = _ref.bundle;\n\n  var pluginSlug = env.pluginInfo.sort().map(function (p) {\n    return ' *  - ' + p;\n  }).join('\\n');\n\n  var requires = bundle.modules.map(function (m) {\n    return 'require(' + JSON.stringify(m) + ');';\n  }).join('\\n');\n\n  return '\\n/**\\n * Test entry file\\n *\\n * This is programatically created and updated, do not modify\\n *\\n * context: ' + JSON.stringify(env.context) + '\\n * includes code from:\\n' + pluginSlug + '\\n *\\n */\\n\\nwindow.__KBN__ = {\\n  version: \\'1.2.3\\',\\n  buildNum: 1234,\\n  vars: {\\n    kbnIndex: \\'.kibana\\',\\n    esShardTimeout: 1500,\\n    esApiVersion: \\'5.x\\',\\n    esRequestTimeout: \\'300000\\',\\n    tilemapsConfig: {\\n      deprecated: {\\n        isOverridden: true,\\n        config: {\\n          url: \\'https://tiles.elastic.co/v1/default/{z}/{x}/{y}.png?my_app_name=kibana&my_app_version=1.2.3&elastic_tile_service_tos=agree\\',\\n          options: {\\n            minZoom: 1,\\n            maxZoom: 10,\\n            attribution: \\'© [Elastic Tile Service](https://www.elastic.co/elastic_tile_service)\\'\\n          }\\n        }        \\n      },\\n      manifestServiceUrl: \\'https://proxy-tiles.elastic.co/v1/manifest\\'\\n    }\\n  },\\n  uiSettings: {\\n    defaults: ' + JSON.stringify(env.defaultUiSettings, null, 2).split('\\n').join('\\n    ') + ',\\n    user: {}\\n  }\\n};\\n\\nrequire(\\'ui/test_harness\\');\\n' + requires + '\\nrequire(\\'ui/test_harness\\').bootstrap(/* go! */);\\n';\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGVzdHNfYnVuZGxlL3Rlc3RzX2VudHJ5X3RlbXBsYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLElBQWUsRUFBRTtNQUFmLEdBQUcsR0FBTCxJQUFlLENBQWIsR0FBRztNQUFFLE1BQU0sR0FBYixJQUFlLENBQVIsTUFBTTs7QUFFdEMsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FDckMsR0FBRyxDQUFDLFVBQUEsQ0FBQztXQUFJLFFBQVEsR0FBRyxDQUFDO0dBQUEsQ0FBQyxDQUN0QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRWQsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FDNUIsR0FBRyxDQUFDLFVBQUEsQ0FBQzt3QkFBZSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztHQUFJLENBQUMsQ0FDMUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUVkLDRIQU1ZLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxrQ0FFdkMsVUFBVSw2d0JBNEJJLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtRUFNdkYsUUFBUSw0REFFUjtDQUVELENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90ZXN0c19idW5kbGUvdGVzdHNfZW50cnlfdGVtcGxhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh7IGVudiwgYnVuZGxlIH0pIHtcblxuICBjb25zdCBwbHVnaW5TbHVnID0gZW52LnBsdWdpbkluZm8uc29ydCgpXG4gICAgLm1hcChwID0+ICcgKiAgLSAnICsgcClcbiAgICAuam9pbignXFxuJyk7XG5cbiAgY29uc3QgcmVxdWlyZXMgPSBidW5kbGUubW9kdWxlc1xuICAgIC5tYXAobSA9PiBgcmVxdWlyZSgke0pTT04uc3RyaW5naWZ5KG0pfSk7YClcbiAgICAuam9pbignXFxuJyk7XG5cbiAgcmV0dXJuIGBcbi8qKlxuICogVGVzdCBlbnRyeSBmaWxlXG4gKlxuICogVGhpcyBpcyBwcm9ncmFtYXRpY2FsbHkgY3JlYXRlZCBhbmQgdXBkYXRlZCwgZG8gbm90IG1vZGlmeVxuICpcbiAqIGNvbnRleHQ6ICR7SlNPTi5zdHJpbmdpZnkoZW52LmNvbnRleHQpfVxuICogaW5jbHVkZXMgY29kZSBmcm9tOlxuJHtwbHVnaW5TbHVnfVxuICpcbiAqL1xuXG53aW5kb3cuX19LQk5fXyA9IHtcbiAgdmVyc2lvbjogJzEuMi4zJyxcbiAgYnVpbGROdW06IDEyMzQsXG4gIHZhcnM6IHtcbiAgICBrYm5JbmRleDogJy5raWJhbmEnLFxuICAgIGVzU2hhcmRUaW1lb3V0OiAxNTAwLFxuICAgIGVzQXBpVmVyc2lvbjogJzUueCcsXG4gICAgZXNSZXF1ZXN0VGltZW91dDogJzMwMDAwMCcsXG4gICAgdGlsZW1hcHNDb25maWc6IHtcbiAgICAgIGRlcHJlY2F0ZWQ6IHtcbiAgICAgICAgaXNPdmVycmlkZGVuOiB0cnVlLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICB1cmw6ICdodHRwczovL3RpbGVzLmVsYXN0aWMuY28vdjEvZGVmYXVsdC97en0ve3h9L3t5fS5wbmc/bXlfYXBwX25hbWU9a2liYW5hJm15X2FwcF92ZXJzaW9uPTEuMi4zJmVsYXN0aWNfdGlsZV9zZXJ2aWNlX3Rvcz1hZ3JlZScsXG4gICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgbWluWm9vbTogMSxcbiAgICAgICAgICAgIG1heFpvb206IDEwLFxuICAgICAgICAgICAgYXR0cmlidXRpb246ICfCqSBbRWxhc3RpYyBUaWxlIFNlcnZpY2VdKGh0dHBzOi8vd3d3LmVsYXN0aWMuY28vZWxhc3RpY190aWxlX3NlcnZpY2UpJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSAgICAgICAgXG4gICAgICB9LFxuICAgICAgbWFuaWZlc3RTZXJ2aWNlVXJsOiAnaHR0cHM6Ly9wcm94eS10aWxlcy5lbGFzdGljLmNvL3YxL21hbmlmZXN0J1xuICAgIH1cbiAgfSxcbiAgdWlTZXR0aW5nczoge1xuICAgIGRlZmF1bHRzOiAke0pTT04uc3RyaW5naWZ5KGVudi5kZWZhdWx0VWlTZXR0aW5ncywgbnVsbCwgMikuc3BsaXQoJ1xcbicpLmpvaW4oJ1xcbiAgICAnKX0sXG4gICAgdXNlcjoge31cbiAgfVxufTtcblxucmVxdWlyZSgndWkvdGVzdF9oYXJuZXNzJyk7XG4ke3JlcXVpcmVzfVxucmVxdWlyZSgndWkvdGVzdF9oYXJuZXNzJykuYm9vdHN0cmFwKC8qIGdvISAqLyk7XG5gO1xuXG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/tests_bundle/tests_entry_template.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,IAAe,EAAE;MAAf,GAAG,GAAL,IAAe,CAAb,GAAG;MAAE,MAAM,GAAb,IAAe,CAAR,MAAM;;AAEtC,MAAM,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,CACrC,GAAG,CAAC,UAAA,CAAC;WAAI,QAAQ,GAAG,CAAC;GAAA,CAAC,CACtB,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEd,MAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAC5B,GAAG,CAAC,UAAA,CAAC;wBAAe,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;GAAI,CAAC,CAC1C,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEd,4HAMY,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,kCAEvC,UAAU,6wBA4BI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,mEAMvF,QAAQ,4DAER;CAED,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/tests_bundle/tests_entry_template.js",
      "sourcesContent": [
        "module.exports = function ({ env, bundle }) {\n\n  const pluginSlug = env.pluginInfo.sort()\n    .map(p => ' *  - ' + p)\n    .join('\\n');\n\n  const requires = bundle.modules\n    .map(m => `require(${JSON.stringify(m)});`)\n    .join('\\n');\n\n  return `\n/**\n * Test entry file\n *\n * This is programatically created and updated, do not modify\n *\n * context: ${JSON.stringify(env.context)}\n * includes code from:\n${pluginSlug}\n *\n */\n\nwindow.__KBN__ = {\n  version: '1.2.3',\n  buildNum: 1234,\n  vars: {\n    kbnIndex: '.kibana',\n    esShardTimeout: 1500,\n    esApiVersion: '5.x',\n    esRequestTimeout: '300000',\n    tilemapsConfig: {\n      deprecated: {\n        isOverridden: true,\n        config: {\n          url: 'https://tiles.elastic.co/v1/default/{z}/{x}/{y}.png?my_app_name=kibana&my_app_version=1.2.3&elastic_tile_service_tos=agree',\n          options: {\n            minZoom: 1,\n            maxZoom: 10,\n            attribution: '© [Elastic Tile Service](https://www.elastic.co/elastic_tile_service)'\n          }\n        }        \n      },\n      manifestServiceUrl: 'https://proxy-tiles.elastic.co/v1/manifest'\n    }\n  },\n  uiSettings: {\n    defaults: ${JSON.stringify(env.defaultUiSettings, null, 2).split('\\n').join('\\n    ')},\n    user: {}\n  }\n};\n\nrequire('ui/test_harness');\n${requires}\nrequire('ui/test_harness').bootstrap(/* go! */);\n`;\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/optimize/lazy/lazy.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "cluster",
            "imported": [
              "isWorker"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "isWorker",
                "local": "isWorker"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _cluster = require('cluster');\n\nmodule.exports = _asyncToGenerator(function* (kbnServer, server, config) {\n\n  if (!_cluster.isWorker) {\n    throw new Error('lazy optimization is only available in \"watch\" mode');\n  }\n\n  /**\n   * When running in lazy mode two workers/threads run in one\n   * of the modes: 'optmzr' or 'server'\n   *\n   * optmzr: this thread runs the LiveOptimizer and the LazyServer\n   *   which serves the LiveOptimizer's output and blocks requests\n   *   while the optimizer is running\n   *\n   * server: this thread runs the entire kibana server and proxies\n   *   all requests for /bundles/* to the optmzr\n   *\n   * @param  {string} process.env.kbnWorkerType\n   */\n  switch (process.env.kbnWorkerType) {\n    case 'optmzr':\n      yield kbnServer.mixin(require('./optmzr_role'));\n      break;\n\n    case 'server':\n      yield kbnServer.mixin(require('./proxy_role'));\n      break;\n\n    default:\n      throw new Error('unknown kbnWorkerType \"' + process.env.kbnWorkerType + '\"');\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9sYXp5L2xhenkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozt1QkFBeUIsU0FBUzs7QUFDbEMsTUFBTSxDQUFDLE9BQU8scUJBQUcsV0FBTyxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBSzs7QUFHcEQsTUFBSSxrQkFBUyxFQUFFO0FBQ2IsVUFBTSxJQUFJLEtBQUssdURBQXVELENBQUM7R0FDeEU7Ozs7Ozs7Ozs7Ozs7OztBQWVELFVBQVEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhO0FBQy9CLFNBQUssUUFBUTtBQUNYLFlBQU0sU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztBQUNoRCxZQUFNOztBQUFBLEFBRVIsU0FBSyxRQUFRO0FBQ1gsWUFBTSxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO0FBQy9DLFlBQU07O0FBQUEsQUFFUjtBQUNFLFlBQU0sSUFBSSxLQUFLLDZCQUEyQixPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsT0FBSSxDQUFDO0FBQUEsR0FDM0U7Q0FFRixDQUFBLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL29wdGltaXplL2xhenkvbGF6eS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzV29ya2VyIH0gZnJvbSAnY2x1c3Rlcic7XG5tb2R1bGUuZXhwb3J0cyA9IGFzeW5jIChrYm5TZXJ2ZXIsIHNlcnZlciwgY29uZmlnKSA9PiB7XG5cblxuICBpZiAoIWlzV29ya2VyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBsYXp5IG9wdGltaXphdGlvbiBpcyBvbmx5IGF2YWlsYWJsZSBpbiBcIndhdGNoXCIgbW9kZWApO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gcnVubmluZyBpbiBsYXp5IG1vZGUgdHdvIHdvcmtlcnMvdGhyZWFkcyBydW4gaW4gb25lXG4gICAqIG9mIHRoZSBtb2RlczogJ29wdG16cicgb3IgJ3NlcnZlcidcbiAgICpcbiAgICogb3B0bXpyOiB0aGlzIHRocmVhZCBydW5zIHRoZSBMaXZlT3B0aW1pemVyIGFuZCB0aGUgTGF6eVNlcnZlclxuICAgKiAgIHdoaWNoIHNlcnZlcyB0aGUgTGl2ZU9wdGltaXplcidzIG91dHB1dCBhbmQgYmxvY2tzIHJlcXVlc3RzXG4gICAqICAgd2hpbGUgdGhlIG9wdGltaXplciBpcyBydW5uaW5nXG4gICAqXG4gICAqIHNlcnZlcjogdGhpcyB0aHJlYWQgcnVucyB0aGUgZW50aXJlIGtpYmFuYSBzZXJ2ZXIgYW5kIHByb3hpZXNcbiAgICogICBhbGwgcmVxdWVzdHMgZm9yIC9idW5kbGVzLyogdG8gdGhlIG9wdG16clxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHByb2Nlc3MuZW52LmtibldvcmtlclR5cGVcbiAgICovXG4gIHN3aXRjaCAocHJvY2Vzcy5lbnYua2JuV29ya2VyVHlwZSkge1xuICAgIGNhc2UgJ29wdG16cic6XG4gICAgICBhd2FpdCBrYm5TZXJ2ZXIubWl4aW4ocmVxdWlyZSgnLi9vcHRtenJfcm9sZScpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VydmVyJzpcbiAgICAgIGF3YWl0IGtiblNlcnZlci5taXhpbihyZXF1aXJlKCcuL3Byb3h5X3JvbGUnKSk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24ga2JuV29ya2VyVHlwZSBcIiR7cHJvY2Vzcy5lbnYua2JuV29ya2VyVHlwZX1cImApO1xuICB9XG5cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/optimize/lazy/lazy.js"
      ],
      "names": [],
      "mappings": ";;;;uBAAyB,SAAS;;AAClC,MAAM,CAAC,OAAO,qBAAG,WAAO,SAAS,EAAE,MAAM,EAAE,MAAM,EAAK;;AAGpD,MAAI,kBAAS,EAAE;AACb,UAAM,IAAI,KAAK,uDAAuD,CAAC;GACxE;;;;;;;;;;;;;;;AAeD,UAAQ,OAAO,CAAC,GAAG,CAAC,aAAa;AAC/B,SAAK,QAAQ;AACX,YAAM,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;AAChD,YAAM;;AAAA,AAER,SAAK,QAAQ;AACX,YAAM,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;AAC/C,YAAM;;AAAA,AAER;AACE,YAAM,IAAI,KAAK,6BAA2B,OAAO,CAAC,GAAG,CAAC,aAAa,OAAI,CAAC;AAAA,GAC3E;CAEF,CAAA,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/optimize/lazy/lazy.js",
      "sourcesContent": [
        "import { isWorker } from 'cluster';\nmodule.exports = async (kbnServer, server, config) => {\n\n\n  if (!isWorker) {\n    throw new Error(`lazy optimization is only available in \"watch\" mode`);\n  }\n\n  /**\n   * When running in lazy mode two workers/threads run in one\n   * of the modes: 'optmzr' or 'server'\n   *\n   * optmzr: this thread runs the LiveOptimizer and the LazyServer\n   *   which serves the LiveOptimizer's output and blocks requests\n   *   while the optimizer is running\n   *\n   * server: this thread runs the entire kibana server and proxies\n   *   all requests for /bundles/* to the optmzr\n   *\n   * @param  {string} process.env.kbnWorkerType\n   */\n  switch (process.env.kbnWorkerType) {\n    case 'optmzr':\n      await kbnServer.mixin(require('./optmzr_role'));\n      break;\n\n    case 'server':\n      await kbnServer.mixin(require('./proxy_role'));\n      break;\n\n    default:\n      throw new Error(`unknown kbnWorkerType \"${process.env.kbnWorkerType}\"`);\n  }\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/optimize/lazy/optmzr_role.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./lazy_server",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "LazyServer"
              }
            ]
          },
          {
            "source": "./lazy_optimizer",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "LazyOptimizer"
              }
            ]
          },
          {
            "source": "../../utils",
            "imported": [
              "fromRoot"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromRoot",
                "local": "fromRoot"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar _lazy_server = require('./lazy_server');\n\nvar _lazy_server2 = _interopRequireDefault(_lazy_server);\n\nvar _lazy_optimizer = require('./lazy_optimizer');\n\nvar _lazy_optimizer2 = _interopRequireDefault(_lazy_optimizer);\n\nvar _utils = require('../../utils');\n\nexports['default'] = _asyncToGenerator(function* (kbnServer, kibanaHapiServer, config) {\n  var server = new _lazy_server2['default'](config.get('optimize.lazyHost'), config.get('optimize.lazyPort'), new _lazy_optimizer2['default']({\n    log: function log(tags, data) {\n      return kibanaHapiServer.log(tags, data);\n    },\n    env: kbnServer.bundles.env,\n    bundles: kbnServer.bundles,\n    profile: config.get('optimize.profile'),\n    sourceMaps: config.get('optimize.sourceMaps'),\n    prebuild: config.get('optimize.lazyPrebuild'),\n    urlBasePath: config.get('server.basePath'),\n    unsafeCache: config.get('optimize.unsafeCache')\n  }));\n\n  var ready = false;\n\n  var sendReady = function sendReady() {\n    if (!process.connected) return;\n    process.send(['WORKER_BROADCAST', { optimizeReady: ready }]);\n  };\n\n  process.on('message', function (msg) {\n    if (msg && msg.optimizeReady === '?') sendReady();\n  });\n\n  sendReady();\n\n  yield server.init();\n\n  ready = true;\n  sendReady();\n});\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9sYXp5L29wdG16cl9yb2xlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7MkJBQXVCLGVBQWU7Ozs7OEJBQ1osa0JBQWtCOzs7O3FCQUNuQixhQUFhOzt1Q0FFdkIsV0FBTyxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxFQUFLO0FBQzVELE1BQU0sTUFBTSxHQUFHLDZCQUNiLE1BQU0sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsRUFDL0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxFQUMvQixnQ0FBa0I7QUFDaEIsT0FBRyxFQUFFLGFBQUMsSUFBSSxFQUFFLElBQUk7YUFBSyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQztLQUFBO0FBQ3JELE9BQUcsRUFBRSxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUc7QUFDMUIsV0FBTyxFQUFFLFNBQVMsQ0FBQyxPQUFPO0FBQzFCLFdBQU8sRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDO0FBQ3ZDLGNBQVUsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDO0FBQzdDLFlBQVEsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLHVCQUF1QixDQUFDO0FBQzdDLGVBQVcsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDO0FBQzFDLGVBQVcsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDO0dBQ2hELENBQUMsQ0FDSCxDQUFDOztBQUVGLE1BQUksS0FBSyxHQUFHLEtBQUssQ0FBQzs7QUFFbEIsTUFBTSxTQUFTLEdBQUcsU0FBWixTQUFTLEdBQVM7QUFDdEIsUUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTztBQUMvQixXQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsa0JBQWtCLEVBQUUsRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0dBQzlELENBQUM7O0FBRUYsU0FBTyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsVUFBQyxHQUFHLEVBQUs7QUFDN0IsUUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLGFBQWEsS0FBSyxHQUFHLEVBQUUsU0FBUyxFQUFFLENBQUM7R0FDbkQsQ0FBQyxDQUFDOztBQUdILFdBQVMsRUFBRSxDQUFDOztBQUVaLFFBQU0sTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDOztBQUVwQixPQUFLLEdBQUcsSUFBSSxDQUFDO0FBQ2IsV0FBUyxFQUFFLENBQUM7Q0FDYiIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvb3B0aW1pemUvbGF6eS9vcHRtenJfcm9sZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMYXp5U2VydmVyIGZyb20gJy4vbGF6eV9zZXJ2ZXInO1xuaW1wb3J0IExhenlPcHRpbWl6ZXIgZnJvbSAnLi9sYXp5X29wdGltaXplcic7XG5pbXBvcnQgeyBmcm9tUm9vdCB9IGZyb20gJy4uLy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGtiblNlcnZlciwga2liYW5hSGFwaVNlcnZlciwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IHNlcnZlciA9IG5ldyBMYXp5U2VydmVyKFxuICAgIGNvbmZpZy5nZXQoJ29wdGltaXplLmxhenlIb3N0JyksXG4gICAgY29uZmlnLmdldCgnb3B0aW1pemUubGF6eVBvcnQnKSxcbiAgICBuZXcgTGF6eU9wdGltaXplcih7XG4gICAgICBsb2c6ICh0YWdzLCBkYXRhKSA9PiBraWJhbmFIYXBpU2VydmVyLmxvZyh0YWdzLCBkYXRhKSxcbiAgICAgIGVudjoga2JuU2VydmVyLmJ1bmRsZXMuZW52LFxuICAgICAgYnVuZGxlczoga2JuU2VydmVyLmJ1bmRsZXMsXG4gICAgICBwcm9maWxlOiBjb25maWcuZ2V0KCdvcHRpbWl6ZS5wcm9maWxlJyksXG4gICAgICBzb3VyY2VNYXBzOiBjb25maWcuZ2V0KCdvcHRpbWl6ZS5zb3VyY2VNYXBzJyksXG4gICAgICBwcmVidWlsZDogY29uZmlnLmdldCgnb3B0aW1pemUubGF6eVByZWJ1aWxkJyksXG4gICAgICB1cmxCYXNlUGF0aDogY29uZmlnLmdldCgnc2VydmVyLmJhc2VQYXRoJyksXG4gICAgICB1bnNhZmVDYWNoZTogY29uZmlnLmdldCgnb3B0aW1pemUudW5zYWZlQ2FjaGUnKSxcbiAgICB9KVxuICApO1xuXG4gIGxldCByZWFkeSA9IGZhbHNlO1xuXG4gIGNvbnN0IHNlbmRSZWFkeSA9ICgpID0+IHtcbiAgICBpZiAoIXByb2Nlc3MuY29ubmVjdGVkKSByZXR1cm47XG4gICAgcHJvY2Vzcy5zZW5kKFsnV09SS0VSX0JST0FEQ0FTVCcsIHsgb3B0aW1pemVSZWFkeTogcmVhZHkgfV0pO1xuICB9O1xuXG4gIHByb2Nlc3Mub24oJ21lc3NhZ2UnLCAobXNnKSA9PiB7XG4gICAgaWYgKG1zZyAmJiBtc2cub3B0aW1pemVSZWFkeSA9PT0gJz8nKSBzZW5kUmVhZHkoKTtcbiAgfSk7XG5cblxuICBzZW5kUmVhZHkoKTtcblxuICBhd2FpdCBzZXJ2ZXIuaW5pdCgpO1xuXG4gIHJlYWR5ID0gdHJ1ZTtcbiAgc2VuZFJlYWR5KCk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/optimize/lazy/optmzr_role.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;2BAAuB,eAAe;;;;8BACZ,kBAAkB;;;;qBACnB,aAAa;;uCAEvB,WAAO,SAAS,EAAE,gBAAgB,EAAE,MAAM,EAAK;AAC5D,MAAM,MAAM,GAAG,6BACb,MAAM,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAC/B,MAAM,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAC/B,gCAAkB;AAChB,OAAG,EAAE,aAAC,IAAI,EAAE,IAAI;aAAK,gBAAgB,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC;KAAA;AACrD,OAAG,EAAE,SAAS,CAAC,OAAO,CAAC,GAAG;AAC1B,WAAO,EAAE,SAAS,CAAC,OAAO;AAC1B,WAAO,EAAE,MAAM,CAAC,GAAG,CAAC,kBAAkB,CAAC;AACvC,cAAU,EAAE,MAAM,CAAC,GAAG,CAAC,qBAAqB,CAAC;AAC7C,YAAQ,EAAE,MAAM,CAAC,GAAG,CAAC,uBAAuB,CAAC;AAC7C,eAAW,EAAE,MAAM,CAAC,GAAG,CAAC,iBAAiB,CAAC;AAC1C,eAAW,EAAE,MAAM,CAAC,GAAG,CAAC,sBAAsB,CAAC;GAChD,CAAC,CACH,CAAC;;AAEF,MAAI,KAAK,GAAG,KAAK,CAAC;;AAElB,MAAM,SAAS,GAAG,SAAZ,SAAS,GAAS;AACtB,QAAI,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO;AAC/B,WAAO,CAAC,IAAI,CAAC,CAAC,kBAAkB,EAAE,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;GAC9D,CAAC;;AAEF,SAAO,CAAC,EAAE,CAAC,SAAS,EAAE,UAAC,GAAG,EAAK;AAC7B,QAAI,GAAG,IAAI,GAAG,CAAC,aAAa,KAAK,GAAG,EAAE,SAAS,EAAE,CAAC;GACnD,CAAC,CAAC;;AAGH,WAAS,EAAE,CAAC;;AAEZ,QAAM,MAAM,CAAC,IAAI,EAAE,CAAC;;AAEpB,OAAK,GAAG,IAAI,CAAC;AACb,WAAS,EAAE,CAAC;CACb",
      "file": "/Users/osagiefo/kibana-aws/src/optimize/lazy/optmzr_role.js",
      "sourcesContent": [
        "import LazyServer from './lazy_server';\nimport LazyOptimizer from './lazy_optimizer';\nimport { fromRoot } from '../../utils';\n\nexport default async (kbnServer, kibanaHapiServer, config) => {\n  const server = new LazyServer(\n    config.get('optimize.lazyHost'),\n    config.get('optimize.lazyPort'),\n    new LazyOptimizer({\n      log: (tags, data) => kibanaHapiServer.log(tags, data),\n      env: kbnServer.bundles.env,\n      bundles: kbnServer.bundles,\n      profile: config.get('optimize.profile'),\n      sourceMaps: config.get('optimize.sourceMaps'),\n      prebuild: config.get('optimize.lazyPrebuild'),\n      urlBasePath: config.get('server.basePath'),\n      unsafeCache: config.get('optimize.unsafeCache'),\n    })\n  );\n\n  let ready = false;\n\n  const sendReady = () => {\n    if (!process.connected) return;\n    process.send(['WORKER_BROADCAST', { optimizeReady: ready }]);\n  };\n\n  process.on('message', (msg) => {\n    if (msg && msg.optimizeReady === '?') sendReady();\n  });\n\n\n  sendReady();\n\n  await server.init();\n\n  ready = true;\n  sendReady();\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/optimize/lazy/lazy_server.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          },
          {
            "source": "hapi",
            "imported": [
              "Server"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "Server",
                "local": "Server"
              }
            ]
          },
          {
            "source": "bluebird",
            "imported": [
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          },
          {
            "source": "../../server/http/register_hapi_plugins",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "registerHapiPlugins"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check",
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nvar _hapi = require('hapi');\n\nvar _bluebird = require('bluebird');\n\nvar _serverHttpRegister_hapi_plugins = require('../../server/http/register_hapi_plugins');\n\nvar _serverHttpRegister_hapi_plugins2 = _interopRequireDefault(_serverHttpRegister_hapi_plugins);\n\nmodule.exports = (function () {\n  function LazyServer(host, port, optimizer) {\n    _classCallCheck(this, LazyServer);\n\n    this.optimizer = optimizer;\n    this.server = new _hapi.Server();\n\n    (0, _serverHttpRegister_hapi_plugins2['default'])(null, this.server);\n\n    this.server.connection({\n      host: host,\n      port: port\n    });\n  }\n\n  _createClass(LazyServer, [{\n    key: 'init',\n    value: _asyncToGenerator(function* () {\n      var _this = this;\n\n      yield this.optimizer.init();\n      this.optimizer.bindToServer(this.server);\n      yield (0, _bluebird.fromNode)(function (cb) {\n        return _this.server.start(cb);\n      });\n    })\n  }]);\n\n  return LazyServer;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9sYXp5L2xhenlfc2VydmVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7b0JBQ2lCLE1BQU07Ozs7b0JBQ0EsTUFBTTs7d0JBQ0osVUFBVTs7K0NBQ0gseUNBQXlDOzs7O0FBRXpFLE1BQU0sQ0FBQyxPQUFPO0FBQ0QsV0FEVSxVQUFVLENBQ25CLElBQUksRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFOzBCQURkLFVBQVU7O0FBRTdCLFFBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0FBQzNCLFFBQUksQ0FBQyxNQUFNLEdBQUcsa0JBQVksQ0FBQzs7QUFFM0Isc0RBQW9CLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRXZDLFFBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO0FBQ3JCLFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUk7S0FDWCxDQUFDLENBQUM7R0FDSjs7ZUFYb0IsVUFBVTs7NkJBYXJCLGFBQUc7OztBQUNYLFlBQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUM1QixVQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDekMsWUFBTSx3QkFBUyxVQUFBLEVBQUU7ZUFBSSxNQUFLLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDO09BQUEsQ0FBQyxDQUFDO0tBQzdDOzs7U0FqQm9CLFVBQVU7SUFrQmhDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL29wdGltaXplL2xhenkvbGF6eV9zZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBCb29tIGZyb20gJ2Jvb20nO1xuaW1wb3J0IHsgU2VydmVyIH0gZnJvbSAnaGFwaSc7XG5pbXBvcnQgeyBmcm9tTm9kZSB9IGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCByZWdpc3RlckhhcGlQbHVnaW5zIGZyb20gJy4uLy4uL3NlcnZlci9odHRwL3JlZ2lzdGVyX2hhcGlfcGx1Z2lucyc7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgTGF6eVNlcnZlciB7XG4gIGNvbnN0cnVjdG9yKGhvc3QsIHBvcnQsIG9wdGltaXplcikge1xuICAgIHRoaXMub3B0aW1pemVyID0gb3B0aW1pemVyO1xuICAgIHRoaXMuc2VydmVyID0gbmV3IFNlcnZlcigpO1xuXG4gICAgcmVnaXN0ZXJIYXBpUGx1Z2lucyhudWxsLCB0aGlzLnNlcnZlcik7XG5cbiAgICB0aGlzLnNlcnZlci5jb25uZWN0aW9uKHtcbiAgICAgIGhvc3Q6IGhvc3QsXG4gICAgICBwb3J0OiBwb3J0XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBpbml0KCkge1xuICAgIGF3YWl0IHRoaXMub3B0aW1pemVyLmluaXQoKTtcbiAgICB0aGlzLm9wdGltaXplci5iaW5kVG9TZXJ2ZXIodGhpcy5zZXJ2ZXIpO1xuICAgIGF3YWl0IGZyb21Ob2RlKGNiID0+IHRoaXMuc2VydmVyLnN0YXJ0KGNiKSk7XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/optimize/lazy/lazy_server.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;oBACiB,MAAM;;;;oBACA,MAAM;;wBACJ,UAAU;;+CACH,yCAAyC;;;;AAEzE,MAAM,CAAC,OAAO;AACD,WADU,UAAU,CACnB,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE;0BADd,UAAU;;AAE7B,QAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AAC3B,QAAI,CAAC,MAAM,GAAG,kBAAY,CAAC;;AAE3B,sDAAoB,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;;AAEvC,QAAI,CAAC,MAAM,CAAC,UAAU,CAAC;AACrB,UAAI,EAAE,IAAI;AACV,UAAI,EAAE,IAAI;KACX,CAAC,CAAC;GACJ;;eAXoB,UAAU;;6BAarB,aAAG;;;AACX,YAAM,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAC5B,UAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACzC,YAAM,wBAAS,UAAA,EAAE;eAAI,MAAK,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;OAAA,CAAC,CAAC;KAC7C;;;SAjBoB,UAAU;IAkBhC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/optimize/lazy/lazy_server.js",
      "sourcesContent": [
        "\nimport Boom from 'boom';\nimport { Server } from 'hapi';\nimport { fromNode } from 'bluebird';\nimport registerHapiPlugins from '../../server/http/register_hapi_plugins';\n\nmodule.exports = class LazyServer {\n  constructor(host, port, optimizer) {\n    this.optimizer = optimizer;\n    this.server = new Server();\n\n    registerHapiPlugins(null, this.server);\n\n    this.server.connection({\n      host: host,\n      port: port\n    });\n  }\n\n  async init() {\n    await this.optimizer.init();\n    this.optimizer.bindToServer(this.server);\n    await fromNode(cb => this.server.start(cb));\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/optimize/lazy/lazy_optimizer.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          },
          {
            "source": "../base_optimizer",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "BaseOptimizer"
              }
            ]
          },
          {
            "source": "./weird_control_flow",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "WeirdControlFlow"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "once",
              "pick",
              "size"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "once",
                "local": "once"
              },
              {
                "kind": "named",
                "imported": "pick",
                "local": "pick"
              },
              {
                "kind": "named",
                "imported": "size",
                "local": "size"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "join"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "join",
                "local": "join"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "create-class",
        "class-call-check",
        "async-to-generator",
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nvar _base_optimizer = require('../base_optimizer');\n\nvar _base_optimizer2 = _interopRequireDefault(_base_optimizer);\n\nvar _weird_control_flow = require('./weird_control_flow');\n\nvar _weird_control_flow2 = _interopRequireDefault(_weird_control_flow);\n\nvar _lodash = require('lodash');\n\nvar _path = require('path');\n\nmodule.exports = (function (_BaseOptimizer) {\n  _inherits(LazyOptimizer, _BaseOptimizer);\n\n  function LazyOptimizer(opts) {\n    var _this = this;\n\n    _classCallCheck(this, LazyOptimizer);\n\n    _get(Object.getPrototypeOf(LazyOptimizer.prototype), 'constructor', this).call(this, opts);\n    this.log = opts.log || function () {\n      return null;\n    };\n    this.prebuild = opts.prebuild || false;\n\n    this.timer = {\n      ms: null,\n      start: function start() {\n        return _this.timer.ms = Date.now();\n      },\n      end: function end() {\n        return _this.timer.ms = ((Date.now() - _this.timer.ms) / 1000).toFixed(2);\n      }\n    };\n\n    this.build = new _weird_control_flow2['default']();\n  }\n\n  _createClass(LazyOptimizer, [{\n    key: 'init',\n    value: _asyncToGenerator(function* () {\n      var _this2 = this;\n\n      this.initializing = true;\n\n      yield this.bundles.writeEntryFiles();\n      yield this.initCompiler();\n\n      this.compiler.plugin('watch-run', function (w, webpackCb) {\n        _this2.build.work((0, _lodash.once)(function () {\n          _this2.timer.start();\n          _this2.logRunStart();\n          webpackCb();\n        }));\n      });\n\n      this.compiler.plugin('done', function (stats) {\n        if (!stats.hasErrors() && !stats.hasWarnings()) {\n          _this2.logRunSuccess();\n          _this2.build.success();\n          return;\n        }\n\n        var err = _this2.failedStatsToError(stats);\n        _this2.logRunFailure(err);\n        _this2.build.failure(err);\n        _this2.watching.invalidate();\n      });\n\n      this.watching = this.compiler.watch({ aggregateTimeout: 200 }, function (err) {\n        if (err) {\n          _this2.log('fatal', err);\n          process.exit(1);\n        }\n      });\n\n      var buildPromise = this.build.get();\n      if (this.prebuild) yield buildPromise;\n\n      this.initializing = false;\n      this.log(['info', 'optimize'], {\n        tmpl: 'Lazy optimization of ' + this.bundles.desc() + ' ready',\n        bundles: this.bundles.getIds()\n      });\n    })\n  }, {\n    key: 'getPath',\n    value: _asyncToGenerator(function* (relativePath) {\n      yield this.build.get();\n      return (0, _path.join)(this.compiler.outputPath, relativePath);\n    })\n  }, {\n    key: 'bindToServer',\n    value: function bindToServer(server) {\n      var _this3 = this;\n\n      server.route({\n        path: '/bundles/{asset*}',\n        method: 'GET',\n        handler: _asyncToGenerator(function* (request, reply) {\n          try {\n            var path = yield _this3.getPath(request.params.asset);\n            return reply.file(path);\n          } catch (error) {\n            console.log(error.stack);\n            return reply(error);\n          }\n        })\n      });\n    }\n  }, {\n    key: 'logRunStart',\n    value: function logRunStart() {\n      this.log(['info', 'optimize'], {\n        tmpl: 'Lazy optimization started',\n        bundles: this.bundles.getIds()\n      });\n    }\n  }, {\n    key: 'logRunSuccess',\n    value: function logRunSuccess() {\n      this.log(['info', 'optimize'], {\n        tmpl: 'Lazy optimization <%= status %> in <%= seconds %> seconds',\n        bundles: this.bundles.getIds(),\n        status: 'success',\n        seconds: this.timer.end()\n      });\n    }\n  }, {\n    key: 'logRunFailure',\n    value: function logRunFailure(err) {\n      // errors during initialization to the server, unlike the rest of the\n      // errors produced here. Lets not muddy the console with extra errors\n      if (this.initializing) return;\n\n      this.log(['fatal', 'optimize'], {\n        tmpl: 'Lazy optimization <%= status %> in <%= seconds %> seconds<%= err %>',\n        bundles: this.bundles.getIds(),\n        status: 'failed',\n        seconds: this.timer.end(),\n        err: err\n      });\n    }\n  }]);\n\n  return LazyOptimizer;\n})(_base_optimizer2['default']);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9sYXp5L2xhenlfb3B0aW1pemVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O29CQUFpQixNQUFNOzs7OzhCQUVHLG1CQUFtQjs7OztrQ0FDaEIsc0JBQXNCOzs7O3NCQUNsQixRQUFROztvQkFDcEIsTUFBTTs7QUFFM0IsTUFBTSxDQUFDLE9BQU87WUFBUyxhQUFhOztBQUN2QixXQURVLGFBQWEsQ0FDdEIsSUFBSSxFQUFFOzs7MEJBREcsYUFBYTs7QUFFaEMsK0JBRm1CLGFBQWEsNkNBRTFCLElBQUksRUFBRTtBQUNaLFFBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsSUFBSzthQUFNLElBQUk7S0FBQSxBQUFDLENBQUM7QUFDcEMsUUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxJQUFJLEtBQUssQ0FBQzs7QUFFdkMsUUFBSSxDQUFDLEtBQUssR0FBRztBQUNYLFFBQUUsRUFBRSxJQUFJO0FBQ1IsV0FBSyxFQUFFO2VBQU0sTUFBSyxLQUFLLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUU7T0FBQTtBQUN2QyxTQUFHLEVBQUU7ZUFBTSxNQUFLLEtBQUssQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxNQUFLLEtBQUssQ0FBQyxFQUFFLENBQUEsR0FBSSxJQUFJLENBQUEsQ0FBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO09BQUE7S0FDNUUsQ0FBQzs7QUFFRixRQUFJLENBQUMsS0FBSyxHQUFHLHFDQUFzQixDQUFDO0dBQ3JDOztlQWJvQixhQUFhOzs2QkFleEIsYUFBRzs7O0FBQ1gsVUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7O0FBRXpCLFlBQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLEVBQUUsQ0FBQztBQUNyQyxZQUFNLElBQUksQ0FBQyxZQUFZLEVB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VUFBVSxDQUFDLEVBQUU7QUFDN0IsWUFBSSw2QkFBNkI7QUFDakMsZUFBTyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFO09BQy9CLENBQUMsQ0FBQztLQUNKOzs7V0FFWSx5QkFBRztBQUNkLFVBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLEVBQUU7QUFDN0IsWUFBSSxFQUFFLDJEQUEyRDtBQUNqRSxlQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUU7QUFDOUIsY0FBTSxFQUFFLFNBQVM7QUFDakIsZUFBTyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFO09BQzFCLENBQUMsQ0FBQztLQUNKOzs7V0FFWSx1QkFBQyxHQUFHLEVBQUU7OztBQUdqQixVQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsT0FBTzs7QUFFOUIsVUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsRUFBRTtBQUM5QixZQUFJLEVBQUUscUVBQXFFO0FBQzNFLGVBQU8sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRTtBQUM5QixjQUFNLEVBQUUsUUFBUTtBQUNoQixlQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUU7QUFDekIsV0FBRyxFQUFFLEdBQUc7T0FDVCxDQUFDLENBQUM7S0FDSjs7O1NBNUdvQixhQUFhOytCQTZHbkMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvb3B0aW1pemUvbGF6eS9sYXp5X29wdGltaXplci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCb29tIGZyb20gJ2Jvb20nO1xuXG5pbXBvcnQgQmFzZU9wdGltaXplciBmcm9tICcuLi9iYXNlX29wdGltaXplcic7XG5pbXBvcnQgV2VpcmRDb250cm9sRmxvdyBmcm9tICcuL3dlaXJkX2NvbnRyb2xfZmxvdyc7XG5pbXBvcnQgeyBvbmNlLCBwaWNrLCBzaXplIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBMYXp5T3B0aW1pemVyIGV4dGVuZHMgQmFzZU9wdGltaXplciB7XG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBzdXBlcihvcHRzKTtcbiAgICB0aGlzLmxvZyA9IG9wdHMubG9nIHx8ICgoKSA9PiBudWxsKTtcbiAgICB0aGlzLnByZWJ1aWxkID0gb3B0cy5wcmVidWlsZCB8fCBmYWxzZTtcblxuICAgIHRoaXMudGltZXIgPSB7XG4gICAgICBtczogbnVsbCxcbiAgICAgIHN0YXJ0OiAoKSA9PiB0aGlzLnRpbWVyLm1zID0gRGF0ZS5ub3coKSxcbiAgICAgIGVuZDogKCkgPT4gdGhpcy50aW1lci5tcyA9ICgoRGF0ZS5ub3coKSAtIHRoaXMudGltZXIubXMpIC8gMTAwMCkudG9GaXhlZCgyKVxuICAgIH07XG5cbiAgICB0aGlzLmJ1aWxkID0gbmV3IFdlaXJkQ29udHJvbEZsb3coKTtcbiAgfVxuXG4gIGFzeW5jIGluaXQoKSB7XG4gICAgdGhpcy5pbml0aWFsaXppbmcgPSB0cnVlO1xuXG4gICAgYXdhaXQgdGhpcy5idW5kbGVzLndyaXRlRW50cnlGaWxlcygpO1xuICAgIGF3YWl0IHRoaXMuaW5pdENvbXBpbGVyKCk7XG5cbiAgICB0aGlzLmNvbXBpbGVyLnBsdWdpbignd2F0Y2gtcnVuJywgKHcsIHdlYnBhY2tDYikgPT4ge1xuICAgICAgdGhpcy5idWlsZC53b3JrKG9uY2UoKCkgPT4ge1xuICAgICAgICB0aGlzLnRpbWVyLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMubG9nUnVuU3RhcnQoKTtcbiAgICAgICAgd2VicGFja0NiKCk7XG4gICAgICB9KSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbXBpbGVyLnBsdWdpbignZG9uZScsIHN0YXRzID0+IHtcbiAgICAgIGlmICghc3RhdHMuaGFzRXJyb3JzKCkgJiYgIXN0YXRzLmhhc1dhcm5pbmdzKCkpIHtcbiAgICAgICAgdGhpcy5sb2dSdW5TdWNjZXNzKCk7XG4gICAgICAgIHRoaXMuYnVpbGQuc3VjY2VzcygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVyciA9IHRoaXMuZmFpbGVkU3RhdHNUb0Vycm9yKHN0YXRzKTtcbiAgICAgIHRoaXMubG9nUnVuRmFpbHVyZShlcnIpO1xuICAgICAgdGhpcy5idWlsZC5mYWlsdXJlKGVycik7XG4gICAgICB0aGlzLndhdGNoaW5nLmludmFsaWRhdGUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMud2F0Y2hpbmcgPSB0aGlzLmNvbXBpbGVyLndhdGNoKHsgYWdncmVnYXRlVGltZW91dDogMjAwIH0sIGVyciA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRoaXMubG9nKCdmYXRhbCcsIGVycik7XG4gICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGJ1aWxkUHJvbWlzZSA9IHRoaXMuYnVpbGQuZ2V0KCk7XG4gICAgaWYgKHRoaXMucHJlYnVpbGQpIGF3YWl0IGJ1aWxkUHJvbWlzZTtcblxuICAgIHRoaXMuaW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gICAgdGhpcy5sb2coWydpbmZvJywgJ29wdGltaXplJ10sIHtcbiAgICAgIHRtcGw6IGBMYXp5IG9wdGltaXphdGlvbiBvZiAke3RoaXMuYnVuZGxlcy5kZXNjKCl9IHJlYWR5YCxcbiAgICAgIGJ1bmRsZXM6IHRoaXMuYnVuZGxlcy5nZXRJZHMoKVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgZ2V0UGF0aChyZWxhdGl2ZVBhdGgpIHtcbiAgICBhd2FpdCB0aGlzLmJ1aWxkLmdldCgpO1xuICAgIHJldHVybiBqb2luKHRoaXMuY29tcGlsZXIub3V0cHV0UGF0aCwgcmVsYXRpdmVQYXRoKTtcbiAgfVxuXG4gIGJpbmRUb1NlcnZlcihzZXJ2ZXIpIHtcbiAgICBzZXJ2ZXIucm91dGUoe1xuICAgICAgcGF0aDogJy9idW5kbGVzL3thc3NldCp9JyxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoYW5kbGVyOiBhc3luYyAocmVxdWVzdCwgcmVwbHkpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXRoID0gYXdhaXQgdGhpcy5nZXRQYXRoKHJlcXVlc3QucGFyYW1zLmFzc2V0KTtcbiAgICAgICAgICByZXR1cm4gcmVwbHkuZmlsZShwYXRoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5zdGFjayk7XG4gICAgICAgICAgcmV0dXJuIHJlcGx5KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbG9nUnVuU3RhcnQoKSB7XG4gICAgdGhpcy5sb2coWydpbmZvJywgJ29wdGltaXplJ10sIHtcbiAgICAgIHRtcGw6IGBMYXp5IG9wdGltaXphdGlvbiBzdGFydGVkYCxcbiAgICAgIGJ1bmRsZXM6IHRoaXMuYnVuZGxlcy5nZXRJZHMoKVxuICAgIH0pO1xuICB9XG5cbiAgbG9nUnVuU3VjY2VzcygpIHtcbiAgICB0aGlzLmxvZyhbJ2luZm8nLCAnb3B0aW1pemUnXSwge1xuICAgICAgdG1wbDogJ0xhenkgb3B0aW1pemF0aW9uIDwlPSBzdGF0dXMgJT4gaW4gPCU9IHNlY29uZHMgJT4gc2Vjb25kcycsXG4gICAgICBidW5kbGVzOiB0aGlzLmJ1bmRsZXMuZ2V0SWRzKCksXG4gICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgIHNlY29uZHM6IHRoaXMudGltZXIuZW5kKClcbiAgICB9KTtcbiAgfVxuXG4gIGxvZ1J1bkZhaWx1cmUoZXJyKSB7XG4gICAgLy8gZXJyb3JzIGR1cmluZyBpbml0aWFsaXphdGlvbiB0byB0aGUgc2VydmVyLCB1bmxpa2UgdGhlIHJlc3Qgb2YgdGhlXG4gICAgLy8gZXJyb3JzIHByb2R1Y2VkIGhlcmUuIExldHMgbm90IG11ZGR5IHRoZSBjb25zb2xlIHdpdGggZXh0cmEgZXJyb3JzXG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6aW5nKSByZXR1cm47XG5cbiAgICB0aGlzLmxvZyhbJ2ZhdGFsJywgJ29wdGltaXplJ10sIHtcbiAgICAgIHRtcGw6ICdMYXp5IG9wdGltaXphdGlvbiA8JT0gc3RhdHVzICU+IGluIDwlPSBzZWNvbmRzICU+IHNlY29uZHM8JT0gZXJyICU+JyxcbiAgICAgIGJ1bmRsZXM6IHRoaXMuYnVuZGxlcy5nZXRJZHMoKSxcbiAgICAgIHN0YXR1czogJ2ZhaWxlZCcsXG4gICAgICBzZWNvbmRzOiB0aGlzLnRpbWVyLmVuZCgpLFxuICAgICAgZXJyOiBlcnJcbiAgICB9KTtcbiAgfVxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/optimize/lazy/lazy_optimizer.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/optimize/lazy/lazy_optimizer.js",
      "sourcesContent": [
        "import Boom from 'boom';\n\nimport BaseOptimizer from '../base_optimizer';\nimport WeirdControlFlow from './weird_control_flow';\nimport { once, pick, size } from 'lodash';\nimport { join } from 'path';\n\nmodule.exports = class LazyOptimizer extends BaseOptimizer {\n  constructor(opts) {\n    super(opts);\n    this.log = opts.log || (() => null);\n    this.prebuild = opts.prebuild || false;\n\n    this.timer = {\n      ms: null,\n      start: () => this.timer.ms = Date.now(),\n      end: () => this.timer.ms = ((Date.now() - this.timer.ms) / 1000).toFixed(2)\n    };\n\n    this.build = new WeirdControlFlow();\n  }\n\n  async init() {\n    this.initializing = true;\n\n    await this.bundles.writeEntryFiles();\n    await this.initCompiler();\n\n    this.compiler.plugin('watch-run', (w, webpackCb) => {\n      this.build.work(once(() => {\n        this.timer.start();\n        this.logRunStart();\n        webpackCb();\n      }));\n    });\n\n    this.compiler.plugin('done', stats => {\n      if (!stats.hasErrors() && !stats.hasWarnings()) {\n        this.logRunSuccess();\n        this.build.success();\n        return;\n      }\n\n      const err = this.failedStatsToError(stats);\n      this.logRunFailure(err);\n      this.build.failure(err);\n      this.watching.invalidate();\n    });\n\n    this.watching = this.compiler.watch({ aggregateTimeout: 200 }, err => {\n      if (err) {\n        this.log('fatal', err);\n        process.exit(1);\n      }\n    });\n\n    const buildPromise = this.build.get();\n    if (this.prebuild) await buildPromise;\n\n    this.initializing = false;\n    this.log(['info', 'optimize'], {\n      tmpl: `Lazy optimization of ${this.bundles.desc()} ready`,\n      bundles: this.bundles.getIds()\n    });\n  }\n\n  async getPath(relativePath) {\n    await this.build.get();\n    return join(this.compiler.outputPath, relativePath);\n  }\n\n  bindToServer(server) {\n    server.route({\n      path: '/bundles/{asset*}',\n      method: 'GET',\n      handler: async (request, reply) => {\n        try {\n          const path = await this.getPath(request.params.asset);\n          return reply.file(path);\n        } catch (error) {\n          console.log(error.stack);\n          return reply(error);\n        }\n      }\n    });\n  }\n\n  logRunStart() {\n    this.log(['info', 'optimize'], {\n      tmpl: `Lazy optimization started`,\n      bundles: this.bundles.getIds()\n    });\n  }\n\n  logRunSuccess() {\n    this.log(['info', 'optimize'], {\n      tmpl: 'Lazy optimization <%= status %> in <%= seconds %> seconds',\n      bundles: this.bundles.getIds(),\n      status: 'success',\n      seconds: this.timer.end()\n    });\n  }\n\n  logRunFailure(err) {\n    // errors during initialization to the server, unlike the rest of the\n    // errors produced here. Lets not muddy the console with extra errors\n    if (this.initializing) return;\n\n    this.log(['fatal', 'optimize'], {\n      tmpl: 'Lazy optimization <%= status %> in <%= seconds %> seconds<%= err %>',\n      bundles: this.bundles.getIds(),\n      status: 'failed',\n      seconds: this.timer.end(),\n      err: err\n    });\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/optimize/lazy/weird_control_flow.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "bluebird",
            "imported": [
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "create-class",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _bluebird = require('bluebird');\n\nmodule.exports = (function () {\n  function WeirdControlFlow(work) {\n    _classCallCheck(this, WeirdControlFlow);\n\n    this.handlers = [];\n  }\n\n  _createClass(WeirdControlFlow, [{\n    key: 'get',\n    value: function get() {\n      var _this = this;\n\n      return (0, _bluebird.fromNode)(function (cb) {\n        if (_this.ready) return cb();\n        _this.handlers.push(cb);\n        _this.start();\n      });\n    }\n  }, {\n    key: 'work',\n    value: function work(_work) {\n      this._work = _work;\n      this.stop();\n\n      if (this.handlers.length) {\n        this.start();\n      }\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      if (this.running) return;\n      this.stop();\n      if (this._work) {\n        this.running = true;\n        this._work();\n      }\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.ready = false;\n      this.error = false;\n      this.running = false;\n    }\n  }, {\n    key: 'success',\n    value: function success() {\n      this.stop();\n      this.ready = true;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this._flush(args);\n    }\n  }, {\n    key: 'failure',\n    value: function failure(err) {\n      this.stop();\n      this.error = err;\n      this._flush([err]);\n    }\n  }, {\n    key: '_flush',\n    value: function _flush(args) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.handlers.splice(0)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var fn = _step.value;\n\n          fn.apply(null, args);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }]);\n\n  return WeirdControlFlow;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9sYXp5L3dlaXJkX2NvbnRyb2xfZmxvdy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7d0JBQXlCLFVBQVU7O0FBR25DLE1BQU0sQ0FBQyxPQUFPO0FBQ0QsV0FEVSxnQkFBZ0IsQ0FDekIsSUFBSSxFQUFFOzBCQURHLGdCQUFnQjs7QUFFbkMsUUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7R0FDcEI7O2VBSG9CLGdCQUFnQjs7V0FLbEMsZUFBRzs7O0FBQ0osYUFBTyx3QkFBUyxVQUFBLEVBQUUsRUFBSTtBQUNwQixZQUFJLE1BQUssS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUM7QUFDNUIsY0FBSyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3ZCLGNBQUssS0FBSyxFQUFFLENBQUM7T0FDZCxDQUFDLENBQUM7S0FDSjs7O1dBRUcsY0FBQyxLQUFJLEVBQUU7QUFDVCxVQUFJLENBQUMsS0FBSyxHQUFHLEtBQUksQ0FBQztBQUNsQixVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7O0FBRVosVUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRTtBQUN4QixZQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7T0FDZDtLQUNGOzs7V0FFSSxpQkFBRztBQUNOLFVBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxPQUFPO0FBQ3pCLFVBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFVBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtBQUNkLFlBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLFlBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztPQUNkO0tBQ0Y7OztXQUVHLGdCQUFHO0FBQ0wsVUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkIsVUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkIsVUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7S0FDdEI7OztXQUVNLG1CQUFVO0FBQ2YsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7O3dDQUZULElBQUk7QUFBSixZQUFJOzs7QUFHYixVQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ25COzs7V0FFTSxpQkFBQyxHQUFHLEVBQUU7QUFDWCxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztBQUNqQixVQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNwQjs7O1dBRUssZ0JBQUMsSUFBSSxFQUFFOzs7Ozs7QUFDWCw2QkFBaUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLDhIQUFFO2NBQS9CLEVBQUU7O0FBQ1gsWUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDdEI7Ozs7Ozs7Ozs7Ozs7OztLQUNGOzs7U0FyRG9CLGdCQUFnQjtJQXNEdEMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvb3B0aW1pemUvbGF6eS93ZWlyZF9jb250cm9sX2Zsb3cuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tTm9kZSB9IGZyb20gJ2JsdWViaXJkJztcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFdlaXJkQ29udHJvbEZsb3cge1xuICBjb25zdHJ1Y3Rvcih3b3JrKSB7XG4gICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICB9XG5cbiAgZ2V0KCkge1xuICAgIHJldHVybiBmcm9tTm9kZShjYiA9PiB7XG4gICAgICBpZiAodGhpcy5yZWFkeSkgcmV0dXJuIGNiKCk7XG4gICAgICB0aGlzLmhhbmRsZXJzLnB1c2goY2IpO1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH0pO1xuICB9XG5cbiAgd29yayh3b3JrKSB7XG4gICAgdGhpcy5fd29yayA9IHdvcms7XG4gICAgdGhpcy5zdG9wKCk7XG5cbiAgICBpZiAodGhpcy5oYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAodGhpcy5ydW5uaW5nKSByZXR1cm47XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgaWYgKHRoaXMuX3dvcmspIHtcbiAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XG4gICAgICB0aGlzLl93b3JrKCk7XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XG4gICAgdGhpcy5lcnJvciA9IGZhbHNlO1xuICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICB9XG5cbiAgc3VjY2VzcyguLi5hcmdzKSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5yZWFkeSA9IHRydWU7XG4gICAgdGhpcy5fZmx1c2goYXJncyk7XG4gIH1cblxuICBmYWlsdXJlKGVycikge1xuICAgIHRoaXMuc3RvcCgpO1xuICAgIHRoaXMuZXJyb3IgPSBlcnI7XG4gICAgdGhpcy5fZmx1c2goW2Vycl0pO1xuICB9XG5cbiAgX2ZsdXNoKGFyZ3MpIHtcbiAgICBmb3IgKGNvbnN0IGZuIG9mIHRoaXMuaGFuZGxlcnMuc3BsaWNlKDApKSB7XG4gICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/optimize/lazy/weird_control_flow.js"
      ],
      "names": [],
      "mappings": ";;;;;;wBAAyB,UAAU;;AAGnC,MAAM,CAAC,OAAO;AACD,WADU,gBAAgB,CACzB,IAAI,EAAE;0BADG,gBAAgB;;AAEnC,QAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;GACpB;;eAHoB,gBAAgB;;WAKlC,eAAG;;;AACJ,aAAO,wBAAS,UAAA,EAAE,EAAI;AACpB,YAAI,MAAK,KAAK,EAAE,OAAO,EAAE,EAAE,CAAC;AAC5B,cAAK,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACvB,cAAK,KAAK,EAAE,CAAC;OACd,CAAC,CAAC;KACJ;;;WAEG,cAAC,KAAI,EAAE;AACT,UAAI,CAAC,KAAK,GAAG,KAAI,CAAC;AAClB,UAAI,CAAC,IAAI,EAAE,CAAC;;AAEZ,UAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;AACxB,YAAI,CAAC,KAAK,EAAE,CAAC;OACd;KACF;;;WAEI,iBAAG;AACN,UAAI,IAAI,CAAC,OAAO,EAAE,OAAO;AACzB,UAAI,CAAC,IAAI,EAAE,CAAC;AACZ,UAAI,IAAI,CAAC,KAAK,EAAE;AACd,YAAI,CAAC,OAAO,GAAG,IAAI,CAAC;AACpB,YAAI,CAAC,KAAK,EAAE,CAAC;OACd;KACF;;;WAEG,gBAAG;AACL,UAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,UAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,UAAI,CAAC,OAAO,GAAG,KAAK,CAAC;KACtB;;;WAEM,mBAAU;AACf,UAAI,CAAC,IAAI,EAAE,CAAC;AACZ,UAAI,CAAC,KAAK,GAAG,IAAI,CAAC;;wCAFT,IAAI;AAAJ,YAAI;;;AAGb,UAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;KACnB;;;WAEM,iBAAC,GAAG,EAAE;AACX,UAAI,CAAC,IAAI,EAAE,CAAC;AACZ,UAAI,CAAC,KAAK,GAAG,GAAG,CAAC;AACjB,UAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KACpB;;;WAEK,gBAAC,IAAI,EAAE;;;;;;AACX,6BAAiB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,8HAAE;cAA/B,EAAE;;AACX,YAAE,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SACtB;;;;;;;;;;;;;;;KACF;;;SArDoB,gBAAgB;IAsDtC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/optimize/lazy/weird_control_flow.js",
      "sourcesContent": [
        "import { fromNode } from 'bluebird';\n\n\nmodule.exports = class WeirdControlFlow {\n  constructor(work) {\n    this.handlers = [];\n  }\n\n  get() {\n    return fromNode(cb => {\n      if (this.ready) return cb();\n      this.handlers.push(cb);\n      this.start();\n    });\n  }\n\n  work(work) {\n    this._work = work;\n    this.stop();\n\n    if (this.handlers.length) {\n      this.start();\n    }\n  }\n\n  start() {\n    if (this.running) return;\n    this.stop();\n    if (this._work) {\n      this.running = true;\n      this._work();\n    }\n  }\n\n  stop() {\n    this.ready = false;\n    this.error = false;\n    this.running = false;\n  }\n\n  success(...args) {\n    this.stop();\n    this.ready = true;\n    this._flush(args);\n  }\n\n  failure(err) {\n    this.stop();\n    this.error = err;\n    this._flush([err]);\n  }\n\n  _flush(args) {\n    for (const fn of this.handlers.splice(0)) {\n      fn.apply(null, args);\n    }\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/optimize/lazy/proxy_role.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "bluebird",
            "imported": [
              "fromNode"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "fromNode",
                "local": "fromNode"
              }
            ]
          },
          {
            "source": "lodash",
            "imported": [
              "get",
              "once"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "get",
                "local": "get"
              },
              {
                "kind": "named",
                "imported": "once",
                "local": "once"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _bluebird = require('bluebird');\n\nvar _lodash = require('lodash');\n\nmodule.exports = function (kbnServer, server, config) {\n\n  server.route({\n    path: '/bundles/{path*}',\n    method: 'GET',\n    handler: {\n      proxy: {\n        host: config.get('optimize.lazyHost'),\n        port: config.get('optimize.lazyPort'),\n        passThrough: true,\n        xforward: true\n      }\n    },\n    config: { auth: false }\n  });\n\n  return (0, _bluebird.fromNode)(function (cb) {\n    var timeout = setTimeout(function () {\n      cb(new Error('Server timedout waiting for the optimizer to become ready'));\n    }, config.get('optimize.lazyProxyTimeout'));\n\n    var waiting = (0, _lodash.once)(function () {\n      server.log(['info', 'optimize'], 'Waiting for optimizer completion');\n    });\n\n    if (!process.connected) return;\n\n    process.send(['WORKER_BROADCAST', { optimizeReady: '?' }]);\n    process.on('message', function (msg) {\n      switch ((0, _lodash.get)(msg, 'optimizeReady')) {\n        case true:\n          clearTimeout(timeout);\n          cb();\n          break;\n        case false:\n          waiting();\n          break;\n      }\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9sYXp5L3Byb3h5X3JvbGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7d0JBQXlCLFVBQVU7O3NCQUNULFFBQVE7O0FBRWxDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBSzs7QUFFOUMsUUFBTSxDQUFDLEtBQUssQ0FBQztBQUNYLFFBQUksRUFBRSxrQkFBa0I7QUFDeEIsVUFBTSxFQUFFLEtBQUs7QUFDYixXQUFPLEVBQUU7QUFDUCxXQUFLLEVBQUU7QUFDTCxZQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQztBQUNyQyxZQUFJLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQztBQUNyQyxtQkFBVyxFQUFFLElBQUk7QUFDakIsZ0JBQVEsRUFBRSxJQUFJO09BQ2Y7S0FDRjtBQUNELFVBQU0sRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUU7R0FDeEIsQ0FBQyxDQUFDOztBQUVILFNBQU8sd0JBQVMsVUFBQSxFQUFFLEVBQUk7QUFDcEIsUUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLFlBQU07QUFDL0IsUUFBRSxDQUFDLElBQUksS0FBSyxDQUFDLDJEQUEyRCxDQUFDLENBQUMsQ0FBQztLQUM1RSxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxDQUFDOztBQUU1QyxRQUFNLE9BQU8sR0FBRyxrQkFBSyxZQUFNO0FBQ3pCLFlBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLEVBQUUsa0NBQWtDLENBQUMsQ0FBQztLQUN0RSxDQUFDLENBQUM7O0FBRUgsUUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTzs7QUFFL0IsV0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLGtCQUFrQixFQUFFLEVBQUUsYUFBYSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUMzRCxXQUFPLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxVQUFDLEdBQUcsRUFBSztBQUM3QixjQUFRLGlCQUFJLEdBQUcsRUFBRSxlQUFlLENBQUM7QUFDL0IsYUFBSyxJQUFJO0FBQ1Asc0JBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN0QixZQUFFLEVBQUUsQ0FBQztBQUNMLGdCQUFNO0FBQUEsQUFDUixhQUFLLEtBQUs7QUFDUixpQkFBTyxFQUFFLENBQUM7QUFDVixnQkFBTTtBQUFBLE9BQ1Q7S0FDRixDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FFSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9vcHRpbWl6ZS9sYXp5L3Byb3h5X3JvbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tTm9kZSB9IGZyb20gJ2JsdWViaXJkJztcbmltcG9ydCB7IGdldCwgb25jZSB9IGZyb20gJ2xvZGFzaCc7XG5cbm1vZHVsZS5leHBvcnRzID0gKGtiblNlcnZlciwgc2VydmVyLCBjb25maWcpID0+IHtcblxuICBzZXJ2ZXIucm91dGUoe1xuICAgIHBhdGg6ICcvYnVuZGxlcy97cGF0aCp9JyxcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIGhhbmRsZXI6IHtcbiAgICAgIHByb3h5OiB7XG4gICAgICAgIGhvc3Q6IGNvbmZpZy5nZXQoJ29wdGltaXplLmxhenlIb3N0JyksXG4gICAgICAgIHBvcnQ6IGNvbmZpZy5nZXQoJ29wdGltaXplLmxhenlQb3J0JyksXG4gICAgICAgIHBhc3NUaHJvdWdoOiB0cnVlLFxuICAgICAgICB4Zm9yd2FyZDogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgY29uZmlnOiB7IGF1dGg6IGZhbHNlIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGZyb21Ob2RlKGNiID0+IHtcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjYihuZXcgRXJyb3IoJ1NlcnZlciB0aW1lZG91dCB3YWl0aW5nIGZvciB0aGUgb3B0aW1pemVyIHRvIGJlY29tZSByZWFkeScpKTtcbiAgICB9LCBjb25maWcuZ2V0KCdvcHRpbWl6ZS5sYXp5UHJveHlUaW1lb3V0JykpO1xuXG4gICAgY29uc3Qgd2FpdGluZyA9IG9uY2UoKCkgPT4ge1xuICAgICAgc2VydmVyLmxvZyhbJ2luZm8nLCAnb3B0aW1pemUnXSwgJ1dhaXRpbmcgZm9yIG9wdGltaXplciBjb21wbGV0aW9uJyk7XG4gICAgfSk7XG5cbiAgICBpZiAoIXByb2Nlc3MuY29ubmVjdGVkKSByZXR1cm47XG5cbiAgICBwcm9jZXNzLnNlbmQoWydXT1JLRVJfQlJPQURDQVNUJywgeyBvcHRpbWl6ZVJlYWR5OiAnPycgfV0pO1xuICAgIHByb2Nlc3Mub24oJ21lc3NhZ2UnLCAobXNnKSA9PiB7XG4gICAgICBzd2l0Y2ggKGdldChtc2csICdvcHRpbWl6ZVJlYWR5JykpIHtcbiAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICBjYigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGZhbHNlOlxuICAgICAgICAgIHdhaXRpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/optimize/lazy/proxy_role.js"
      ],
      "names": [],
      "mappings": ";;wBAAyB,UAAU;;sBACT,QAAQ;;AAElC,MAAM,CAAC,OAAO,GAAG,UAAC,SAAS,EAAE,MAAM,EAAE,MAAM,EAAK;;AAE9C,QAAM,CAAC,KAAK,CAAC;AACX,QAAI,EAAE,kBAAkB;AACxB,UAAM,EAAE,KAAK;AACb,WAAO,EAAE;AACP,WAAK,EAAE;AACL,YAAI,EAAE,MAAM,CAAC,GAAG,CAAC,mBAAmB,CAAC;AACrC,YAAI,EAAE,MAAM,CAAC,GAAG,CAAC,mBAAmB,CAAC;AACrC,mBAAW,EAAE,IAAI;AACjB,gBAAQ,EAAE,IAAI;OACf;KACF;AACD,UAAM,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;GACxB,CAAC,CAAC;;AAEH,SAAO,wBAAS,UAAA,EAAE,EAAI;AACpB,QAAM,OAAO,GAAG,UAAU,CAAC,YAAM;AAC/B,QAAE,CAAC,IAAI,KAAK,CAAC,2DAA2D,CAAC,CAAC,CAAC;KAC5E,EAAE,MAAM,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC,CAAC;;AAE5C,QAAM,OAAO,GAAG,kBAAK,YAAM;AACzB,YAAM,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE,kCAAkC,CAAC,CAAC;KACtE,CAAC,CAAC;;AAEH,QAAI,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO;;AAE/B,WAAO,CAAC,IAAI,CAAC,CAAC,kBAAkB,EAAE,EAAE,aAAa,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;AAC3D,WAAO,CAAC,EAAE,CAAC,SAAS,EAAE,UAAC,GAAG,EAAK;AAC7B,cAAQ,iBAAI,GAAG,EAAE,eAAe,CAAC;AAC/B,aAAK,IAAI;AACP,sBAAY,CAAC,OAAO,CAAC,CAAC;AACtB,YAAE,EAAE,CAAC;AACL,gBAAM;AAAA,AACR,aAAK,KAAK;AACR,iBAAO,EAAE,CAAC;AACV,gBAAM;AAAA,OACT;KACF,CAAC,CAAC;GACJ,CAAC,CAAC;CAEJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/optimize/lazy/proxy_role.js",
      "sourcesContent": [
        "import { fromNode } from 'bluebird';\nimport { get, once } from 'lodash';\n\nmodule.exports = (kbnServer, server, config) => {\n\n  server.route({\n    path: '/bundles/{path*}',\n    method: 'GET',\n    handler: {\n      proxy: {\n        host: config.get('optimize.lazyHost'),\n        port: config.get('optimize.lazyPort'),\n        passThrough: true,\n        xforward: true\n      }\n    },\n    config: { auth: false }\n  });\n\n  return fromNode(cb => {\n    const timeout = setTimeout(() => {\n      cb(new Error('Server timedout waiting for the optimizer to become ready'));\n    }, config.get('optimize.lazyProxyTimeout'));\n\n    const waiting = once(() => {\n      server.log(['info', 'optimize'], 'Waiting for optimizer completion');\n    });\n\n    if (!process.connected) return;\n\n    process.send(['WORKER_BROADCAST', { optimizeReady: '?' }]);\n    process.on('message', (msg) => {\n      switch (get(msg, 'optimizeReady')) {\n        case true:\n          clearTimeout(timeout);\n          cb();\n          break;\n        case false:\n          waiting();\n          break;\n      }\n    });\n  });\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_get.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "registerGet",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "registerGet",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = registerGet;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nfunction registerGet(server) {\n  server.route({\n    path: '/api/kibana/settings',\n    method: 'GET',\n    handler: function handler(req, reply) {\n      server.uiSettings().getUserProvided(req).then(function (settings) {\n        return reply({ settings: settings }).type('application/json');\n      })['catch'](function (err) {\n        return reply(_boom2['default'].wrap(err, err.statusCode));\n      });\n    }\n  });\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NldHRpbmdzL3JlZ2lzdGVyX2dldC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztxQkFFd0IsV0FBVzs7OztvQkFGbEIsTUFBTTs7OztBQUVSLFNBQVMsV0FBVyxDQUFDLE1BQU0sRUFBRTtBQUMxQyxRQUFNLENBQUMsS0FBSyxDQUFDO0FBQ1gsUUFBSSxFQUFFLHNCQUFzQjtBQUM1QixVQUFNLEVBQUUsS0FBSztBQUNiLFdBQU8sRUFBRSxpQkFBVSxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQzdCLFlBQU0sQ0FDSCxVQUFVLEVBQUUsQ0FDWixlQUFlLENBQUMsR0FBRyxDQUFDLENBQ3BCLElBQUksQ0FBQyxVQUFBLFFBQVE7ZUFBSSxLQUFLLENBQUMsRUFBRSxRQUFRLEVBQVIsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7T0FBQSxDQUFDLFNBQ3pELENBQUMsVUFBQSxHQUFHO2VBQUksS0FBSyxDQUFDLGtCQUFLLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO09BQUEsQ0FBQyxDQUFDO0tBQ3hEO0dBQ0YsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9raWJhbmEvc2VydmVyL3JvdXRlcy9hcGkvc2V0dGluZ3MvcmVnaXN0ZXJfZ2V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvb20gZnJvbSAnYm9vbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlZ2lzdGVyR2V0KHNlcnZlcikge1xuICBzZXJ2ZXIucm91dGUoe1xuICAgIHBhdGg6ICcvYXBpL2tpYmFuYS9zZXR0aW5ncycsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiAocmVxLCByZXBseSkge1xuICAgICAgc2VydmVyXG4gICAgICAgIC51aVNldHRpbmdzKClcbiAgICAgICAgLmdldFVzZXJQcm92aWRlZChyZXEpXG4gICAgICAgIC50aGVuKHNldHRpbmdzID0+IHJlcGx5KHsgc2V0dGluZ3MgfSkudHlwZSgnYXBwbGljYXRpb24vanNvbicpKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlcGx5KEJvb20ud3JhcChlcnIsIGVyci5zdGF0dXNDb2RlKSkpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_get.js"
      ],
      "names": [],
      "mappings": ";;;;;qBAEwB,WAAW;;;;oBAFlB,MAAM;;;;AAER,SAAS,WAAW,CAAC,MAAM,EAAE;AAC1C,QAAM,CAAC,KAAK,CAAC;AACX,QAAI,EAAE,sBAAsB;AAC5B,UAAM,EAAE,KAAK;AACb,WAAO,EAAE,iBAAU,GAAG,EAAE,KAAK,EAAE;AAC7B,YAAM,CACH,UAAU,EAAE,CACZ,eAAe,CAAC,GAAG,CAAC,CACpB,IAAI,CAAC,UAAA,QAAQ;eAAI,KAAK,CAAC,EAAE,QAAQ,EAAR,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC;OAAA,CAAC,SACzD,CAAC,UAAA,GAAG;eAAI,KAAK,CAAC,kBAAK,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;OAAA,CAAC,CAAC;KACxD;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_get.js",
      "sourcesContent": [
        "import Boom from 'boom';\n\nexport default function registerGet(server) {\n  server.route({\n    path: '/api/kibana/settings',\n    method: 'GET',\n    handler: function (req, reply) {\n      server\n        .uiSettings()\n        .getUserProvided(req)\n        .then(settings => reply({ settings }).type('application/json'))\n        .catch(err => reply(Boom.wrap(err, err.statusCode)));\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_set.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "registerSet",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "registerSet",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = registerSet;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nfunction registerSet(server) {\n  server.route({\n    path: '/api/kibana/settings/{key}',\n    method: 'POST',\n    handler: function handler(req, reply) {\n      var key = req.params.key;\n      var value = req.payload.value;\n\n      var uiSettings = server.uiSettings();\n      uiSettings.set(req, key, value).then(function () {\n        return uiSettings.getUserProvided(req).then(function (settings) {\n          return reply({ settings: settings }).type('application/json');\n        });\n      })['catch'](function (err) {\n        return reply(_boom2['default'].wrap(err, err.statusCode));\n      });\n    }\n  });\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NldHRpbmdzL3JlZ2lzdGVyX3NldC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztxQkFFd0IsV0FBVzs7OztvQkFGbEIsTUFBTTs7OztBQUVSLFNBQVMsV0FBVyxDQUFDLE1BQU0sRUFBRTtBQUMxQyxRQUFNLENBQUMsS0FBSyxDQUFDO0FBQ1gsUUFBSSxFQUFFLDRCQUE0QjtBQUNsQyxVQUFNLEVBQUUsTUFBTTtBQUNkLFdBQU8sRUFBRSxpQkFBVSxHQUFHLEVBQUUsS0FBSyxFQUFFO1VBQ3JCLEdBQUcsR0FBSyxHQUFHLENBQUMsTUFBTSxDQUFsQixHQUFHO1VBQ0gsS0FBSyxHQUFLLEdBQUcsQ0FBQyxPQUFPLENBQXJCLEtBQUs7O0FBQ2IsVUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDO0FBQ3ZDLGdCQUFVLENBQ1AsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQ3BCLElBQUksQ0FBQztlQUFNLFVBQVUsQ0FDbkIsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUNwQixJQUFJLENBQUMsVUFBQSxRQUFRO2lCQUFJLEtBQUssQ0FBQyxFQUFFLFFBQVEsRUFBUixRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztTQUFBLENBQUM7T0FBQSxDQUNoRSxTQUNLLENBQUMsVUFBQSxHQUFHO2VBQUksS0FBSyxDQUFDLGtCQUFLLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO09BQUEsQ0FBQyxDQUFDO0tBQ3hEO0dBQ0YsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9raWJhbmEvc2VydmVyL3JvdXRlcy9hcGkvc2V0dGluZ3MvcmVnaXN0ZXJfc2V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvb20gZnJvbSAnYm9vbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlZ2lzdGVyU2V0KHNlcnZlcikge1xuICBzZXJ2ZXIucm91dGUoe1xuICAgIHBhdGg6ICcvYXBpL2tpYmFuYS9zZXR0aW5ncy97a2V5fScsXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gKHJlcSwgcmVwbHkpIHtcbiAgICAgIGNvbnN0IHsga2V5IH0gPSByZXEucGFyYW1zO1xuICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gcmVxLnBheWxvYWQ7XG4gICAgICBjb25zdCB1aVNldHRpbmdzID0gc2VydmVyLnVpU2V0dGluZ3MoKTtcbiAgICAgIHVpU2V0dGluZ3NcbiAgICAgICAgLnNldChyZXEsIGtleSwgdmFsdWUpXG4gICAgICAgIC50aGVuKCgpID0+IHVpU2V0dGluZ3NcbiAgICAgICAgICAuZ2V0VXNlclByb3ZpZGVkKHJlcSlcbiAgICAgICAgICAudGhlbihzZXR0aW5ncyA9PiByZXBseSh7IHNldHRpbmdzIH0pLnR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKSlcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlcGx5KEJvb20ud3JhcChlcnIsIGVyci5zdGF0dXNDb2RlKSkpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_set.js"
      ],
      "names": [],
      "mappings": ";;;;;qBAEwB,WAAW;;;;oBAFlB,MAAM;;;;AAER,SAAS,WAAW,CAAC,MAAM,EAAE;AAC1C,QAAM,CAAC,KAAK,CAAC;AACX,QAAI,EAAE,4BAA4B;AAClC,UAAM,EAAE,MAAM;AACd,WAAO,EAAE,iBAAU,GAAG,EAAE,KAAK,EAAE;UACrB,GAAG,GAAK,GAAG,CAAC,MAAM,CAAlB,GAAG;UACH,KAAK,GAAK,GAAG,CAAC,OAAO,CAArB,KAAK;;AACb,UAAM,UAAU,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;AACvC,gBAAU,CACP,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,CAAC,CACpB,IAAI,CAAC;eAAM,UAAU,CACnB,eAAe,CAAC,GAAG,CAAC,CACpB,IAAI,CAAC,UAAA,QAAQ;iBAAI,KAAK,CAAC,EAAE,QAAQ,EAAR,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC;SAAA,CAAC;OAAA,CAChE,SACK,CAAC,UAAA,GAAG;eAAI,KAAK,CAAC,kBAAK,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;OAAA,CAAC,CAAC;KACxD;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_set.js",
      "sourcesContent": [
        "import Boom from 'boom';\n\nexport default function registerSet(server) {\n  server.route({\n    path: '/api/kibana/settings/{key}',\n    method: 'POST',\n    handler: function (req, reply) {\n      const { key } = req.params;\n      const { value } = req.payload;\n      const uiSettings = server.uiSettings();\n      uiSettings\n        .set(req, key, value)\n        .then(() => uiSettings\n          .getUserProvided(req)\n          .then(settings => reply({ settings }).type('application/json'))\n        )\n        .catch(err => reply(Boom.wrap(err, err.statusCode)));\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_set_many.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "registerSet",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "registerSet",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = registerSet;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nfunction registerSet(server) {\n  server.route({\n    path: '/api/kibana/settings',\n    method: 'POST',\n    handler: function handler(req, reply) {\n      var key = req.params.key;\n      var changes = req.payload.changes;\n\n      var uiSettings = server.uiSettings();\n      uiSettings.setMany(req, changes).then(function () {\n        return uiSettings.getUserProvided(req).then(function (settings) {\n          return reply({ settings: settings }).type('application/json');\n        });\n      })['catch'](function (err) {\n        return reply(_boom2['default'].wrap(err, err.statusCode));\n      });\n    }\n  });\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NldHRpbmdzL3JlZ2lzdGVyX3NldF9tYW55LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O3FCQUV3QixXQUFXOzs7O29CQUZsQixNQUFNOzs7O0FBRVIsU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFO0FBQzFDLFFBQU0sQ0FBQyxLQUFLLENBQUM7QUFDWCxRQUFJLEVBQUUsc0JBQXNCO0FBQzVCLFVBQU0sRUFBRSxNQUFNO0FBQ2QsV0FBTyxFQUFFLGlCQUFVLEdBQUcsRUFBRSxLQUFLLEVBQUU7VUFDckIsR0FBRyxHQUFLLEdBQUcsQ0FBQyxNQUFNLENBQWxCLEdBQUc7VUFDSCxPQUFPLEdBQUssR0FBRyxDQUFDLE9BQU8sQ0FBdkIsT0FBTzs7QUFDZixVQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxFQUFFLENBQUM7QUFDdkMsZ0JBQVUsQ0FDUCxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUNyQixJQUFJLENBQUM7ZUFBTSxVQUFVLENBQ25CLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FDcEIsSUFBSSxDQUFDLFVBQUEsUUFBUTtpQkFBSSxLQUFLLENBQUMsRUFBRSxRQUFRLEVBQVIsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7U0FBQSxDQUFDO09BQUEsQ0FDaEUsU0FDSyxDQUFDLFVBQUEsR0FBRztlQUFJLEtBQUssQ0FBQyxrQkFBSyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztPQUFBLENBQUMsQ0FBQztLQUN4RDtHQUNGLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NldHRpbmdzL3JlZ2lzdGVyX3NldF9tYW55LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvb20gZnJvbSAnYm9vbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlZ2lzdGVyU2V0KHNlcnZlcikge1xuICBzZXJ2ZXIucm91dGUoe1xuICAgIHBhdGg6ICcvYXBpL2tpYmFuYS9zZXR0aW5ncycsXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gKHJlcSwgcmVwbHkpIHtcbiAgICAgIGNvbnN0IHsga2V5IH0gPSByZXEucGFyYW1zO1xuICAgICAgY29uc3QgeyBjaGFuZ2VzIH0gPSByZXEucGF5bG9hZDtcbiAgICAgIGNvbnN0IHVpU2V0dGluZ3MgPSBzZXJ2ZXIudWlTZXR0aW5ncygpO1xuICAgICAgdWlTZXR0aW5nc1xuICAgICAgICAuc2V0TWFueShyZXEsIGNoYW5nZXMpXG4gICAgICAgIC50aGVuKCgpID0+IHVpU2V0dGluZ3NcbiAgICAgICAgICAuZ2V0VXNlclByb3ZpZGVkKHJlcSlcbiAgICAgICAgICAudGhlbihzZXR0aW5ncyA9PiByZXBseSh7IHNldHRpbmdzIH0pLnR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKSlcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlcGx5KEJvb20ud3JhcChlcnIsIGVyci5zdGF0dXNDb2RlKSkpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_set_many.js"
      ],
      "names": [],
      "mappings": ";;;;;qBAEwB,WAAW;;;;oBAFlB,MAAM;;;;AAER,SAAS,WAAW,CAAC,MAAM,EAAE;AAC1C,QAAM,CAAC,KAAK,CAAC;AACX,QAAI,EAAE,sBAAsB;AAC5B,UAAM,EAAE,MAAM;AACd,WAAO,EAAE,iBAAU,GAAG,EAAE,KAAK,EAAE;UACrB,GAAG,GAAK,GAAG,CAAC,MAAM,CAAlB,GAAG;UACH,OAAO,GAAK,GAAG,CAAC,OAAO,CAAvB,OAAO;;AACf,UAAM,UAAU,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;AACvC,gBAAU,CACP,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,CACrB,IAAI,CAAC;eAAM,UAAU,CACnB,eAAe,CAAC,GAAG,CAAC,CACpB,IAAI,CAAC,UAAA,QAAQ;iBAAI,KAAK,CAAC,EAAE,QAAQ,EAAR,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC;SAAA,CAAC;OAAA,CAChE,SACK,CAAC,UAAA,GAAG;eAAI,KAAK,CAAC,kBAAK,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;OAAA,CAAC,CAAC;KACxD;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_set_many.js",
      "sourcesContent": [
        "import Boom from 'boom';\n\nexport default function registerSet(server) {\n  server.route({\n    path: '/api/kibana/settings',\n    method: 'POST',\n    handler: function (req, reply) {\n      const { key } = req.params;\n      const { changes } = req.payload;\n      const uiSettings = server.uiSettings();\n      uiSettings\n        .setMany(req, changes)\n        .then(() => uiSettings\n          .getUserProvided(req)\n          .then(settings => reply({ settings }).type('application/json'))\n        )\n        .catch(err => reply(Boom.wrap(err, err.statusCode)));\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_delete.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "boom",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "Boom"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "registerDelete",
            "server"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "registerDelete",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "server",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = registerDelete;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _boom = require('boom');\n\nvar _boom2 = _interopRequireDefault(_boom);\n\nfunction registerDelete(server) {\n  server.route({\n    path: '/api/kibana/settings/{key}',\n    method: 'DELETE',\n    handler: function handler(req, reply) {\n      var key = req.params.key;\n\n      var uiSettings = server.uiSettings();\n      uiSettings.remove(req, key).then(function () {\n        return uiSettings.getUserProvided(req).then(function (settings) {\n          return reply({ settings: settings }).type('application/json');\n        });\n      })['catch'](function (err) {\n        return reply(_boom2['default'].wrap(err, err.statusCode));\n      });\n    }\n  });\n}\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NldHRpbmdzL3JlZ2lzdGVyX2RlbGV0ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztxQkFFd0IsY0FBYzs7OztvQkFGckIsTUFBTTs7OztBQUVSLFNBQVMsY0FBYyxDQUFDLE1BQU0sRUFBRTtBQUM3QyxRQUFNLENBQUMsS0FBSyxDQUFDO0FBQ1gsUUFBSSxFQUFFLDRCQUE0QjtBQUNsQyxVQUFNLEVBQUUsUUFBUTtBQUNoQixXQUFPLEVBQUUsaUJBQVUsR0FBRyxFQUFFLEtBQUssRUFBRTtVQUNyQixHQUFHLEdBQUssR0FBRyxDQUFDLE1BQU0sQ0FBbEIsR0FBRzs7QUFDWCxVQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxFQUFFLENBQUM7QUFDdkMsZ0JBQVUsQ0FDUCxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUNoQixJQUFJLENBQUM7ZUFBTSxVQUFVLENBQ25CLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FDcEIsSUFBSSxDQUFDLFVBQUEsUUFBUTtpQkFBSSxLQUFLLENBQUMsRUFBRSxRQUFRLEVBQVIsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7U0FBQSxDQUFDO09BQUEsQ0FDaEUsU0FDSyxDQUFDLFVBQUEsR0FBRztlQUFJLEtBQUssQ0FBQyxrQkFBSyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztPQUFBLENBQUMsQ0FBQztLQUN4RDtHQUNGLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMva2liYW5hL3NlcnZlci9yb3V0ZXMvYXBpL3NldHRpbmdzL3JlZ2lzdGVyX2RlbGV0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCb29tIGZyb20gJ2Jvb20nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZWdpc3RlckRlbGV0ZShzZXJ2ZXIpIHtcbiAgc2VydmVyLnJvdXRlKHtcbiAgICBwYXRoOiAnL2FwaS9raWJhbmEvc2V0dGluZ3Mve2tleX0nLFxuICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gKHJlcSwgcmVwbHkpIHtcbiAgICAgIGNvbnN0IHsga2V5IH0gPSByZXEucGFyYW1zO1xuICAgICAgY29uc3QgdWlTZXR0aW5ncyA9IHNlcnZlci51aVNldHRpbmdzKCk7XG4gICAgICB1aVNldHRpbmdzXG4gICAgICAgIC5yZW1vdmUocmVxLCBrZXkpXG4gICAgICAgIC50aGVuKCgpID0+IHVpU2V0dGluZ3NcbiAgICAgICAgICAuZ2V0VXNlclByb3ZpZGVkKHJlcSlcbiAgICAgICAgICAudGhlbihzZXR0aW5ncyA9PiByZXBseSh7IHNldHRpbmdzIH0pLnR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKSlcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2goZXJyID0+IHJlcGx5KEJvb20ud3JhcChlcnIsIGVyci5zdGF0dXNDb2RlKSkpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_delete.js"
      ],
      "names": [],
      "mappings": ";;;;;qBAEwB,cAAc;;;;oBAFrB,MAAM;;;;AAER,SAAS,cAAc,CAAC,MAAM,EAAE;AAC7C,QAAM,CAAC,KAAK,CAAC;AACX,QAAI,EAAE,4BAA4B;AAClC,UAAM,EAAE,QAAQ;AAChB,WAAO,EAAE,iBAAU,GAAG,EAAE,KAAK,EAAE;UACrB,GAAG,GAAK,GAAG,CAAC,MAAM,CAAlB,GAAG;;AACX,UAAM,UAAU,GAAG,MAAM,CAAC,UAAU,EAAE,CAAC;AACvC,gBAAU,CACP,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAChB,IAAI,CAAC;eAAM,UAAU,CACnB,eAAe,CAAC,GAAG,CAAC,CACpB,IAAI,CAAC,UAAA,QAAQ;iBAAI,KAAK,CAAC,EAAE,QAAQ,EAAR,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC;SAAA,CAAC;OAAA,CAChE,SACK,CAAC,UAAA,GAAG;eAAI,KAAK,CAAC,kBAAK,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;OAAA,CAAC,CAAC;KACxD;GACF,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/kibana/server/routes/api/settings/register_delete.js",
      "sourcesContent": [
        "import Boom from 'boom';\n\nexport default function registerDelete(server) {\n  server.route({\n    path: '/api/kibana/settings/{key}',\n    method: 'DELETE',\n    handler: function (req, reply) {\n      const { key } = req.params;\n      const uiSettings = server.uiSettings();\n      uiSettings\n        .remove(req, key)\n        .then(() => uiSettings\n          .getUserProvided(req)\n          .then(settings => reply({ settings }).type('application/json'))\n        )\n        .catch(err => reply(Boom.wrap(err, err.statusCode)));\n    }\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/routes/run.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "async-to-generator"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }\n\nvar Promise = require('bluebird');\nvar _ = require('lodash');\nvar Boom = require('boom');\nvar chainRunnerFn = require('../handlers/chain_runner.js');\nvar timelionDefaults = require('../lib/get_namespaced_settings')();\n\nfunction replyWithError(e, reply) {\n  reply({ title: e.toString(), message: e.toString(), stack: e.stack }).code(400);\n}\n\nmodule.exports = function (server) {\n  server.route({\n    method: ['POST', 'GET'],\n    path: '/api/timelion/run',\n    handler: _asyncToGenerator(function* (request, reply) {\n      try {\n        var uiSettings = yield server.uiSettings().getAll(request);\n\n        var tlConfig = require('../handlers/lib/tl_config.js')({\n          server: server,\n          request: request,\n          settings: _.defaults(uiSettings, timelionDefaults) // Just in case they delete some setting.\n        });\n\n        var chainRunner = chainRunnerFn(tlConfig);\n        var sheet = yield Promise.all(chainRunner.processRequest(request.payload || {\n          sheet: [request.query.expression],\n          time: {\n            from: request.query.from,\n            to: request.query.to,\n            interval: request.query.interval,\n            timezone: request.query.timezone\n          }\n        }));\n\n        reply({\n          sheet: sheet,\n          stats: chainRunner.getStats()\n        });\n      } catch (err) {\n        // TODO Maybe we should just replace everywhere we throw with Boom? Probably.\n        if (err.isBoom) {\n          reply(err);\n        } else {\n          replyWithError(err, reply);\n        }\n      }\n    })\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3JvdXRlcy9ydW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNwQyxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsSUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzdCLElBQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0FBQzdELElBQU0sZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLGdDQUFnQyxDQUFDLEVBQUUsQ0FBQzs7QUFFckUsU0FBUyxjQUFjLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRTtBQUNoQyxPQUFLLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNqRjs7QUFHRCxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQUMsTUFBTSxFQUFLO0FBQzNCLFFBQU0sQ0FBQyxLQUFLLENBQUM7QUFDWCxVQUFNLEVBQUUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDO0FBQ3ZCLFFBQUksRUFBRSxtQkFBbUI7QUFDekIsV0FBTyxvQkFBRSxXQUFPLE9BQU8sRUFBRSxLQUFLLEVBQUs7QUFDakMsVUFBSTtBQUNGLFlBQU0sVUFBVSxHQUFHLE1BQU0sTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQzs7QUFFN0QsWUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLDhCQUE4QixDQUFDLENBQUM7QUFDdkQsZ0JBQU0sRUFBTixNQUFNO0FBQ04saUJBQU8sRUFBUCxPQUFPO0FBQ1Asa0JBQVEsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxnQkFBZ0IsQ0FBQztTQUNuRCxDQUFDLENBQUM7O0FBRUgsWUFBTSxXQUFXLEdBQUcsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVDLFlBQU0sS0FBSyxHQUFHLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxPQUFPLElBQUk7QUFDNUUsZUFBSyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUM7QUFDakMsY0FBSSxFQUFFO0FBQ0osZ0JBQUksRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUk7QUFDeEIsY0FBRSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUNwQixvQkFBUSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUTtBQUNoQyxvQkFBUSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUTtXQUNqQztTQUNGLENBQUMsQ0FBQyxDQUFDOztBQUVKLGFBQUssQ0FBQztBQUNKLGVBQUssRUFBTCxLQUFLO0FBQ0wsZUFBSyxFQUFFLFdBQVcsQ0FBQyxRQUFRLEVBQUU7U0FDOUIsQ0FBQyxDQUFDO09BRUosQ0FBQyxPQUFPLEdBQUcsRUFBRTs7QUFFWixZQUFJLEdBQUcsQ0FBQyxNQUFNLEVBQUU7QUFDZCxlQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDWixNQUFNO0FBQ0wsd0JBQWMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDNUI7T0FDRjtLQUNGLENBQUE7R0FDRixDQUFDLENBQUM7Q0FFSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3JvdXRlcy9ydW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IEJvb20gPSByZXF1aXJlKCdib29tJyk7XG5jb25zdCBjaGFpblJ1bm5lckZuID0gcmVxdWlyZSgnLi4vaGFuZGxlcnMvY2hhaW5fcnVubmVyLmpzJyk7XG5jb25zdCB0aW1lbGlvbkRlZmF1bHRzID0gcmVxdWlyZSgnLi4vbGliL2dldF9uYW1lc3BhY2VkX3NldHRpbmdzJykoKTtcblxuZnVuY3Rpb24gcmVwbHlXaXRoRXJyb3IoZSwgcmVwbHkpIHtcbiAgcmVwbHkoeyB0aXRsZTogZS50b1N0cmluZygpLCBtZXNzYWdlOiBlLnRvU3RyaW5nKCksIHN0YWNrOiBlLnN0YWNrIH0pLmNvZGUoNDAwKTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IChzZXJ2ZXIpID0+IHtcbiAgc2VydmVyLnJvdXRlKHtcbiAgICBtZXRob2Q6IFsnUE9TVCcsICdHRVQnXSxcbiAgICBwYXRoOiAnL2FwaS90aW1lbGlvbi9ydW4nLFxuICAgIGhhbmRsZXI6IGFzeW5jIChyZXF1ZXN0LCByZXBseSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdWlTZXR0aW5ncyA9IGF3YWl0IHNlcnZlci51aVNldHRpbmdzKCkuZ2V0QWxsKHJlcXVlc3QpO1xuXG4gICAgICAgIGNvbnN0IHRsQ29uZmlnID0gcmVxdWlyZSgnLi4vaGFuZGxlcnMvbGliL3RsX2NvbmZpZy5qcycpKHtcbiAgICAgICAgICBzZXJ2ZXIsXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBzZXR0aW5nczogXy5kZWZhdWx0cyh1aVNldHRpbmdzLCB0aW1lbGlvbkRlZmF1bHRzKSAvLyBKdXN0IGluIGNhc2UgdGhleSBkZWxldGUgc29tZSBzZXR0aW5nLlxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjaGFpblJ1bm5lciA9IGNoYWluUnVubmVyRm4odGxDb25maWcpO1xuICAgICAgICBjb25zdCBzaGVldCA9IGF3YWl0IFByb21pc2UuYWxsKGNoYWluUnVubmVyLnByb2Nlc3NSZXF1ZXN0KHJlcXVlc3QucGF5bG9hZCB8fCB7XG4gICAgICAgICAgc2hlZXQ6IFtyZXF1ZXN0LnF1ZXJ5LmV4cHJlc3Npb25dLFxuICAgICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgIGZyb206IHJlcXVlc3QucXVlcnkuZnJvbSxcbiAgICAgICAgICAgIHRvOiByZXF1ZXN0LnF1ZXJ5LnRvLFxuICAgICAgICAgICAgaW50ZXJ2YWw6IHJlcXVlc3QucXVlcnkuaW50ZXJ2YWwsXG4gICAgICAgICAgICB0aW1lem9uZTogcmVxdWVzdC5xdWVyeS50aW1lem9uZVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJlcGx5KHtcbiAgICAgICAgICBzaGVldCxcbiAgICAgICAgICBzdGF0czogY2hhaW5SdW5uZXIuZ2V0U3RhdHMoKVxuICAgICAgICB9KTtcblxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIFRPRE8gTWF5YmUgd2Ugc2hvdWxkIGp1c3QgcmVwbGFjZSBldmVyeXdoZXJlIHdlIHRocm93IHdpdGggQm9vbT8gUHJvYmFibHkuXG4gICAgICAgIGlmIChlcnIuaXNCb29tKSB7XG4gICAgICAgICAgcmVwbHkoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXBseVdpdGhFcnJvcihlcnIsIHJlcGx5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/routes/run.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAM,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACpC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,IAAM,aAAa,GAAG,OAAO,CAAC,6BAA6B,CAAC,CAAC;AAC7D,IAAM,gBAAgB,GAAG,OAAO,CAAC,gCAAgC,CAAC,EAAE,CAAC;;AAErE,SAAS,cAAc,CAAC,CAAC,EAAE,KAAK,EAAE;AAChC,OAAK,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;CACjF;;AAGD,MAAM,CAAC,OAAO,GAAG,UAAC,MAAM,EAAK;AAC3B,QAAM,CAAC,KAAK,CAAC;AACX,UAAM,EAAE,CAAC,MAAM,EAAE,KAAK,CAAC;AACvB,QAAI,EAAE,mBAAmB;AACzB,WAAO,oBAAE,WAAO,OAAO,EAAE,KAAK,EAAK;AACjC,UAAI;AACF,YAAM,UAAU,GAAG,MAAM,MAAM,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;AAE7D,YAAM,QAAQ,GAAG,OAAO,CAAC,8BAA8B,CAAC,CAAC;AACvD,gBAAM,EAAN,MAAM;AACN,iBAAO,EAAP,OAAO;AACP,kBAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,UAAU,EAAE,gBAAgB,CAAC;SACnD,CAAC,CAAC;;AAEH,YAAM,WAAW,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC;AAC5C,YAAM,KAAK,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,IAAI;AAC5E,eAAK,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC;AACjC,cAAI,EAAE;AACJ,gBAAI,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI;AACxB,cAAE,EAAE,OAAO,CAAC,KAAK,CAAC,EAAE;AACpB,oBAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,QAAQ;AAChC,oBAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,QAAQ;WACjC;SACF,CAAC,CAAC,CAAC;;AAEJ,aAAK,CAAC;AACJ,eAAK,EAAL,KAAK;AACL,eAAK,EAAE,WAAW,CAAC,QAAQ,EAAE;SAC9B,CAAC,CAAC;OAEJ,CAAC,OAAO,GAAG,EAAE;;AAEZ,YAAI,GAAG,CAAC,MAAM,EAAE;AACd,eAAK,CAAC,GAAG,CAAC,CAAC;SACZ,MAAM;AACL,wBAAc,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;SAC5B;OACF;KACF,CAAA;GACF,CAAC,CAAC;CAEJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/routes/run.js",
      "sourcesContent": [
        "const Promise = require('bluebird');\nconst _ = require('lodash');\nconst Boom = require('boom');\nconst chainRunnerFn = require('../handlers/chain_runner.js');\nconst timelionDefaults = require('../lib/get_namespaced_settings')();\n\nfunction replyWithError(e, reply) {\n  reply({ title: e.toString(), message: e.toString(), stack: e.stack }).code(400);\n}\n\n\nmodule.exports = (server) => {\n  server.route({\n    method: ['POST', 'GET'],\n    path: '/api/timelion/run',\n    handler: async (request, reply) => {\n      try {\n        const uiSettings = await server.uiSettings().getAll(request);\n\n        const tlConfig = require('../handlers/lib/tl_config.js')({\n          server,\n          request,\n          settings: _.defaults(uiSettings, timelionDefaults) // Just in case they delete some setting.\n        });\n\n        const chainRunner = chainRunnerFn(tlConfig);\n        const sheet = await Promise.all(chainRunner.processRequest(request.payload || {\n          sheet: [request.query.expression],\n          time: {\n            from: request.query.from,\n            to: request.query.to,\n            interval: request.query.interval,\n            timezone: request.query.timezone\n          }\n        }));\n\n        reply({\n          sheet,\n          stats: chainRunner.getStats()\n        });\n\n      } catch (err) {\n        // TODO Maybe we should just replace everywhere we throw with Boom? Probably.\n        if (err.isBoom) {\n          reply(err);\n        } else {\n          replyWithError(err, reply);\n        }\n      }\n    }\n  });\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/chain_runner.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar glob = require('glob');\nvar Promise = require('bluebird');\n\nvar parseSheet = require('./lib/parse_sheet.js');\nvar parseDateMath = require('../lib/date_math.js');\nvar calculateInterval = require('../../public/lib/calculate_interval.js');\n\nvar repositionArguments = require('./lib/reposition_arguments.js');\nvar indexArguments = require('./lib/index_arguments.js');\nvar validateTime = require('./lib/validate_time.js');\n\nvar loadFunctions = require('../lib/load_functions.js');\nvar fitFunctions = loadFunctions('fit_functions');\n\nmodule.exports = function (tlConfig) {\n  var preprocessChain = require('./lib/preprocess_chain')(tlConfig);\n\n  var queryCache = {};\n  var stats = {};\n  var sheet = undefined;\n\n  function getQueryCacheKey(query) {\n    return JSON.stringify(_.omit(query, 'label'));\n  }\n\n  function throwWithCell(cell, exception) {\n    throw new Error(' in cell #' + (cell + 1) + ': ' + exception.message);\n  }\n\n  // Invokes a modifier function, resolving arguments into series as needed\n  function invoke(fnName, args) {\n    var functionDef = tlConfig.server.plugins.timelion.getFunction(fnName);\n\n    function resolveArgument(item) {\n      if (_.isArray(item)) {\n        return Promise.all(_.map(item, resolveArgument));\n      }\n\n      if (_.isObject(item)) {\n        switch (item.type) {\n          case 'function':\n            {\n              var itemFunctionDef = tlConfig.server.plugins.timelion.getFunction(item['function']);\n              if (itemFunctionDef.cacheKey && queryCache[itemFunctionDef.cacheKey(item)]) {\n                stats.queryCount++;\n                return Promise.resolve(_.cloneDeep(queryCache[itemFunctionDef.cacheKey(item)]));\n              }\n              return invoke(item['function'], item.arguments);\n            }\n          case 'reference':\n            {\n              var reference = undefined;\n              if (item.series) {\n                reference = sheet[item.plot - 1][item.series - 1];\n              } else {\n                reference = {\n                  type: 'chainList',\n                  list: sheet[item.plot - 1]\n                };\n              }\n              return invoke('first', [reference]);\n            }\n          case 'chain':\n            return invokeChain(item);\n          case 'chainList':\n            return resolveChainList(item.list);\n          case 'literal':\n            return item.value;\n          case 'requestList':\n          case 'seriesList':\n            return item;\n        }\n        throw new Error('Argument type not supported: ' + JSON.stringify(item));\n      } else {\n        return item;\n      }\n    }\n\n    args = repositionArguments(functionDef, args);\n\n    args = _.map(args, resolveArgument);\n\n    return Promise.all(args).then(function (args) {\n      args.byName = indexArguments(functionDef, args);\n      return functionDef.fn(args, tlConfig);\n    });\n  }\n\n  function invokeChain(chainObj, result) {\n    if (chainObj.chain.length === 0) return result[0];\n\n    var chain = _.clone(chainObj.chain);\n    var link = chain.shift();\n\n    var promise = undefined;\n    if (link.type === 'chain') {\n      promise = invokeChain(link);\n    } else if (!result) {\n      promise = invoke('first', [link]);\n    } else {\n      var args = link.arguments ? result.concat(link.arguments) : result;\n      promise = invoke(link['function'], args);\n    }\n\n    return promise.then(function (result) {\n      return invokeChain({ type: 'chain', chain: chain }, [result]);\n    });\n  }\n\n  function resolveChainList(chainList) {\n    var seriesList = _.map(chainList, function (chain) {\n      var values = invoke('first', [chain]);\n      return values.then(function (args) {\n        return args;\n      });\n    });\n    return Promise.all(seriesList).then(function (args) {\n      var list = _.chain(args).pluck('list').flatten().value();\n      var seriesList = _.merge.apply(this, _.flatten([{}, args]));\n      seriesList.list = list;\n      return seriesList;\n    });\n  }\n\n  function preProcessSheet(sheet) {\n\n    var queries = {};\n    _.each(sheet, function (chainList, i) {\n      try {\n        var queriesInCell = _.mapValues(preprocessChain(chainList), function (val) {\n          val.cell = i;\n          return val;\n        });\n        queries = _.extend(queries, queriesInCell);\n      } catch (e) {\n        throwWithCell(i, e);\n      }\n    });\n    queries = _.values(queries);\n\n    var promises = _.chain(queries).values().map(function (query) {\n      return invoke(query['function'], query.arguments);\n    }).value();\n\n    return Promise.settle(promises).then(function (resolvedDatasources) {\n\n      stats.queryTime = new Date().getTime();\n\n      _.each(queries, function (query, i) {\n        var functionDef = tlConfig.server.plugins.timelion.getFunction(query['function']);\n        var resolvedDatasource = resolvedDatasources[i];\n\n        if (resolvedDatasource.isRejected()) {\n          if (resolvedDatasource.reason().isBoom) {\n            throw resolvedDatasource.reason();\n          } else {\n            throwWithCell(query.cell, resolvedDatasource.reason());\n          }\n        }\n\n        queryCache[functionDef.cacheKey(query)] = resolvedDatasource.value();\n      });\n\n      stats.cacheCount = _.keys(queryCache).length;\n      return sheet;\n    });\n  }\n\n  function processRequest(request) {\n    if (!request) throw new Error('Empty request body');\n\n    validateTime(request.time, tlConfig);\n\n    tlConfig.time = request.time;\n    tlConfig.time.to = parseDateMath(request.time.to, true).valueOf();\n    tlConfig.time.from = parseDateMath(request.time.from).valueOf();\n    tlConfig.time.interval = calculateInterval(tlConfig.time.from, tlConfig.time.to, tlConfig.settings['timelion:target_buckets'] || 200, tlConfig.time.interval);\n\n    tlConfig.setTargetSeries();\n\n    stats.invokeTime = new Date().getTime();\n    stats.queryCount = 0;\n    queryCache = {};\n\n    // This is setting the \"global\" sheet, required for resolving references\n    sheet = parseSheet(request.sheet);\n    return preProcessSheet(sheet).then(function () {\n      return _.map(sheet, function (chainList, i) {\n        return resolveChainList(chainList).then(function (seriesList) {\n          stats.sheetTime = new Date().getTime();\n          return seriesList;\n        })['catch'](function (e) {\n          throwWithCell(i, e);\n        });\n      });\n    });\n  }\n\n  return {\n    processRequest: processRequest,\n    getStats: function getStats() {\n      return stats;\n    }\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2NoYWluX3J1bm5lci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDN0IsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUVwQyxJQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztBQUNuRCxJQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNyRCxJQUFNLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyx3Q0FBd0MsQ0FBQyxDQUFDOztBQUU1RSxJQUFNLG1CQUFtQixHQUFHLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0FBQ3JFLElBQU0sY0FBYyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQzNELElBQU0sWUFBWSxHQUFHLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDOztBQUV2RCxJQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUMxRCxJQUFNLFlBQVksR0FBSSxhQUFhLENBQUMsZUFBZSxDQUFDLENBQUM7O0FBRXJELE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxRQUFRLEVBQUU7QUFDbkMsTUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRXBFLE1BQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUNwQixNQUFNLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDakIsTUFBSSxLQUFLLFlBQUEsQ0FBQzs7QUFFVixXQUFTLGdCQUFnQixDQUFDLEtBQUssRUFBRTtBQUMvQixXQUFP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SSxDQUFDLEVBQUUsRUFDaEIsUUFBUSxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLEdBQUcsRUFDbkQsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQ3ZCLENBQUM7O0FBRUYsWUFBUSxDQUFDLGVBQWUsRUFBRSxDQUFDOztBQUUzQixTQUFLLENBQUMsVUFBVSxHQUFHLEFBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBRSxPQUFPLEVBQUUsQ0FBQztBQUMxQyxTQUFLLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztBQUNyQixjQUFVLEdBQUcsRUFBRSxDQUFDOzs7QUFHaEIsU0FBSyxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbEMsV0FBTyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVk7QUFDN0MsYUFBTyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxVQUFVLFNBQVMsRUFBRSxDQUFDLEVBQUU7QUFDMUMsZUFBTyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxVQUFVLEVBQUU7QUFDNUQsZUFBSyxDQUFDLFNBQVMsR0FBRyxBQUFDLElBQUksSUFBSSxFQUFFLENBQUUsT0FBTyxFQUFFLENBQUM7QUFDekMsaUJBQU8sVUFBVSxDQUFDO1NBQ25CLENBQUMsU0FBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQ3BCLHVCQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3JCLENBQUMsQ0FBQztPQUNKLENBQUMsQ0FBQztLQUNKLENBQUMsQ0FBQztHQUNKOztBQUVELFNBQU87QUFDTCxrQkFBYyxFQUFFLGNBQWM7QUFDOUIsWUFBUSxFQUFFLG9CQUFZO0FBQUUsYUFBTyxLQUFLLENBQUM7S0FBRTtHQUN4QyxDQUFDO0NBQ0gsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9oYW5kbGVycy9jaGFpbl9ydW5uZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGdsb2IgPSByZXF1aXJlKCdnbG9iJyk7XG5jb25zdCBQcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcblxuY29uc3QgcGFyc2VTaGVldCA9IHJlcXVpcmUoJy4vbGliL3BhcnNlX3NoZWV0LmpzJyk7XG5jb25zdCBwYXJzZURhdGVNYXRoID0gcmVxdWlyZSgnLi4vbGliL2RhdGVfbWF0aC5qcycpO1xuY29uc3QgY2FsY3VsYXRlSW50ZXJ2YWwgPSByZXF1aXJlKCcuLi8uLi9wdWJsaWMvbGliL2NhbGN1bGF0ZV9pbnRlcnZhbC5qcycpO1xuXG5jb25zdCByZXBvc2l0aW9uQXJndW1lbnRzID0gcmVxdWlyZSgnLi9saWIvcmVwb3NpdGlvbl9hcmd1bWVudHMuanMnKTtcbmNvbnN0IGluZGV4QXJndW1lbnRzID0gcmVxdWlyZSgnLi9saWIvaW5kZXhfYXJndW1lbnRzLmpzJyk7XG5jb25zdCB2YWxpZGF0ZVRpbWUgPSByZXF1aXJlKCcuL2xpYi92YWxpZGF0ZV90aW1lLmpzJyk7XG5cbmNvbnN0IGxvYWRGdW5jdGlvbnMgPSByZXF1aXJlKCcuLi9saWIvbG9hZF9mdW5jdGlvbnMuanMnKTtcbmNvbnN0IGZpdEZ1bmN0aW9ucyAgPSBsb2FkRnVuY3Rpb25zKCdmaXRfZnVuY3Rpb25zJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRsQ29uZmlnKSB7XG4gIGNvbnN0IHByZXByb2Nlc3NDaGFpbiA9IHJlcXVpcmUoJy4vbGliL3ByZXByb2Nlc3NfY2hhaW4nKSh0bENvbmZpZyk7XG5cbiAgbGV0IHF1ZXJ5Q2FjaGUgPSB7fTtcbiAgY29uc3Qgc3RhdHMgPSB7fTtcbiAgbGV0IHNoZWV0O1xuXG4gIGZ1bmN0aW9uIGdldFF1ZXJ5Q2FjaGVLZXkocXVlcnkpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXy5vbWl0KHF1ZXJ5LCAnbGFiZWwnKSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aHJvd1dpdGhDZWxsKGNlbGwsIGV4Y2VwdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignIGluIGNlbGwgIycgKyAoY2VsbCArIDEpICsgJzogJyArIGV4Y2VwdGlvbi5tZXNzYWdlKTtcbiAgfVxuXG4gIC8vIEludm9rZXMgYSBtb2RpZmllciBmdW5jdGlvbiwgcmVzb2x2aW5nIGFyZ3VtZW50cyBpbnRvIHNlcmllcyBhcyBuZWVkZWRcbiAgZnVuY3Rpb24gaW52b2tlKGZuTmFtZSwgYXJncykge1xuICAgIGNvbnN0IGZ1bmN0aW9uRGVmID0gdGxDb25maWcuc2VydmVyLnBsdWdpbnMudGltZWxpb24uZ2V0RnVuY3Rpb24oZm5OYW1lKTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVBcmd1bWVudChpdGVtKSB7XG4gICAgICBpZiAoXy5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChfLm1hcChpdGVtLCByZXNvbHZlQXJndW1lbnQpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF8uaXNPYmplY3QoaXRlbSkpIHtcbiAgICAgICAgc3dpdGNoIChpdGVtLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdmdW5jdGlvbic6IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1GdW5jdGlvbkRlZiA9IHRsQ29uZmlnLnNlcnZlci5wbHVnaW5zLnRpbWVsaW9uLmdldEZ1bmN0aW9uKGl0ZW0uZnVuY3Rpb24pO1xuICAgICAgICAgICAgaWYgKGl0ZW1GdW5jdGlvbkRlZi5jYWNoZUtleSAmJiBxdWVyeUNhY2hlW2l0ZW1GdW5jdGlvbkRlZi5jYWNoZUtleShpdGVtKV0pIHtcbiAgICAgICAgICAgICAgc3RhdHMucXVlcnlDb3VudCsrO1xuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF8uY2xvbmVEZWVwKHF1ZXJ5Q2FjaGVbaXRlbUZ1bmN0aW9uRGVmLmNhY2hlS2V5KGl0ZW0pXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGludm9rZShpdGVtLmZ1bmN0aW9uLCBpdGVtLmFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ3JlZmVyZW5jZSc6IHtcbiAgICAgICAgICAgIGxldCByZWZlcmVuY2U7XG4gICAgICAgICAgICBpZiAoaXRlbS5zZXJpZXMpIHtcbiAgICAgICAgICAgICAgcmVmZXJlbmNlID0gc2hlZXRbaXRlbS5wbG90IC0gMV1baXRlbS5zZXJpZXMgLSAxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlZmVyZW5jZSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY2hhaW5MaXN0JyxcbiAgICAgICAgICAgICAgICBsaXN0OiBzaGVldFtpdGVtLnBsb3QgLSAxXVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGludm9rZSgnZmlyc3QnLCBbcmVmZXJlbmNlXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ2NoYWluJzpcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VDaGFpbihpdGVtKTtcbiAgICAgICAgICBjYXNlICdjaGFpbkxpc3QnOlxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVDaGFpbkxpc3QoaXRlbS5saXN0KTtcbiAgICAgICAgICBjYXNlICdsaXRlcmFsJzpcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgICAgICAgIGNhc2UgJ3JlcXVlc3RMaXN0JzpcbiAgICAgICAgICBjYXNlICdzZXJpZXNMaXN0JzpcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvciAoJ0FyZ3VtZW50IHR5cGUgbm90IHN1cHBvcnRlZDogJyArIEpTT04uc3RyaW5naWZ5KGl0ZW0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFyZ3MgPSByZXBvc2l0aW9uQXJndW1lbnRzKGZ1bmN0aW9uRGVmLCBhcmdzKTtcblxuICAgIGFyZ3MgPSBfLm1hcChhcmdzLCByZXNvbHZlQXJndW1lbnQpO1xuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGFyZ3MpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgIGFyZ3MuYnlOYW1lID0gaW5kZXhBcmd1bWVudHMoZnVuY3Rpb25EZWYsIGFyZ3MpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uRGVmLmZuKGFyZ3MsIHRsQ29uZmlnKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUNoYWluKGNoYWluT2JqLCByZXN1bHQpIHtcbiAgICBpZiAoY2hhaW5PYmouY2hhaW4ubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzdWx0WzBdO1xuXG4gICAgY29uc3QgY2hhaW4gPSBfLmNsb25lKGNoYWluT2JqLmNoYWluKTtcbiAgICBjb25zdCBsaW5rID0gY2hhaW4uc2hpZnQoKTtcblxuICAgIGxldCBwcm9taXNlO1xuICAgIGlmIChsaW5rLnR5cGUgPT09ICdjaGFpbicpIHtcbiAgICAgIHByb21pc2UgPSBpbnZva2VDaGFpbihsaW5rKTtcbiAgICB9IGVsc2UgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHByb21pc2UgPSBpbnZva2UoJ2ZpcnN0JywgW2xpbmtdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYXJncyA9IGxpbmsuYXJndW1lbnRzID8gcmVzdWx0LmNvbmNhdChsaW5rLmFyZ3VtZW50cykgOiByZXN1bHQ7XG4gICAgICBwcm9taXNlID0gaW52b2tlKGxpbmsuZnVuY3Rpb24sIGFyZ3MpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIGludm9rZUNoYWluKHsgdHlwZTonY2hhaW4nLCBjaGFpbjogY2hhaW4gfSwgW3Jlc3VsdF0pO1xuICAgIH0pO1xuXG4gIH1cblxuICBmdW5jdGlvbiByZXNvbHZlQ2hhaW5MaXN0KGNoYWluTGlzdCkge1xuICAgIGNvbnN0IHNlcmllc0xpc3QgPSBfLm1hcChjaGFpbkxpc3QsIGZ1bmN0aW9uIChjaGFpbikge1xuICAgICAgY29uc3QgdmFsdWVzID0gaW52b2tlKCdmaXJzdCcsIFtjaGFpbl0pO1xuICAgICAgcmV0dXJuIHZhbHVlcy50aGVuKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHNlcmllc0xpc3QpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgIGNvbnN0IGxpc3QgPSBfLmNoYWluKGFyZ3MpLnBsdWNrKCdsaXN0JykuZmxhdHRlbigpLnZhbHVlKCk7XG4gICAgICBjb25zdCBzZXJpZXNMaXN0ID0gXy5tZXJnZS5hcHBseSh0aGlzLCBfLmZsYXR0ZW4oW3t9LCBhcmdzXSkpO1xuICAgICAgc2VyaWVzTGlzdC5saXN0ID0gbGlzdDtcbiAgICAgIHJldHVybiBzZXJpZXNMaXN0O1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlUHJvY2Vzc1NoZWV0KHNoZWV0KSB7XG5cbiAgICBsZXQgcXVlcmllcyA9IHt9O1xuICAgIF8uZWFjaChzaGVldCwgZnVuY3Rpb24gKGNoYWluTGlzdCwgaSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcXVlcmllc0luQ2VsbCA9IF8ubWFwVmFsdWVzKHByZXByb2Nlc3NDaGFpbihjaGFpbkxpc3QpLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgdmFsLmNlbGwgPSBpO1xuICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgIH0pO1xuICAgICAgICBxdWVyaWVzID0gXy5leHRlbmQocXVlcmllcywgcXVlcmllc0luQ2VsbCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93V2l0aENlbGwoaSwgZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcXVlcmllcyA9IF8udmFsdWVzKHF1ZXJpZXMpO1xuXG4gICAgY29uc3QgcHJvbWlzZXMgPSBfLmNoYWluKHF1ZXJpZXMpLnZhbHVlcygpLm1hcChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgIHJldHVybiBpbnZva2UocXVlcnkuZnVuY3Rpb24sIHF1ZXJ5LmFyZ3VtZW50cyk7XG4gICAgfSkudmFsdWUoKTtcblxuICAgIHJldHVybiBQcm9taXNlLnNldHRsZShwcm9taXNlcykudGhlbihmdW5jdGlvbiAocmVzb2x2ZWREYXRhc291cmNlcykge1xuXG4gICAgICBzdGF0cy5xdWVyeVRpbWUgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuXG4gICAgICBfLmVhY2gocXVlcmllcywgZnVuY3Rpb24gKHF1ZXJ5LCBpKSB7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uRGVmID0gdGxDb25maWcuc2VydmVyLnBsdWdpbnMudGltZWxpb24uZ2V0RnVuY3Rpb24ocXVlcnkuZnVuY3Rpb24pO1xuICAgICAgICBjb25zdCByZXNvbHZlZERhdGFzb3VyY2UgPSByZXNvbHZlZERhdGFzb3VyY2VzW2ldO1xuXG4gICAgICAgIGlmIChyZXNvbHZlZERhdGFzb3VyY2UuaXNSZWplY3RlZCgpKSB7XG4gICAgICAgICAgaWYgKHJlc29sdmVkRGF0YXNvdXJjZS5yZWFzb24oKS5pc0Jvb20pIHtcbiAgICAgICAgICAgIHRocm93IHJlc29sdmVkRGF0YXNvdXJjZS5yZWFzb24oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3dXaXRoQ2VsbChxdWVyeS5jZWxsLCByZXNvbHZlZERhdGFzb3VyY2UucmVhc29uKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHF1ZXJ5Q2FjaGVbZnVuY3Rpb25EZWYuY2FjaGVLZXkocXVlcnkpXSA9IHJlc29sdmVkRGF0YXNvdXJjZS52YWx1ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHN0YXRzLmNhY2hlQ291bnQgPSBfLmtleXMocXVlcnlDYWNoZSkubGVuZ3RoO1xuICAgICAgcmV0dXJuIHNoZWV0O1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1JlcXVlc3QocmVxdWVzdCkge1xuICAgIGlmICghcmVxdWVzdCkgdGhyb3cgbmV3IEVycm9yKCdFbXB0eSByZXF1ZXN0IGJvZHknKTtcblxuICAgIHZhbGlkYXRlVGltZShyZXF1ZXN0LnRpbWUsIHRsQ29uZmlnKTtcblxuICAgIHRsQ29uZmlnLnRpbWUgPSByZXF1ZXN0LnRpbWU7XG4gICAgdGxDb25maWcudGltZS50byA9IHBhcnNlRGF0ZU1hdGgocmVxdWVzdC50aW1lLnRvLCB0cnVlKS52YWx1ZU9mKCk7XG4gICAgdGxDb25maWcudGltZS5mcm9tID0gcGFyc2VEYXRlTWF0aChyZXF1ZXN0LnRpbWUuZnJvbSkudmFsdWVPZigpO1xuICAgIHRsQ29uZmlnLnRpbWUuaW50ZXJ2YWwgPSBjYWxjdWxhdGVJbnRlcnZhbChcbiAgICAgIHRsQ29uZmlnLnRpbWUuZnJvbSxcbiAgICAgIHRsQ29uZmlnLnRpbWUudG8sXG4gICAgICB0bENvbmZpZy5zZXR0aW5nc1sndGltZWxpb246dGFyZ2V0X2J1Y2tldHMnXSB8fCAyMDAsXG4gICAgICB0bENvbmZpZy50aW1lLmludGVydmFsXG4gICAgKTtcblxuICAgIHRsQ29uZmlnLnNldFRhcmdldFNlcmllcygpO1xuXG4gICAgc3RhdHMuaW52b2tlVGltZSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgc3RhdHMucXVlcnlDb3VudCA9IDA7XG4gICAgcXVlcnlDYWNoZSA9IHt9O1xuXG4gICAgLy8gVGhpcyBpcyBzZXR0aW5nIHRoZSBcImdsb2JhbFwiIHNoZWV0LCByZXF1aXJlZCBmb3IgcmVzb2x2aW5nIHJlZmVyZW5jZXNcbiAgICBzaGVldCA9IHBhcnNlU2hlZXQocmVxdWVzdC5zaGVldCk7XG4gICAgcmV0dXJuIHByZVByb2Nlc3NTaGVldChzaGVldCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gXy5tYXAoc2hlZXQsIGZ1bmN0aW9uIChjaGFpbkxpc3QsIGkpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVDaGFpbkxpc3QoY2hhaW5MaXN0KS50aGVuKGZ1bmN0aW9uIChzZXJpZXNMaXN0KSB7XG4gICAgICAgICAgc3RhdHMuc2hlZXRUaW1lID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgICByZXR1cm4gc2VyaWVzTGlzdDtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB0aHJvd1dpdGhDZWxsKGksIGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9jZXNzUmVxdWVzdDogcHJvY2Vzc1JlcXVlc3QsXG4gICAgZ2V0U3RhdHM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0YXRzOyB9XG4gIH07XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/chain_runner.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/chain_runner.js",
      "sourcesContent": [
        "\nconst _ = require('lodash');\nconst glob = require('glob');\nconst Promise = require('bluebird');\n\nconst parseSheet = require('./lib/parse_sheet.js');\nconst parseDateMath = require('../lib/date_math.js');\nconst calculateInterval = require('../../public/lib/calculate_interval.js');\n\nconst repositionArguments = require('./lib/reposition_arguments.js');\nconst indexArguments = require('./lib/index_arguments.js');\nconst validateTime = require('./lib/validate_time.js');\n\nconst loadFunctions = require('../lib/load_functions.js');\nconst fitFunctions  = loadFunctions('fit_functions');\n\nmodule.exports = function (tlConfig) {\n  const preprocessChain = require('./lib/preprocess_chain')(tlConfig);\n\n  let queryCache = {};\n  const stats = {};\n  let sheet;\n\n  function getQueryCacheKey(query) {\n    return JSON.stringify(_.omit(query, 'label'));\n  }\n\n  function throwWithCell(cell, exception) {\n    throw new Error(' in cell #' + (cell + 1) + ': ' + exception.message);\n  }\n\n  // Invokes a modifier function, resolving arguments into series as needed\n  function invoke(fnName, args) {\n    const functionDef = tlConfig.server.plugins.timelion.getFunction(fnName);\n\n    function resolveArgument(item) {\n      if (_.isArray(item)) {\n        return Promise.all(_.map(item, resolveArgument));\n      }\n\n      if (_.isObject(item)) {\n        switch (item.type) {\n          case 'function': {\n            const itemFunctionDef = tlConfig.server.plugins.timelion.getFunction(item.function);\n            if (itemFunctionDef.cacheKey && queryCache[itemFunctionDef.cacheKey(item)]) {\n              stats.queryCount++;\n              return Promise.resolve(_.cloneDeep(queryCache[itemFunctionDef.cacheKey(item)]));\n            }\n            return invoke(item.function, item.arguments);\n          }\n          case 'reference': {\n            let reference;\n            if (item.series) {\n              reference = sheet[item.plot - 1][item.series - 1];\n            } else {\n              reference = {\n                type: 'chainList',\n                list: sheet[item.plot - 1]\n              };\n            }\n            return invoke('first', [reference]);\n          }\n          case 'chain':\n            return invokeChain(item);\n          case 'chainList':\n            return resolveChainList(item.list);\n          case 'literal':\n            return item.value;\n          case 'requestList':\n          case 'seriesList':\n            return item;\n        }\n        throw new Error ('Argument type not supported: ' + JSON.stringify(item));\n      } else {\n        return item;\n      }\n    }\n\n    args = repositionArguments(functionDef, args);\n\n    args = _.map(args, resolveArgument);\n\n    return Promise.all(args).then(function (args) {\n      args.byName = indexArguments(functionDef, args);\n      return functionDef.fn(args, tlConfig);\n    });\n  }\n\n  function invokeChain(chainObj, result) {\n    if (chainObj.chain.length === 0) return result[0];\n\n    const chain = _.clone(chainObj.chain);\n    const link = chain.shift();\n\n    let promise;\n    if (link.type === 'chain') {\n      promise = invokeChain(link);\n    } else if (!result) {\n      promise = invoke('first', [link]);\n    } else {\n      const args = link.arguments ? result.concat(link.arguments) : result;\n      promise = invoke(link.function, args);\n    }\n\n    return promise.then(function (result) {\n      return invokeChain({ type:'chain', chain: chain }, [result]);\n    });\n\n  }\n\n  function resolveChainList(chainList) {\n    const seriesList = _.map(chainList, function (chain) {\n      const values = invoke('first', [chain]);\n      return values.then(function (args) {\n        return args;\n      });\n    });\n    return Promise.all(seriesList).then(function (args) {\n      const list = _.chain(args).pluck('list').flatten().value();\n      const seriesList = _.merge.apply(this, _.flatten([{}, args]));\n      seriesList.list = list;\n      return seriesList;\n    });\n  }\n\n  function preProcessSheet(sheet) {\n\n    let queries = {};\n    _.each(sheet, function (chainList, i) {\n      try {\n        const queriesInCell = _.mapValues(preprocessChain(chainList), function (val) {\n          val.cell = i;\n          return val;\n        });\n        queries = _.extend(queries, queriesInCell);\n      } catch (e) {\n        throwWithCell(i, e);\n      }\n    });\n    queries = _.values(queries);\n\n    const promises = _.chain(queries).values().map(function (query) {\n      return invoke(query.function, query.arguments);\n    }).value();\n\n    return Promise.settle(promises).then(function (resolvedDatasources) {\n\n      stats.queryTime = (new Date()).getTime();\n\n      _.each(queries, function (query, i) {\n        const functionDef = tlConfig.server.plugins.timelion.getFunction(query.function);\n        const resolvedDatasource = resolvedDatasources[i];\n\n        if (resolvedDatasource.isRejected()) {\n          if (resolvedDatasource.reason().isBoom) {\n            throw resolvedDatasource.reason();\n          } else {\n            throwWithCell(query.cell, resolvedDatasource.reason());\n          }\n        }\n\n        queryCache[functionDef.cacheKey(query)] = resolvedDatasource.value();\n      });\n\n      stats.cacheCount = _.keys(queryCache).length;\n      return sheet;\n    });\n  }\n\n  function processRequest(request) {\n    if (!request) throw new Error('Empty request body');\n\n    validateTime(request.time, tlConfig);\n\n    tlConfig.time = request.time;\n    tlConfig.time.to = parseDateMath(request.time.to, true).valueOf();\n    tlConfig.time.from = parseDateMath(request.time.from).valueOf();\n    tlConfig.time.interval = calculateInterval(\n      tlConfig.time.from,\n      tlConfig.time.to,\n      tlConfig.settings['timelion:target_buckets'] || 200,\n      tlConfig.time.interval\n    );\n\n    tlConfig.setTargetSeries();\n\n    stats.invokeTime = (new Date()).getTime();\n    stats.queryCount = 0;\n    queryCache = {};\n\n    // This is setting the \"global\" sheet, required for resolving references\n    sheet = parseSheet(request.sheet);\n    return preProcessSheet(sheet).then(function () {\n      return _.map(sheet, function (chainList, i) {\n        return resolveChainList(chainList).then(function (seriesList) {\n          stats.sheetTime = (new Date()).getTime();\n          return seriesList;\n        }).catch(function (e) {\n          throwWithCell(i, e);\n        });\n      });\n    });\n  }\n\n  return {\n    processRequest: processRequest,\n    getStats: function () { return stats; }\n  };\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/parse_sheet.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\nvar _ = require('lodash');\nvar grammar = fs.readFileSync(path.resolve(__dirname, '../../../public/chain.peg'), 'utf8');\nvar PEG = require('pegjs');\nvar Parser = PEG.buildParser(grammar);\n\nmodule.exports = function parseSheet(sheet) {\n  return _.map(sheet, function (plot) {\n    try {\n      return Parser.parse(plot).tree;\n    } catch (e) {\n      var message = undefined;\n      if (e.expected) {\n        throw new Error('Expected: ' + e.expected[0].description + ' @ character ' + e.column);\n      } else {\n        throw e;\n      }\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi9wYXJzZV9zaGVldC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN6QixJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDN0IsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsMkJBQTJCLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM5RixJQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDN0IsSUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQzs7QUFFeEMsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLFVBQVUsQ0FBQyxLQUFLLEVBQUU7QUFDMUMsU0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxVQUFVLElBQUksRUFBRTtBQUNsQyxRQUFJO0FBQ0YsYUFBTyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQztLQUNoQyxDQUFDLE9BQU8sQ0FBQyxFQUFFO0FBQ1YsVUFBSSxPQUFPLFlBQUEsQ0FBQztBQUNaLFVBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRTtBQUNkLGNBQU0sSUFBSSxLQUFLLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxHQUFHLGVBQWUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7T0FDeEYsTUFBTTtBQUNMLGNBQU0sQ0FBQyxDQUFDO09BQ1Q7S0FDRjtHQUNGLENBQUMsQ0FBQztDQUNKLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvaGFuZGxlcnMvbGliL3BhcnNlX3NoZWV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGdyYW1tYXIgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uLy4uLy4uL3B1YmxpYy9jaGFpbi5wZWcnKSwgJ3V0ZjgnKTtcbmNvbnN0IFBFRyA9IHJlcXVpcmUoJ3BlZ2pzJyk7XG5jb25zdCBQYXJzZXIgPSBQRUcuYnVpbGRQYXJzZXIoZ3JhbW1hcik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VTaGVldChzaGVldCkge1xuICByZXR1cm4gXy5tYXAoc2hlZXQsIGZ1bmN0aW9uIChwbG90KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBQYXJzZXIucGFyc2UocGxvdCkudHJlZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsZXQgbWVzc2FnZTtcbiAgICAgIGlmIChlLmV4cGVjdGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQ6ICcgKyBlLmV4cGVjdGVkWzBdLmRlc2NyaXB0aW9uICsgJyBAIGNoYXJhY3RlciAnICsgZS5jb2x1bW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/parse_sheet.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACzB,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,OAAO,GAAG,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,2BAA2B,CAAC,EAAE,MAAM,CAAC,CAAC;AAC9F,IAAM,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAC7B,IAAM,MAAM,GAAG,GAAG,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;AAExC,MAAM,CAAC,OAAO,GAAG,SAAS,UAAU,CAAC,KAAK,EAAE;AAC1C,SAAO,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,IAAI,EAAE;AAClC,QAAI;AACF,aAAO,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;KAChC,CAAC,OAAO,CAAC,EAAE;AACV,UAAI,OAAO,YAAA,CAAC;AACZ,UAAI,CAAC,CAAC,QAAQ,EAAE;AACd,cAAM,IAAI,KAAK,CAAC,YAAY,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,eAAe,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;OACxF,MAAM;AACL,cAAM,CAAC,CAAC;OACT;KACF;GACF,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/parse_sheet.js",
      "sourcesContent": [
        "const fs = require('fs');\nconst path = require('path');\nconst _ = require('lodash');\nconst grammar = fs.readFileSync(path.resolve(__dirname, '../../../public/chain.peg'), 'utf8');\nconst PEG = require('pegjs');\nconst Parser = PEG.buildParser(grammar);\n\nmodule.exports = function parseSheet(sheet) {\n  return _.map(sheet, function (plot) {\n    try {\n      return Parser.parse(plot).tree;\n    } catch (e) {\n      let message;\n      if (e.expected) {\n        throw new Error('Expected: ' + e.expected[0].description + ' @ character ' + e.column);\n      } else {\n        throw e;\n      }\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/date_math.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar moment = require('moment');\n\nvar units = ['y', 'M', 'w', 'd', 'h', 'm', 's'];\n\n/* This is a simplified version of elasticsearch's date parser */\nfunction parse(text, roundUp) {\n  if (!text) {\n    return undefined;\n  }\n  if (moment.isMoment(text)) {\n    return text;\n  }\n  if (_.isDate(text)) {\n    return moment(text);\n  }\n\n  var time = undefined;\n  var mathString = '';\n  var index = undefined;\n  var parseString = undefined;\n\n  if (text.substring(0, 3) === 'now') {\n    time = moment();\n    mathString = text.substring('now'.length);\n  } else {\n    index = text.indexOf('||');\n    if (index === -1) {\n      parseString = text;\n      mathString = ''; // nothing else\n    } else {\n        parseString = text.substring(0, index);\n        mathString = text.substring(index + 2);\n      }\n    // We're going to just require ISO8601 timestamps, k?\n    time = moment(parseString);\n  }\n\n  if (!mathString.length) {\n    return time;\n  }\n\n  return parseDateMath(mathString, time, roundUp);\n}\n\nfunction parseDateMath(mathString, time, roundUp) {\n  var dateTime = time;\n\n  for (var i = 0; i < mathString.length;) {\n    var c = mathString.charAt(i++);\n    var type = undefined;\n    var num = undefined;\n\n    if (c === '/') {\n      type = 0;\n    } else if (c === '+') {\n      type = 1;\n    } else if (c === '-') {\n      type = 2;\n    } else {\n      return undefined;\n    }\n\n    if (isNaN(mathString.charAt(i))) {\n      num = 1;\n    } else if (mathString.length === 2) {\n      num = mathString.charAt(i);\n    } else {\n      var numFrom = i;\n      while (!isNaN(mathString.charAt(i))) {\n        i++;\n        if (i > 10) {\n          return undefined;\n        }\n      }\n      num = parseInt(mathString.substring(numFrom, i), 10);\n    }\n\n    if (type === 0) {\n      // rounding is only allowed on whole, single, units (eg M or 1M, not 0.5M or 2M)\n      if (num !== 1) {\n        return undefined;\n      }\n    }\n    var unit = mathString.charAt(i++);\n\n    if (!_.contains(units, unit)) {\n      return undefined;\n    } else {\n      if (type === 0) {\n        if (roundUp) {\n          dateTime.endOf(unit);\n        } else {\n          dateTime.startOf(unit);\n        }\n      } else if (type === 1) {\n        dateTime.add(num, unit);\n      } else if (type === 2) {\n        dateTime.subtract(num, unit);\n      }\n    }\n  }\n  return dateTime;\n}\n\nmodule.exports = parse;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9kYXRlX21hdGguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsSUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUVqQyxJQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDOzs7QUFHbEQsU0FBUyxLQUFLLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUM1QixNQUFJLENBQUMsSUFBSSxFQUFFO0FBQ1QsV0FBTyxTQUFTLENBQUM7R0FDbEI7QUFDRCxNQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDekIsV0FBTyxJQUFJLENBQUM7R0FDYjtBQUNELE1BQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUNsQixXQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUNyQjs7QUFFRCxNQUFJLElBQUksWUFBQSxDQUFDO0FBQ1QsTUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLE1BQUksS0FBSyxZQUFBLENBQUM7QUFDVixNQUFJLFdBQVcsWUFBQSxDQUFDOztBQUVoQixNQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssRUFBRTtBQUNsQyxRQUFJLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFDaEIsY0FBVSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0dBQzNDLE1BQU07QUFDTCxTQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMzQixRQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsRUFBRTtBQUNoQixpQkFBVyxHQUFHLElBQUksQ0FBQztBQUNuQixnQkFBVSxHQUFHLEVBQUUsQ0FBQztLQUNqQixNQUFNO0FBQ0wsbUJBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN2QyxrQkFBVSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO09BQ3hDOztBQUVELFFBQUksR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7R0FDNUI7O0FBRUQsTUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDdEIsV0FBTyxJQUFJLENBQUM7R0FDYjs7QUFFRCxTQUFPLGFBQWEsQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0NBQ2pEOztBQUVELFNBQVMsYUFBYSxDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQ2hELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQzs7QUFFdEIsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEdBQUc7QUFDdEMsUUFBTSxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2pDLFFBQUksSUFBSSxZQUFBLENBQUM7QUFDVCxRQUFJLEdBQUcsWUFBQSxDQUFDOztBQUVSLFFBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtBQUNiLFVBQUksR0FBRyxDQUFDLENBQUM7S0FDVixNQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtBQUNwQixVQUFJLEdBQUcsQ0FBQyxDQUFDO0tBQ1YsTUFBTSxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7QUFDcEIsVUFBSSxHQUFHLENBQUMsQ0FBQztLQUNWLE1BQU07QUFDTCxhQUFPLFNBQVMsQ0FBQztLQUNsQjs7QUFFRCxRQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDL0IsU0FBRyxHQUFHLENBQUMsQ0FBQztLQUNULE1BQU0sSUFBSSxVQUFVLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUNsQyxTQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUM1QixNQUFNO0FBQ0wsVUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFDO0FBQ2xCLGFBQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQ25DLFNBQUMsRUFBRSxDQUFDO0FBQ0osWUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFO0FBQ1YsaUJBQU8sU0FBUyxDQUFDO1NBQ2xCO09BQ0Y7QUFDRCxTQUFHLEdBQUcsUUFBUSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0tBQ3REOztBQUVELFFBQUksSUFBSSxLQUFLLENBQUMsRUFBRTs7QUFFZCxVQUFJLEdBQUcsS0FBSyxDQUFDLEVBQUU7QUFDYixlQUFPLFNBQVMsQ0FBQztPQUNsQjtLQUNGO0FBQ0QsUUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDOztBQUVwQyxRQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUU7QUFDNUIsYUFBTyxTQUFTLENBQUM7S0FDbEIsTUFBTTtBQUNMLFVBQUksSUFBSSxLQUFLLENBQUMsRUFBRTtBQUNkLFlBQUksT0FBTyxFQUFFO0FBQ1gsa0JBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEIsTUFBTTtBQUNMLGtCQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3hCO09BQ0YsTUFBTSxJQUFJLElBQUksS0FBSyxDQUFDLEVBQUU7QUFDckIsZ0JBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO09BQ3pCLE1BQU0sSUFBSSxJQUFJLEtBQUssQ0FBQyxFQUFFO0FBQ3JCLGdCQUFRLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztPQUM5QjtLQUNGO0dBQ0Y7QUFDRCxTQUFPLFFBQVEsQ0FBQztDQUNqQjs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9saWIvZGF0ZV9tYXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbmNvbnN0IHVuaXRzID0gWyd5JywgJ00nLCAndycsICdkJywgJ2gnLCAnbScsICdzJ107XG5cbi8qIFRoaXMgaXMgYSBzaW1wbGlmaWVkIHZlcnNpb24gb2YgZWxhc3RpY3NlYXJjaCdzIGRhdGUgcGFyc2VyICovXG5mdW5jdGlvbiBwYXJzZSh0ZXh0LCByb3VuZFVwKSB7XG4gIGlmICghdGV4dCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgaWYgKG1vbWVudC5pc01vbWVudCh0ZXh0KSkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIGlmIChfLmlzRGF0ZSh0ZXh0KSkge1xuICAgIHJldHVybiBtb21lbnQodGV4dCk7XG4gIH1cblxuICBsZXQgdGltZTtcbiAgbGV0IG1hdGhTdHJpbmcgPSAnJztcbiAgbGV0IGluZGV4O1xuICBsZXQgcGFyc2VTdHJpbmc7XG5cbiAgaWYgKHRleHQuc3Vic3RyaW5nKDAsIDMpID09PSAnbm93Jykge1xuICAgIHRpbWUgPSBtb21lbnQoKTtcbiAgICBtYXRoU3RyaW5nID0gdGV4dC5zdWJzdHJpbmcoJ25vdycubGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICBpbmRleCA9IHRleHQuaW5kZXhPZignfHwnKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICBwYXJzZVN0cmluZyA9IHRleHQ7XG4gICAgICBtYXRoU3RyaW5nID0gJyc7IC8vIG5vdGhpbmcgZWxzZVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZVN0cmluZyA9IHRleHQuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgIG1hdGhTdHJpbmcgPSB0ZXh0LnN1YnN0cmluZyhpbmRleCArIDIpO1xuICAgIH1cbiAgICAvLyBXZSdyZSBnb2luZyB0byBqdXN0IHJlcXVpcmUgSVNPODYwMSB0aW1lc3RhbXBzLCBrP1xuICAgIHRpbWUgPSBtb21lbnQocGFyc2VTdHJpbmcpO1xuICB9XG5cbiAgaWYgKCFtYXRoU3RyaW5nLmxlbmd0aCkge1xuICAgIHJldHVybiB0aW1lO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlRGF0ZU1hdGgobWF0aFN0cmluZywgdGltZSwgcm91bmRVcCk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGF0ZU1hdGgobWF0aFN0cmluZywgdGltZSwgcm91bmRVcCkge1xuICBjb25zdCBkYXRlVGltZSA9IHRpbWU7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRoU3RyaW5nLmxlbmd0aDspIHtcbiAgICBjb25zdCBjID0gbWF0aFN0cmluZy5jaGFyQXQoaSsrKTtcbiAgICBsZXQgdHlwZTtcbiAgICBsZXQgbnVtO1xuXG4gICAgaWYgKGMgPT09ICcvJykge1xuICAgICAgdHlwZSA9IDA7XG4gICAgfSBlbHNlIGlmIChjID09PSAnKycpIHtcbiAgICAgIHR5cGUgPSAxO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJy0nKSB7XG4gICAgICB0eXBlID0gMjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoaXNOYU4obWF0aFN0cmluZy5jaGFyQXQoaSkpKSB7XG4gICAgICBudW0gPSAxO1xuICAgIH0gZWxzZSBpZiAobWF0aFN0cmluZy5sZW5ndGggPT09IDIpIHtcbiAgICAgIG51bSA9IG1hdGhTdHJpbmcuY2hhckF0KGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBudW1Gcm9tID0gaTtcbiAgICAgIHdoaWxlICghaXNOYU4obWF0aFN0cmluZy5jaGFyQXQoaSkpKSB7XG4gICAgICAgIGkrKztcbiAgICAgICAgaWYgKGkgPiAxMCkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG51bSA9IHBhcnNlSW50KG1hdGhTdHJpbmcuc3Vic3RyaW5nKG51bUZyb20sIGkpLCAxMCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09IDApIHtcbiAgICAgIC8vIHJvdW5kaW5nIGlzIG9ubHkgYWxsb3dlZCBvbiB3aG9sZSwgc2luZ2xlLCB1bml0cyAoZWcgTSBvciAxTSwgbm90IDAuNU0gb3IgMk0pXG4gICAgICBpZiAobnVtICE9PSAxKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHVuaXQgPSBtYXRoU3RyaW5nLmNoYXJBdChpKyspO1xuXG4gICAgaWYgKCFfLmNvbnRhaW5zKHVuaXRzLCB1bml0KSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGUgPT09IDApIHtcbiAgICAgICAgaWYgKHJvdW5kVXApIHtcbiAgICAgICAgICBkYXRlVGltZS5lbmRPZih1bml0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRlVGltZS5zdGFydE9mKHVuaXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDEpIHtcbiAgICAgICAgZGF0ZVRpbWUuYWRkKG51bSwgdW5pdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDIpIHtcbiAgICAgICAgZGF0ZVRpbWUuc3VidHJhY3QobnVtLCB1bml0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRhdGVUaW1lO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/date_math.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/date_math.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst moment = require('moment');\n\nconst units = ['y', 'M', 'w', 'd', 'h', 'm', 's'];\n\n/* This is a simplified version of elasticsearch's date parser */\nfunction parse(text, roundUp) {\n  if (!text) {\n    return undefined;\n  }\n  if (moment.isMoment(text)) {\n    return text;\n  }\n  if (_.isDate(text)) {\n    return moment(text);\n  }\n\n  let time;\n  let mathString = '';\n  let index;\n  let parseString;\n\n  if (text.substring(0, 3) === 'now') {\n    time = moment();\n    mathString = text.substring('now'.length);\n  } else {\n    index = text.indexOf('||');\n    if (index === -1) {\n      parseString = text;\n      mathString = ''; // nothing else\n    } else {\n      parseString = text.substring(0, index);\n      mathString = text.substring(index + 2);\n    }\n    // We're going to just require ISO8601 timestamps, k?\n    time = moment(parseString);\n  }\n\n  if (!mathString.length) {\n    return time;\n  }\n\n  return parseDateMath(mathString, time, roundUp);\n}\n\nfunction parseDateMath(mathString, time, roundUp) {\n  const dateTime = time;\n\n  for (let i = 0; i < mathString.length;) {\n    const c = mathString.charAt(i++);\n    let type;\n    let num;\n\n    if (c === '/') {\n      type = 0;\n    } else if (c === '+') {\n      type = 1;\n    } else if (c === '-') {\n      type = 2;\n    } else {\n      return undefined;\n    }\n\n    if (isNaN(mathString.charAt(i))) {\n      num = 1;\n    } else if (mathString.length === 2) {\n      num = mathString.charAt(i);\n    } else {\n      const numFrom = i;\n      while (!isNaN(mathString.charAt(i))) {\n        i++;\n        if (i > 10) {\n          return undefined;\n        }\n      }\n      num = parseInt(mathString.substring(numFrom, i), 10);\n    }\n\n    if (type === 0) {\n      // rounding is only allowed on whole, single, units (eg M or 1M, not 0.5M or 2M)\n      if (num !== 1) {\n        return undefined;\n      }\n    }\n    const unit = mathString.charAt(i++);\n\n    if (!_.contains(units, unit)) {\n      return undefined;\n    } else {\n      if (type === 0) {\n        if (roundUp) {\n          dateTime.endOf(unit);\n        } else {\n          dateTime.startOf(unit);\n        }\n      } else if (type === 1) {\n        dateTime.add(num, unit);\n      } else if (type === 2) {\n        dateTime.subtract(num, unit);\n      }\n    }\n  }\n  return dateTime;\n}\n\nmodule.exports = parse;\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/public/lib/calculate_interval.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function calculateInterval(from, to, size, interval) {\n  if (interval !== 'auto') return interval;\n  return roundInterval((to - from) / size);\n};\n\n// Totally cribbed this from Kibana 3.\n// I bet there's something similar in the Kibana 4 code. Somewhere. Somehow.\nfunction roundInterval(interval) {\n  switch (true) {\n    case interval <= 500:\n      // <= 0.5s\n      return '100ms';\n    case interval <= 5000:\n      // <= 5s\n      return '1s';\n    case interval <= 7500:\n      // <= 7.5s\n      return '5s';\n    case interval <= 15000:\n      // <= 15s\n      return '10s';\n    case interval <= 45000:\n      // <= 45s\n      return '30s';\n    case interval <= 180000:\n      // <= 3m\n      return '1m';\n    case interval <= 450000:\n      // <= 9m\n      return '5m';\n    case interval <= 1200000:\n      // <= 20m\n      return '10m';\n    case interval <= 2700000:\n      // <= 45m\n      return '30m';\n    case interval <= 7200000:\n      // <= 2h\n      return '1h';\n    case interval <= 21600000:\n      // <= 6h\n      return '3h';\n    case interval <= 86400000:\n      // <= 24h\n      return '12h';\n    case interval <= 604800000:\n      // <= 1w\n      return '24h';\n    case interval <= 1814400000:\n      // <= 3w\n      return '1w';\n    case interval < 3628800000:\n      // <  2y\n      return '30d';\n    default:\n      return '1y';\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vcHVibGljL2xpYi9jYWxjdWxhdGVfaW50ZXJ2YWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFO0FBQ3BFLE1BQUksUUFBUSxLQUFLLE1BQU0sRUFBRSxPQUFPLFFBQVEsQ0FBQztBQUN6QyxTQUFPLGFBQWEsQ0FBQyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUEsR0FBSSxJQUFJLENBQUMsQ0FBQztDQUMxQyxDQUFDOzs7O0FBSUYsU0FBUyxhQUFhLENBQUMsUUFBUSxFQUFFO0FBQy9CLFVBQVEsSUFBSTtBQUNWLFNBQU0sUUFBUSxJQUFJLEdBQUc7O0FBQ25CLGFBQU8sT0FBTyxDQUFDO0FBQUEsQUFDakIsU0FBTSxRQUFRLElBQUksSUFBSTs7QUFDcEIsYUFBTyxJQUFJLENBQUM7QUFBQSxBQUNkLFNBQU0sUUFBUSxJQUFJLElBQUk7O0FBQ3BCLGFBQU8sSUFBSSxDQUFDO0FBQUEsQUFDZCxTQUFNLFFBQVEsSUFBSSxLQUFLOztBQUNyQixhQUFPLEtBQUssQ0FBQztBQUFBLEFBQ2YsU0FBTSxRQUFRLElBQUksS0FBSzs7QUFDckIsYUFBTyxLQUFLLENBQUM7QUFBQSxBQUNmLFNBQU0sUUFBUSxJQUFJLE1BQU07O0FBQ3RCLGFBQU8sSUFBSSxDQUFDO0FBQUEsQUFDZCxTQUFNLFFBQVEsSUFBSSxNQUFNOztBQUN0QixhQUFPLElBQUksQ0FBQztBQUFBLEFBQ2QsU0FBTSxRQUFRLElBQUksT0FBTzs7QUFDdkIsYUFBTyxLQUFLLENBQUM7QUFBQSxBQUNmLFNBQU0sUUFBUSxJQUFJLE9BQU87O0FBQ3ZCLGFBQU8sS0FBSyxDQUFDO0FBQUEsQUFDZixTQUFNLFFBQVEsSUFBSSxPQUFPOztBQUN2QixhQUFPLElBQUksQ0FBQztBQUFBLEFBQ2QsU0FBTSxRQUFRLElBQUksUUFBUTs7QUFDeEIsYUFBTyxJQUFJLENBQUM7QUFBQSxBQUNkLFNBQU0sUUFBUSxJQUFJLFFBQVE7O0FBQ3hCLGFBQU8sS0FBSyxDQUFDO0FBQUEsQUFDZixTQUFNLFFBQVEsSUFBSSxTQUFTOztBQUN6QixhQUFPLEtBQUssQ0FBQztBQUFBLEFBQ2YsU0FBTSxRQUFRLElBQUksVUFBVTs7QUFDMUIsYUFBTyxJQUFJLENBQUM7QUFBQSxBQUNkLFNBQU0sUUFBUSxHQUFHLFVBQVU7O0FBQ3pCLGFBQU8sS0FBSyxDQUFDO0FBQUEsQUFDZjtBQUNFLGFBQU8sSUFBSSxDQUFDO0FBQUEsR0FDZjtDQUNGIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vcHVibGljL2xpYi9jYWxjdWxhdGVfaW50ZXJ2YWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUludGVydmFsKGZyb20sIHRvLCBzaXplLCBpbnRlcnZhbCkge1xuICBpZiAoaW50ZXJ2YWwgIT09ICdhdXRvJykgcmV0dXJuIGludGVydmFsO1xuICByZXR1cm4gcm91bmRJbnRlcnZhbCgodG8gLSBmcm9tKSAvIHNpemUpO1xufTtcblxuLy8gVG90YWxseSBjcmliYmVkIHRoaXMgZnJvbSBLaWJhbmEgMy5cbi8vIEkgYmV0IHRoZXJlJ3Mgc29tZXRoaW5nIHNpbWlsYXIgaW4gdGhlIEtpYmFuYSA0IGNvZGUuIFNvbWV3aGVyZS4gU29tZWhvdy5cbmZ1bmN0aW9uIHJvdW5kSW50ZXJ2YWwoaW50ZXJ2YWwpIHtcbiAgc3dpdGNoICh0cnVlKSB7XG4gICAgY2FzZSAoaW50ZXJ2YWwgPD0gNTAwKTogICAgICAgICAvLyA8PSAwLjVzXG4gICAgICByZXR1cm4gJzEwMG1zJztcbiAgICBjYXNlIChpbnRlcnZhbCA8PSA1MDAwKTogICAgICAgIC8vIDw9IDVzXG4gICAgICByZXR1cm4gJzFzJztcbiAgICBjYXNlIChpbnRlcnZhbCA8PSA3NTAwKTogICAgICAgIC8vIDw9IDcuNXNcbiAgICAgIHJldHVybiAnNXMnO1xuICAgIGNhc2UgKGludGVydmFsIDw9IDE1MDAwKTogICAgICAgLy8gPD0gMTVzXG4gICAgICByZXR1cm4gJzEwcyc7XG4gICAgY2FzZSAoaW50ZXJ2YWwgPD0gNDUwMDApOiAgICAgICAvLyA8PSA0NXNcbiAgICAgIHJldHVybiAnMzBzJztcbiAgICBjYXNlIChpbnRlcnZhbCA8PSAxODAwMDApOiAgICAgIC8vIDw9IDNtXG4gICAgICByZXR1cm4gJzFtJztcbiAgICBjYXNlIChpbnRlcnZhbCA8PSA0NTAwMDApOiAgICAgIC8vIDw9IDltXG4gICAgICByZXR1cm4gJzVtJztcbiAgICBjYXNlIChpbnRlcnZhbCA8PSAxMjAwMDAwKTogICAgIC8vIDw9IDIwbVxuICAgICAgcmV0dXJuICcxMG0nO1xuICAgIGNhc2UgKGludGVydmFsIDw9IDI3MDAwMDApOiAgICAgLy8gPD0gNDVtXG4gICAgICByZXR1cm4gJzMwbSc7XG4gICAgY2FzZSAoaW50ZXJ2YWwgPD0gNzIwMDAwMCk6ICAgICAvLyA8PSAyaFxuICAgICAgcmV0dXJuICcxaCc7XG4gICAgY2FzZSAoaW50ZXJ2YWwgPD0gMjE2MDAwMDApOiAgICAvLyA8PSA2aFxuICAgICAgcmV0dXJuICczaCc7XG4gICAgY2FzZSAoaW50ZXJ2YWwgPD0gODY0MDAwMDApOiAgICAvLyA8PSAyNGhcbiAgICAgIHJldHVybiAnMTJoJztcbiAgICBjYXNlIChpbnRlcnZhbCA8PSA2MDQ4MDAwMDApOiAgIC8vIDw9IDF3XG4gICAgICByZXR1cm4gJzI0aCc7XG4gICAgY2FzZSAoaW50ZXJ2YWwgPD0gMTgxNDQwMDAwMCk6ICAvLyA8PSAzd1xuICAgICAgcmV0dXJuICcxdyc7XG4gICAgY2FzZSAoaW50ZXJ2YWwgPCAzNjI4ODAwMDAwKTogICAvLyA8ICAyeVxuICAgICAgcmV0dXJuICczMGQnO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJzF5JztcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/public/lib/calculate_interval.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,SAAS,iBAAiB,CAAC,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;AACpE,MAAI,QAAQ,KAAK,MAAM,EAAE,OAAO,QAAQ,CAAC;AACzC,SAAO,aAAa,CAAC,CAAC,EAAE,GAAG,IAAI,CAAA,GAAI,IAAI,CAAC,CAAC;CAC1C,CAAC;;;;AAIF,SAAS,aAAa,CAAC,QAAQ,EAAE;AAC/B,UAAQ,IAAI;AACV,SAAM,QAAQ,IAAI,GAAG;;AACnB,aAAO,OAAO,CAAC;AAAA,AACjB,SAAM,QAAQ,IAAI,IAAI;;AACpB,aAAO,IAAI,CAAC;AAAA,AACd,SAAM,QAAQ,IAAI,IAAI;;AACpB,aAAO,IAAI,CAAC;AAAA,AACd,SAAM,QAAQ,IAAI,KAAK;;AACrB,aAAO,KAAK,CAAC;AAAA,AACf,SAAM,QAAQ,IAAI,KAAK;;AACrB,aAAO,KAAK,CAAC;AAAA,AACf,SAAM,QAAQ,IAAI,MAAM;;AACtB,aAAO,IAAI,CAAC;AAAA,AACd,SAAM,QAAQ,IAAI,MAAM;;AACtB,aAAO,IAAI,CAAC;AAAA,AACd,SAAM,QAAQ,IAAI,OAAO;;AACvB,aAAO,KAAK,CAAC;AAAA,AACf,SAAM,QAAQ,IAAI,OAAO;;AACvB,aAAO,KAAK,CAAC;AAAA,AACf,SAAM,QAAQ,IAAI,OAAO;;AACvB,aAAO,IAAI,CAAC;AAAA,AACd,SAAM,QAAQ,IAAI,QAAQ;;AACxB,aAAO,IAAI,CAAC;AAAA,AACd,SAAM,QAAQ,IAAI,QAAQ;;AACxB,aAAO,KAAK,CAAC;AAAA,AACf,SAAM,QAAQ,IAAI,SAAS;;AACzB,aAAO,KAAK,CAAC;AAAA,AACf,SAAM,QAAQ,IAAI,UAAU;;AAC1B,aAAO,IAAI,CAAC;AAAA,AACd,SAAM,QAAQ,GAAG,UAAU;;AACzB,aAAO,KAAK,CAAC;AAAA,AACf;AACE,aAAO,IAAI,CAAC;AAAA,GACf;CACF",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/public/lib/calculate_interval.js",
      "sourcesContent": [
        "module.exports = function calculateInterval(from, to, size, interval) {\n  if (interval !== 'auto') return interval;\n  return roundInterval((to - from) / size);\n};\n\n// Totally cribbed this from Kibana 3.\n// I bet there's something similar in the Kibana 4 code. Somewhere. Somehow.\nfunction roundInterval(interval) {\n  switch (true) {\n    case (interval <= 500):         // <= 0.5s\n      return '100ms';\n    case (interval <= 5000):        // <= 5s\n      return '1s';\n    case (interval <= 7500):        // <= 7.5s\n      return '5s';\n    case (interval <= 15000):       // <= 15s\n      return '10s';\n    case (interval <= 45000):       // <= 45s\n      return '30s';\n    case (interval <= 180000):      // <= 3m\n      return '1m';\n    case (interval <= 450000):      // <= 9m\n      return '5m';\n    case (interval <= 1200000):     // <= 20m\n      return '10m';\n    case (interval <= 2700000):     // <= 45m\n      return '30m';\n    case (interval <= 7200000):     // <= 2h\n      return '1h';\n    case (interval <= 21600000):    // <= 6h\n      return '3h';\n    case (interval <= 86400000):    // <= 24h\n      return '12h';\n    case (interval <= 604800000):   // <= 1w\n      return '24h';\n    case (interval <= 1814400000):  // <= 3w\n      return '1w';\n    case (interval < 3628800000):   // <  2y\n      return '30d';\n    default:\n      return '1y';\n  }\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/reposition_arguments.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\n// Applies to unresolved arguments in the AST\nmodule.exports = function repositionArguments(functionDef, unorderedArgs) {\n  var args = [];\n\n  _.each(unorderedArgs, function (unorderedArg, i) {\n    var argDef = undefined;\n    var targetIndex = undefined;\n    var value = undefined;\n    var storeAsArray = undefined;\n\n    if (_.isObject(unorderedArg) && unorderedArg.type === 'namedArg') {\n      argDef = functionDef.argsByName[unorderedArg.name];\n\n      if (!argDef) {\n        if (functionDef.extended) {\n          var namesIndex = functionDef.args.length;\n          targetIndex = functionDef.args.length + 1;\n\n          args[namesIndex] = args[namesIndex] || [];\n          args[namesIndex].push(unorderedArg.name);\n\n          argDef = functionDef.extended;\n          storeAsArray = true;\n        }\n      } else {\n        targetIndex = _.findIndex(functionDef.args, function (orderedArg) {\n          return unorderedArg.name === orderedArg.name;\n        });\n        storeAsArray = argDef.multi;\n      }\n      value = unorderedArg.value;\n    } else {\n      argDef = functionDef.args[i];\n      storeAsArray = argDef.multi;\n      targetIndex = i;\n      value = unorderedArg;\n    }\n\n    if (!argDef) throw new Error('Unknown argument to ' + functionDef.name + ': ' + (unorderedArg.name || '#' + i));\n\n    if (storeAsArray) {\n      args[targetIndex] = args[targetIndex] || [];\n      args[targetIndex].push(value);\n    } else {\n      args[targetIndex] = value;\n    }\n  });\n\n  return args;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi9yZXBvc2l0aW9uX2FyZ3VtZW50cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7O0FBRzVCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsU0FBUyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsYUFBYSxFQUFFO0FBQ3hFLE1BQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQzs7QUFFaEIsR0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsVUFBVSxZQUFZLEVBQUUsQ0FBQyxFQUFFO0FBQy9DLFFBQUksTUFBTSxZQUFBLENBQUM7QUFDWCxRQUFJLFdBQVcsWUFBQSxDQUFDO0FBQ2hCLFFBQUksS0FBSyxZQUFBLENBQUM7QUFDVixRQUFJLFlBQVksWUFBQSxDQUFDOztBQUVqQixRQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLElBQUksWUFBWSxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7QUFDaEUsWUFBTSxHQUFHLFdBQVcsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDOztBQUVuRCxVQUFJLENBQUMsTUFBTSxFQUFFO0FBQ1gsWUFBSSxXQUFXLENBQUMsUUFBUSxFQUFFO0FBQ3hCLGNBQU0sVUFBVSxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQzNDLHFCQUFXLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDOztBQUUxQyxjQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUMxQyxjQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFekMsZ0JBQU0sR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDO0FBQzlCLHNCQUFZLEdBQUcsSUFBSSxDQUFDO1NBQ3JCO09BQ0YsTUFBTTtBQUNMLG1CQUFXLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLFVBQVUsVUFBVSxFQUFFO0FBQ2hFLGlCQUFPLFlBQVksQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLElBQUksQ0FBQztTQUM5QyxDQUFDLENBQUM7QUFDSCxvQkFBWSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7T0FFN0I7QUFDRCxXQUFLLEdBQUcsWUFBWSxDQUFDLEtBQUssQ0FBQztLQUM1QixNQUFNO0FBQ0wsWUFBTSxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDN0Isa0JBQVksR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO0FBQzVCLGlCQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQ2hCLFdBQUssR0FBRyxZQUFZLENBQUM7S0FDdEI7O0FBRUQsUUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixHQUFHLFdBQVcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLFlBQVksQ0FBQyxJQUFJLElBQUssR0FBRyxHQUFHLENBQUMsQ0FBQyxBQUFDLENBQUMsQ0FBQzs7QUFFbEgsUUFBSSxZQUFZLEVBQUU7QUFDaEIsVUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDNUMsVUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUMvQixNQUFNO0FBQ0wsVUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEtBQUssQ0FBQztLQUMzQjtHQUNGLENBQUMsQ0FBQzs7QUFFSCxTQUFPLElBQUksQ0FBQztDQUViLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvaGFuZGxlcnMvbGliL3JlcG9zaXRpb25fYXJndW1lbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG4vLyBBcHBsaWVzIHRvIHVucmVzb2x2ZWQgYXJndW1lbnRzIGluIHRoZSBBU1Rcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVwb3NpdGlvbkFyZ3VtZW50cyhmdW5jdGlvbkRlZiwgdW5vcmRlcmVkQXJncykge1xuICBjb25zdCBhcmdzID0gW107XG5cbiAgXy5lYWNoKHVub3JkZXJlZEFyZ3MsIGZ1bmN0aW9uICh1bm9yZGVyZWRBcmcsIGkpIHtcbiAgICBsZXQgYXJnRGVmO1xuICAgIGxldCB0YXJnZXRJbmRleDtcbiAgICBsZXQgdmFsdWU7XG4gICAgbGV0IHN0b3JlQXNBcnJheTtcblxuICAgIGlmIChfLmlzT2JqZWN0KHVub3JkZXJlZEFyZykgJiYgdW5vcmRlcmVkQXJnLnR5cGUgPT09ICduYW1lZEFyZycpIHtcbiAgICAgIGFyZ0RlZiA9IGZ1bmN0aW9uRGVmLmFyZ3NCeU5hbWVbdW5vcmRlcmVkQXJnLm5hbWVdO1xuXG4gICAgICBpZiAoIWFyZ0RlZikge1xuICAgICAgICBpZiAoZnVuY3Rpb25EZWYuZXh0ZW5kZWQpIHtcbiAgICAgICAgICBjb25zdCBuYW1lc0luZGV4ID0gZnVuY3Rpb25EZWYuYXJncy5sZW5ndGg7XG4gICAgICAgICAgdGFyZ2V0SW5kZXggPSBmdW5jdGlvbkRlZi5hcmdzLmxlbmd0aCArIDE7XG5cbiAgICAgICAgICBhcmdzW25hbWVzSW5kZXhdID0gYXJnc1tuYW1lc0luZGV4XSB8fCBbXTtcbiAgICAgICAgICBhcmdzW25hbWVzSW5kZXhdLnB1c2godW5vcmRlcmVkQXJnLm5hbWUpO1xuXG4gICAgICAgICAgYXJnRGVmID0gZnVuY3Rpb25EZWYuZXh0ZW5kZWQ7XG4gICAgICAgICAgc3RvcmVBc0FycmF5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0SW5kZXggPSBfLmZpbmRJbmRleChmdW5jdGlvbkRlZi5hcmdzLCBmdW5jdGlvbiAob3JkZXJlZEFyZykge1xuICAgICAgICAgIHJldHVybiB1bm9yZGVyZWRBcmcubmFtZSA9PT0gb3JkZXJlZEFyZy5uYW1lO1xuICAgICAgICB9KTtcbiAgICAgICAgc3RvcmVBc0FycmF5ID0gYXJnRGVmLm11bHRpO1xuXG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHVub3JkZXJlZEFyZy52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJnRGVmID0gZnVuY3Rpb25EZWYuYXJnc1tpXTtcbiAgICAgIHN0b3JlQXNBcnJheSA9IGFyZ0RlZi5tdWx0aTtcbiAgICAgIHRhcmdldEluZGV4ID0gaTtcbiAgICAgIHZhbHVlID0gdW5vcmRlcmVkQXJnO1xuICAgIH1cblxuICAgIGlmICghYXJnRGVmKSB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gYXJndW1lbnQgdG8gJyArIGZ1bmN0aW9uRGVmLm5hbWUgKyAnOiAnICsgKHVub3JkZXJlZEFyZy5uYW1lIHx8ICgnIycgKyBpKSkpO1xuXG4gICAgaWYgKHN0b3JlQXNBcnJheSkge1xuICAgICAgYXJnc1t0YXJnZXRJbmRleF0gPSBhcmdzW3RhcmdldEluZGV4XSB8fCBbXTtcbiAgICAgIGFyZ3NbdGFyZ2V0SW5kZXhdLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcmdzW3RhcmdldEluZGV4XSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGFyZ3M7XG5cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/reposition_arguments.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;AAG5B,MAAM,CAAC,OAAO,GAAG,SAAS,mBAAmB,CAAC,WAAW,EAAE,aAAa,EAAE;AACxE,MAAM,IAAI,GAAG,EAAE,CAAC;;AAEhB,GAAC,CAAC,IAAI,CAAC,aAAa,EAAE,UAAU,YAAY,EAAE,CAAC,EAAE;AAC/C,QAAI,MAAM,YAAA,CAAC;AACX,QAAI,WAAW,YAAA,CAAC;AAChB,QAAI,KAAK,YAAA,CAAC;AACV,QAAI,YAAY,YAAA,CAAC;;AAEjB,QAAI,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,YAAY,CAAC,IAAI,KAAK,UAAU,EAAE;AAChE,YAAM,GAAG,WAAW,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;;AAEnD,UAAI,CAAC,MAAM,EAAE;AACX,YAAI,WAAW,CAAC,QAAQ,EAAE;AACxB,cAAM,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC;AAC3C,qBAAW,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;;AAE1C,cAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;AAC1C,cAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;;AAEzC,gBAAM,GAAG,WAAW,CAAC,QAAQ,CAAC;AAC9B,sBAAY,GAAG,IAAI,CAAC;SACrB;OACF,MAAM;AACL,mBAAW,GAAG,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;AAChE,iBAAO,YAAY,CAAC,IAAI,KAAK,UAAU,CAAC,IAAI,CAAC;SAC9C,CAAC,CAAC;AACH,oBAAY,GAAG,MAAM,CAAC,KAAK,CAAC;OAE7B;AACD,WAAK,GAAG,YAAY,CAAC,KAAK,CAAC;KAC5B,MAAM;AACL,YAAM,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAC7B,kBAAY,GAAG,MAAM,CAAC,KAAK,CAAC;AAC5B,iBAAW,GAAG,CAAC,CAAC;AAChB,WAAK,GAAG,YAAY,CAAC;KACtB;;AAED,QAAI,CAAC,MAAM,EAAE,MAAM,IAAI,KAAK,CAAC,sBAAsB,GAAG,WAAW,CAAC,IAAI,GAAG,IAAI,IAAI,YAAY,CAAC,IAAI,IAAK,GAAG,GAAG,CAAC,CAAC,AAAC,CAAC,CAAC;;AAElH,QAAI,YAAY,EAAE;AAChB,UAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;AAC5C,UAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC/B,MAAM;AACL,UAAI,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;KAC3B;GACF,CAAC,CAAC;;AAEH,SAAO,IAAI,CAAC;CAEb,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/reposition_arguments.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\n// Applies to unresolved arguments in the AST\nmodule.exports = function repositionArguments(functionDef, unorderedArgs) {\n  const args = [];\n\n  _.each(unorderedArgs, function (unorderedArg, i) {\n    let argDef;\n    let targetIndex;\n    let value;\n    let storeAsArray;\n\n    if (_.isObject(unorderedArg) && unorderedArg.type === 'namedArg') {\n      argDef = functionDef.argsByName[unorderedArg.name];\n\n      if (!argDef) {\n        if (functionDef.extended) {\n          const namesIndex = functionDef.args.length;\n          targetIndex = functionDef.args.length + 1;\n\n          args[namesIndex] = args[namesIndex] || [];\n          args[namesIndex].push(unorderedArg.name);\n\n          argDef = functionDef.extended;\n          storeAsArray = true;\n        }\n      } else {\n        targetIndex = _.findIndex(functionDef.args, function (orderedArg) {\n          return unorderedArg.name === orderedArg.name;\n        });\n        storeAsArray = argDef.multi;\n\n      }\n      value = unorderedArg.value;\n    } else {\n      argDef = functionDef.args[i];\n      storeAsArray = argDef.multi;\n      targetIndex = i;\n      value = unorderedArg;\n    }\n\n    if (!argDef) throw new Error('Unknown argument to ' + functionDef.name + ': ' + (unorderedArg.name || ('#' + i)));\n\n    if (storeAsArray) {\n      args[targetIndex] = args[targetIndex] || [];\n      args[targetIndex].push(value);\n    } else {\n      args[targetIndex] = value;\n    }\n  });\n\n  return args;\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/index_arguments.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\n// Only applies to already resolved arguments\nmodule.exports = function indexArguments(functionDef, orderedArgs) {\n\n  var validateArg = require('./validate_arg')(functionDef);\n\n  // This almost certainly is not required\n  var allowedLength = functionDef.extended ? functionDef.args.length + 2 : functionDef.args.length;\n  if (orderedArgs.length > allowedLength) throw new Error('Too many arguments passed to: ' + functionDef.name);\n\n  var indexedArgs = {};\n  // Check and index each known argument\n  _.each(functionDef.args, function (argDef, i) {\n    var value = orderedArgs[i];\n    validateArg(value, argDef.name, argDef);\n    indexedArgs[argDef.name] = value;\n  });\n\n  // Also check and index the extended arguments if enabled\n  if (functionDef.extended) {\n    (function () {\n      var values = orderedArgs[orderedArgs.length - 1];\n      var names = orderedArgs[orderedArgs.length - 2];\n      _.each(values, function (value, i) {\n        validateArg(value, names[i], functionDef.extended);\n        indexedArgs[names[i]] = value;\n      });\n    })();\n  }\n\n  return indexedArgs;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi9pbmRleF9hcmd1bWVudHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7OztBQUc1QixNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsY0FBYyxDQUFDLFdBQVcsRUFBRSxXQUFXLEVBQUU7O0FBRWpFLE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDOzs7QUFHM0QsTUFBTSxhQUFhLEdBQUcsV0FBVyxDQUFDLFFBQVEsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDbkcsTUFBSSxXQUFXLENBQUMsTUFBTSxHQUFHLGFBQWEsRUFBRSxNQUFNLElBQUksS0FBSyxDQUFFLGdDQUFnQyxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7QUFFOUcsTUFBTSxXQUFXLEdBQUcsRUFBRSxDQUFDOztBQUV2QixHQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsVUFBVSxNQUFNLEVBQUUsQ0FBQyxFQUFFO0FBQzVDLFFBQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3QixlQUFXLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDeEMsZUFBVyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUM7R0FDbEMsQ0FBQyxDQUFDOzs7QUFHSCxNQUFJLFdBQVcsQ0FBQyxRQUFRLEVBQUU7O0FBQ3hCLFVBQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ25ELFVBQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ2xELE9BQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFVBQVUsS0FBSyxFQUFFLENBQUMsRUFBRTtBQUNqQyxtQkFBVyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ25ELG1CQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO09BQy9CLENBQUMsQ0FBQzs7R0FDSjs7QUFFRCxTQUFPLFdBQVcsQ0FBQztDQUNwQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi9pbmRleF9hcmd1bWVudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbi8vIE9ubHkgYXBwbGllcyB0byBhbHJlYWR5IHJlc29sdmVkIGFyZ3VtZW50c1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmRleEFyZ3VtZW50cyhmdW5jdGlvbkRlZiwgb3JkZXJlZEFyZ3MpIHtcblxuICBjb25zdCB2YWxpZGF0ZUFyZyA9IHJlcXVpcmUoJy4vdmFsaWRhdGVfYXJnJykoZnVuY3Rpb25EZWYpO1xuXG4gIC8vIFRoaXMgYWxtb3N0IGNlcnRhaW5seSBpcyBub3QgcmVxdWlyZWRcbiAgY29uc3QgYWxsb3dlZExlbmd0aCA9IGZ1bmN0aW9uRGVmLmV4dGVuZGVkID8gZnVuY3Rpb25EZWYuYXJncy5sZW5ndGggKyAyIDogZnVuY3Rpb25EZWYuYXJncy5sZW5ndGg7XG4gIGlmIChvcmRlcmVkQXJncy5sZW5ndGggPiBhbGxvd2VkTGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IgKCdUb28gbWFueSBhcmd1bWVudHMgcGFzc2VkIHRvOiAnICsgZnVuY3Rpb25EZWYubmFtZSk7XG5cbiAgY29uc3QgaW5kZXhlZEFyZ3MgPSB7fTtcbiAgLy8gQ2hlY2sgYW5kIGluZGV4IGVhY2gga25vd24gYXJndW1lbnRcbiAgXy5lYWNoKGZ1bmN0aW9uRGVmLmFyZ3MsIGZ1bmN0aW9uIChhcmdEZWYsIGkpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG9yZGVyZWRBcmdzW2ldO1xuICAgIHZhbGlkYXRlQXJnKHZhbHVlLCBhcmdEZWYubmFtZSwgYXJnRGVmKTtcbiAgICBpbmRleGVkQXJnc1thcmdEZWYubmFtZV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgLy8gQWxzbyBjaGVjayBhbmQgaW5kZXggdGhlIGV4dGVuZGVkIGFyZ3VtZW50cyBpZiBlbmFibGVkXG4gIGlmIChmdW5jdGlvbkRlZi5leHRlbmRlZCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IG9yZGVyZWRBcmdzW29yZGVyZWRBcmdzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IG5hbWVzID0gb3JkZXJlZEFyZ3Nbb3JkZXJlZEFyZ3MubGVuZ3RoIC0gMl07XG4gICAgXy5lYWNoKHZhbHVlcywgZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgICB2YWxpZGF0ZUFyZyh2YWx1ZSwgbmFtZXNbaV0sIGZ1bmN0aW9uRGVmLmV4dGVuZGVkKTtcbiAgICAgIGluZGV4ZWRBcmdzW25hbWVzW2ldXSA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGluZGV4ZWRBcmdzO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/index_arguments.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;AAG5B,MAAM,CAAC,OAAO,GAAG,SAAS,cAAc,CAAC,WAAW,EAAE,WAAW,EAAE;;AAEjE,MAAM,WAAW,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC,WAAW,CAAC,CAAC;;;AAG3D,MAAM,aAAa,GAAG,WAAW,CAAC,QAAQ,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC;AACnG,MAAI,WAAW,CAAC,MAAM,GAAG,aAAa,EAAE,MAAM,IAAI,KAAK,CAAE,gCAAgC,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;;AAE9G,MAAM,WAAW,GAAG,EAAE,CAAC;;AAEvB,GAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,UAAU,MAAM,EAAE,CAAC,EAAE;AAC5C,QAAM,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;AAC7B,eAAW,CAAC,KAAK,EAAE,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AACxC,eAAW,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;GAClC,CAAC,CAAC;;;AAGH,MAAI,WAAW,CAAC,QAAQ,EAAE;;AACxB,UAAM,MAAM,GAAG,WAAW,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACnD,UAAM,KAAK,GAAG,WAAW,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AAClD,OAAC,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE,CAAC,EAAE;AACjC,mBAAW,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;AACnD,mBAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;OAC/B,CAAC,CAAC;;GACJ;;AAED,SAAO,WAAW,CAAC;CACpB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/index_arguments.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\n// Only applies to already resolved arguments\nmodule.exports = function indexArguments(functionDef, orderedArgs) {\n\n  const validateArg = require('./validate_arg')(functionDef);\n\n  // This almost certainly is not required\n  const allowedLength = functionDef.extended ? functionDef.args.length + 2 : functionDef.args.length;\n  if (orderedArgs.length > allowedLength) throw new Error ('Too many arguments passed to: ' + functionDef.name);\n\n  const indexedArgs = {};\n  // Check and index each known argument\n  _.each(functionDef.args, function (argDef, i) {\n    const value = orderedArgs[i];\n    validateArg(value, argDef.name, argDef);\n    indexedArgs[argDef.name] = value;\n  });\n\n  // Also check and index the extended arguments if enabled\n  if (functionDef.extended) {\n    const values = orderedArgs[orderedArgs.length - 1];\n    const names = orderedArgs[orderedArgs.length - 2];\n    _.each(values, function (value, i) {\n      validateArg(value, names[i], functionDef.extended);\n      indexedArgs[names[i]] = value;\n    });\n  }\n\n  return indexedArgs;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/validate_time.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar parseDateMath = require('../../lib/date_math.js');\nvar toMS = require('../../lib/to_milliseconds.js');\n\nmodule.exports = function validateTime(time, tlConfig) {\n  var span = parseDateMath(time.to, true) - parseDateMath(time.from);\n  var interval = toMS(time.interval);\n  var bucketCount = span / interval;\n  var maxBuckets = tlConfig.settings['timelion:max_buckets'];\n  if (bucketCount > maxBuckets) {\n    throw new Error('Max buckets exceeded: ' + Math.round(bucketCount) + ' of ' + maxBuckets + ' allowed. ' + 'Choose a larger interval or a shorter time span');\n  }\n  return true;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi92YWxpZGF0ZV90aW1lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFDeEQsSUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLDhCQUE4QixDQUFDLENBQUM7O0FBRXJELE1BQU0sQ0FBQyxPQUFPLEdBQUcsU0FBUyxZQUFZLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTtBQUNyRCxNQUFNLElBQUksR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3JFLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDckMsTUFBTSxXQUFXLEdBQUcsSUFBSSxHQUFHLFFBQVEsQ0FBQztBQUNwQyxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLHNCQUFzQixDQUFDLENBQUM7QUFDN0QsTUFBSSxXQUFXLEdBQUcsVUFBVSxFQUFFO0FBQzVCLFVBQU0sSUFBSSxLQUFLLENBQUMsd0JBQXdCLEdBQ3RDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsTUFBTSxHQUFHLFVBQVUsR0FBRyxZQUFZLEdBQzVELGlEQUFpRCxDQUFDLENBQUM7R0FDdEQ7QUFDRCxTQUFPLElBQUksQ0FBQztDQUNiLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvaGFuZGxlcnMvbGliL3ZhbGlkYXRlX3RpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwYXJzZURhdGVNYXRoID0gcmVxdWlyZSgnLi4vLi4vbGliL2RhdGVfbWF0aC5qcycpO1xuY29uc3QgdG9NUyA9IHJlcXVpcmUoJy4uLy4uL2xpYi90b19taWxsaXNlY29uZHMuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB2YWxpZGF0ZVRpbWUodGltZSwgdGxDb25maWcpIHtcbiAgY29uc3Qgc3BhbiA9IHBhcnNlRGF0ZU1hdGgodGltZS50bywgdHJ1ZSkgLSBwYXJzZURhdGVNYXRoKHRpbWUuZnJvbSk7XG4gIGNvbnN0IGludGVydmFsID0gdG9NUyh0aW1lLmludGVydmFsKTtcbiAgY29uc3QgYnVja2V0Q291bnQgPSBzcGFuIC8gaW50ZXJ2YWw7XG4gIGNvbnN0IG1heEJ1Y2tldHMgPSB0bENvbmZpZy5zZXR0aW5nc1sndGltZWxpb246bWF4X2J1Y2tldHMnXTtcbiAgaWYgKGJ1Y2tldENvdW50ID4gbWF4QnVja2V0cykge1xuICAgIHRocm93IG5ldyBFcnJvcignTWF4IGJ1Y2tldHMgZXhjZWVkZWQ6ICcgK1xuICAgICAgTWF0aC5yb3VuZChidWNrZXRDb3VudCkgKyAnIG9mICcgKyBtYXhCdWNrZXRzICsgJyBhbGxvd2VkLiAnICtcbiAgICAgICdDaG9vc2UgYSBsYXJnZXIgaW50ZXJ2YWwgb3IgYSBzaG9ydGVyIHRpbWUgc3BhbicpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/validate_time.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,aAAa,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC;AACxD,IAAM,IAAI,GAAG,OAAO,CAAC,8BAA8B,CAAC,CAAC;;AAErD,MAAM,CAAC,OAAO,GAAG,SAAS,YAAY,CAAC,IAAI,EAAE,QAAQ,EAAE;AACrD,MAAM,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACrE,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACrC,MAAM,WAAW,GAAG,IAAI,GAAG,QAAQ,CAAC;AACpC,MAAM,UAAU,GAAG,QAAQ,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC;AAC7D,MAAI,WAAW,GAAG,UAAU,EAAE;AAC5B,UAAM,IAAI,KAAK,CAAC,wBAAwB,GACtC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,MAAM,GAAG,UAAU,GAAG,YAAY,GAC5D,iDAAiD,CAAC,CAAC;GACtD;AACD,SAAO,IAAI,CAAC;CACb,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/validate_time.js",
      "sourcesContent": [
        "const parseDateMath = require('../../lib/date_math.js');\nconst toMS = require('../../lib/to_milliseconds.js');\n\nmodule.exports = function validateTime(time, tlConfig) {\n  const span = parseDateMath(time.to, true) - parseDateMath(time.from);\n  const interval = toMS(time.interval);\n  const bucketCount = span / interval;\n  const maxBuckets = tlConfig.settings['timelion:max_buckets'];\n  if (bucketCount > maxBuckets) {\n    throw new Error('Max buckets exceeded: ' +\n      Math.round(bucketCount) + ' of ' + maxBuckets + ' allowed. ' +\n      'Choose a larger interval or a shorter time span');\n  }\n  return true;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/to_milliseconds.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar moment = require('moment');\n\n// map of moment's short/long unit ids and elasticsearch's long unit ids\n// to their value in milliseconds\nvar vals = _.transform([['ms', 'milliseconds', 'millisecond'], ['s', 'seconds', 'second', 'sec'], ['m', 'minutes', 'minute', 'min'], ['h', 'hours', 'hour'], ['d', 'days', 'day'], ['w', 'weeks', 'week'], ['M', 'months', 'month'], ['quarter'], ['y', 'years', 'year']], function (vals, units) {\n  var normal = moment.normalizeUnits(units[0]);\n  var val = moment.duration(1, normal).asMilliseconds();\n  [].concat(normal, units).forEach(function (unit) {\n    vals[unit] = val;\n  });\n}, {});\n// match any key from the vals object prececed by an optional number\nvar parseRE = new RegExp('^(\\\\d+(?:\\\\.\\\\d*)?)?\\\\s*(' + _.keys(vals).join('|') + ')$');\n\nmodule.exports = function (expr) {\n  var match = expr.match(parseRE);\n  if (match) {\n    if (match[2] === 'M' && match[1] !== '1') {\n      throw new Error('Invalid interval. 1M is only valid monthly interval.');\n    }\n\n    return parseFloat(match[1] || 1) * vals[match[2]];\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi90b19taWxsaXNlY29uZHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsSUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOzs7O0FBSWpDLElBQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FDdkIsQ0FBQyxJQUFJLEVBQUUsY0FBYyxFQUFFLGFBQWEsQ0FBQyxFQUNyQyxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxFQUNqQyxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxFQUNqQyxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLEVBQ3RCLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsRUFDcEIsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxFQUN0QixDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLEVBQ3hCLENBQUMsU0FBUyxDQUFDLEVBQ1gsQ0FBQyxHQUFHLEVBQUcsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUN4QixFQUFFLFVBQVUsSUFBSSxFQUFFLEtBQUssRUFBRTtBQUN4QixNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQy9DLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ3hELElBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksRUFBRTtBQUMvQyxRQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDO0dBQ2xCLENBQUMsQ0FBQztDQUNKLEVBQUUsRUFBRSxDQUFDLENBQUM7O0FBRVAsSUFBTSxPQUFPLEdBQUcsSUFBSSxNQUFNLENBQUMsMkJBQTJCLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7O0FBRXhGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxJQUFJLEVBQUU7QUFDL0IsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNsQyxNQUFJLEtBQUssRUFBRTtBQUNULFFBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO0FBQ3hDLFlBQU0sSUFBSSxLQUFLLENBQUUsc0RBQXNELENBQUMsQ0FBQztLQUMxRTs7QUFFRCxXQUFPLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0dBQ25EO0NBQ0YsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9saWIvdG9fbWlsbGlzZWNvbmRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbi8vIG1hcCBvZiBtb21lbnQncyBzaG9ydC9sb25nIHVuaXQgaWRzIGFuZCBlbGFzdGljc2VhcmNoJ3MgbG9uZyB1bml0IGlkc1xuLy8gdG8gdGhlaXIgdmFsdWUgaW4gbWlsbGlzZWNvbmRzXG5jb25zdCB2YWxzID0gXy50cmFuc2Zvcm0oW1xuICBbJ21zJywgJ21pbGxpc2Vjb25kcycsICdtaWxsaXNlY29uZCddLFxuICBbJ3MnLCAnc2Vjb25kcycsICdzZWNvbmQnLCAnc2VjJ10sXG4gIFsnbScsICdtaW51dGVzJywgJ21pbnV0ZScsICdtaW4nXSxcbiAgWydoJywgJ2hvdXJzJywgJ2hvdXInXSxcbiAgWydkJywgJ2RheXMnLCAnZGF5J10sXG4gIFsndycsICd3ZWVrcycsICd3ZWVrJ10sXG4gIFsnTScsICdtb250aHMnLCAnbW9udGgnXSxcbiAgWydxdWFydGVyJ10sXG4gIFsneScsICAneWVhcnMnLCAneWVhciddXG5dLCBmdW5jdGlvbiAodmFscywgdW5pdHMpIHtcbiAgY29uc3Qgbm9ybWFsID0gbW9tZW50Lm5vcm1hbGl6ZVVuaXRzKHVuaXRzWzBdKTtcbiAgY29uc3QgdmFsID0gbW9tZW50LmR1cmF0aW9uKDEsIG5vcm1hbCkuYXNNaWxsaXNlY29uZHMoKTtcbiAgW10uY29uY2F0KG5vcm1hbCwgdW5pdHMpLmZvckVhY2goZnVuY3Rpb24gKHVuaXQpIHtcbiAgICB2YWxzW3VuaXRdID0gdmFsO1xuICB9KTtcbn0sIHt9KTtcbi8vIG1hdGNoIGFueSBrZXkgZnJvbSB0aGUgdmFscyBvYmplY3QgcHJlY2VjZWQgYnkgYW4gb3B0aW9uYWwgbnVtYmVyXG5jb25zdCBwYXJzZVJFID0gbmV3IFJlZ0V4cCgnXihcXFxcZCsoPzpcXFxcLlxcXFxkKik/KT9cXFxccyooJyArIF8ua2V5cyh2YWxzKS5qb2luKCd8JykgKyAnKSQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhwcikge1xuICBjb25zdCBtYXRjaCA9IGV4cHIubWF0Y2gocGFyc2VSRSk7XG4gIGlmIChtYXRjaCkge1xuICAgIGlmIChtYXRjaFsyXSA9PT0gJ00nICYmIG1hdGNoWzFdICE9PSAnMScpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvciAoJ0ludmFsaWQgaW50ZXJ2YWwuIDFNIGlzIG9ubHkgdmFsaWQgbW9udGhseSBpbnRlcnZhbC4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VGbG9hdChtYXRjaFsxXSB8fCAxKSAqIHZhbHNbbWF0Y2hbMl1dO1xuICB9XG59OyJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/to_milliseconds.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;;AAIjC,IAAM,IAAI,GAAG,CAAC,CAAC,SAAS,CAAC,CACvB,CAAC,IAAI,EAAE,cAAc,EAAE,aAAa,CAAC,EACrC,CAAC,GAAG,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,EACjC,CAAC,GAAG,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,EACjC,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,EACtB,CAAC,GAAG,EAAE,MAAM,EAAE,KAAK,CAAC,EACpB,CAAC,GAAG,EAAE,OAAO,EAAE,MAAM,CAAC,EACtB,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,CAAC,EACxB,CAAC,SAAS,CAAC,EACX,CAAC,GAAG,EAAG,OAAO,EAAE,MAAM,CAAC,CACxB,EAAE,UAAU,IAAI,EAAE,KAAK,EAAE;AACxB,MAAM,MAAM,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/C,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,cAAc,EAAE,CAAC;AACxD,IAAE,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;AAC/C,QAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;GAClB,CAAC,CAAC;CACJ,EAAE,EAAE,CAAC,CAAC;;AAEP,IAAM,OAAO,GAAG,IAAI,MAAM,CAAC,2BAA2B,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;;AAExF,MAAM,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE;AAC/B,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AAClC,MAAI,KAAK,EAAE;AACT,QAAI,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;AACxC,YAAM,IAAI,KAAK,CAAE,sDAAsD,CAAC,CAAC;KAC1E;;AAED,WAAO,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;GACnD;CACF,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/to_milliseconds.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst moment = require('moment');\n\n// map of moment's short/long unit ids and elasticsearch's long unit ids\n// to their value in milliseconds\nconst vals = _.transform([\n  ['ms', 'milliseconds', 'millisecond'],\n  ['s', 'seconds', 'second', 'sec'],\n  ['m', 'minutes', 'minute', 'min'],\n  ['h', 'hours', 'hour'],\n  ['d', 'days', 'day'],\n  ['w', 'weeks', 'week'],\n  ['M', 'months', 'month'],\n  ['quarter'],\n  ['y',  'years', 'year']\n], function (vals, units) {\n  const normal = moment.normalizeUnits(units[0]);\n  const val = moment.duration(1, normal).asMilliseconds();\n  [].concat(normal, units).forEach(function (unit) {\n    vals[unit] = val;\n  });\n}, {});\n// match any key from the vals object prececed by an optional number\nconst parseRE = new RegExp('^(\\\\d+(?:\\\\.\\\\d*)?)?\\\\s*(' + _.keys(vals).join('|') + ')$');\n\nmodule.exports = function (expr) {\n  const match = expr.match(parseRE);\n  if (match) {\n    if (match[2] === 'M' && match[1] !== '1') {\n      throw new Error ('Invalid interval. 1M is only valid monthly interval.');\n    }\n\n    return parseFloat(match[1] || 1) * vals[match[2]];\n  }\n};"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/load_functions.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar glob = require('glob');\nvar path = require('path');\nvar processFunctionDefinition = require('./process_function_definition');\n\nmodule.exports = function (directory) {\n\n  function getTuple(directory, name) {\n    var func = require('../' + directory + '/' + name);\n    return [name, require('../' + directory + '/' + name)];\n  }\n\n  // Get a list of all files and use the filename as the object key\n  var files = _.map(glob.sync(path.resolve(__dirname, '../' + directory + '/*.js')), function (file) {\n    var name = file.substring(file.lastIndexOf('/') + 1, file.lastIndexOf('.'));\n    return getTuple(directory, name);\n  });\n\n  // Get a list of all directories with an index.js, use the directory name as the key in the object\n  var directories = _.chain(glob.sync(path.resolve(__dirname, '../' + directory + '/*/index.js'))).filter(function (file) {\n    return file.match(/__test__/) == null;\n  }).map(function (file) {\n    var parts = file.split('/');\n    var name = parts[parts.length - 2];\n    return getTuple(directory, parts[parts.length - 2]);\n  }).value();\n\n  var functions = _.zipObject(files.concat(directories));\n\n  _.each(functions, function (func) {\n    _.assign(functions, processFunctionDefinition(func));\n  });\n\n  return functions;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9sb2FkX2Z1bmN0aW9ucy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDN0IsSUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzdCLElBQU0seUJBQXlCLEdBQUcsT0FBTyxDQUFDLCtCQUErQixDQUFDLENBQUM7O0FBRTNFLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxTQUFTLEVBQUU7O0FBRXBDLFdBQVMsUUFBUSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUU7QUFDakMsUUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEtBQUssR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQ3JELFdBQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLEtBQUssR0FBRyxTQUFTLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7R0FDeEQ7OztBQUdELE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxLQUFLLEdBQUcsU0FBUyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEVBQUUsVUFBVSxJQUFJLEVBQUU7QUFDbkcsUUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDOUUsV0FBTyxRQUFRLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0dBQ2xDLENBQUMsQ0FBQzs7O0FBR0gsTUFBTSxXQUFXLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLEtBQUssR0FBRyxTQUFTLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUNqRyxNQUFNLENBQUMsVUFBVSxJQUFJLEVBQUU7QUFDdEIsV0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLElBQUksQ0FBQztHQUN2QyxDQUFDLENBQ0QsR0FBRyxDQUFDLFVBQVUsSUFBSSxFQUFFO0FBQ25CLFFBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDOUIsUUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDckMsV0FBTyxRQUFRLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FDckQsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDOztBQUVYLE1BQU0sU0FBUyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDOztBQUV6RCxHQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxVQUFVLElBQUksRUFBRTtBQUNoQyxLQUFDLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0dBQ3RELENBQUMsQ0FBQzs7QUFFSCxTQUFPLFNBQVMsQ0FBQztDQUNsQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9sb2FkX2Z1bmN0aW9ucy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGdsb2IgPSByZXF1aXJlKCdnbG9iJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgcHJvY2Vzc0Z1bmN0aW9uRGVmaW5pdGlvbiA9IHJlcXVpcmUoJy4vcHJvY2Vzc19mdW5jdGlvbl9kZWZpbml0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRpcmVjdG9yeSkge1xuXG4gIGZ1bmN0aW9uIGdldFR1cGxlKGRpcmVjdG9yeSwgbmFtZSkge1xuICAgIGNvbnN0IGZ1bmMgPSByZXF1aXJlKCcuLi8nICsgZGlyZWN0b3J5ICsgJy8nICsgbmFtZSk7XG4gICAgcmV0dXJuIFtuYW1lLCByZXF1aXJlKCcuLi8nICsgZGlyZWN0b3J5ICsgJy8nICsgbmFtZSldO1xuICB9XG5cbiAgLy8gR2V0IGEgbGlzdCBvZiBhbGwgZmlsZXMgYW5kIHVzZSB0aGUgZmlsZW5hbWUgYXMgdGhlIG9iamVjdCBrZXlcbiAgY29uc3QgZmlsZXMgPSBfLm1hcChnbG9iLnN5bmMocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uLycgKyBkaXJlY3RvcnkgKyAnLyouanMnKSksIGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgY29uc3QgbmFtZSA9IGZpbGUuc3Vic3RyaW5nKGZpbGUubGFzdEluZGV4T2YoJy8nKSArIDEsIGZpbGUubGFzdEluZGV4T2YoJy4nKSk7XG4gICAgcmV0dXJuIGdldFR1cGxlKGRpcmVjdG9yeSwgbmFtZSk7XG4gIH0pO1xuXG4gIC8vIEdldCBhIGxpc3Qgb2YgYWxsIGRpcmVjdG9yaWVzIHdpdGggYW4gaW5kZXguanMsIHVzZSB0aGUgZGlyZWN0b3J5IG5hbWUgYXMgdGhlIGtleSBpbiB0aGUgb2JqZWN0XG4gIGNvbnN0IGRpcmVjdG9yaWVzID0gXy5jaGFpbihnbG9iLnN5bmMocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uLycgKyBkaXJlY3RvcnkgKyAnLyovaW5kZXguanMnKSkpXG4gIC5maWx0ZXIoZnVuY3Rpb24gKGZpbGUpIHtcbiAgICByZXR1cm4gZmlsZS5tYXRjaCgvX190ZXN0X18vKSA9PSBudWxsO1xuICB9KVxuICAubWFwKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgY29uc3QgcGFydHMgPSBmaWxlLnNwbGl0KCcvJyk7XG4gICAgY29uc3QgbmFtZSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDJdO1xuICAgIHJldHVybiBnZXRUdXBsZShkaXJlY3RvcnksIHBhcnRzW3BhcnRzLmxlbmd0aCAtIDJdKTtcbiAgfSkudmFsdWUoKTtcblxuICBjb25zdCBmdW5jdGlvbnMgPSBfLnppcE9iamVjdChmaWxlcy5jb25jYXQoZGlyZWN0b3JpZXMpKTtcblxuICBfLmVhY2goZnVuY3Rpb25zLCBmdW5jdGlvbiAoZnVuYykge1xuICAgIF8uYXNzaWduKGZ1bmN0aW9ucywgcHJvY2Vzc0Z1bmN0aW9uRGVmaW5pdGlvbihmdW5jKSk7XG4gIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbnM7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/load_functions.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,IAAM,yBAAyB,GAAG,OAAO,CAAC,+BAA+B,CAAC,CAAC;;AAE3E,MAAM,CAAC,OAAO,GAAG,UAAU,SAAS,EAAE;;AAEpC,WAAS,QAAQ,CAAC,SAAS,EAAE,IAAI,EAAE;AACjC,QAAM,IAAI,GAAG,OAAO,CAAC,KAAK,GAAG,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;AACrD,WAAO,CAAC,IAAI,EAAE,OAAO,CAAC,KAAK,GAAG,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;GACxD;;;AAGD,MAAM,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,GAAG,SAAS,GAAG,OAAO,CAAC,CAAC,EAAE,UAAU,IAAI,EAAE;AACnG,QAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;AAC9E,WAAO,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;GAClC,CAAC,CAAC;;;AAGH,MAAM,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,GAAG,SAAS,GAAG,aAAa,CAAC,CAAC,CAAC,CACjG,MAAM,CAAC,UAAU,IAAI,EAAE;AACtB,WAAO,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC;GACvC,CAAC,CACD,GAAG,CAAC,UAAU,IAAI,EAAE;AACnB,QAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC9B,QAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACrC,WAAO,QAAQ,CAAC,SAAS,EAAE,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;GACrD,CAAC,CAAC,KAAK,EAAE,CAAC;;AAEX,MAAM,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;;AAEzD,GAAC,CAAC,IAAI,CAAC,SAAS,EAAE,UAAU,IAAI,EAAE;AAChC,KAAC,CAAC,MAAM,CAAC,SAAS,EAAE,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAC;GACtD,CAAC,CAAC;;AAEH,SAAO,SAAS,CAAC;CAClB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/load_functions.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst glob = require('glob');\nconst path = require('path');\nconst processFunctionDefinition = require('./process_function_definition');\n\nmodule.exports = function (directory) {\n\n  function getTuple(directory, name) {\n    const func = require('../' + directory + '/' + name);\n    return [name, require('../' + directory + '/' + name)];\n  }\n\n  // Get a list of all files and use the filename as the object key\n  const files = _.map(glob.sync(path.resolve(__dirname, '../' + directory + '/*.js')), function (file) {\n    const name = file.substring(file.lastIndexOf('/') + 1, file.lastIndexOf('.'));\n    return getTuple(directory, name);\n  });\n\n  // Get a list of all directories with an index.js, use the directory name as the key in the object\n  const directories = _.chain(glob.sync(path.resolve(__dirname, '../' + directory + '/*/index.js')))\n  .filter(function (file) {\n    return file.match(/__test__/) == null;\n  })\n  .map(function (file) {\n    const parts = file.split('/');\n    const name = parts[parts.length - 2];\n    return getTuple(directory, parts[parts.length - 2]);\n  }).value();\n\n  const functions = _.zipObject(files.concat(directories));\n\n  _.each(functions, function (func) {\n    _.assign(functions, processFunctionDefinition(func));\n  });\n\n  return functions;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/average.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\n// Upsampling and down sampling of non-cummulative sets\n// Good: min, max, average\n// Bad: sum, count\n\nmodule.exports = function (dataTuples, targetTuples) {\n\n  // Phase 1: Downsample\n  // We nessecarily won't well match the dataSource here as we don't know how much data\n  // they had when creating their own average\n  var resultTimes = _.pluck(targetTuples, 0);\n  var dataTuplesQueue = _.clone(dataTuples);\n  var resultValues = _.map(targetTuples, function (bucket) {\n    var time = bucket[0];\n    var i = 0;\n    var avgSet = [];\n\n    // This is naive, it doesn't consider where the line is going next,\n    // It simply writes the point and moves on once it hits <= time.\n    // Thus this algorithm will tend to lag the trend.\n    // Deal with it, or write something better.\n    while (i < dataTuplesQueue.length && dataTuplesQueue[i][0] <= time) {\n      avgSet.push(dataTuplesQueue[i][1]);\n      i++;\n    }\n\n    dataTuplesQueue.splice(0, i);\n\n    var sum = _.reduce(avgSet, function (sum, num) {\n      return sum + num;\n    }, 0);\n\n    return avgSet.length ? sum / avgSet.length : NaN;\n  });\n\n  // Phase 2: Upsample if needed\n  // If we have any NaNs we are probably resampling from a big interval to a small one (eg, 1M as 1d)\n  // So look for the missing stuff in the array, and smooth it out\n  var naNIndex = _.findIndex(resultValues, function (val) {\n    return isNaN(val);\n  });\n\n  if (naNIndex > -1) {\n    var i = 0;\n    var naNCount = 0;\n    var filledValues = [];\n    var previousRealNumber = undefined;\n    var stepSize = undefined;\n    while (i < resultValues.length) {\n      if (isNaN(resultValues[i])) {\n        if (i === 0) {\n          // If our first number is NaN, intialize from dataTuples;\n          previousRealNumber = dataTuples[0][1];\n        }\n        naNCount++;\n      } else {\n        // Otherwise, backfill the NaNs with averaged out data\n        if (naNCount > 0) {\n          stepSize = (resultValues[i] - previousRealNumber) / (naNCount + 1);\n          while (naNCount > 0) {\n            resultValues[i - naNCount] = previousRealNumber + stepSize;\n            previousRealNumber = resultValues[i - naNCount];\n            naNCount--;\n          }\n        }\n        previousRealNumber = resultValues[i];\n        filledValues.push(resultValues[i]);\n      }\n      i++;\n    }\n  }\n\n  var resultTuples = _.zip(resultTimes, resultValues);\n  return resultTuples;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2ZpdF9mdW5jdGlvbnMvYXZlcmFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7Ozs7O0FBTTVCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxVQUFVLEVBQUUsWUFBWSxFQUFFOzs7OztBQUtuRCxNQUFNLFdBQVcsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQztBQUM3QyxNQUFNLGVBQWUsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQzVDLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLFVBQVUsTUFBTSxFQUFFO0FBQ3pELFFBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2QixRQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDVixRQUFNLE1BQU0sR0FBRyxFQUFFLENBQUM7Ozs7OztBQU1sQixXQUFPLENBQUMsR0FBRyxlQUFlLENBQUMsTUFBTSxJQUFJLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUU7QUFDbEUsWUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuQyxPQUFDLEVBQUUsQ0FBQztLQUNMOztBQUVELG1CQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzs7QUFFN0IsUUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsVUFBVSxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQUUsYUFBTyxHQUFHLEdBQUcsR0FBRyxDQUFDO0tBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQzs7QUFFM0UsV0FBTyxNQUFNLENBQUMsTUFBTSxHQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFJLEdBQUcsQ0FBQztHQUNwRCxDQUFDLENBQUM7Ozs7O0FBS0gsTUFBTSxRQUFRLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsVUFBVSxHQUFHLEVBQUU7QUFDeEQsV0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7R0FDbkIsQ0FBQyxDQUFDOztBQUVILE1BQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxFQUFFO0FBQ2pCLFFBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNWLFFBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztBQUNqQixRQUFNLFlBQVksR0FBRyxFQUFFLENBQUM7QUFDeEIsUUFBSSxrQkFBa0IsWUFBQSxDQUFDO0FBQ3ZCLFFBQUksUUFBUSxZQUFBLENBQUM7QUFDYixXQUFPLENBQUMsR0FBRyxZQUFZLENBQUMsTUFBTSxFQUFFO0FBQzlCLFVBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQzFCLFlBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTs7QUFFWCw0QkFBa0IsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkM7QUFDRCxnQkFBUSxFQUFFLENBQUM7T0FDWixNQUFNOztBQUVMLFlBQUksUUFBUSxHQUFHLENBQUMsRUFBRTtBQUNoQixrQkFBUSxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLGtCQUFrQixDQUFBLElBQUssUUFBUSxHQUFHLENBQUMsQ0FBQSxBQUFDLENBQUM7QUFDbkUsaUJBQU8sUUFBUSxHQUFHLENBQUMsRUFBRTtBQUNuQix3QkFBWSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxrQkFBa0IsR0FBRyxRQUFRLENBQUM7QUFDM0QsOEJBQWtCLEdBQUcsWUFBWSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQztBQUNoRCxvQkFBUSxFQUFFLENBQUM7V0FDWjtTQUNGO0FBQ0QsMEJBQWtCLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JDLG9CQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQ3BDO0FBQ0QsT0FBQyxFQUFFLENBQUM7S0FDTDtHQUVGOztBQUVELE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3RELFNBQU8sWUFBWSxDQUFDO0NBQ3JCLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvZml0X2Z1bmN0aW9ucy9hdmVyYWdlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG4vLyBVcHNhbXBsaW5nIGFuZCBkb3duIHNhbXBsaW5nIG9mIG5vbi1jdW1tdWxhdGl2ZSBzZXRzXG4vLyBHb29kOiBtaW4sIG1heCwgYXZlcmFnZVxuLy8gQmFkOiBzdW0sIGNvdW50XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRhdGFUdXBsZXMsIHRhcmdldFR1cGxlcykge1xuXG4gIC8vIFBoYXNlIDE6IERvd25zYW1wbGVcbiAgLy8gV2UgbmVzc2VjYXJpbHkgd29uJ3Qgd2VsbCBtYXRjaCB0aGUgZGF0YVNvdXJjZSBoZXJlIGFzIHdlIGRvbid0IGtub3cgaG93IG11Y2ggZGF0YVxuICAvLyB0aGV5IGhhZCB3aGVuIGNyZWF0aW5nIHRoZWlyIG93biBhdmVyYWdlXG4gIGNvbnN0IHJlc3VsdFRpbWVzID0gXy5wbHVjayh0YXJnZXRUdXBsZXMsIDApO1xuICBjb25zdCBkYXRhVHVwbGVzUXVldWUgPSBfLmNsb25lKGRhdGFUdXBsZXMpO1xuICBjb25zdCByZXN1bHRWYWx1ZXMgPSBfLm1hcCh0YXJnZXRUdXBsZXMsIGZ1bmN0aW9uIChidWNrZXQpIHtcbiAgICBjb25zdCB0aW1lID0gYnVja2V0WzBdO1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBhdmdTZXQgPSBbXTtcblxuICAgIC8vIFRoaXMgaXMgbmFpdmUsIGl0IGRvZXNuJ3QgY29uc2lkZXIgd2hlcmUgdGhlIGxpbmUgaXMgZ29pbmcgbmV4dCxcbiAgICAvLyBJdCBzaW1wbHkgd3JpdGVzIHRoZSBwb2ludCBhbmQgbW92ZXMgb24gb25jZSBpdCBoaXRzIDw9IHRpbWUuXG4gICAgLy8gVGh1cyB0aGlzIGFsZ29yaXRobSB3aWxsIHRlbmQgdG8gbGFnIHRoZSB0cmVuZC5cbiAgICAvLyBEZWFsIHdpdGggaXQsIG9yIHdyaXRlIHNvbWV0aGluZyBiZXR0ZXIuXG4gICAgd2hpbGUgKGkgPCBkYXRhVHVwbGVzUXVldWUubGVuZ3RoICYmIGRhdGFUdXBsZXNRdWV1ZVtpXVswXSA8PSB0aW1lKSB7XG4gICAgICBhdmdTZXQucHVzaChkYXRhVHVwbGVzUXVldWVbaV1bMV0pO1xuICAgICAgaSsrO1xuICAgIH1cblxuICAgIGRhdGFUdXBsZXNRdWV1ZS5zcGxpY2UoMCwgaSk7XG5cbiAgICBjb25zdCBzdW0gPSBfLnJlZHVjZShhdmdTZXQsIGZ1bmN0aW9uIChzdW0sIG51bSkgeyByZXR1cm4gc3VtICsgbnVtOyB9LCAwKTtcblxuICAgIHJldHVybiBhdmdTZXQubGVuZ3RoID8gKHN1bSAvIGF2Z1NldC5sZW5ndGgpIDogTmFOO1xuICB9KTtcblxuICAvLyBQaGFzZSAyOiBVcHNhbXBsZSBpZiBuZWVkZWRcbiAgLy8gSWYgd2UgaGF2ZSBhbnkgTmFOcyB3ZSBhcmUgcHJvYmFibHkgcmVzYW1wbGluZyBmcm9tIGEgYmlnIGludGVydmFsIHRvIGEgc21hbGwgb25lIChlZywgMU0gYXMgMWQpXG4gIC8vIFNvIGxvb2sgZm9yIHRoZSBtaXNzaW5nIHN0dWZmIGluIHRoZSBhcnJheSwgYW5kIHNtb290aCBpdCBvdXRcbiAgY29uc3QgbmFOSW5kZXggPSBfLmZpbmRJbmRleChyZXN1bHRWYWx1ZXMsIGZ1bmN0aW9uICh2YWwpIHtcbiAgICByZXR1cm4gaXNOYU4odmFsKTtcbiAgfSk7XG5cbiAgaWYgKG5hTkluZGV4ID4gLTEpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IG5hTkNvdW50ID0gMDtcbiAgICBjb25zdCBmaWxsZWRWYWx1ZXMgPSBbXTtcbiAgICBsZXQgcHJldmlvdXNSZWFsTnVtYmVyO1xuICAgIGxldCBzdGVwU2l6ZTtcbiAgICB3aGlsZSAoaSA8IHJlc3VsdFZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIGlmIChpc05hTihyZXN1bHRWYWx1ZXNbaV0pKSB7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgLy8gSWYgb3VyIGZpcnN0IG51bWJlciBpcyBOYU4sIGludGlhbGl6ZSBmcm9tIGRhdGFUdXBsZXM7XG4gICAgICAgICAgcHJldmlvdXNSZWFsTnVtYmVyID0gZGF0YVR1cGxlc1swXVsxXTtcbiAgICAgICAgfVxuICAgICAgICBuYU5Db3VudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBiYWNrZmlsbCB0aGUgTmFOcyB3aXRoIGF2ZXJhZ2VkIG91dCBkYXRhXG4gICAgICAgIGlmIChuYU5Db3VudCA+IDApIHtcbiAgICAgICAgICBzdGVwU2l6ZSA9IChyZXN1bHRWYWx1ZXNbaV0gLSBwcmV2aW91c1JlYWxOdW1iZXIpIC8gKG5hTkNvdW50ICsgMSk7XG4gICAgICAgICAgd2hpbGUgKG5hTkNvdW50ID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0VmFsdWVzW2kgLSBuYU5Db3VudF0gPSBwcmV2aW91c1JlYWxOdW1iZXIgKyBzdGVwU2l6ZTtcbiAgICAgICAgICAgIHByZXZpb3VzUmVhbE51bWJlciA9IHJlc3VsdFZhbHVlc1tpIC0gbmFOQ291bnRdO1xuICAgICAgICAgICAgbmFOQ291bnQtLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNSZWFsTnVtYmVyID0gcmVzdWx0VmFsdWVzW2ldO1xuICAgICAgICBmaWxsZWRWYWx1ZXMucHVzaChyZXN1bHRWYWx1ZXNbaV0pO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cblxuICB9XG5cbiAgY29uc3QgcmVzdWx0VHVwbGVzID0gXy56aXAocmVzdWx0VGltZXMsIHJlc3VsdFZhbHVlcyk7XG4gIHJldHVybiByZXN1bHRUdXBsZXM7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/average.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;;;;AAM5B,MAAM,CAAC,OAAO,GAAG,UAAU,UAAU,EAAE,YAAY,EAAE;;;;;AAKnD,MAAM,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;AAC7C,MAAM,eAAe,GAAG,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AAC5C,MAAM,YAAY,GAAG,CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,MAAM,EAAE;AACzD,QAAM,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AACvB,QAAI,CAAC,GAAG,CAAC,CAAC;AACV,QAAM,MAAM,GAAG,EAAE,CAAC;;;;;;AAMlB,WAAO,CAAC,GAAG,eAAe,CAAC,MAAM,IAAI,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;AAClE,YAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,OAAC,EAAE,CAAC;KACL;;AAED,mBAAe,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;AAE7B,QAAM,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;AAAE,aAAO,GAAG,GAAG,GAAG,CAAC;KAAE,EAAE,CAAC,CAAC,CAAC;;AAE3E,WAAO,MAAM,CAAC,MAAM,GAAI,GAAG,GAAG,MAAM,CAAC,MAAM,GAAI,GAAG,CAAC;GACpD,CAAC,CAAC;;;;;AAKH,MAAM,QAAQ,GAAG,CAAC,CAAC,SAAS,CAAC,YAAY,EAAE,UAAU,GAAG,EAAE;AACxD,WAAO,KAAK,CAAC,GAAG,CAAC,CAAC;GACnB,CAAC,CAAC;;AAEH,MAAI,QAAQ,GAAG,CAAC,CAAC,EAAE;AACjB,QAAI,CAAC,GAAG,CAAC,CAAC;AACV,QAAI,QAAQ,GAAG,CAAC,CAAC;AACjB,QAAM,YAAY,GAAG,EAAE,CAAC;AACxB,QAAI,kBAAkB,YAAA,CAAC;AACvB,QAAI,QAAQ,YAAA,CAAC;AACb,WAAO,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE;AAC9B,UAAI,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE;AAC1B,YAAI,CAAC,KAAK,CAAC,EAAE;;AAEX,4BAAkB,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACvC;AACD,gBAAQ,EAAE,CAAC;OACZ,MAAM;;AAEL,YAAI,QAAQ,GAAG,CAAC,EAAE;AAChB,kBAAQ,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,kBAAkB,CAAA,IAAK,QAAQ,GAAG,CAAC,CAAA,AAAC,CAAC;AACnE,iBAAO,QAAQ,GAAG,CAAC,EAAE;AACnB,wBAAY,CAAC,CAAC,GAAG,QAAQ,CAAC,GAAG,kBAAkB,GAAG,QAAQ,CAAC;AAC3D,8BAAkB,GAAG,YAAY,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC;AAChD,oBAAQ,EAAE,CAAC;WACZ;SACF;AACD,0BAAkB,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;AACrC,oBAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;OACpC;AACD,OAAC,EAAE,CAAC;KACL;GAEF;;AAED,MAAM,YAAY,GAAG,CAAC,CAAC,GAAG,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;AACtD,SAAO,YAAY,CAAC;CACrB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/average.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\n// Upsampling and down sampling of non-cummulative sets\n// Good: min, max, average\n// Bad: sum, count\n\nmodule.exports = function (dataTuples, targetTuples) {\n\n  // Phase 1: Downsample\n  // We nessecarily won't well match the dataSource here as we don't know how much data\n  // they had when creating their own average\n  const resultTimes = _.pluck(targetTuples, 0);\n  const dataTuplesQueue = _.clone(dataTuples);\n  const resultValues = _.map(targetTuples, function (bucket) {\n    const time = bucket[0];\n    let i = 0;\n    const avgSet = [];\n\n    // This is naive, it doesn't consider where the line is going next,\n    // It simply writes the point and moves on once it hits <= time.\n    // Thus this algorithm will tend to lag the trend.\n    // Deal with it, or write something better.\n    while (i < dataTuplesQueue.length && dataTuplesQueue[i][0] <= time) {\n      avgSet.push(dataTuplesQueue[i][1]);\n      i++;\n    }\n\n    dataTuplesQueue.splice(0, i);\n\n    const sum = _.reduce(avgSet, function (sum, num) { return sum + num; }, 0);\n\n    return avgSet.length ? (sum / avgSet.length) : NaN;\n  });\n\n  // Phase 2: Upsample if needed\n  // If we have any NaNs we are probably resampling from a big interval to a small one (eg, 1M as 1d)\n  // So look for the missing stuff in the array, and smooth it out\n  const naNIndex = _.findIndex(resultValues, function (val) {\n    return isNaN(val);\n  });\n\n  if (naNIndex > -1) {\n    let i = 0;\n    let naNCount = 0;\n    const filledValues = [];\n    let previousRealNumber;\n    let stepSize;\n    while (i < resultValues.length) {\n      if (isNaN(resultValues[i])) {\n        if (i === 0) {\n          // If our first number is NaN, intialize from dataTuples;\n          previousRealNumber = dataTuples[0][1];\n        }\n        naNCount++;\n      } else {\n        // Otherwise, backfill the NaNs with averaged out data\n        if (naNCount > 0) {\n          stepSize = (resultValues[i] - previousRealNumber) / (naNCount + 1);\n          while (naNCount > 0) {\n            resultValues[i - naNCount] = previousRealNumber + stepSize;\n            previousRealNumber = resultValues[i - naNCount];\n            naNCount--;\n          }\n        }\n        previousRealNumber = resultValues[i];\n        filledValues.push(resultValues[i]);\n      }\n      i++;\n    }\n\n  }\n\n  const resultTuples = _.zip(resultTimes, resultValues);\n  return resultTuples;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/carry.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar moment = require('moment');\n\n// Upsampling of non-cummulative sets\n// Good: average, min, max\n// Bad: sum, count\n\n// Don't use this to down sample, it simply won't do the right thing.\nmodule.exports = function (dataTuples, targetTuples) {\n\n  if (dataTuples.length > targetTuples.length) {\n    throw new Error('Don\\'t use the \\'carry\\' fit method to down sample, use \\'scale\\' or \\'average\\'');\n  }\n\n  var currentCarry = dataTuples[0][1];\n  return _.map(targetTuples, function (bucket, h) {\n    var targetTime = bucket[0];\n    var dataTime = dataTuples[0][0];\n\n    if (dataTuples[0] && targetTime >= dataTime) {\n      currentCarry = dataTuples[0][1];\n      if (dataTuples.length > 1) {\n        dataTuples.shift();\n      }\n    }\n\n    return [bucket[0], currentCarry];\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2ZpdF9mdW5jdGlvbnMvY2FycnkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsSUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOzs7Ozs7O0FBT2pDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxVQUFVLEVBQUUsWUFBWSxFQUFFOztBQUVuRCxNQUFJLFVBQVUsQ0FBQyxNQUFNLEdBQUcsWUFBWSxDQUFDLE1BQU0sRUFBRTtBQUMzQyxVQUFNLElBQUksS0FBSyxvRkFBOEUsQ0FBQztHQUMvRjs7QUFFRCxNQUFJLFlBQVksR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEMsU0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxVQUFVLE1BQU0sRUFBRSxDQUFDLEVBQUU7QUFDOUMsUUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdCLFFBQU0sUUFBUSxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFbEMsUUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksVUFBVSxJQUFJLFFBQVEsRUFBRTtBQUMzQyxrQkFBWSxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNoQyxVQUFJLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQUUsa0JBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztPQUFFO0tBQ25EOztBQUVELFdBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7R0FDbEMsQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9maXRfZnVuY3Rpb25zL2NhcnJ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbi8vIFVwc2FtcGxpbmcgb2Ygbm9uLWN1bW11bGF0aXZlIHNldHNcbi8vIEdvb2Q6IGF2ZXJhZ2UsIG1pbiwgbWF4XG4vLyBCYWQ6IHN1bSwgY291bnRcblxuLy8gRG9uJ3QgdXNlIHRoaXMgdG8gZG93biBzYW1wbGUsIGl0IHNpbXBseSB3b24ndCBkbyB0aGUgcmlnaHQgdGhpbmcuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkYXRhVHVwbGVzLCB0YXJnZXRUdXBsZXMpIHtcblxuICBpZiAoZGF0YVR1cGxlcy5sZW5ndGggPiB0YXJnZXRUdXBsZXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yIChgRG9uJ3QgdXNlIHRoZSAnY2FycnknIGZpdCBtZXRob2QgdG8gZG93biBzYW1wbGUsIHVzZSAnc2NhbGUnIG9yICdhdmVyYWdlJ2ApO1xuICB9XG5cbiAgbGV0IGN1cnJlbnRDYXJyeSA9IGRhdGFUdXBsZXNbMF1bMV07XG4gIHJldHVybiBfLm1hcCh0YXJnZXRUdXBsZXMsIGZ1bmN0aW9uIChidWNrZXQsIGgpIHtcbiAgICBjb25zdCB0YXJnZXRUaW1lID0gYnVja2V0WzBdO1xuICAgIGNvbnN0IGRhdGFUaW1lID0gZGF0YVR1cGxlc1swXVswXTtcblxuICAgIGlmIChkYXRhVHVwbGVzWzBdICYmIHRhcmdldFRpbWUgPj0gZGF0YVRpbWUpIHtcbiAgICAgIGN1cnJlbnRDYXJyeSA9IGRhdGFUdXBsZXNbMF1bMV07XG4gICAgICBpZiAoZGF0YVR1cGxlcy5sZW5ndGggPiAxKSB7IGRhdGFUdXBsZXMuc2hpZnQoKTsgfVxuICAgIH1cblxuICAgIHJldHVybiBbYnVja2V0WzBdLCBjdXJyZW50Q2FycnldO1xuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/carry.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;;;;;AAOjC,MAAM,CAAC,OAAO,GAAG,UAAU,UAAU,EAAE,YAAY,EAAE;;AAEnD,MAAI,UAAU,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,EAAE;AAC3C,UAAM,IAAI,KAAK,oFAA8E,CAAC;GAC/F;;AAED,MAAI,YAAY,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpC,SAAO,CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,MAAM,EAAE,CAAC,EAAE;AAC9C,QAAM,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AAC7B,QAAM,QAAQ,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAElC,QAAI,UAAU,CAAC,CAAC,CAAC,IAAI,UAAU,IAAI,QAAQ,EAAE;AAC3C,kBAAY,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChC,UAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;AAAE,kBAAU,CAAC,KAAK,EAAE,CAAC;OAAE;KACnD;;AAED,WAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;GAClC,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/carry.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst moment = require('moment');\n\n// Upsampling of non-cummulative sets\n// Good: average, min, max\n// Bad: sum, count\n\n// Don't use this to down sample, it simply won't do the right thing.\nmodule.exports = function (dataTuples, targetTuples) {\n\n  if (dataTuples.length > targetTuples.length) {\n    throw new Error (`Don't use the 'carry' fit method to down sample, use 'scale' or 'average'`);\n  }\n\n  let currentCarry = dataTuples[0][1];\n  return _.map(targetTuples, function (bucket, h) {\n    const targetTime = bucket[0];\n    const dataTime = dataTuples[0][0];\n\n    if (dataTuples[0] && targetTime >= dataTime) {\n      currentCarry = dataTuples[0][1];\n      if (dataTuples.length > 1) { dataTuples.shift(); }\n    }\n\n    return [bucket[0], currentCarry];\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/nearest.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar moment = require('moment');\n\n// Upsampling and downsampling of non-cummulative sets\n// Good: average, min, max\n// Bad: sum, count\nmodule.exports = function (dataTuples, targetTuples) {\n  return _.map(targetTuples, function (bucket, h) {\n    var time = bucket[0];\n    var i = 0;\n    while (i < dataTuples.length - 1 && (Math.abs(dataTuples[i + 1][0] - time) < Math.abs(dataTuples[i][0] - time) ||\n    // TODO: Certain offset= args can cause buckets with duplicate times, eg, offset=-1M\n    // check for that, and only use the last of the duplicates. The reason this happens?\n    // What is 1M before Mar 30th? What about 1M before Mar 31st? Both are the last day\n    // in Feb. Something has to be chucked. If offsetting by M user might want to use\n    // fit=average\n    Math.abs(dataTuples[i + 1][0] - time) === Math.abs(dataTuples[i][0] - time))) {\n      i++;\n    }\n\n    var closest = dataTuples[i];\n    dataTuples.splice(0, i);\n\n    return [bucket[0], closest[1]];\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2ZpdF9mdW5jdGlvbnMvbmVhcmVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7Ozs7O0FBS2pDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxVQUFVLEVBQUUsWUFBWSxFQUFFO0FBQ25ELFNBQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsVUFBVSxNQUFNLEVBQUUsQ0FBQyxFQUFFO0FBQzlDLFFBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2QixRQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDVixXQUFPLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsS0FDN0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7Ozs7O0FBTXpFLFFBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQSxBQUFDLEVBQzdFO0FBQ0EsT0FBQyxFQUFFLENBQUM7S0FDTDs7QUFFRCxRQUFNLE9BQU8sR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDOUIsY0FBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7O0FBRXhCLFdBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FDaEMsQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9maXRfZnVuY3Rpb25zL25lYXJlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5jb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxuLy8gVXBzYW1wbGluZyBhbmQgZG93bnNhbXBsaW5nIG9mIG5vbi1jdW1tdWxhdGl2ZSBzZXRzXG4vLyBHb29kOiBhdmVyYWdlLCBtaW4sIG1heFxuLy8gQmFkOiBzdW0sIGNvdW50XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkYXRhVHVwbGVzLCB0YXJnZXRUdXBsZXMpIHtcbiAgcmV0dXJuIF8ubWFwKHRhcmdldFR1cGxlcywgZnVuY3Rpb24gKGJ1Y2tldCwgaCkge1xuICAgIGNvbnN0IHRpbWUgPSBidWNrZXRbMF07XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgZGF0YVR1cGxlcy5sZW5ndGggLSAxICYmXG4gICAgICAoTWF0aC5hYnMoZGF0YVR1cGxlc1tpICsgMV1bMF0gLSB0aW1lKSA8IE1hdGguYWJzKGRhdGFUdXBsZXNbaV1bMF0gLSB0aW1lKSB8fFxuICAgICAgIC8vIFRPRE86IENlcnRhaW4gb2Zmc2V0PSBhcmdzIGNhbiBjYXVzZSBidWNrZXRzIHdpdGggZHVwbGljYXRlIHRpbWVzLCBlZywgb2Zmc2V0PS0xTVxuICAgICAgIC8vIGNoZWNrIGZvciB0aGF0LCBhbmQgb25seSB1c2UgdGhlIGxhc3Qgb2YgdGhlIGR1cGxpY2F0ZXMuIFRoZSByZWFzb24gdGhpcyBoYXBwZW5zP1xuICAgICAgIC8vIFdoYXQgaXMgMU0gYmVmb3JlIE1hciAzMHRoPyBXaGF0IGFib3V0IDFNIGJlZm9yZSBNYXIgMzFzdD8gQm90aCBhcmUgdGhlIGxhc3QgZGF5XG4gICAgICAgLy8gaW4gRmViLiBTb21ldGhpbmcgaGFzIHRvIGJlIGNodWNrZWQuIElmIG9mZnNldHRpbmcgYnkgTSB1c2VyIG1pZ2h0IHdhbnQgdG8gdXNlXG4gICAgICAgLy8gZml0PWF2ZXJhZ2VcbiAgICAgICBNYXRoLmFicyhkYXRhVHVwbGVzW2kgKyAxXVswXSAtIHRpbWUpID09PSBNYXRoLmFicyhkYXRhVHVwbGVzW2ldWzBdIC0gdGltZSkpXG4gICAgKSB7XG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgY29uc3QgY2xvc2VzdCA9IGRhdGFUdXBsZXNbaV07XG4gICAgZGF0YVR1cGxlcy5zcGxpY2UoMCwgaSk7XG5cbiAgICByZXR1cm4gW2J1Y2tldFswXSwgY2xvc2VzdFsxXV07XG4gIH0pO1xufTsiXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/nearest.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;;;AAKjC,MAAM,CAAC,OAAO,GAAG,UAAU,UAAU,EAAE,YAAY,EAAE;AACnD,SAAO,CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,MAAM,EAAE,CAAC,EAAE;AAC9C,QAAM,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AACvB,QAAI,CAAC,GAAG,CAAC,CAAC;AACV,WAAO,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,KAC7B,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;;;;;;AAMzE,QAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAA,AAAC,EAC7E;AACA,OAAC,EAAE,CAAC;KACL;;AAED,QAAM,OAAO,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;AAC9B,cAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;AAExB,WAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;GAChC,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/nearest.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst moment = require('moment');\n\n// Upsampling and downsampling of non-cummulative sets\n// Good: average, min, max\n// Bad: sum, count\nmodule.exports = function (dataTuples, targetTuples) {\n  return _.map(targetTuples, function (bucket, h) {\n    const time = bucket[0];\n    let i = 0;\n    while (i < dataTuples.length - 1 &&\n      (Math.abs(dataTuples[i + 1][0] - time) < Math.abs(dataTuples[i][0] - time) ||\n       // TODO: Certain offset= args can cause buckets with duplicate times, eg, offset=-1M\n       // check for that, and only use the last of the duplicates. The reason this happens?\n       // What is 1M before Mar 30th? What about 1M before Mar 31st? Both are the last day\n       // in Feb. Something has to be chucked. If offsetting by M user might want to use\n       // fit=average\n       Math.abs(dataTuples[i + 1][0] - time) === Math.abs(dataTuples[i][0] - time))\n    ) {\n      i++;\n    }\n\n    const closest = dataTuples[i];\n    dataTuples.splice(0, i);\n\n    return [bucket[0], closest[1]];\n  });\n};"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/none.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\n// **DON'T USE THIS**\n// Performing joins/math with other sets that don't match perfectly will be wrong\n// Does not resample at all.\n\"use strict\";\n\nmodule.exports = function (dataTuples) {\n  return dataTuples;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2ZpdF9mdW5jdGlvbnMvbm9uZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFJQSxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsVUFBVSxFQUFFO0FBQ3JDLFNBQU8sVUFBVSxDQUFDO0NBQ25CLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvZml0X2Z1bmN0aW9ucy9ub25lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vLyAqKkRPTidUIFVTRSBUSElTKipcbi8vIFBlcmZvcm1pbmcgam9pbnMvbWF0aCB3aXRoIG90aGVyIHNldHMgdGhhdCBkb24ndCBtYXRjaCBwZXJmZWN0bHkgd2lsbCBiZSB3cm9uZ1xuLy8gRG9lcyBub3QgcmVzYW1wbGUgYXQgYWxsLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZGF0YVR1cGxlcykge1xuICByZXR1cm4gZGF0YVR1cGxlcztcbn07Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/none.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAIA,MAAM,CAAC,OAAO,GAAG,UAAU,UAAU,EAAE;AACrC,SAAO,UAAU,CAAC;CACnB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/none.js",
      "sourcesContent": [
        "\n// **DON'T USE THIS**\n// Performing joins/math with other sets that don't match perfectly will be wrong\n// Does not resample at all.\nmodule.exports = function (dataTuples) {\n  return dataTuples;\n};"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/scale.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\n// Downsampling of cummulative metrics\n// Good: count, sum\n// Bad: avg, min, max\n\n// For upsampling cummulative metrics (eg sum from 1M to 1d), could rename this scale.\n// Really only the 0s that screws this up, need to distribute contents of spikes to empty buckets\n// Empty is currently 0, which is not right\n\nfunction sum(set) {\n  return _.reduce(set, function (sum, num) {\n    return sum + num;\n  }, 0);\n}\n\nmodule.exports = function (dataTuples, targetTuples) {\n\n  var i = 0;\n  var j = 0;\n  var spreadCount = 0;\n  var result = [];\n  var bucket = undefined;\n  var time = undefined;\n  var scaleSet = undefined;\n  var step = undefined;\n  var nextRealNumber = undefined;\n\n  while (i < targetTuples.length) {\n    scaleSet = [];\n    bucket = targetTuples[i];\n    time = bucket[0];\n\n    // Find stuff to sum\n    j = 0;\n    while (j < dataTuples.length && Math.abs(dataTuples[j][0] <= time)) {\n      scaleSet.push(dataTuples[j][1]);\n      j++;\n    }\n    dataTuples.splice(0, j);\n\n    // We hit a real number, or the end\n    if (scaleSet.length > 0 || i === targetTuples.length - 1) {\n\n      nextRealNumber = sum(scaleSet);\n\n      step = nextRealNumber;\n      // Backfill null buckets\n      if (spreadCount > 0) {\n        // Naively distibute the nextRealNumber amoungst the buckets\n        // Without considering where it is headed next\n        // We do spreadCount + 1 so that we include nextRealNumber when we smooth things out,\n        // since we'll overwrite it anyway.\n        // Thus [5, null, null, 30] becomes [5, 10, 10, 10]\n        step = nextRealNumber / (spreadCount + 1);\n        while (spreadCount > 0) {\n\n          result[i - spreadCount][1] = step;\n          spreadCount--;\n        }\n      }\n      result.push([time, step]);\n    } else {\n      result.push([time, null]);\n      spreadCount++;\n    }\n\n    i++;\n  }\n\n  return result;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2ZpdF9mdW5jdGlvbnMvc2NhbGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7Ozs7Ozs7Ozs7QUFXNUIsU0FBUyxHQUFHLENBQUMsR0FBRyxFQUFFO0FBQ2hCLFNBQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsVUFBVSxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQUUsV0FBTyxHQUFHLEdBQUcsR0FBRyxDQUFDO0dBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztDQUNwRTs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsVUFBVSxFQUFFLFlBQVksRUFBRTs7QUFFbkQsTUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ1YsTUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ1YsTUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQ3BCLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUNsQixNQUFJLE1BQU0sWUFBQSxDQUFDO0FBQ1gsTUFBSSxJQUFJLFlBQUEsQ0FBQztBQUNULE1BQUksUUFBUSxZQUFBLENBQUM7QUFDYixNQUFJLElBQUksWUFBQSxDQUFDO0FBQ1QsTUFBSSxjQUFjLFlBQUEsQ0FBQzs7QUFFbkIsU0FBTyxDQUFDLEdBQUcsWUFBWSxDQUFDLE1BQU0sRUFBRTtBQUM5QixZQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ2QsVUFBTSxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6QixRQUFJLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7QUFHakIsS0FBQyxHQUFHLENBQUMsQ0FBQztBQUNOLFdBQU8sQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEVBQUU7QUFDbEUsY0FBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNoQyxPQUFDLEVBQUUsQ0FBQztLQUNMO0FBQ0QsY0FBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7OztBQUd4QixRQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTs7QUFFeEQsb0JBQWMsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRS9CLFVBQUksR0FBRyxjQUFjLENBQUM7O0FBRXRCLFVBQUksV0FBVyxHQUFHLENBQUMsRUFBRTs7Ozs7O0FBTW5CLFlBQUksR0FBRyxjQUFjLElBQUksV0FBVyxHQUFHLENBQUMsQ0FBQSxBQUFDLENBQUM7QUFDMUMsZUFBTyxXQUFXLEdBQUcsQ0FBQyxFQUFFOztBQUV0QixnQkFBTSxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDbEMscUJBQVcsRUFBRSxDQUFDO1NBQ2Y7T0FDRjtBQUNELFlBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztLQUUzQixNQUFNO0FBQ0wsWUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzFCLGlCQUFXLEVBQUUsQ0FBQztLQUNmOztBQUVELEtBQUMsRUFBRSxDQUFDO0dBRUw7O0FBRUQsU0FBTyxNQUFNLENBQUM7Q0FDZixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2ZpdF9mdW5jdGlvbnMvc2NhbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbi8vIERvd25zYW1wbGluZyBvZiBjdW1tdWxhdGl2ZSBtZXRyaWNzXG4vLyBHb29kOiBjb3VudCwgc3VtXG4vLyBCYWQ6IGF2ZywgbWluLCBtYXhcblxuXG4vLyBGb3IgdXBzYW1wbGluZyBjdW1tdWxhdGl2ZSBtZXRyaWNzIChlZyBzdW0gZnJvbSAxTSB0byAxZCksIGNvdWxkIHJlbmFtZSB0aGlzIHNjYWxlLlxuLy8gUmVhbGx5IG9ubHkgdGhlIDBzIHRoYXQgc2NyZXdzIHRoaXMgdXAsIG5lZWQgdG8gZGlzdHJpYnV0ZSBjb250ZW50cyBvZiBzcGlrZXMgdG8gZW1wdHkgYnVja2V0c1xuLy8gRW1wdHkgaXMgY3VycmVudGx5IDAsIHdoaWNoIGlzIG5vdCByaWdodFxuXG5mdW5jdGlvbiBzdW0oc2V0KSB7XG4gIHJldHVybiBfLnJlZHVjZShzZXQsIGZ1bmN0aW9uIChzdW0sIG51bSkgeyByZXR1cm4gc3VtICsgbnVtOyB9LCAwKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZGF0YVR1cGxlcywgdGFyZ2V0VHVwbGVzKSB7XG5cbiAgbGV0IGkgPSAwO1xuICBsZXQgaiA9IDA7XG4gIGxldCBzcHJlYWRDb3VudCA9IDA7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBsZXQgYnVja2V0O1xuICBsZXQgdGltZTtcbiAgbGV0IHNjYWxlU2V0O1xuICBsZXQgc3RlcDtcbiAgbGV0IG5leHRSZWFsTnVtYmVyO1xuXG4gIHdoaWxlIChpIDwgdGFyZ2V0VHVwbGVzLmxlbmd0aCkge1xuICAgIHNjYWxlU2V0ID0gW107XG4gICAgYnVja2V0ID0gdGFyZ2V0VHVwbGVzW2ldO1xuICAgIHRpbWUgPSBidWNrZXRbMF07XG5cbiAgICAvLyBGaW5kIHN0dWZmIHRvIHN1bVxuICAgIGogPSAwO1xuICAgIHdoaWxlIChqIDwgZGF0YVR1cGxlcy5sZW5ndGggJiYgTWF0aC5hYnMoZGF0YVR1cGxlc1tqXVswXSA8PSB0aW1lKSkge1xuICAgICAgc2NhbGVTZXQucHVzaChkYXRhVHVwbGVzW2pdWzFdKTtcbiAgICAgIGorKztcbiAgICB9XG4gICAgZGF0YVR1cGxlcy5zcGxpY2UoMCwgaik7XG5cbiAgICAvLyBXZSBoaXQgYSByZWFsIG51bWJlciwgb3IgdGhlIGVuZFxuICAgIGlmIChzY2FsZVNldC5sZW5ndGggPiAwIHx8IGkgPT09IHRhcmdldFR1cGxlcy5sZW5ndGggLSAxKSB7XG5cbiAgICAgIG5leHRSZWFsTnVtYmVyID0gc3VtKHNjYWxlU2V0KTtcblxuICAgICAgc3RlcCA9IG5leHRSZWFsTnVtYmVyO1xuICAgICAgLy8gQmFja2ZpbGwgbnVsbCBidWNrZXRzXG4gICAgICBpZiAoc3ByZWFkQ291bnQgPiAwKSB7XG4gICAgICAgIC8vIE5haXZlbHkgZGlzdGlidXRlIHRoZSBuZXh0UmVhbE51bWJlciBhbW91bmdzdCB0aGUgYnVja2V0c1xuICAgICAgICAvLyBXaXRob3V0IGNvbnNpZGVyaW5nIHdoZXJlIGl0IGlzIGhlYWRlZCBuZXh0XG4gICAgICAgIC8vIFdlIGRvIHNwcmVhZENvdW50ICsgMSBzbyB0aGF0IHdlIGluY2x1ZGUgbmV4dFJlYWxOdW1iZXIgd2hlbiB3ZSBzbW9vdGggdGhpbmdzIG91dCxcbiAgICAgICAgLy8gc2luY2Ugd2UnbGwgb3ZlcndyaXRlIGl0IGFueXdheS5cbiAgICAgICAgLy8gVGh1cyBbNSwgbnVsbCwgbnVsbCwgMzBdIGJlY29tZXMgWzUsIDEwLCAxMCwgMTBdXG4gICAgICAgIHN0ZXAgPSBuZXh0UmVhbE51bWJlciAvIChzcHJlYWRDb3VudCArIDEpO1xuICAgICAgICB3aGlsZSAoc3ByZWFkQ291bnQgPiAwKSB7XG5cbiAgICAgICAgICByZXN1bHRbaSAtIHNwcmVhZENvdW50XVsxXSA9IHN0ZXA7XG4gICAgICAgICAgc3ByZWFkQ291bnQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0LnB1c2goW3RpbWUsIHN0ZXBdKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucHVzaChbdGltZSwgbnVsbF0pO1xuICAgICAgc3ByZWFkQ291bnQrKztcbiAgICB9XG5cbiAgICBpKys7XG5cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/scale.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;;;;;;;;AAW5B,SAAS,GAAG,CAAC,GAAG,EAAE;AAChB,SAAO,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;AAAE,WAAO,GAAG,GAAG,GAAG,CAAC;GAAE,EAAE,CAAC,CAAC,CAAC;CACpE;;AAED,MAAM,CAAC,OAAO,GAAG,UAAU,UAAU,EAAE,YAAY,EAAE;;AAEnD,MAAI,CAAC,GAAG,CAAC,CAAC;AACV,MAAI,CAAC,GAAG,CAAC,CAAC;AACV,MAAI,WAAW,GAAG,CAAC,CAAC;AACpB,MAAM,MAAM,GAAG,EAAE,CAAC;AAClB,MAAI,MAAM,YAAA,CAAC;AACX,MAAI,IAAI,YAAA,CAAC;AACT,MAAI,QAAQ,YAAA,CAAC;AACb,MAAI,IAAI,YAAA,CAAC;AACT,MAAI,cAAc,YAAA,CAAC;;AAEnB,SAAO,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE;AAC9B,YAAQ,GAAG,EAAE,CAAC;AACd,UAAM,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;AACzB,QAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;;;AAGjB,KAAC,GAAG,CAAC,CAAC;AACN,WAAO,CAAC,GAAG,UAAU,CAAC,MAAM,IAAI,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,EAAE;AAClE,cAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChC,OAAC,EAAE,CAAC;KACL;AACD,cAAU,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;;AAGxB,QAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,KAAK,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;;AAExD,oBAAc,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;;AAE/B,UAAI,GAAG,cAAc,CAAC;;AAEtB,UAAI,WAAW,GAAG,CAAC,EAAE;;;;;;AAMnB,YAAI,GAAG,cAAc,IAAI,WAAW,GAAG,CAAC,CAAA,AAAC,CAAC;AAC1C,eAAO,WAAW,GAAG,CAAC,EAAE;;AAEtB,gBAAM,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;AAClC,qBAAW,EAAE,CAAC;SACf;OACF;AACD,YAAM,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;KAE3B,MAAM;AACL,YAAM,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;AAC1B,iBAAW,EAAE,CAAC;KACf;;AAED,KAAC,EAAE,CAAC;GAEL;;AAED,SAAO,MAAM,CAAC;CACf,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/fit_functions/scale.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\n// Downsampling of cummulative metrics\n// Good: count, sum\n// Bad: avg, min, max\n\n\n// For upsampling cummulative metrics (eg sum from 1M to 1d), could rename this scale.\n// Really only the 0s that screws this up, need to distribute contents of spikes to empty buckets\n// Empty is currently 0, which is not right\n\nfunction sum(set) {\n  return _.reduce(set, function (sum, num) { return sum + num; }, 0);\n}\n\nmodule.exports = function (dataTuples, targetTuples) {\n\n  let i = 0;\n  let j = 0;\n  let spreadCount = 0;\n  const result = [];\n  let bucket;\n  let time;\n  let scaleSet;\n  let step;\n  let nextRealNumber;\n\n  while (i < targetTuples.length) {\n    scaleSet = [];\n    bucket = targetTuples[i];\n    time = bucket[0];\n\n    // Find stuff to sum\n    j = 0;\n    while (j < dataTuples.length && Math.abs(dataTuples[j][0] <= time)) {\n      scaleSet.push(dataTuples[j][1]);\n      j++;\n    }\n    dataTuples.splice(0, j);\n\n    // We hit a real number, or the end\n    if (scaleSet.length > 0 || i === targetTuples.length - 1) {\n\n      nextRealNumber = sum(scaleSet);\n\n      step = nextRealNumber;\n      // Backfill null buckets\n      if (spreadCount > 0) {\n        // Naively distibute the nextRealNumber amoungst the buckets\n        // Without considering where it is headed next\n        // We do spreadCount + 1 so that we include nextRealNumber when we smooth things out,\n        // since we'll overwrite it anyway.\n        // Thus [5, null, null, 30] becomes [5, 10, 10, 10]\n        step = nextRealNumber / (spreadCount + 1);\n        while (spreadCount > 0) {\n\n          result[i - spreadCount][1] = step;\n          spreadCount--;\n        }\n      }\n      result.push([time, step]);\n\n    } else {\n      result.push([time, null]);\n      spreadCount++;\n    }\n\n    i++;\n\n  }\n\n  return result;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/get_namespaced_settings.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar configFile = require('../../timelion.json');\n\nmodule.exports = function () {\n  function flattenWith(dot, nestedObj, flattenArrays) {\n    var stack = []; // track key stack\n    var flatObj = {};\n    (function flattenObj(obj) {\n      _.keys(obj).forEach(function (key) {\n        stack.push(key);\n        if (!flattenArrays && _.isArray(obj[key])) flatObj[stack.join(dot)] = obj[key];else if (_.isObject(obj[key])) flattenObj(obj[key]);else flatObj[stack.join(dot)] = obj[key];\n        stack.pop();\n      });\n    })(nestedObj);\n    return flatObj;\n  }\n\n  var timelionDefaults = flattenWith('.', configFile);\n  return _.reduce(timelionDefaults, function (result, value, key) {\n    result['timelion:' + key] = value;\n    return result;\n  }, {});\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9nZXRfbmFtZXNwYWNlZF9zZXR0aW5ncy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQzs7QUFFbEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxZQUFZO0FBQzNCLFdBQVMsV0FBVyxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFO0FBQ2xELFFBQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNqQixRQUFNLE9BQU8sR0FBRyxFQUFFLENBQUM7QUFDbkIsQUFBQyxLQUFBLFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRTtBQUN4QixPQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLEdBQUcsRUFBRTtBQUNqQyxhQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2hCLFlBQUksQ0FBQyxhQUFhLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUMxRSxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQy9DLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3pDLGFBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztPQUNiLENBQUMsQ0FBQztLQUNKLENBQUEsQ0FBQyxTQUFTLENBQUMsQ0FBRTtBQUNkLFdBQU8sT0FBTyxDQUFDO0dBQ2hCOztBQUVELE1BQU0sZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUN0RCxTQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsVUFBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBSztBQUN4RCxVQUFNLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUNsQyxXQUFPLE1BQU0sQ0FBQztHQUNmLEVBQUUsRUFBRSxDQUFDLENBQUM7Q0FDUixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9nZXRfbmFtZXNwYWNlZF9zZXR0aW5ncy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGNvbmZpZ0ZpbGUgPSByZXF1aXJlKCcuLi8uLi90aW1lbGlvbi5qc29uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBmbGF0dGVuV2l0aChkb3QsIG5lc3RlZE9iaiwgZmxhdHRlbkFycmF5cykge1xuICAgIGNvbnN0IHN0YWNrID0gW107IC8vIHRyYWNrIGtleSBzdGFja1xuICAgIGNvbnN0IGZsYXRPYmogPSB7fTtcbiAgICAoZnVuY3Rpb24gZmxhdHRlbk9iaihvYmopIHtcbiAgICAgIF8ua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBzdGFjay5wdXNoKGtleSk7XG4gICAgICAgIGlmICghZmxhdHRlbkFycmF5cyAmJiBfLmlzQXJyYXkob2JqW2tleV0pKSBmbGF0T2JqW3N0YWNrLmpvaW4oZG90KV0gPSBvYmpba2V5XTtcbiAgICAgICAgZWxzZSBpZiAoXy5pc09iamVjdChvYmpba2V5XSkpIGZsYXR0ZW5PYmoob2JqW2tleV0pO1xuICAgICAgICBlbHNlIGZsYXRPYmpbc3RhY2suam9pbihkb3QpXSA9IG9ialtrZXldO1xuICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgIH0pO1xuICAgIH0obmVzdGVkT2JqKSk7XG4gICAgcmV0dXJuIGZsYXRPYmo7XG4gIH1cblxuICBjb25zdCB0aW1lbGlvbkRlZmF1bHRzID0gZmxhdHRlbldpdGgoJy4nLCBjb25maWdGaWxlKTtcbiAgcmV0dXJuIF8ucmVkdWNlKHRpbWVsaW9uRGVmYXVsdHMsIChyZXN1bHQsIHZhbHVlLCBrZXkpID0+IHtcbiAgICByZXN1bHRbJ3RpbWVsaW9uOicgKyBrZXldID0gdmFsdWU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/get_namespaced_settings.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,UAAU,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;;AAElD,MAAM,CAAC,OAAO,GAAG,YAAY;AAC3B,WAAS,WAAW,CAAC,GAAG,EAAE,SAAS,EAAE,aAAa,EAAE;AAClD,QAAM,KAAK,GAAG,EAAE,CAAC;AACjB,QAAM,OAAO,GAAG,EAAE,CAAC;AACnB,AAAC,KAAA,SAAS,UAAU,CAAC,GAAG,EAAE;AACxB,OAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;AACjC,aAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAChB,YAAI,CAAC,aAAa,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,KAC1E,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,KAC/C,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AACzC,aAAK,CAAC,GAAG,EAAE,CAAC;OACb,CAAC,CAAC;KACJ,CAAA,CAAC,SAAS,CAAC,CAAE;AACd,WAAO,OAAO,CAAC;GAChB;;AAED,MAAM,gBAAgB,GAAG,WAAW,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;AACtD,SAAO,CAAC,CAAC,MAAM,CAAC,gBAAgB,EAAE,UAAC,MAAM,EAAE,KAAK,EAAE,GAAG,EAAK;AACxD,UAAM,CAAC,WAAW,GAAG,GAAG,CAAC,GAAG,KAAK,CAAC;AAClC,WAAO,MAAM,CAAC;GACf,EAAE,EAAE,CAAC,CAAC;CACR,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/get_namespaced_settings.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst configFile = require('../../timelion.json');\n\nmodule.exports = function () {\n  function flattenWith(dot, nestedObj, flattenArrays) {\n    const stack = []; // track key stack\n    const flatObj = {};\n    (function flattenObj(obj) {\n      _.keys(obj).forEach(function (key) {\n        stack.push(key);\n        if (!flattenArrays && _.isArray(obj[key])) flatObj[stack.join(dot)] = obj[key];\n        else if (_.isObject(obj[key])) flattenObj(obj[key]);\n        else flatObj[stack.join(dot)] = obj[key];\n        stack.pop();\n      });\n    }(nestedObj));\n    return flatObj;\n  }\n\n  const timelionDefaults = flattenWith('.', configFile);\n  return _.reduce(timelionDefaults, (result, value, key) => {\n    result['timelion:' + key] = value;\n    return result;\n  }, {});\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/routes/functions.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\nmodule.exports = function (server) {\n  server.route({\n    method: 'GET',\n    path: '/api/timelion/functions',\n    handler: function handler(request, reply) {\n      var functionArray = _.map(server.plugins.timelion.functions, function (val, key) {\n        // TODO: This won't work on frozen objects, it should be removed when everything is converted to datasources and chainables\n        return _.extend({}, val, { name: key });\n      });\n      reply(_.sortBy(functionArray, 'name'));\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3JvdXRlcy9mdW5jdGlvbnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRTVCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxNQUFNLEVBQUU7QUFDakMsUUFBTSxDQUFDLEtBQUssQ0FBQztBQUNYLFVBQU0sRUFBRSxLQUFLO0FBQ2IsUUFBSSxFQUFFLHlCQUF5QjtBQUMvQixXQUFPLEVBQUUsaUJBQVUsT0FBTyxFQUFFLEtBQUssRUFBRTtBQUNqQyxVQUFNLGFBQWEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxVQUFVLEdBQUcsRUFBRSxHQUFHLEVBQUU7O0FBRWpGLGVBQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7T0FDekMsQ0FBQyxDQUFDO0FBQ0gsV0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7S0FDeEM7R0FDRixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3JvdXRlcy9mdW5jdGlvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNlcnZlcikge1xuICBzZXJ2ZXIucm91dGUoe1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgcGF0aDogJy9hcGkvdGltZWxpb24vZnVuY3Rpb25zJyxcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiAocmVxdWVzdCwgcmVwbHkpIHtcbiAgICAgIGNvbnN0IGZ1bmN0aW9uQXJyYXkgPSBfLm1hcChzZXJ2ZXIucGx1Z2lucy50aW1lbGlvbi5mdW5jdGlvbnMsIGZ1bmN0aW9uICh2YWwsIGtleSkge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIHdvbid0IHdvcmsgb24gZnJvemVuIG9iamVjdHMsIGl0IHNob3VsZCBiZSByZW1vdmVkIHdoZW4gZXZlcnl0aGluZyBpcyBjb252ZXJ0ZWQgdG8gZGF0YXNvdXJjZXMgYW5kIGNoYWluYWJsZXNcbiAgICAgICAgcmV0dXJuIF8uZXh0ZW5kKHt9LCB2YWwsIHsgbmFtZToga2V5IH0pO1xuICAgICAgfSk7XG4gICAgICByZXBseShfLnNvcnRCeShmdW5jdGlvbkFycmF5LCAnbmFtZScpKTtcbiAgICB9XG4gIH0pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/routes/functions.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;AACjC,QAAM,CAAC,KAAK,CAAC;AACX,UAAM,EAAE,KAAK;AACb,QAAI,EAAE,yBAAyB;AAC/B,WAAO,EAAE,iBAAU,OAAO,EAAE,KAAK,EAAE;AACjC,UAAM,aAAa,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;;AAEjF,eAAO,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;OACzC,CAAC,CAAC;AACH,WAAK,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC,CAAC;KACxC;GACF,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/routes/functions.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\nmodule.exports = function (server) {\n  server.route({\n    method: 'GET',\n    path: '/api/timelion/functions',\n    handler: function (request, reply) {\n      const functionArray = _.map(server.plugins.timelion.functions, function (val, key) {\n        // TODO: This won't work on frozen objects, it should be removed when everything is converted to datasources and chainables\n        return _.extend({}, val, { name: key });\n      });\n      reply(_.sortBy(functionArray, 'name'));\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/routes/validate_es.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (server) {\n  server.route({\n    method: 'GET',\n    path: '/api/timelion/validate/es',\n    handler: function handler(request, reply) {\n      return server.uiSettings().getAll(request).then(function (uiSettings) {\n        var _server$plugins$elasticsearch$getCluster = server.plugins.elasticsearch.getCluster('data');\n\n        var callWithRequest = _server$plugins$elasticsearch$getCluster.callWithRequest;\n\n        var timefield = uiSettings['timelion:es.timefield'];\n\n        var body = {\n          index: uiSettings['es.default_index'],\n          fields: timefield\n        };\n\n        callWithRequest(request, 'fieldStats', body).then(function (resp) {\n          reply({\n            ok: true,\n            field: timefield,\n            min: resp.indices._all.fields[timefield].min_value,\n            max: resp.indices._all.fields[timefield].max_value\n          });\n        })['catch'](function (resp) {\n          reply({\n            ok: false,\n            resp: resp\n          });\n        });\n      });\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3JvdXRlcy92YWxpZGF0ZV9lcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxNQUFNLEVBQUU7QUFDakMsUUFBTSxDQUFDLEtBQUssQ0FBQztBQUNYLFVBQU0sRUFBRSxLQUFLO0FBQ2IsUUFBSSxFQUFFLDJCQUEyQjtBQUNqQyxXQUFPLEVBQUUsaUJBQVUsT0FBTyxFQUFFLEtBQUssRUFBRTtBQUNqQyxhQUFPLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsVUFBVSxFQUFLO3VEQUVsQyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDOztZQUFuRSxlQUFlLDRDQUFmLGVBQWU7O0FBRXZCLFlBQU0sU0FBUyxHQUFHLFVBQVUsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDOztBQUV0RCxZQUFNLElBQUksR0FBRztBQUNYLGVBQUssRUFBRSxVQUFVLENBQUMsa0JBQWtCLENBQUM7QUFDckMsZ0JBQU0sRUFBQyxTQUFTO1NBQ2pCLENBQUM7O0FBRUYsdUJBQWUsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksRUFBRTtBQUNoRSxlQUFLLENBQUM7QUFDSixjQUFFLEVBQUUsSUFBSTtBQUNSLGlCQUFLLEVBQUUsU0FBUztBQUNoQixlQUFHLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFNBQVM7QUFDbEQsZUFBRyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxTQUFTO1dBQ25ELENBQUMsQ0FBQztTQUNKLENBQUMsU0FBTSxDQUFDLFVBQVUsSUFBSSxFQUFFO0FBQ3ZCLGVBQUssQ0FBQztBQUNKLGNBQUUsRUFBRSxLQUFLO0FBQ1QsZ0JBQUksRUFBRSxJQUFJO1dBQ1gsQ0FBQyxDQUFDO1NBQ0osQ0FBQyxDQUFDO09BQ0osQ0FBQyxDQUFDO0tBRUo7R0FDRixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3JvdXRlcy92YWxpZGF0ZV9lcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNlcnZlcikge1xuICBzZXJ2ZXIucm91dGUoe1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgcGF0aDogJy9hcGkvdGltZWxpb24vdmFsaWRhdGUvZXMnLFxuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChyZXF1ZXN0LCByZXBseSkge1xuICAgICAgcmV0dXJuIHNlcnZlci51aVNldHRpbmdzKCkuZ2V0QWxsKHJlcXVlc3QpLnRoZW4oKHVpU2V0dGluZ3MpID0+IHtcblxuICAgICAgICBjb25zdCB7IGNhbGxXaXRoUmVxdWVzdCB9ID0gc2VydmVyLnBsdWdpbnMuZWxhc3RpY3NlYXJjaC5nZXRDbHVzdGVyKCdkYXRhJyk7XG5cbiAgICAgICAgY29uc3QgdGltZWZpZWxkID0gdWlTZXR0aW5nc1sndGltZWxpb246ZXMudGltZWZpZWxkJ107XG5cbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICBpbmRleDogdWlTZXR0aW5nc1snZXMuZGVmYXVsdF9pbmRleCddLFxuICAgICAgICAgIGZpZWxkczp0aW1lZmllbGRcbiAgICAgICAgfTtcblxuICAgICAgICBjYWxsV2l0aFJlcXVlc3QocmVxdWVzdCwgJ2ZpZWxkU3RhdHMnLCBib2R5KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgcmVwbHkoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBmaWVsZDogdGltZWZpZWxkLFxuICAgICAgICAgICAgbWluOiByZXNwLmluZGljZXMuX2FsbC5maWVsZHNbdGltZWZpZWxkXS5taW5fdmFsdWUsXG4gICAgICAgICAgICBtYXg6IHJlc3AuaW5kaWNlcy5fYWxsLmZpZWxkc1t0aW1lZmllbGRdLm1heF92YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICAgIHJlcGx5KHtcbiAgICAgICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgICAgIHJlc3A6IHJlc3BcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIH1cbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/routes/validate_es.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE;AACjC,QAAM,CAAC,KAAK,CAAC;AACX,UAAM,EAAE,KAAK;AACb,QAAI,EAAE,2BAA2B;AACjC,WAAO,EAAE,iBAAU,OAAO,EAAE,KAAK,EAAE;AACjC,aAAO,MAAM,CAAC,UAAU,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,UAAU,EAAK;uDAElC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC;;YAAnE,eAAe,4CAAf,eAAe;;AAEvB,YAAM,SAAS,GAAG,UAAU,CAAC,uBAAuB,CAAC,CAAC;;AAEtD,YAAM,IAAI,GAAG;AACX,eAAK,EAAE,UAAU,CAAC,kBAAkB,CAAC;AACrC,gBAAM,EAAC,SAAS;SACjB,CAAC;;AAEF,uBAAe,CAAC,OAAO,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;AAChE,eAAK,CAAC;AACJ,cAAE,EAAE,IAAI;AACR,iBAAK,EAAE,SAAS;AAChB,eAAG,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,SAAS;AAClD,eAAG,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,SAAS;WACnD,CAAC,CAAC;SACJ,CAAC,SAAM,CAAC,UAAU,IAAI,EAAE;AACvB,eAAK,CAAC;AACJ,cAAE,EAAE,KAAK;AACT,gBAAI,EAAE,IAAI;WACX,CAAC,CAAC;SACJ,CAAC,CAAC;OACJ,CAAC,CAAC;KAEJ;GACF,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/routes/validate_es.js",
      "sourcesContent": [
        "module.exports = function (server) {\n  server.route({\n    method: 'GET',\n    path: '/api/timelion/validate/es',\n    handler: function (request, reply) {\n      return server.uiSettings().getAll(request).then((uiSettings) => {\n\n        const { callWithRequest } = server.plugins.elasticsearch.getCluster('data');\n\n        const timefield = uiSettings['timelion:es.timefield'];\n\n        const body = {\n          index: uiSettings['es.default_index'],\n          fields:timefield\n        };\n\n        callWithRequest(request, 'fieldStats', body).then(function (resp) {\n          reply({\n            ok: true,\n            field: timefield,\n            min: resp.indices._all.fields[timefield].min_value,\n            max: resp.indices._all.fields[timefield].max_value\n          });\n        }).catch(function (resp) {\n          reply({\n            ok: false,\n            resp: resp\n          });\n        });\n      });\n\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/abs.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('abs', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }],\n  help: 'Return the absolute value of each value in the series list',\n  fn: function absFn(args) {\n    return alter(args, function (eachSeries) {\n      var data = _.map(eachSeries.data, function (point) {\n        return [point[0], Math.abs(point[1])];\n      });\n      eachSeries.data = data;\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvYWJzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDekMsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsS0FBSyxFQUFFO0FBQ3BDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLENBQ0Y7QUFDRCxNQUFJLEVBQUUsNERBQTREO0FBQ2xFLElBQUUsRUFBRSxTQUFTLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFDdkIsV0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLFVBQVUsVUFBVSxFQUFFO0FBQ3ZDLFVBQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxVQUFVLEtBQUssRUFBRTtBQUNuRCxlQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztPQUN2QyxDQUFDLENBQUM7QUFDSCxnQkFBVSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7QUFDdkIsYUFBTyxVQUFVLENBQUM7S0FDbkIsQ0FBQyxDQUFDO0dBQ0o7Q0FDRixDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy9hYnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbHRlciA9IHJlcXVpcmUoJy4uL2xpYi9hbHRlci5qcycpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgQ2hhaW5hYmxlID0gcmVxdWlyZSgnLi4vbGliL2NsYXNzZXMvY2hhaW5hYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBDaGFpbmFibGUoJ2FicycsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9XG4gIF0sXG4gIGhlbHA6ICdSZXR1cm4gdGhlIGFic29sdXRlIHZhbHVlIG9mIGVhY2ggdmFsdWUgaW4gdGhlIHNlcmllcyBsaXN0JyxcbiAgZm46IGZ1bmN0aW9uIGFic0ZuKGFyZ3MpIHtcbiAgICByZXR1cm4gYWx0ZXIoYXJncywgZnVuY3Rpb24gKGVhY2hTZXJpZXMpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBfLm1hcChlYWNoU2VyaWVzLmRhdGEsIGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICByZXR1cm4gW3BvaW50WzBdLCBNYXRoLmFicyhwb2ludFsxXSldO1xuICAgICAgfSk7XG4gICAgICBlYWNoU2VyaWVzLmRhdGEgPSBkYXRhO1xuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/abs.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE;AACpC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,CACF;AACD,MAAI,EAAE,4DAA4D;AAClE,IAAE,EAAE,SAAS,KAAK,CAAC,IAAI,EAAE;AACvB,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;AACvC,UAAM,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,KAAK,EAAE;AACnD,eAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OACvC,CAAC,CAAC;AACH,gBAAU,CAAC,IAAI,GAAG,IAAI,CAAC;AACvB,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/abs.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('abs', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    }\n  ],\n  help: 'Return the absolute value of each value in the series list',\n  fn: function absFn(args) {\n    return alter(args, function (eachSeries) {\n      const data = _.map(eachSeries.data, function (point) {\n        return [point[0], Math.abs(point[1])];\n      });\n      eachSeries.data = data;\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/alter.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar Promise = require('bluebird');\nvar _ = require('lodash');\n\n/* @param {Array} args\n * - args[0] must be a seriesList\n\n * @params {Function} fn - Function to apply to each series in the seriesList\n * @return {seriesList}\n */\n\nmodule.exports = function alter(args, fn) {\n  // In theory none of the args should ever be promises. This is probably a waste.\n  return Promise.all(args).then(function (args) {\n\n    var seriesList = args.shift();\n\n    if (seriesList.type !== 'seriesList') {\n      throw new Error('args[0] must be a seriesList');\n    }\n\n    var list = _.chain(seriesList.list).map(function (series) {\n      return fn.apply(this, [series].concat(args));\n    }).flatten().value();\n\n    seriesList.list = list;\n    return seriesList;\n  })['catch'](function (e) {\n    throw e;\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9hbHRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNwQyxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7Ozs7Ozs7OztBQVM1QixNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUU7O0FBRXhDLFNBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLEVBQUU7O0FBRTVDLFFBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQzs7QUFFaEMsUUFBSSxVQUFVLENBQUMsSUFBSSxLQUFLLFlBQVksRUFBRTtBQUNwQyxZQUFNLElBQUksS0FBSyxDQUFFLDhCQUE4QixDQUFDLENBQUM7S0FDbEQ7O0FBRUQsUUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVUsTUFBTSxFQUFFO0FBQzFELGFBQU8sRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztLQUM5QyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7O0FBRXJCLGNBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLFdBQU8sVUFBVSxDQUFDO0dBQ25CLENBQUMsU0FBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQ3BCLFVBQU0sQ0FBQyxDQUFDO0dBQ1QsQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9saWIvYWx0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuLyogQHBhcmFtIHtBcnJheX0gYXJnc1xuICogLSBhcmdzWzBdIG11c3QgYmUgYSBzZXJpZXNMaXN0XG5cbiAqIEBwYXJhbXMge0Z1bmN0aW9ufSBmbiAtIEZ1bmN0aW9uIHRvIGFwcGx5IHRvIGVhY2ggc2VyaWVzIGluIHRoZSBzZXJpZXNMaXN0XG4gKiBAcmV0dXJuIHtzZXJpZXNMaXN0fVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYWx0ZXIoYXJncywgZm4pIHtcbiAgLy8gSW4gdGhlb3J5IG5vbmUgb2YgdGhlIGFyZ3Mgc2hvdWxkIGV2ZXIgYmUgcHJvbWlzZXMuIFRoaXMgaXMgcHJvYmFibHkgYSB3YXN0ZS5cbiAgcmV0dXJuIFByb21pc2UuYWxsKGFyZ3MpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHtcblxuICAgIGNvbnN0IHNlcmllc0xpc3QgPSBhcmdzLnNoaWZ0KCk7XG5cbiAgICBpZiAoc2VyaWVzTGlzdC50eXBlICE9PSAnc2VyaWVzTGlzdCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvciAoJ2FyZ3NbMF0gbXVzdCBiZSBhIHNlcmllc0xpc3QnKTtcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ID0gXy5jaGFpbihzZXJpZXNMaXN0Lmxpc3QpLm1hcChmdW5jdGlvbiAoc2VyaWVzKSB7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgW3Nlcmllc10uY29uY2F0KGFyZ3MpKTtcbiAgICB9KS5mbGF0dGVuKCkudmFsdWUoKTtcblxuICAgIHNlcmllc0xpc3QubGlzdCA9IGxpc3Q7XG4gICAgcmV0dXJuIHNlcmllc0xpc3Q7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgdGhyb3cgZTtcbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/alter.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACpC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;;;;;;;AAS5B,MAAM,CAAC,OAAO,GAAG,SAAS,KAAK,CAAC,IAAI,EAAE,EAAE,EAAE;;AAExC,SAAO,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;;AAE5C,QAAM,UAAU,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;;AAEhC,QAAI,UAAU,CAAC,IAAI,KAAK,YAAY,EAAE;AACpC,YAAM,IAAI,KAAK,CAAE,8BAA8B,CAAC,CAAC;KAClD;;AAED,QAAM,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAU,MAAM,EAAE;AAC1D,aAAO,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;KAC9C,CAAC,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,CAAC;;AAErB,cAAU,CAAC,IAAI,GAAG,IAAI,CAAC;AACvB,WAAO,UAAU,CAAC;GACnB,CAAC,SAAM,CAAC,UAAU,CAAC,EAAE;AACpB,UAAM,CAAC,CAAC;GACT,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/alter.js",
      "sourcesContent": [
        "const Promise = require('bluebird');\nconst _ = require('lodash');\n\n/* @param {Array} args\n * - args[0] must be a seriesList\n\n * @params {Function} fn - Function to apply to each series in the seriesList\n * @return {seriesList}\n */\n\nmodule.exports = function alter(args, fn) {\n  // In theory none of the args should ever be promises. This is probably a waste.\n  return Promise.all(args).then(function (args) {\n\n    const seriesList = args.shift();\n\n    if (seriesList.type !== 'seriesList') {\n      throw new Error ('args[0] must be a seriesList');\n    }\n\n    const list = _.chain(seriesList.list).map(function (series) {\n      return fn.apply(this, [series].concat(args));\n    }).flatten().value();\n\n    seriesList.list = list;\n    return seriesList;\n  }).catch(function (e) {\n    throw e;\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/classes/chainable.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TimelionFunction = require('./timelion_function');\n\nmodule.exports = (function (_TimelionFunction) {\n  _inherits(Chainable, _TimelionFunction);\n\n  function Chainable(name, config) {\n    _classCallCheck(this, Chainable);\n\n    _get(Object.getPrototypeOf(Chainable.prototype), 'constructor', this).call(this, name, config);\n    this.chainable = true;\n    Object.freeze(this);\n  }\n\n  return Chainable;\n})(TimelionFunction);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9jbGFzc2VzL2NoYWluYWJsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQU0sZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUM7O0FBRXhELE1BQU0sQ0FBQyxPQUFPO1lBQVMsU0FBUzs7QUFDbkIsV0FEVSxTQUFTLENBQ2xCLElBQUksRUFBRSxNQUFNLEVBQUU7MEJBREwsU0FBUzs7QUFFNUIsK0JBRm1CLFNBQVMsNkNBRXRCLElBQUksRUFBRSxNQUFNLEVBQUU7QUFDcEIsUUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDdEIsVUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUNyQjs7U0FMb0IsU0FBUztHQUFTLGdCQUFnQixDQU14RCxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9jbGFzc2VzL2NoYWluYWJsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFRpbWVsaW9uRnVuY3Rpb24gPSByZXF1aXJlKCcuL3RpbWVsaW9uX2Z1bmN0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgQ2hhaW5hYmxlIGV4dGVuZHMgVGltZWxpb25GdW5jdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGNvbmZpZykge1xuICAgIHN1cGVyKG5hbWUsIGNvbmZpZyk7XG4gICAgdGhpcy5jaGFpbmFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5mcmVlemUodGhpcyk7XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/classes/chainable.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;AAAA,IAAM,gBAAgB,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;;AAExD,MAAM,CAAC,OAAO;YAAS,SAAS;;AACnB,WADU,SAAS,CAClB,IAAI,EAAE,MAAM,EAAE;0BADL,SAAS;;AAE5B,+BAFmB,SAAS,6CAEtB,IAAI,EAAE,MAAM,EAAE;AACpB,QAAI,CAAC,SAAS,GAAG,IAAI,CAAC;AACtB,UAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GACrB;;SALoB,SAAS;GAAS,gBAAgB,CAMxD,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/classes/chainable.js",
      "sourcesContent": [
        "const TimelionFunction = require('./timelion_function');\n\nmodule.exports = class Chainable extends TimelionFunction {\n  constructor(name, config) {\n    super(name, config);\n    this.chainable = true;\n    Object.freeze(this);\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/classes/timelion_function.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _ = require('lodash');\nvar loadFunctions = require('../load_functions.js');\nvar fitFunctions = loadFunctions('fit_functions');\n\nmodule.exports = function TimelionFunction(name, config) {\n  _classCallCheck(this, TimelionFunction);\n\n  this.name = name;\n  this.args = config.args || [];\n  this.argsByName = _.indexBy(this.args, 'name');\n  this.help = config.help || '';\n  this.aliases = config.aliases || [];\n  this.extended = config.extended || false;\n\n  // WTF is this? How could you not have a fn? Wtf would the thing be used for?\n  var originalFunction = config.fn || function (input) {\n    return input;\n  };\n\n  // Currently only re-fits the series.\n  this.originalFn = originalFunction;\n\n  this.fn = function (args, tlConfig) {\n    var config = _.clone(tlConfig);\n    return Promise.resolve(originalFunction(args, config)).then(function (seriesList) {\n      seriesList.list = _.map(seriesList.list, function (series) {\n        var target = tlConfig.getTargetSeries();\n\n        // Don't fit if the series are already the same\n        if (_.isEqual(_.map(series.data, 0), _.map(target, 0))) return series;\n\n        var fit = undefined;\n        if (args.byName.fit) {\n          fit = args.byName.fit;\n        } else if (series.fit) {\n          fit = series.fit;\n        } else {\n          fit = 'nearest';\n        }\n\n        series.data = fitFunctions[fit](series.data, tlConfig.getTargetSeries());\n        return series;\n      });\n      return seriesList;\n    });\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9jbGFzc2VzL3RpbWVsaW9uX2Z1bmN0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsSUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixDQUFDLENBQUM7QUFDdEQsSUFBTSxZQUFZLEdBQUksYUFBYSxDQUFDLGVBQWUsQ0FBQyxDQUFDOztBQUVyRCxNQUFNLENBQUMsT0FBTyxHQUNELFNBRFUsZ0JBQWdCLENBQ3pCLElBQUksRUFBRSxNQUFNLEVBQUU7d0JBREwsZ0JBQWdCOztBQUVuQyxNQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztBQUNqQixNQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO0FBQzlCLE1BQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQy9DLE1BQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7QUFDOUIsTUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQztBQUNwQyxNQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLElBQUksS0FBSyxDQUFDOzs7QUFHekMsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsRUFBRSxJQUFJLFVBQVUsS0FBSyxFQUFFO0FBQUUsV0FBTyxLQUFLLENBQUM7R0FBRSxDQUFDOzs7QUFHekUsTUFBSSxDQUFDLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQzs7QUFFbkMsTUFBSSxDQUFDLEVBQUUsR0FBRyxVQUFVLElBQUksRUFBRSxRQUFRLEVBQUU7QUFDbEMsUUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNqQyxXQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsVUFBVSxFQUFFO0FBQ2hGLGdCQUFVLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxVQUFVLE1BQU0sRUFBRTtBQUN6RCxZQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsZUFBZSxFQUFFLENBQUM7OztBQUcxQyxZQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxNQUFNLENBQUM7O0FBRXRFLFlBQUksR0FBRyxZQUFBLENBQUM7QUFDUixZQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO0FBQ25CLGFBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztTQUN2QixNQUFNLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRTtBQUNyQixhQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQztTQUNsQixNQUFNO0FBQ0wsYUFBRyxHQUFHLFNBQVMsQ0FBQztTQUNqQjs7QUFFRCxjQUFNLENBQUMsSUFBSSxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDO0FBQ3pFLGVBQU8sTUFBTSxDQUFDO09BQ2YsQ0FBQyxDQUFDO0FBQ0gsYUFBTyxVQUFVLENBQUM7S0FDbkIsQ0FBQyxDQUFDO0dBQ0osQ0FBQztDQUNILEFBQ0YsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9saWIvY2xhc3Nlcy90aW1lbGlvbl9mdW5jdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGxvYWRGdW5jdGlvbnMgPSByZXF1aXJlKCcuLi9sb2FkX2Z1bmN0aW9ucy5qcycpO1xuY29uc3QgZml0RnVuY3Rpb25zICA9IGxvYWRGdW5jdGlvbnMoJ2ZpdF9mdW5jdGlvbnMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBUaW1lbGlvbkZ1bmN0aW9uIHtcbiAgY29uc3RydWN0b3IobmFtZSwgY29uZmlnKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmFyZ3MgPSBjb25maWcuYXJncyB8fCBbXTtcbiAgICB0aGlzLmFyZ3NCeU5hbWUgPSBfLmluZGV4QnkodGhpcy5hcmdzLCAnbmFtZScpO1xuICAgIHRoaXMuaGVscCA9IGNvbmZpZy5oZWxwIHx8ICcnO1xuICAgIHRoaXMuYWxpYXNlcyA9IGNvbmZpZy5hbGlhc2VzIHx8IFtdO1xuICAgIHRoaXMuZXh0ZW5kZWQgPSBjb25maWcuZXh0ZW5kZWQgfHwgZmFsc2U7XG5cbiAgICAvLyBXVEYgaXMgdGhpcz8gSG93IGNvdWxkIHlvdSBub3QgaGF2ZSBhIGZuPyBXdGYgd291bGQgdGhlIHRoaW5nIGJlIHVzZWQgZm9yP1xuICAgIGNvbnN0IG9yaWdpbmFsRnVuY3Rpb24gPSBjb25maWcuZm4gfHwgZnVuY3Rpb24gKGlucHV0KSB7IHJldHVybiBpbnB1dDsgfTtcblxuICAgIC8vIEN1cnJlbnRseSBvbmx5IHJlLWZpdHMgdGhlIHNlcmllcy5cbiAgICB0aGlzLm9yaWdpbmFsRm4gPSBvcmlnaW5hbEZ1bmN0aW9uO1xuXG4gICAgdGhpcy5mbiA9IGZ1bmN0aW9uIChhcmdzLCB0bENvbmZpZykge1xuICAgICAgY29uc3QgY29uZmlnID0gXy5jbG9uZSh0bENvbmZpZyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG9yaWdpbmFsRnVuY3Rpb24oYXJncywgY29uZmlnKSkudGhlbihmdW5jdGlvbiAoc2VyaWVzTGlzdCkge1xuICAgICAgICBzZXJpZXNMaXN0Lmxpc3QgPSBfLm1hcChzZXJpZXNMaXN0Lmxpc3QsIGZ1bmN0aW9uIChzZXJpZXMpIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0bENvbmZpZy5nZXRUYXJnZXRTZXJpZXMoKTtcblxuICAgICAgICAgIC8vIERvbid0IGZpdCBpZiB0aGUgc2VyaWVzIGFyZSBhbHJlYWR5IHRoZSBzYW1lXG4gICAgICAgICAgaWYgKF8uaXNFcXVhbChfLm1hcChzZXJpZXMuZGF0YSwgMCksIF8ubWFwKHRhcmdldCwgMCkpKSByZXR1cm4gc2VyaWVzO1xuXG4gICAgICAgICAgbGV0IGZpdDtcbiAgICAgICAgICBpZiAoYXJncy5ieU5hbWUuZml0KSB7XG4gICAgICAgICAgICBmaXQgPSBhcmdzLmJ5TmFtZS5maXQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChzZXJpZXMuZml0KSB7XG4gICAgICAgICAgICBmaXQgPSBzZXJpZXMuZml0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaXQgPSAnbmVhcmVzdCc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2VyaWVzLmRhdGEgPSBmaXRGdW5jdGlvbnNbZml0XShzZXJpZXMuZGF0YSwgdGxDb25maWcuZ2V0VGFyZ2V0U2VyaWVzKCkpO1xuICAgICAgICAgIHJldHVybiBzZXJpZXM7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2VyaWVzTGlzdDtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/classes/timelion_function.js"
      ],
      "names": [],
      "mappings": ";;;;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,aAAa,GAAG,OAAO,CAAC,sBAAsB,CAAC,CAAC;AACtD,IAAM,YAAY,GAAI,aAAa,CAAC,eAAe,CAAC,CAAC;;AAErD,MAAM,CAAC,OAAO,GACD,SADU,gBAAgB,CACzB,IAAI,EAAE,MAAM,EAAE;wBADL,gBAAgB;;AAEnC,MAAI,CAAC,IAAI,GAAG,IAAI,CAAC;AACjB,MAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;AAC9B,MAAI,CAAC,UAAU,GAAG,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AAC/C,MAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;AAC9B,MAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;AACpC,MAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,IAAI,KAAK,CAAC;;;AAGzC,MAAM,gBAAgB,GAAG,MAAM,CAAC,EAAE,IAAI,UAAU,KAAK,EAAE;AAAE,WAAO,KAAK,CAAC;GAAE,CAAC;;;AAGzE,MAAI,CAAC,UAAU,GAAG,gBAAgB,CAAC;;AAEnC,MAAI,CAAC,EAAE,GAAG,UAAU,IAAI,EAAE,QAAQ,EAAE;AAClC,QAAM,MAAM,GAAG,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AACjC,WAAO,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,UAAU,EAAE;AAChF,gBAAU,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,MAAM,EAAE;AACzD,YAAM,MAAM,GAAG,QAAQ,CAAC,eAAe,EAAE,CAAC;;;AAG1C,YAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,OAAO,MAAM,CAAC;;AAEtE,YAAI,GAAG,YAAA,CAAC;AACR,YAAI,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE;AACnB,aAAG,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;SACvB,MAAM,IAAI,MAAM,CAAC,GAAG,EAAE;AACrB,aAAG,GAAG,MAAM,CAAC,GAAG,CAAC;SAClB,MAAM;AACL,aAAG,GAAG,SAAS,CAAC;SACjB;;AAED,cAAM,CAAC,IAAI,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,eAAe,EAAE,CAAC,CAAC;AACzE,eAAO,MAAM,CAAC;OACf,CAAC,CAAC;AACH,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ,CAAC;CACH,AACF,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/classes/timelion_function.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst loadFunctions = require('../load_functions.js');\nconst fitFunctions  = loadFunctions('fit_functions');\n\nmodule.exports = class TimelionFunction {\n  constructor(name, config) {\n    this.name = name;\n    this.args = config.args || [];\n    this.argsByName = _.indexBy(this.args, 'name');\n    this.help = config.help || '';\n    this.aliases = config.aliases || [];\n    this.extended = config.extended || false;\n\n    // WTF is this? How could you not have a fn? Wtf would the thing be used for?\n    const originalFunction = config.fn || function (input) { return input; };\n\n    // Currently only re-fits the series.\n    this.originalFn = originalFunction;\n\n    this.fn = function (args, tlConfig) {\n      const config = _.clone(tlConfig);\n      return Promise.resolve(originalFunction(args, config)).then(function (seriesList) {\n        seriesList.list = _.map(seriesList.list, function (series) {\n          const target = tlConfig.getTargetSeries();\n\n          // Don't fit if the series are already the same\n          if (_.isEqual(_.map(series.data, 0), _.map(target, 0))) return series;\n\n          let fit;\n          if (args.byName.fit) {\n            fit = args.byName.fit;\n          } else if (series.fit) {\n            fit = series.fit;\n          } else {\n            fit = 'nearest';\n          }\n\n          series.data = fitFunctions[fit](series.data, tlConfig.getTargetSeries());\n          return series;\n        });\n        return seriesList;\n      });\n    };\n  }\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/bars.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('bars', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'width',\n    types: ['number', 'null'],\n    help: 'Width of bars in pixels'\n  }, {\n    name: 'stack',\n    types: ['boolean', 'null'],\n    help: 'Should bars be stacked, true by default'\n  }],\n  help: 'Show the seriesList as bars',\n  fn: function barsFn(args) {\n    return alter(args, function (eachSeries, width, stack) {\n      eachSeries.bars = eachSeries.bars || {};\n      eachSeries.bars.show = width == null ? 1 : width;\n      eachSeries.bars.lineWidth = width == null ? 6 : width;\n      eachSeries.stack = stack == null ? true : stack;\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvYmFycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3pDLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsTUFBTSxFQUFFO0FBQ3JDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsT0FBTztBQUNiLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSxFQUFFLHlCQUF5QjtHQUNoQyxFQUNEO0FBQ0UsUUFBSSxFQUFFLE9BQU87QUFDYixTQUFLLEVBQUUsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDO0FBQzFCLFFBQUksRUFBRSx5Q0FBeUM7R0FDaEQsQ0FDRjtBQUNELE1BQUksRUFBRSw2QkFBNkI7QUFDbkMsSUFBRSxFQUFFLFNBQVMsTUFBTSxDQUFDLElBQUksRUFBRTtBQUN4QixXQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxVQUFVLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRTtBQUNyRCxnQkFBVSxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUN4QyxnQkFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxJQUFJLElBQUksR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQ2pELGdCQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLElBQUksSUFBSSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDdEQsZ0JBQVUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDO0FBQ2hELGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvYmFycy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFsdGVyID0gcmVxdWlyZSgnLi4vbGliL2FsdGVyLmpzJyk7XG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IENoYWluYWJsZSgnYmFycycsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICd3aWR0aCcsXG4gICAgICB0eXBlczogWydudW1iZXInLCAnbnVsbCddLFxuICAgICAgaGVscDogJ1dpZHRoIG9mIGJhcnMgaW4gcGl4ZWxzJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3N0YWNrJyxcbiAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nLCAnbnVsbCddLFxuICAgICAgaGVscDogJ1Nob3VsZCBiYXJzIGJlIHN0YWNrZWQsIHRydWUgYnkgZGVmYXVsdCdcbiAgICB9XG4gIF0sXG4gIGhlbHA6ICdTaG93IHRoZSBzZXJpZXNMaXN0IGFzIGJhcnMnLFxuICBmbjogZnVuY3Rpb24gYmFyc0ZuKGFyZ3MpIHtcbiAgICByZXR1cm4gYWx0ZXIoYXJncywgZnVuY3Rpb24gKGVhY2hTZXJpZXMsIHdpZHRoLCBzdGFjaykge1xuICAgICAgZWFjaFNlcmllcy5iYXJzID0gZWFjaFNlcmllcy5iYXJzIHx8IHt9O1xuICAgICAgZWFjaFNlcmllcy5iYXJzLnNob3cgPSB3aWR0aCA9PSBudWxsID8gMSA6IHdpZHRoO1xuICAgICAgZWFjaFNlcmllcy5iYXJzLmxpbmVXaWR0aCA9IHdpZHRoID09IG51bGwgPyA2IDogd2lkdGg7XG4gICAgICBlYWNoU2VyaWVzLnN0YWNrID0gc3RhY2sgPT0gbnVsbCA/IHRydWUgOiBzdGFjaztcbiAgICAgIHJldHVybiBlYWNoU2VyaWVzO1xuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/bars.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,MAAM,EAAE;AACrC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,yBAAyB;GAChC,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC;AAC1B,QAAI,EAAE,yCAAyC;GAChD,CACF;AACD,MAAI,EAAE,6BAA6B;AACnC,IAAE,EAAE,SAAS,MAAM,CAAC,IAAI,EAAE;AACxB,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE;AACrD,gBAAU,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,IAAI,EAAE,CAAC;AACxC,gBAAU,CAAC,IAAI,CAAC,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,CAAC,GAAG,KAAK,CAAC;AACjD,gBAAU,CAAC,IAAI,CAAC,SAAS,GAAG,KAAK,IAAI,IAAI,GAAG,CAAC,GAAG,KAAK,CAAC;AACtD,gBAAU,CAAC,KAAK,GAAG,KAAK,IAAI,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC;AAChD,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/bars.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('bars', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'width',\n      types: ['number', 'null'],\n      help: 'Width of bars in pixels'\n    },\n    {\n      name: 'stack',\n      types: ['boolean', 'null'],\n      help: 'Should bars be stacked, true by default'\n    }\n  ],\n  help: 'Show the seriesList as bars',\n  fn: function barsFn(args) {\n    return alter(args, function (eachSeries, width, stack) {\n      eachSeries.bars = eachSeries.bars || {};\n      eachSeries.bars.show = width == null ? 1 : width;\n      eachSeries.bars.lineWidth = width == null ? 6 : width;\n      eachSeries.stack = stack == null ? true : stack;\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/color.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar Chainable = require('../lib/classes/chainable');\nvar tinygradient = require('tinygradient');\n\nmodule.exports = new Chainable('color', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'color',\n    types: ['string'],\n    help: 'Color of series, as hex, eg #c6c6c6 is a lovely light grey. If you specify multiple colors, and have ' + 'multiple series, you will get a gradient, eg \"#00B1CC:#00FF94:#FF3A39:#CC1A6F\"'\n  }],\n  help: 'Change the color of the series',\n  fn: function colorFn(args) {\n    var colors = args.byName.color.split(':');\n\n    if (colors.length > 1 && args.byName.inputSeries.list.length > 1) {\n      colors = tinygradient(colors).rgb(args.byName.inputSeries.list.length);\n    }\n\n    var i = 0;\n    return alter(args, function (eachSeries) {\n      if (colors.length === 1 || args.byName.inputSeries.list.length === 1) {\n        eachSeries.color = colors[0];\n      } else if (colors.length > 1) {\n        eachSeries.color = colors[i].toHexString();\n        i++;\n      } else {\n        throw new Error('Hey, I need at least one color to work with');\n      }\n\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvY29sb3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN6QyxJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUN0RCxJQUFNLFlBQVksR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7O0FBRTdDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsT0FBTyxFQUFFO0FBQ3RDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsT0FBTztBQUNiLFNBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUNqQixRQUFJLEVBQUUsdUdBQXVHLEdBQzVHLGdGQUFnRjtHQUNsRixDQUNGO0FBQ0QsTUFBSSxFQUFFLGdDQUFnQztBQUN0QyxJQUFFLEVBQUUsU0FBUyxPQUFPLENBQUMsSUFBSSxFQUFFO0FBQ3pCLFFBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQzs7QUFFMUMsUUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtBQUNoRSxZQUFNLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDeEU7O0FBRUQsUUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ1YsV0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLFVBQVUsVUFBVSxFQUFFO0FBQ3ZDLFVBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7QUFDcEUsa0JBQVUsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQzlCLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtBQUM1QixrQkFBVSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDM0MsU0FBQyxFQUFFLENBQUM7T0FDTCxNQUFNO0FBQ0wsY0FBTSxJQUFJLEtBQUssQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDO09BQ2hFOztBQUVELGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvY29sb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbHRlciA9IHJlcXVpcmUoJy4uL2xpYi9hbHRlci5qcycpO1xuY29uc3QgQ2hhaW5hYmxlID0gcmVxdWlyZSgnLi4vbGliL2NsYXNzZXMvY2hhaW5hYmxlJyk7XG5jb25zdCB0aW55Z3JhZGllbnQgPSByZXF1aXJlKCd0aW55Z3JhZGllbnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdjb2xvcicsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdjb2xvcicsXG4gICAgICB0eXBlczogWydzdHJpbmcnXSxcbiAgICAgIGhlbHA6ICdDb2xvciBvZiBzZXJpZXMsIGFzIGhleCwgZWcgI2M2YzZjNiBpcyBhIGxvdmVseSBsaWdodCBncmV5LiBJZiB5b3Ugc3BlY2lmeSBtdWx0aXBsZSBjb2xvcnMsIGFuZCBoYXZlICcgK1xuICAgICAgICdtdWx0aXBsZSBzZXJpZXMsIHlvdSB3aWxsIGdldCBhIGdyYWRpZW50LCBlZyBcIiMwMEIxQ0M6IzAwRkY5NDojRkYzQTM5OiNDQzFBNkZcIidcbiAgICB9XG4gIF0sXG4gIGhlbHA6ICdDaGFuZ2UgdGhlIGNvbG9yIG9mIHRoZSBzZXJpZXMnLFxuICBmbjogZnVuY3Rpb24gY29sb3JGbihhcmdzKSB7XG4gICAgbGV0IGNvbG9ycyA9IGFyZ3MuYnlOYW1lLmNvbG9yLnNwbGl0KCc6Jyk7XG5cbiAgICBpZiAoY29sb3JzLmxlbmd0aCA+IDEgJiYgYXJncy5ieU5hbWUuaW5wdXRTZXJpZXMubGlzdC5sZW5ndGggPiAxKSB7XG4gICAgICBjb2xvcnMgPSB0aW55Z3JhZGllbnQoY29sb3JzKS5yZ2IoYXJncy5ieU5hbWUuaW5wdXRTZXJpZXMubGlzdC5sZW5ndGgpO1xuICAgIH1cblxuICAgIGxldCBpID0gMDtcbiAgICByZXR1cm4gYWx0ZXIoYXJncywgZnVuY3Rpb24gKGVhY2hTZXJpZXMpIHtcbiAgICAgIGlmIChjb2xvcnMubGVuZ3RoID09PSAxIHx8IGFyZ3MuYnlOYW1lLmlucHV0U2VyaWVzLmxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGVhY2hTZXJpZXMuY29sb3IgPSBjb2xvcnNbMF07XG4gICAgICB9IGVsc2UgaWYgKGNvbG9ycy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGVhY2hTZXJpZXMuY29sb3IgPSBjb2xvcnNbaV0udG9IZXhTdHJpbmcoKTtcbiAgICAgICAgaSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIZXksIEkgbmVlZCBhdCBsZWFzdCBvbmUgY29sb3IgdG8gd29yayB3aXRoJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlYWNoU2VyaWVzO1xuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/color.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,IAAM,YAAY,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;;AAE7C,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;AACtC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,uGAAuG,GAC5G,gFAAgF;GAClF,CACF;AACD,MAAI,EAAE,gCAAgC;AACtC,IAAE,EAAE,SAAS,OAAO,CAAC,IAAI,EAAE;AACzB,QAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;AAE1C,QAAI,MAAM,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;AAChE,YAAM,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACxE;;AAED,QAAI,CAAC,GAAG,CAAC,CAAC;AACV,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;AACvC,UAAI,MAAM,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACpE,kBAAU,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;OAC9B,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AAC5B,kBAAU,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;AAC3C,SAAC,EAAE,CAAC;OACL,MAAM;AACL,cAAM,IAAI,KAAK,CAAC,6CAA6C,CAAC,CAAC;OAChE;;AAED,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/color.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst Chainable = require('../lib/classes/chainable');\nconst tinygradient = require('tinygradient');\n\nmodule.exports = new Chainable('color', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'color',\n      types: ['string'],\n      help: 'Color of series, as hex, eg #c6c6c6 is a lovely light grey. If you specify multiple colors, and have ' +\n       'multiple series, you will get a gradient, eg \"#00B1CC:#00FF94:#FF3A39:#CC1A6F\"'\n    }\n  ],\n  help: 'Change the color of the series',\n  fn: function colorFn(args) {\n    let colors = args.byName.color.split(':');\n\n    if (colors.length > 1 && args.byName.inputSeries.list.length > 1) {\n      colors = tinygradient(colors).rgb(args.byName.inputSeries.list.length);\n    }\n\n    let i = 0;\n    return alter(args, function (eachSeries) {\n      if (colors.length === 1 || args.byName.inputSeries.list.length === 1) {\n        eachSeries.color = colors[0];\n      } else if (colors.length > 1) {\n        eachSeries.color = colors[i].toHexString();\n        i++;\n      } else {\n        throw new Error('Hey, I need at least one color to work with');\n      }\n\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/condition.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\nvar argType = require('../handlers/lib/arg_type.js');\n\nmodule.exports = new Chainable('condition', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'operator', // <, <=, >, >=, ==, !=\n    types: ['string'],\n    help: 'Operator to use for comparison, valid operators are eq (equal), ne (not equal), lt (less than), lte ' + '(less than equal), gt (greater than), gte (greater than equal)'\n  }, {\n    name: 'if',\n    types: ['number', 'seriesList', 'null'],\n    help: 'The value to which the point will be compared. If you pass a seriesList here the first series will be used'\n  }, {\n    name: 'then',\n    types: ['number', 'seriesList', 'null'],\n    help: 'The value the point will be set to if the comparison is true. If you pass a seriesList here the first series will be used'\n  }, {\n    name: 'else',\n    types: ['number', 'seriesList', 'null'],\n    help: 'The value the point will be set to if the comparison is false. If you pass a seriesList here the first series will be used'\n  }],\n  help: 'Compares each point to a number, or the same point in another series using an operator, then sets its value' + 'to the result if the condition proves true, with an optional else.',\n  aliases: ['if'],\n  fn: function conditionFn(args) {\n    var config = args.byName;\n    return alter(args, function (eachSeries) {\n      var data = _.map(eachSeries.data, function (point, i) {\n        function getNumber(source) {\n          if (argType(source) === 'number') return source;\n          if (argType(source) === 'null') return null;\n          if (argType(source) === 'seriesList') return source.list[0].data[i][1];\n          throw new Error('must be a number or a seriesList');\n        }\n\n        var ifVal = getNumber(config['if']);\n        var thenVal = getNumber(config.then);\n        var elseVal = _.isUndefined(config['else']) ? point[1] : getNumber(config['else']);\n\n        var newValue = (function () {\n          switch (config.operator) {\n            case 'lt':\n              return point[1] < ifVal ? thenVal : elseVal;\n            case 'lte':\n              return point[1] <= ifVal ? thenVal : elseVal;\n            case 'gt':\n              return point[1] > ifVal ? thenVal : elseVal;\n            case 'gte':\n              return point[1] >= ifVal ? thenVal : elseVal;\n            case 'eq':\n              return point[1] === ifVal ? thenVal : elseVal;\n            case 'ne':\n              return point[1] !== ifVal ? thenVal : elseVal;\n            default:\n              throw new Error('Unknown operator');\n          }\n        })();\n\n        return [point[0], newValue];\n      });\n      eachSeries.data = data;\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvY29uZGl0aW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDekMsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELElBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDOztBQUV2RCxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksU0FBUyxDQUFDLFdBQVcsRUFBRTtBQUMxQyxNQUFJLEVBQUUsQ0FDSjtBQUNFLFFBQUksRUFBRSxhQUFhO0FBQ25CLFNBQUssRUFBRSxDQUFDLFlBQVksQ0FBQztHQUN0QixFQUNEO0FBQ0UsUUFBSSxFQUFFLFVBQVU7QUFDaEIsU0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ2pCLFFBQUksRUFBRSxzR0FBc0csR0FDMUcsZ0VBQWdFO0dBQ25FLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsSUFBSTtBQUNWLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxZQUFZLEVBQUUsTUFBTSxDQUFDO0FBQ3ZDLFFBQUksRUFBRSw0R0FBNEc7R0FDbkgsRUFDRDtBQUNFLFFBQUksRUFBRSxNQUFNO0FBQ1osU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLFlBQVksRUFBRSxNQUFNLENBQUM7QUFDdkMsUUFBSSxFQUFFLDJIQUEySDtHQUNsSSxFQUNEO0FBQ0UsUUFBSSxFQUFFLE1BQU07QUFDWixTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsWUFBWSxFQUFFLE1BQU0sQ0FBQztBQUN2QyxRQUFJLEVBQUUsNEhBQTRIO0dBQ25JLENBQ0Y7QUFDRCxNQUFJLEVBQUUsNkdBQTZHLEdBQ2pILG9FQUFvRTtBQUN0RSxTQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUM7QUFDZixJQUFFLEVBQUUsU0FBUyxXQUFXLENBQUMsSUFBSSxFQUFFO0FBQzdCLFFBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDM0IsV0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLFVBQVUsVUFBVSxFQUFFO0FBQ3ZDLFVBQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxVQUFVLEtBQUssRUFBRSxDQUFDLEVBQUU7QUFDdEQsaUJBQVMsU0FBUyxDQUFDLE1BQU0sRUFBRTtBQUN6QixjQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxRQUFRLEVBQUUsT0FBTyxNQUFNLENBQUM7QUFDaEQsY0FBSSxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssTUFBTSxFQUFFLE9BQU8sSUFBSSxDQUFDO0FBQzVDLGNBQUksT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLFlBQVksRUFBRSxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZFLGdCQUFNLElBQUksS0FBSyxDQUFFLGtDQUFrQyxDQUFDLENBQUM7U0FDdEQ7O0FBRUQsWUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDLE1BQU0sTUFBRyxDQUFDLENBQUM7QUFDbkMsWUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2QyxZQUFNLE9BQU8sR0FBRyxDQUFDLENBQUMsV0FBVyxDQUFDLE1BQU0sUUFBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLFFBQUssQ0FBQyxDQUFDOztBQUUvRSxZQUFNLFFBQVEsR0FBSSxDQUFBLFlBQVk7QUFDNUIsa0JBQVEsTUFBTSxDQUFDLFFBQVE7QUFDckIsaUJBQUssSUFBSTtBQUNQLHFCQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBSyxLQUFLLEdBQUcsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUFBLEFBQ2hELGlCQUFLLEtBQUs7QUFDUixxQkFBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUssS0FBSyxHQUFHLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFBQSxBQUNoRCxpQkFBSyxJQUFJO0FBQ1AscUJBQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFLLEtBQUssR0FBRyxPQUFPLEdBQUcsT0FBTyxDQUFDO0FBQUEsQUFDaEQsaUJBQUssS0FBSztBQUNSLHFCQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSyxLQUFLLEdBQUcsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUFBLEFBQ2hELGlCQUFLLElBQUk7QUFDUCxxQkFBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxHQUFHLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFBQSxBQUNoRCxpQkFBSyxJQUFJO0FBQ1AscUJBQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssR0FBRyxPQUFPLEdBQUcsT0FBTyxDQUFDO0FBQUEsQUFDaEQ7QUFDRSxvQkFBTSxJQUFJLEtBQUssQ0FBRSxrQkFBa0IsQ0FBQyxDQUFDO0FBQUEsV0FDeEM7U0FDRixDQUFBLEVBQUUsQUFBQyxDQUFDOztBQUVMLGVBQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7T0FDN0IsQ0FBQyxDQUFDO0FBQ0gsZ0JBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvY29uZGl0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWx0ZXIgPSByZXF1aXJlKCcuLi9saWIvYWx0ZXIuanMnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xuY29uc3QgYXJnVHlwZSA9IHJlcXVpcmUoJy4uL2hhbmRsZXJzL2xpYi9hcmdfdHlwZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBDaGFpbmFibGUoJ2NvbmRpdGlvbicsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdvcGVyYXRvcicsIC8vIDwsIDw9LCA+LCA+PSwgPT0sICE9XG4gICAgICB0eXBlczogWydzdHJpbmcnXSxcbiAgICAgIGhlbHA6ICdPcGVyYXRvciB0byB1c2UgZm9yIGNvbXBhcmlzb24sIHZhbGlkIG9wZXJhdG9ycyBhcmUgZXEgKGVxdWFsKSwgbmUgKG5vdCBlcXVhbCksIGx0IChsZXNzIHRoYW4pLCBsdGUgJyArXG4gICAgICAgICcobGVzcyB0aGFuIGVxdWFsKSwgZ3QgKGdyZWF0ZXIgdGhhbiksIGd0ZSAoZ3JlYXRlciB0aGFuIGVxdWFsKSdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdpZicsXG4gICAgICB0eXBlczogWydudW1iZXInLCAnc2VyaWVzTGlzdCcsICdudWxsJ10sXG4gICAgICBoZWxwOiAnVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBwb2ludCB3aWxsIGJlIGNvbXBhcmVkLiBJZiB5b3UgcGFzcyBhIHNlcmllc0xpc3QgaGVyZSB0aGUgZmlyc3Qgc2VyaWVzIHdpbGwgYmUgdXNlZCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICd0aGVuJyxcbiAgICAgIHR5cGVzOiBbJ251bWJlcicsICdzZXJpZXNMaXN0JywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdUaGUgdmFsdWUgdGhlIHBvaW50IHdpbGwgYmUgc2V0IHRvIGlmIHRoZSBjb21wYXJpc29uIGlzIHRydWUuIElmIHlvdSBwYXNzIGEgc2VyaWVzTGlzdCBoZXJlIHRoZSBmaXJzdCBzZXJpZXMgd2lsbCBiZSB1c2VkJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2Vsc2UnLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJywgJ3Nlcmllc0xpc3QnLCAnbnVsbCddLFxuICAgICAgaGVscDogJ1RoZSB2YWx1ZSB0aGUgcG9pbnQgd2lsbCBiZSBzZXQgdG8gaWYgdGhlIGNvbXBhcmlzb24gaXMgZmFsc2UuIElmIHlvdSBwYXNzIGEgc2VyaWVzTGlzdCBoZXJlIHRoZSBmaXJzdCBzZXJpZXMgd2lsbCBiZSB1c2VkJ1xuICAgIH1cbiAgXSxcbiAgaGVscDogJ0NvbXBhcmVzIGVhY2ggcG9pbnQgdG8gYSBudW1iZXIsIG9yIHRoZSBzYW1lIHBvaW50IGluIGFub3RoZXIgc2VyaWVzIHVzaW5nIGFuIG9wZXJhdG9yLCB0aGVuIHNldHMgaXRzIHZhbHVlJyArXG4gICAgJ3RvIHRoZSByZXN1bHQgaWYgdGhlIGNvbmRpdGlvbiBwcm92ZXMgdHJ1ZSwgd2l0aCBhbiBvcHRpb25hbCBlbHNlLicsXG4gIGFsaWFzZXM6IFsnaWYnXSxcbiAgZm46IGZ1bmN0aW9uIGNvbmRpdGlvbkZuKGFyZ3MpIHtcbiAgICBjb25zdCBjb25maWcgPSBhcmdzLmJ5TmFtZTtcbiAgICByZXR1cm4gYWx0ZXIoYXJncywgZnVuY3Rpb24gKGVhY2hTZXJpZXMpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBfLm1hcChlYWNoU2VyaWVzLmRhdGEsIGZ1bmN0aW9uIChwb2ludCwgaSkge1xuICAgICAgICBmdW5jdGlvbiBnZXROdW1iZXIoc291cmNlKSB7XG4gICAgICAgICAgaWYgKGFyZ1R5cGUoc291cmNlKSA9PT0gJ251bWJlcicpIHJldHVybiBzb3VyY2U7XG4gICAgICAgICAgaWYgKGFyZ1R5cGUoc291cmNlKSA9PT0gJ251bGwnKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICBpZiAoYXJnVHlwZShzb3VyY2UpID09PSAnc2VyaWVzTGlzdCcpIHJldHVybiBzb3VyY2UubGlzdFswXS5kYXRhW2ldWzFdO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvciAoJ211c3QgYmUgYSBudW1iZXIgb3IgYSBzZXJpZXNMaXN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpZlZhbCA9IGdldE51bWJlcihjb25maWcuaWYpO1xuICAgICAgICBjb25zdCB0aGVuVmFsID0gZ2V0TnVtYmVyKGNvbmZpZy50aGVuKTtcbiAgICAgICAgY29uc3QgZWxzZVZhbCA9IF8uaXNVbmRlZmluZWQoY29uZmlnLmVsc2UpID8gcG9pbnRbMV0gOiBnZXROdW1iZXIoY29uZmlnLmVsc2UpO1xuXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzd2l0Y2ggKGNvbmZpZy5vcGVyYXRvcikge1xuICAgICAgICAgICAgY2FzZSAnbHQnOlxuICAgICAgICAgICAgICByZXR1cm4gcG9pbnRbMV0gPCAgIGlmVmFsID8gdGhlblZhbCA6IGVsc2VWYWw7XG4gICAgICAgICAgICBjYXNlICdsdGUnOlxuICAgICAgICAgICAgICByZXR1cm4gcG9pbnRbMV0gPD0gIGlmVmFsID8gdGhlblZhbCA6IGVsc2VWYWw7XG4gICAgICAgICAgICBjYXNlICdndCc6XG4gICAgICAgICAgICAgIHJldHVybiBwb2ludFsxXSA+ICAgaWZWYWwgPyB0aGVuVmFsIDogZWxzZVZhbDtcbiAgICAgICAgICAgIGNhc2UgJ2d0ZSc6XG4gICAgICAgICAgICAgIHJldHVybiBwb2ludFsxXSA+PSAgaWZWYWwgPyB0aGVuVmFsIDogZWxzZVZhbDtcbiAgICAgICAgICAgIGNhc2UgJ2VxJzpcbiAgICAgICAgICAgICAgcmV0dXJuIHBvaW50WzFdID09PSBpZlZhbCA/IHRoZW5WYWwgOiBlbHNlVmFsO1xuICAgICAgICAgICAgY2FzZSAnbmUnOlxuICAgICAgICAgICAgICByZXR1cm4gcG9pbnRbMV0gIT09IGlmVmFsID8gdGhlblZhbCA6IGVsc2VWYWw7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IgKCdVbmtub3duIG9wZXJhdG9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KCkpO1xuXG4gICAgICAgIHJldHVybiBbcG9pbnRbMF0sIG5ld1ZhbHVlXTtcbiAgICAgIH0pO1xuICAgICAgZWFjaFNlcmllcy5kYXRhID0gZGF0YTtcbiAgICAgIHJldHVybiBlYWNoU2VyaWVzO1xuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/condition.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/condition.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\nconst argType = require('../handlers/lib/arg_type.js');\n\nmodule.exports = new Chainable('condition', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'operator', // <, <=, >, >=, ==, !=\n      types: ['string'],\n      help: 'Operator to use for comparison, valid operators are eq (equal), ne (not equal), lt (less than), lte ' +\n        '(less than equal), gt (greater than), gte (greater than equal)'\n    },\n    {\n      name: 'if',\n      types: ['number', 'seriesList', 'null'],\n      help: 'The value to which the point will be compared. If you pass a seriesList here the first series will be used'\n    },\n    {\n      name: 'then',\n      types: ['number', 'seriesList', 'null'],\n      help: 'The value the point will be set to if the comparison is true. If you pass a seriesList here the first series will be used'\n    },\n    {\n      name: 'else',\n      types: ['number', 'seriesList', 'null'],\n      help: 'The value the point will be set to if the comparison is false. If you pass a seriesList here the first series will be used'\n    }\n  ],\n  help: 'Compares each point to a number, or the same point in another series using an operator, then sets its value' +\n    'to the result if the condition proves true, with an optional else.',\n  aliases: ['if'],\n  fn: function conditionFn(args) {\n    const config = args.byName;\n    return alter(args, function (eachSeries) {\n      const data = _.map(eachSeries.data, function (point, i) {\n        function getNumber(source) {\n          if (argType(source) === 'number') return source;\n          if (argType(source) === 'null') return null;\n          if (argType(source) === 'seriesList') return source.list[0].data[i][1];\n          throw new Error ('must be a number or a seriesList');\n        }\n\n        const ifVal = getNumber(config.if);\n        const thenVal = getNumber(config.then);\n        const elseVal = _.isUndefined(config.else) ? point[1] : getNumber(config.else);\n\n        const newValue = (function () {\n          switch (config.operator) {\n            case 'lt':\n              return point[1] <   ifVal ? thenVal : elseVal;\n            case 'lte':\n              return point[1] <=  ifVal ? thenVal : elseVal;\n            case 'gt':\n              return point[1] >   ifVal ? thenVal : elseVal;\n            case 'gte':\n              return point[1] >=  ifVal ? thenVal : elseVal;\n            case 'eq':\n              return point[1] === ifVal ? thenVal : elseVal;\n            case 'ne':\n              return point[1] !== ifVal ? thenVal : elseVal;\n            default:\n              throw new Error ('Unknown operator');\n          }\n        }());\n\n        return [point[0], newValue];\n      });\n      eachSeries.data = data;\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/arg_type.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\nmodule.exports = function argType(arg) {\n  if (_.isArray(arg)) {\n    return _.chain(arg).map(argType).flattenDeep().value();\n  }\n\n  if (_.isObject(arg) && arg) {\n    return arg.type;\n  }\n  if (arg == null) {\n    return 'null';\n  }\n  return typeof arg;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi9hcmdfdHlwZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFNUIsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLE9BQU8sQ0FBQyxHQUFHLEVBQUU7QUFDckMsTUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ2xCLFdBQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDaEIsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUNaLFdBQVcsRUFBRSxDQUNiLEtBQUssRUFBRSxDQUFDO0dBQ1o7O0FBRUQsTUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsRUFBRTtBQUMxQixXQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUM7R0FDakI7QUFDRCxNQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7QUFDZixXQUFPLE1BQU0sQ0FBQztHQUNmO0FBQ0QsU0FBTyxPQUFPLEdBQUcsQ0FBQztDQUNuQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi9hcmdfdHlwZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhcmdUeXBlKGFyZykge1xuICBpZiAoXy5pc0FycmF5KGFyZykpIHtcbiAgICByZXR1cm4gXy5jaGFpbihhcmcpXG4gICAgICAubWFwKGFyZ1R5cGUpXG4gICAgICAuZmxhdHRlbkRlZXAoKVxuICAgICAgLnZhbHVlKCk7XG4gIH1cblxuICBpZiAoXy5pc09iamVjdChhcmcpICYmIGFyZykge1xuICAgIHJldHVybiBhcmcudHlwZTtcbiAgfVxuICBpZiAoYXJnID09IG51bGwpIHtcbiAgICByZXR1cm4gJ251bGwnO1xuICB9XG4gIHJldHVybiB0eXBlb2YgYXJnO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/arg_type.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,MAAM,CAAC,OAAO,GAAG,SAAS,OAAO,CAAC,GAAG,EAAE;AACrC,MAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AAClB,WAAO,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAChB,GAAG,CAAC,OAAO,CAAC,CACZ,WAAW,EAAE,CACb,KAAK,EAAE,CAAC;GACZ;;AAED,MAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE;AAC1B,WAAO,GAAG,CAAC,IAAI,CAAC;GACjB;AACD,MAAI,GAAG,IAAI,IAAI,EAAE;AACf,WAAO,MAAM,CAAC;GACf;AACD,SAAO,OAAO,GAAG,CAAC;CACnB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/arg_type.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\nmodule.exports = function argType(arg) {\n  if (_.isArray(arg)) {\n    return _.chain(arg)\n      .map(argType)\n      .flattenDeep()\n      .value();\n  }\n\n  if (_.isObject(arg) && arg) {\n    return arg.type;\n  }\n  if (arg == null) {\n    return 'null';\n  }\n  return typeof arg;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/cusum.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('cusum', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'base',\n    types: ['number'],\n    help: 'Number to start at. Basically just adds this to the beginning of the series'\n  }],\n  help: 'Return the cumulative sum of a series, starting at a base.',\n  fn: function cusumFn(args) {\n    return alter(args, function (eachSeries, base) {\n      var pairs = eachSeries.data;\n      var total = base || 0;\n      eachSeries.data = _.map(pairs, function (point, i) {\n        total += point[1];\n        return [point[0], total];\n      });\n\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvY3VzdW0uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN6QyxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsSUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDdEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxPQUFPLEVBQUU7QUFDdEMsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxNQUFNO0FBQ1osU0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ2pCLFFBQUksRUFBRSw2RUFBNkU7R0FDcEYsQ0FDRjtBQUNELE1BQUksRUFBRSw0REFBNEQ7QUFDbEUsSUFBRSxFQUFFLFNBQVMsT0FBTyxDQUFDLElBQUksRUFBRTtBQUN6QixXQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxVQUFVLEVBQUUsSUFBSSxFQUFFO0FBQzdDLFVBQU0sS0FBSyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUM7QUFDOUIsVUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQztBQUN0QixnQkFBVSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxVQUFVLEtBQUssRUFBRSxDQUFDLEVBQUU7QUFDakQsYUFBSyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQixlQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO09BQzFCLENBQUMsQ0FBQzs7QUFFSCxhQUFPLFVBQVUsQ0FBQztLQUNuQixDQUFDLENBQUM7R0FDSjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL2N1c3VtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWx0ZXIgPSByZXF1aXJlKCcuLi9saWIvYWx0ZXIuanMnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdjdXN1bScsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdiYXNlJyxcbiAgICAgIHR5cGVzOiBbJ251bWJlciddLFxuICAgICAgaGVscDogJ051bWJlciB0byBzdGFydCBhdC4gQmFzaWNhbGx5IGp1c3QgYWRkcyB0aGlzIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNlcmllcydcbiAgICB9XG4gIF0sXG4gIGhlbHA6ICdSZXR1cm4gdGhlIGN1bXVsYXRpdmUgc3VtIG9mIGEgc2VyaWVzLCBzdGFydGluZyBhdCBhIGJhc2UuJyxcbiAgZm46IGZ1bmN0aW9uIGN1c3VtRm4oYXJncykge1xuICAgIHJldHVybiBhbHRlcihhcmdzLCBmdW5jdGlvbiAoZWFjaFNlcmllcywgYmFzZSkge1xuICAgICAgY29uc3QgcGFpcnMgPSBlYWNoU2VyaWVzLmRhdGE7XG4gICAgICBsZXQgdG90YWwgPSBiYXNlIHx8IDA7XG4gICAgICBlYWNoU2VyaWVzLmRhdGEgPSBfLm1hcChwYWlycywgZnVuY3Rpb24gKHBvaW50LCBpKSB7XG4gICAgICAgIHRvdGFsICs9IHBvaW50WzFdO1xuICAgICAgICByZXR1cm4gW3BvaW50WzBdLCB0b3RhbF07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/cusum.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;AACtC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,6EAA6E;GACpF,CACF;AACD,MAAI,EAAE,4DAA4D;AAClE,IAAE,EAAE,SAAS,OAAO,CAAC,IAAI,EAAE;AACzB,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,IAAI,EAAE;AAC7C,UAAM,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC;AAC9B,UAAI,KAAK,GAAG,IAAI,IAAI,CAAC,CAAC;AACtB,gBAAU,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,KAAK,EAAE,CAAC,EAAE;AACjD,aAAK,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;AAClB,eAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;OAC1B,CAAC,CAAC;;AAEH,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/cusum.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('cusum', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'base',\n      types: ['number'],\n      help: 'Number to start at. Basically just adds this to the beginning of the series'\n    }\n  ],\n  help: 'Return the cumulative sum of a series, starting at a base.',\n  fn: function cusumFn(args) {\n    return alter(args, function (eachSeries, base) {\n      const pairs = eachSeries.data;\n      let total = base || 0;\n      eachSeries.data = _.map(pairs, function (point, i) {\n        total += point[1];\n        return [point[0], total];\n      });\n\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/derivative.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('derivative', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }],\n  help: 'Plot the change in values over time.',\n  fn: function derivativeFn(args) {\n    return alter(args, function (eachSeries) {\n      var pairs = eachSeries.data;\n      eachSeries.data = _.map(pairs, function (point, i) {\n        if (i === 0 || pairs[i - 1][1] == null || point[1] == null) {\n          return [point[0], null];\n        }\n        return [point[0], point[1] - pairs[i - 1][1]];\n      });\n\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvZGVyaXZhdGl2ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3pDLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUN0RCxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksU0FBUyxDQUFDLFlBQVksRUFBRTtBQUMzQyxNQUFJLEVBQUUsQ0FDSjtBQUNFLFFBQUksRUFBRSxhQUFhO0FBQ25CLFNBQUssRUFBRSxDQUFDLFlBQVksQ0FBQztHQUN0QixDQUNGO0FBQ0QsTUFBSSxFQUFFLHNDQUFzQztBQUM1QyxJQUFFLEVBQUUsU0FBUyxZQUFZLENBQUMsSUFBSSxFQUFFO0FBQzlCLFdBQU8sS0FBSyxDQUFDLElBQUksRUFBRSxVQUFVLFVBQVUsRUFBRTtBQUN2QyxVQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO0FBQzlCLGdCQUFVLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFVBQVUsS0FBSyxFQUFFLENBQUMsRUFBRTtBQUNqRCxZQUFJLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRTtBQUFFLGlCQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQUU7QUFDeEYsZUFBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQy9DLENBQUMsQ0FBQzs7QUFFSCxhQUFPLFVBQVUsQ0FBQztLQUNuQixDQUFDLENBQUM7R0FDSjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL2Rlcml2YXRpdmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbHRlciA9IHJlcXVpcmUoJy4uL2xpYi9hbHRlci5qcycpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgQ2hhaW5hYmxlID0gcmVxdWlyZSgnLi4vbGliL2NsYXNzZXMvY2hhaW5hYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBDaGFpbmFibGUoJ2Rlcml2YXRpdmUnLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnaW5wdXRTZXJpZXMnLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCddXG4gICAgfVxuICBdLFxuICBoZWxwOiAnUGxvdCB0aGUgY2hhbmdlIGluIHZhbHVlcyBvdmVyIHRpbWUuJyxcbiAgZm46IGZ1bmN0aW9uIGRlcml2YXRpdmVGbihhcmdzKSB7XG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzKSB7XG4gICAgICBjb25zdCBwYWlycyA9IGVhY2hTZXJpZXMuZGF0YTtcbiAgICAgIGVhY2hTZXJpZXMuZGF0YSA9IF8ubWFwKHBhaXJzLCBmdW5jdGlvbiAocG9pbnQsIGkpIHtcbiAgICAgICAgaWYgKGkgPT09IDAgfHwgcGFpcnNbaSAtIDFdWzFdID09IG51bGwgfHwgcG9pbnRbMV0gPT0gbnVsbCkgeyByZXR1cm4gW3BvaW50WzBdLCBudWxsXTsgfVxuICAgICAgICByZXR1cm4gW3BvaW50WzBdLCBwb2ludFsxXSAtIHBhaXJzW2kgLSAxXVsxXV07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/derivative.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,YAAY,EAAE;AAC3C,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,CACF;AACD,MAAI,EAAE,sCAAsC;AAC5C,IAAE,EAAE,SAAS,YAAY,CAAC,IAAI,EAAE;AAC9B,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;AACvC,UAAM,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC;AAC9B,gBAAU,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,KAAK,EAAE,CAAC,EAAE;AACjD,YAAI,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;AAAE,iBAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;SAAE;AACxF,eAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OAC/C,CAAC,CAAC;;AAEH,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/derivative.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('derivative', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    }\n  ],\n  help: 'Plot the change in values over time.',\n  fn: function derivativeFn(args) {\n    return alter(args, function (eachSeries) {\n      const pairs = eachSeries.data;\n      eachSeries.data = _.map(pairs, function (point, i) {\n        if (i === 0 || pairs[i - 1][1] == null || point[1] == null) { return [point[0], null]; }\n        return [point[0], point[1] - pairs[i - 1][1]];\n      });\n\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/divide.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar reduce = require('../lib/reduce.js');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('divide', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'divisor',\n    types: ['seriesList', 'number'],\n    help: 'Number or series to divide by. If passing a seriesList it must contain exactly 1 series.'\n  }],\n  help: 'Divides the values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  fn: function divideFn(args) {\n    return reduce(args, function (a, b) {\n      return a / b;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvZGl2aWRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7O0FBRTNDLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsUUFBUSxFQUFFO0FBQ3ZDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsU0FBUztBQUNmLFNBQUssRUFBRSxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUM7QUFDL0IsUUFBSSxFQUFFLDBGQUEwRjtHQUNqRyxDQUNGO0FBQ0QsTUFBSSxFQUFFLG9IQUFvSDtBQUMxSCxJQUFFLEVBQUUsU0FBUyxRQUFRLENBQUMsSUFBSSxFQUFFO0FBQzFCLFdBQU8sTUFBTSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDbEMsYUFBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2QsQ0FBQyxDQUFDO0dBQ0o7Q0FDRixDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy9kaXZpZGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZWR1Y2UgPSByZXF1aXJlKCcuLi9saWIvcmVkdWNlLmpzJyk7XG5cbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdkaXZpZGUnLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnaW5wdXRTZXJpZXMnLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCddXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnZGl2aXNvcicsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0JywgJ251bWJlciddLFxuICAgICAgaGVscDogJ051bWJlciBvciBzZXJpZXMgdG8gZGl2aWRlIGJ5LiBJZiBwYXNzaW5nIGEgc2VyaWVzTGlzdCBpdCBtdXN0IGNvbnRhaW4gZXhhY3RseSAxIHNlcmllcy4nXG4gICAgfVxuICBdLFxuICBoZWxwOiAnRGl2aWRlcyB0aGUgdmFsdWVzIG9mIG9uZSBvciBtb3JlIHNlcmllcyBpbiBhIHNlcmllc0xpc3QgdG8gZWFjaCBwb3NpdGlvbiwgaW4gZWFjaCBzZXJpZXMsIG9mIHRoZSBpbnB1dCBzZXJpZXNMaXN0JyxcbiAgZm46IGZ1bmN0aW9uIGRpdmlkZUZuKGFyZ3MpIHtcbiAgICByZXR1cm4gcmVkdWNlKGFyZ3MsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYSAvIGI7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/divide.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAE3C,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,QAAQ,EAAE;AACvC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,SAAS;AACf,SAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC;AAC/B,QAAI,EAAE,0FAA0F;GACjG,CACF;AACD,MAAI,EAAE,oHAAoH;AAC1H,IAAE,EAAE,SAAS,QAAQ,CAAC,IAAI,EAAE;AAC1B,WAAO,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;AAClC,aAAO,CAAC,GAAG,CAAC,CAAC;KACd,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/divide.js",
      "sourcesContent": [
        "const reduce = require('../lib/reduce.js');\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('divide', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'divisor',\n      types: ['seriesList', 'number'],\n      help: 'Number or series to divide by. If passing a seriesList it must contain exactly 1 series.'\n    }\n  ],\n  help: 'Divides the values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  fn: function divideFn(args) {\n    return reduce(args, function (a, b) {\n      return a / b;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/reduce.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar Promise = require('bluebird');\n\n/**\n * Reduces multiple arrays into a single array using a function\n * @param {Array} args - args[0] must always be a {type: 'seriesList'}\n *\n * - If only arg[0] exists, the seriesList will be reduced to a seriesList containing a single series\n * - If multiple arguments are passed, each argument will be mapped onto each series in the seriesList.\n\n * @params {Function} fn - Function used to combine points at same index in each array of each series in the seriesList.\n * @return {seriesList}\n */\nmodule.exports = function reduce(args, fn) {\n  return Promise.all(args).then(function (args) {\n\n    var seriesList = args.shift();\n    var argument = args.shift();\n\n    if (seriesList.type !== 'seriesList') {\n      throw new Error('input must be a seriesList');\n    }\n\n    if (_.isObject(argument) && argument.type === 'seriesList') {\n      if (argument.list.length !== 1) {\n        throw new Error('argument must be a seriesList with a single series');\n      } else {\n        argument = argument.list[0];\n      }\n    }\n\n    function reduceSeries(series) {\n      return _.reduce(series, function (destinationObject, argument, i, p) {\n\n        var output = _.map(destinationObject.data, function (point, index) {\n\n          var value = point[1];\n\n          if (value == null) {\n            return [point[0], null];\n          }\n\n          if (_.isNumber(argument)) {\n            return [point[0], fn(value, argument, i, p)];\n          }\n\n          if (argument.data[index] == null || argument.data[index][1] == null) {\n            return [point[0], null];\n          }\n          return [point[0], fn(value, argument.data[index][1], i, p)];\n        });\n\n        // Output = single series\n\n        output = {\n          data: output\n        };\n        output = _.defaults(output, destinationObject);\n        return output;\n      });\n    }\n\n    var reduced = undefined;\n\n    if (argument != null) {\n      reduced = _.map(seriesList.list, function (series) {\n        return reduceSeries([series].concat(argument));\n      });\n    } else {\n      reduced = [reduceSeries(seriesList.list)];\n    }\n\n    seriesList.list = reduced;\n    return seriesList;\n  })['catch'](function (e) {\n    throw e;\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9yZWR1Y2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7QUFhcEMsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFO0FBQ3pDLFNBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLEVBQUU7O0FBRTVDLFFBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUNoQyxRQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7O0FBRTVCLFFBQUksVUFBVSxDQUFDLElBQUksS0FBSyxZQUFZLEVBQUU7QUFDcEMsWUFBTSxJQUFJLEtBQUssQ0FBRSw0QkFBNEIsQ0FBQyxDQUFDO0tBQ2hEOztBQUVELFFBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFlBQVksRUFBRTtBQUMxRCxVQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUM5QixjQUFNLElBQUksS0FBSyxDQUFFLG9EQUFvRCxDQUFDLENBQUM7T0FDeEUsTUFBTTtBQUNMLGdCQUFRLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztPQUM3QjtLQUNGOztBQUdELGFBQVMsWUFBWSxDQUFDLE1BQU0sRUFBRTtBQUM1QixhQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLFVBQVUsaUJBQWlCLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7O0FBRW5FLFlBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsSUFBSSxFQUFFLFVBQVUsS0FBSyxFQUFFLEtBQUssRUFBRTs7QUFFakUsY0FBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUV2QixjQUFJLEtBQUssSUFBSSxJQUFJLEVBQUU7QUFDakIsbUJBQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7V0FDekI7O0FBRUQsY0FBSSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFO0FBQ3hCLG1CQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1dBQzlDOztBQUVELGNBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUU7QUFDbkUsbUJBQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7V0FDekI7QUFDRCxpQkFBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDN0QsQ0FBQyxDQUFDOzs7O0FBSUgsY0FBTSxHQUFHO0FBQ1AsY0FBSSxFQUFFLE1BQU07U0FDYixDQUFDO0FBQ0YsY0FBTSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLGlCQUFpQixDQUFDLENBQUM7QUFDL0MsZUFBTyxNQUFNLENBQUM7T0FFZixDQUFDLENBQUM7S0FFSjs7QUFFRCxRQUFJLE9BQU8sWUFBQSxDQUFDOztBQUVaLFFBQUksUUFBUSxJQUFJLElBQUksRUFBRTtBQUNwQixhQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLFVBQVUsTUFBTSxFQUFFO0FBQ2pELGVBQU8sWUFBWSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7T0FDaEQsQ0FBQyxDQUFDO0tBQ0osTUFBTTtBQUNMLGFBQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztLQUMzQzs7QUFFRCxjQUFVLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQztBQUMxQixXQUFPLFVBQVUsQ0FBQztHQUVuQixDQUFDLFNBQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtBQUNwQixVQUFNLENBQUMsQ0FBQztHQUNULENBQUMsQ0FBQztDQUNKLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvbGliL3JlZHVjZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IFByb21pc2UgPSByZXF1aXJlKCdibHVlYmlyZCcpO1xuXG5cbi8qKlxuICogUmVkdWNlcyBtdWx0aXBsZSBhcnJheXMgaW50byBhIHNpbmdsZSBhcnJheSB1c2luZyBhIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIC0gYXJnc1swXSBtdXN0IGFsd2F5cyBiZSBhIHt0eXBlOiAnc2VyaWVzTGlzdCd9XG4gKlxuICogLSBJZiBvbmx5IGFyZ1swXSBleGlzdHMsIHRoZSBzZXJpZXNMaXN0IHdpbGwgYmUgcmVkdWNlZCB0byBhIHNlcmllc0xpc3QgY29udGFpbmluZyBhIHNpbmdsZSBzZXJpZXNcbiAqIC0gSWYgbXVsdGlwbGUgYXJndW1lbnRzIGFyZSBwYXNzZWQsIGVhY2ggYXJndW1lbnQgd2lsbCBiZSBtYXBwZWQgb250byBlYWNoIHNlcmllcyBpbiB0aGUgc2VyaWVzTGlzdC5cblxuICogQHBhcmFtcyB7RnVuY3Rpb259IGZuIC0gRnVuY3Rpb24gdXNlZCB0byBjb21iaW5lIHBvaW50cyBhdCBzYW1lIGluZGV4IGluIGVhY2ggYXJyYXkgb2YgZWFjaCBzZXJpZXMgaW4gdGhlIHNlcmllc0xpc3QuXG4gKiBAcmV0dXJuIHtzZXJpZXNMaXN0fVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHJlZHVjZShhcmdzLCBmbikge1xuICByZXR1cm4gUHJvbWlzZS5hbGwoYXJncykudGhlbihmdW5jdGlvbiAoYXJncykge1xuXG4gICAgY29uc3Qgc2VyaWVzTGlzdCA9IGFyZ3Muc2hpZnQoKTtcbiAgICBsZXQgYXJndW1lbnQgPSBhcmdzLnNoaWZ0KCk7XG5cbiAgICBpZiAoc2VyaWVzTGlzdC50eXBlICE9PSAnc2VyaWVzTGlzdCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvciAoJ2lucHV0IG11c3QgYmUgYSBzZXJpZXNMaXN0Jyk7XG4gICAgfVxuXG4gICAgaWYgKF8uaXNPYmplY3QoYXJndW1lbnQpICYmIGFyZ3VtZW50LnR5cGUgPT09ICdzZXJpZXNMaXN0Jykge1xuICAgICAgaWYgKGFyZ3VtZW50Lmxpc3QubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvciAoJ2FyZ3VtZW50IG11c3QgYmUgYSBzZXJpZXNMaXN0IHdpdGggYSBzaW5nbGUgc2VyaWVzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcmd1bWVudCA9IGFyZ3VtZW50Lmxpc3RbMF07XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiByZWR1Y2VTZXJpZXMoc2VyaWVzKSB7XG4gICAgICByZXR1cm4gXy5yZWR1Y2Uoc2VyaWVzLCBmdW5jdGlvbiAoZGVzdGluYXRpb25PYmplY3QsIGFyZ3VtZW50LCBpLCBwKSB7XG5cbiAgICAgICAgbGV0IG91dHB1dCA9IF8ubWFwKGRlc3RpbmF0aW9uT2JqZWN0LmRhdGEsIGZ1bmN0aW9uIChwb2ludCwgaW5kZXgpIHtcblxuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcG9pbnRbMV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtwb2ludFswXSwgbnVsbF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF8uaXNOdW1iZXIoYXJndW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gW3BvaW50WzBdLCBmbih2YWx1ZSwgYXJndW1lbnQsIGksIHApXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYXJndW1lbnQuZGF0YVtpbmRleF0gPT0gbnVsbCB8fCBhcmd1bWVudC5kYXRhW2luZGV4XVsxXSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gW3BvaW50WzBdLCBudWxsXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFtwb2ludFswXSwgZm4odmFsdWUsIGFyZ3VtZW50LmRhdGFbaW5kZXhdWzFdLCBpLCBwKV07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE91dHB1dCA9IHNpbmdsZSBzZXJpZXNcblxuICAgICAgICBvdXRwdXQgPSB7XG4gICAgICAgICAgZGF0YTogb3V0cHV0XG4gICAgICAgIH07XG4gICAgICAgIG91dHB1dCA9IF8uZGVmYXVsdHMob3V0cHV0LCBkZXN0aW5hdGlvbk9iamVjdCk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG5cbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgbGV0IHJlZHVjZWQ7XG5cbiAgICBpZiAoYXJndW1lbnQgIT0gbnVsbCkge1xuICAgICAgcmVkdWNlZCA9IF8ubWFwKHNlcmllc0xpc3QubGlzdCwgZnVuY3Rpb24gKHNlcmllcykge1xuICAgICAgICByZXR1cm4gcmVkdWNlU2VyaWVzKFtzZXJpZXNdLmNvbmNhdChhcmd1bWVudCkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZHVjZWQgPSBbcmVkdWNlU2VyaWVzKHNlcmllc0xpc3QubGlzdCldO1xuICAgIH1cblxuICAgIHNlcmllc0xpc3QubGlzdCA9IHJlZHVjZWQ7XG4gICAgcmV0dXJuIHNlcmllc0xpc3Q7XG5cbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICB0aHJvdyBlO1xuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/reduce.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/reduce.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst Promise = require('bluebird');\n\n\n/**\n * Reduces multiple arrays into a single array using a function\n * @param {Array} args - args[0] must always be a {type: 'seriesList'}\n *\n * - If only arg[0] exists, the seriesList will be reduced to a seriesList containing a single series\n * - If multiple arguments are passed, each argument will be mapped onto each series in the seriesList.\n\n * @params {Function} fn - Function used to combine points at same index in each array of each series in the seriesList.\n * @return {seriesList}\n */\nmodule.exports = function reduce(args, fn) {\n  return Promise.all(args).then(function (args) {\n\n    const seriesList = args.shift();\n    let argument = args.shift();\n\n    if (seriesList.type !== 'seriesList') {\n      throw new Error ('input must be a seriesList');\n    }\n\n    if (_.isObject(argument) && argument.type === 'seriesList') {\n      if (argument.list.length !== 1) {\n        throw new Error ('argument must be a seriesList with a single series');\n      } else {\n        argument = argument.list[0];\n      }\n    }\n\n\n    function reduceSeries(series) {\n      return _.reduce(series, function (destinationObject, argument, i, p) {\n\n        let output = _.map(destinationObject.data, function (point, index) {\n\n          const value = point[1];\n\n          if (value == null) {\n            return [point[0], null];\n          }\n\n          if (_.isNumber(argument)) {\n            return [point[0], fn(value, argument, i, p)];\n          }\n\n          if (argument.data[index] == null || argument.data[index][1] == null) {\n            return [point[0], null];\n          }\n          return [point[0], fn(value, argument.data[index][1], i, p)];\n        });\n\n        // Output = single series\n\n        output = {\n          data: output\n        };\n        output = _.defaults(output, destinationObject);\n        return output;\n\n      });\n\n    }\n\n    let reduced;\n\n    if (argument != null) {\n      reduced = _.map(seriesList.list, function (series) {\n        return reduceSeries([series].concat(argument));\n      });\n    } else {\n      reduced = [reduceSeries(seriesList.list)];\n    }\n\n    seriesList.list = reduced;\n    return seriesList;\n\n  }).catch(function (e) {\n    throw e;\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/first.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('first', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }],\n  help: 'This is an internal function that simply returns the input seriesList. Don\\'t use this',\n  fn: function firstFn(args) {\n    return alter(args, function (eachSeries) {\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvZmlyc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN6QyxJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUN0RCxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksU0FBUyxDQUFDLE9BQU8sRUFBRTtBQUN0QyxNQUFJLEVBQUUsQ0FDSjtBQUNFLFFBQUksRUFBRSxhQUFhO0FBQ25CLFNBQUssRUFBRSxDQUFDLFlBQVksQ0FBQztHQUN0QixDQUNGO0FBQ0QsTUFBSSxFQUFFLHdGQUF3RjtBQUM5RixJQUFFLEVBQUUsU0FBUyxPQUFPLENBQUMsSUFBSSxFQUFFO0FBQ3pCLFdBQU8sS0FBSyxDQUFDLElBQUksRUFBRSxVQUFVLFVBQVUsRUFBRTtBQUN2QyxhQUFPLFVBQVUsQ0FBQztLQUNuQixDQUFDLENBQUM7R0FDSjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL2ZpcnN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWx0ZXIgPSByZXF1aXJlKCcuLi9saWIvYWx0ZXIuanMnKTtcbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdmaXJzdCcsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9XG4gIF0sXG4gIGhlbHA6ICdUaGlzIGlzIGFuIGludGVybmFsIGZ1bmN0aW9uIHRoYXQgc2ltcGx5IHJldHVybnMgdGhlIGlucHV0IHNlcmllc0xpc3QuIERvblxcJ3QgdXNlIHRoaXMnLFxuICBmbjogZnVuY3Rpb24gZmlyc3RGbihhcmdzKSB7XG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzKSB7XG4gICAgICByZXR1cm4gZWFjaFNlcmllcztcbiAgICB9KTtcbiAgfVxufSk7Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/first.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;AACtC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,CACF;AACD,MAAI,EAAE,wFAAwF;AAC9F,IAAE,EAAE,SAAS,OAAO,CAAC,IAAI,EAAE;AACzB,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;AACvC,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/first.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('first', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    }\n  ],\n  help: 'This is an internal function that simply returns the input seriesList. Don\\'t use this',\n  fn: function firstFn(args) {\n    return alter(args, function (eachSeries) {\n      return eachSeries;\n    });\n  }\n});"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/fit.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\n\nvar loadFunctions = require('../lib/load_functions.js');\nvar fitFunctions = loadFunctions('fit_functions');\n\nmodule.exports = new Chainable('fit', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'mode',\n    types: ['string'],\n    help: 'The algorithm to use for fitting the series to the target. One of: ' + _.keys(fitFunctions).join(', ')\n  }],\n  help: 'Fills null values using a defined fit function',\n  fn: function absFn(args) {\n    return alter(args, function (eachSeries, mode) {\n\n      var noNulls = _.filter(eachSeries.data, 1);\n\n      eachSeries.data = fitFunctions[mode](noNulls, eachSeries.data);\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvZml0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDekMsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDOztBQUV0RCxJQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUMxRCxJQUFNLFlBQVksR0FBSSxhQUFhLENBQUMsZUFBZSxDQUFDLENBQUM7O0FBRXJELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsS0FBSyxFQUFFO0FBQ3BDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsTUFBTTtBQUNaLFNBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUNqQixRQUFJLEVBQUUscUVBQXFFLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0dBQzlHLENBQ0Y7QUFDRCxNQUFJLEVBQUUsZ0RBQWdEO0FBQ3RELElBQUUsRUFBRSxTQUFTLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFDdkIsV0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLFVBQVUsVUFBVSxFQUFFLElBQUksRUFBRTs7QUFFN0MsVUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDOztBQUU3QyxnQkFBVSxDQUFDLElBQUksR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMvRCxhQUFPLFVBQVUsQ0FBQztLQUNuQixDQUFDLENBQUM7R0FDSjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL2ZpdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFsdGVyID0gcmVxdWlyZSgnLi4vbGliL2FsdGVyLmpzJyk7XG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcblxuY29uc3QgbG9hZEZ1bmN0aW9ucyA9IHJlcXVpcmUoJy4uL2xpYi9sb2FkX2Z1bmN0aW9ucy5qcycpO1xuY29uc3QgZml0RnVuY3Rpb25zICA9IGxvYWRGdW5jdGlvbnMoJ2ZpdF9mdW5jdGlvbnMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdmaXQnLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnaW5wdXRTZXJpZXMnLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCddXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnbW9kZScsXG4gICAgICB0eXBlczogWydzdHJpbmcnXSxcbiAgICAgIGhlbHA6ICdUaGUgYWxnb3JpdGhtIHRvIHVzZSBmb3IgZml0dGluZyB0aGUgc2VyaWVzIHRvIHRoZSB0YXJnZXQuIE9uZSBvZjogJyArIF8ua2V5cyhmaXRGdW5jdGlvbnMpLmpvaW4oJywgJylcbiAgICB9XG4gIF0sXG4gIGhlbHA6ICdGaWxscyBudWxsIHZhbHVlcyB1c2luZyBhIGRlZmluZWQgZml0IGZ1bmN0aW9uJyxcbiAgZm46IGZ1bmN0aW9uIGFic0ZuKGFyZ3MpIHtcbiAgICByZXR1cm4gYWx0ZXIoYXJncywgZnVuY3Rpb24gKGVhY2hTZXJpZXMsIG1vZGUpIHtcblxuICAgICAgY29uc3Qgbm9OdWxscyA9IF8uZmlsdGVyKGVhY2hTZXJpZXMuZGF0YSwgMSk7XG5cbiAgICAgIGVhY2hTZXJpZXMuZGF0YSA9IGZpdEZ1bmN0aW9uc1ttb2RlXShub051bGxzLCBlYWNoU2VyaWVzLmRhdGEpO1xuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/fit.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;;AAEtD,IAAM,aAAa,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AAC1D,IAAM,YAAY,GAAI,aAAa,CAAC,eAAe,CAAC,CAAC;;AAErD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE;AACpC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,qEAAqE,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;GAC9G,CACF;AACD,MAAI,EAAE,gDAAgD;AACtD,IAAE,EAAE,SAAS,KAAK,CAAC,IAAI,EAAE;AACvB,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,IAAI,EAAE;;AAE7C,UAAM,OAAO,GAAG,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;;AAE7C,gBAAU,CAAC,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,UAAU,CAAC,IAAI,CAAC,CAAC;AAC/D,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/fit.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\n\nconst loadFunctions = require('../lib/load_functions.js');\nconst fitFunctions  = loadFunctions('fit_functions');\n\nmodule.exports = new Chainable('fit', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'mode',\n      types: ['string'],\n      help: 'The algorithm to use for fitting the series to the target. One of: ' + _.keys(fitFunctions).join(', ')\n    }\n  ],\n  help: 'Fills null values using a defined fit function',\n  fn: function absFn(args) {\n    return alter(args, function (eachSeries, mode) {\n\n      const noNulls = _.filter(eachSeries.data, 1);\n\n      eachSeries.data = fitFunctions[mode](noNulls, eachSeries.data);\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/graphite.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar fetch = require('node-fetch');\nvar moment = require('moment');\nvar Datasource = require('../lib/classes/datasource');\n\nmodule.exports = new Datasource('graphite', {\n  args: [{\n    name: 'metric', // _test-data.users.*.data\n    types: ['string'],\n    help: 'Graphite metric to pull, eg _test-data.users.*.data'\n  }],\n  help: '[experimental] Pull data from graphite. Configure your graphite server in Kibana\\'s Advanced Settings',\n  fn: function graphite(args, tlConfig) {\n\n    var config = args.byName;\n\n    var time = {\n      min: moment(tlConfig.time.from).format('HH:mm[_]YYYYMMDD'),\n      max: moment(tlConfig.time.to).format('HH:mm[_]YYYYMMDD')\n    };\n\n    var URL = tlConfig.settings['timelion:graphite.url'] + '/render/' + '?format=json' + '&from=' + time.min + '&until=' + time.max + '&target=' + config.metric;\n\n    return fetch(URL).then(function (resp) {\n      return resp.json();\n    }).then(function (resp) {\n      var list = _.map(resp, function (series) {\n        var data = _.map(series.datapoints, function (point) {\n          return [point[1] * 1000, point[0]];\n        });\n        return {\n          data: data,\n          type: 'series',\n          fit: 'nearest', // TODO make this customizable\n          label: series.target\n        };\n      });\n\n      return {\n        type: 'seriesList',\n        list: list\n      };\n    })['catch'](function (e) {\n      throw e;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvZ3JhcGhpdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3BDLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNqQyxJQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQzs7QUFHeEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFVBQVUsQ0FBRSxVQUFVLEVBQUU7QUFDM0MsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsUUFBUTtBQUNkLFNBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUNqQixRQUFJLEVBQUUscURBQXFEO0dBQzVELENBQ0Y7QUFDRCxNQUFJLHlHQUF3RztBQUM1RyxJQUFFLEVBQUUsU0FBUyxRQUFRLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTs7QUFFcEMsUUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQzs7QUFFM0IsUUFBTSxJQUFJLEdBQUc7QUFDWCxTQUFHLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDO0FBQzFELFNBQUcsRUFBRyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUM7S0FDMUQsQ0FBQzs7QUFFRixRQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsVUFBVSxHQUNqRSxjQUFjLEdBQ2QsUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQ25CLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUNwQixVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQzs7QUFFN0IsV0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFO0FBQ3JDLGFBQU8sSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0tBQ3BCLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLEVBQUU7QUFDdEIsVUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsVUFBVSxNQUFNLEVBQUU7QUFDekMsWUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLFVBQVUsS0FBSyxFQUFFO0FBQ3JELGlCQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNwQyxDQUFDLENBQUM7QUFDSCxlQUFPO0FBQ0wsY0FBSSxFQUFFLElBQUk7QUFDVixjQUFJLEVBQUUsUUFBUTtBQUNkLGFBQUcsRUFBRSxTQUFTO0FBQ2QsZUFBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNO1NBQ3JCLENBQUM7T0FDSCxDQUFDLENBQUM7O0FBRUgsYUFBTztBQUNMLFlBQUksRUFBRSxZQUFZO0FBQ2xCLFlBQUksRUFBRSxJQUFJO09BQ1gsQ0FBQztLQUNILENBQUMsU0FBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQ3BCLFlBQU0sQ0FBQyxDQUFDO0tBQ1QsQ0FBQyxDQUFDO0dBQ0o7Q0FDRixDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy9ncmFwaGl0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGZldGNoID0gcmVxdWlyZSgnbm9kZS1mZXRjaCcpO1xuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5jb25zdCBEYXRhc291cmNlID0gcmVxdWlyZSgnLi4vbGliL2NsYXNzZXMvZGF0YXNvdXJjZScpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IERhdGFzb3VyY2UgKCdncmFwaGl0ZScsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdtZXRyaWMnLCAvLyBfdGVzdC1kYXRhLnVzZXJzLiouZGF0YVxuICAgICAgdHlwZXM6IFsnc3RyaW5nJ10sXG4gICAgICBoZWxwOiAnR3JhcGhpdGUgbWV0cmljIHRvIHB1bGwsIGVnIF90ZXN0LWRhdGEudXNlcnMuKi5kYXRhJ1xuICAgIH1cbiAgXSxcbiAgaGVscDogYFtleHBlcmltZW50YWxdIFB1bGwgZGF0YSBmcm9tIGdyYXBoaXRlLiBDb25maWd1cmUgeW91ciBncmFwaGl0ZSBzZXJ2ZXIgaW4gS2liYW5hJ3MgQWR2YW5jZWQgU2V0dGluZ3NgLFxuICBmbjogZnVuY3Rpb24gZ3JhcGhpdGUoYXJncywgdGxDb25maWcpIHtcblxuICAgIGNvbnN0IGNvbmZpZyA9IGFyZ3MuYnlOYW1lO1xuXG4gICAgY29uc3QgdGltZSA9IHtcbiAgICAgIG1pbjogbW9tZW50KHRsQ29uZmlnLnRpbWUuZnJvbSkuZm9ybWF0KCdISDptbVtfXVlZWVlNTUREJyksXG4gICAgICBtYXg6ICBtb21lbnQodGxDb25maWcudGltZS50bykuZm9ybWF0KCdISDptbVtfXVlZWVlNTUREJylcbiAgICB9O1xuXG4gICAgY29uc3QgVVJMID0gdGxDb25maWcuc2V0dGluZ3NbJ3RpbWVsaW9uOmdyYXBoaXRlLnVybCddICsgJy9yZW5kZXIvJyArXG4gICAgICAnP2Zvcm1hdD1qc29uJyArXG4gICAgICAnJmZyb209JyArIHRpbWUubWluICtcbiAgICAgICcmdW50aWw9JyArIHRpbWUubWF4ICtcbiAgICAgICcmdGFyZ2V0PScgKyBjb25maWcubWV0cmljO1xuXG4gICAgcmV0dXJuIGZldGNoKFVSTCkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgcmV0dXJuIHJlc3AuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIGNvbnN0IGxpc3QgPSBfLm1hcChyZXNwLCBmdW5jdGlvbiAoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBfLm1hcChzZXJpZXMuZGF0YXBvaW50cywgZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgICAgcmV0dXJuIFtwb2ludFsxXSAqIDEwMDAsIHBvaW50WzBdXTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICB0eXBlOiAnc2VyaWVzJyxcbiAgICAgICAgICBmaXQ6ICduZWFyZXN0JywgLy8gVE9ETyBtYWtlIHRoaXMgY3VzdG9taXphYmxlXG4gICAgICAgICAgbGFiZWw6IHNlcmllcy50YXJnZXRcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnc2VyaWVzTGlzdCcsXG4gICAgICAgIGxpc3Q6IGxpc3RcbiAgICAgIH07XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/graphite.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,KAAK,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACpC,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,IAAM,UAAU,GAAG,OAAO,CAAC,2BAA2B,CAAC,CAAC;;AAGxD,MAAM,CAAC,OAAO,GAAG,IAAI,UAAU,CAAE,UAAU,EAAE;AAC3C,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,QAAQ;AACd,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,qDAAqD;GAC5D,CACF;AACD,MAAI,yGAAwG;AAC5G,IAAE,EAAE,SAAS,QAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE;;AAEpC,QAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;;AAE3B,QAAM,IAAI,GAAG;AACX,SAAG,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC;AAC1D,SAAG,EAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC;KAC1D,CAAC;;AAEF,QAAM,GAAG,GAAG,QAAQ,CAAC,QAAQ,CAAC,uBAAuB,CAAC,GAAG,UAAU,GACjE,cAAc,GACd,QAAQ,GAAG,IAAI,CAAC,GAAG,GACnB,SAAS,GAAG,IAAI,CAAC,GAAG,GACpB,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC;;AAE7B,WAAO,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;AACrC,aAAO,IAAI,CAAC,IAAI,EAAE,CAAC;KACpB,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;AACtB,UAAM,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,UAAU,MAAM,EAAE;AACzC,YAAM,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,EAAE,UAAU,KAAK,EAAE;AACrD,iBAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SACpC,CAAC,CAAC;AACH,eAAO;AACL,cAAI,EAAE,IAAI;AACV,cAAI,EAAE,QAAQ;AACd,aAAG,EAAE,SAAS;AACd,eAAK,EAAE,MAAM,CAAC,MAAM;SACrB,CAAC;OACH,CAAC,CAAC;;AAEH,aAAO;AACL,YAAI,EAAE,YAAY;AAClB,YAAI,EAAE,IAAI;OACX,CAAC;KACH,CAAC,SAAM,CAAC,UAAU,CAAC,EAAE;AACpB,YAAM,CAAC,CAAC;KACT,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/graphite.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst fetch = require('node-fetch');\nconst moment = require('moment');\nconst Datasource = require('../lib/classes/datasource');\n\n\nmodule.exports = new Datasource ('graphite', {\n  args: [\n    {\n      name: 'metric', // _test-data.users.*.data\n      types: ['string'],\n      help: 'Graphite metric to pull, eg _test-data.users.*.data'\n    }\n  ],\n  help: `[experimental] Pull data from graphite. Configure your graphite server in Kibana's Advanced Settings`,\n  fn: function graphite(args, tlConfig) {\n\n    const config = args.byName;\n\n    const time = {\n      min: moment(tlConfig.time.from).format('HH:mm[_]YYYYMMDD'),\n      max:  moment(tlConfig.time.to).format('HH:mm[_]YYYYMMDD')\n    };\n\n    const URL = tlConfig.settings['timelion:graphite.url'] + '/render/' +\n      '?format=json' +\n      '&from=' + time.min +\n      '&until=' + time.max +\n      '&target=' + config.metric;\n\n    return fetch(URL).then(function (resp) {\n      return resp.json();\n    }).then(function (resp) {\n      const list = _.map(resp, function (series) {\n        const data = _.map(series.datapoints, function (point) {\n          return [point[1] * 1000, point[0]];\n        });\n        return {\n          data: data,\n          type: 'series',\n          fit: 'nearest', // TODO make this customizable\n          label: series.target\n        };\n      });\n\n      return {\n        type: 'seriesList',\n        list: list\n      };\n    }).catch(function (e) {\n      throw e;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/classes/datasource.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "get",
        "inherits",
        "class-call-check"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar loadFunctions = require('../load_functions.js');\nvar fitFunctions = loadFunctions('fit_functions');\nvar TimelionFunction = require('./timelion_function');\nvar offsetTime = require('../offset_time');\n\nvar _ = require('lodash');\nvar moment = require('moment');\n\nfunction offsetSeries(response, offset) {\n  if (offset) {\n    response = _.map(response, function (point) {\n      return [offsetTime(point[0], offset, true), point[1]];\n    });\n  }\n  return response;\n}\n\nmodule.exports = (function (_TimelionFunction) {\n  _inherits(Datasource, _TimelionFunction);\n\n  function Datasource(name, config) {\n    _classCallCheck(this, Datasource);\n\n    // Additional arguments that every dataSource take\n    config.args.push({\n      name: 'offset',\n      types: ['string', 'null'],\n      help: 'Offset the series retrieval by a date expression. Eg -1M to make events from one month ago appear as if they are happening now'\n    });\n\n    config.args.push({\n      name: 'fit',\n      types: ['string', 'null'],\n      help: 'Algorithm to use for fitting series to the target time span and interval. Available: ' + _.keys(fitFunctions).join(', ')\n    });\n\n    // Wrap the original function so we can modify inputs/outputs with offset & fit\n    var originalFunction = config.fn;\n    config.fn = function (args, tlConfig) {\n      var config = _.clone(tlConfig);\n      if (args.byName.offset) {\n        config.time = _.cloneDeep(tlConfig.time);\n        config.time.from = offsetTime(config.time.from, args.byName.offset);\n        config.time.to = offsetTime(config.time.to, args.byName.offset);\n      }\n\n      return Promise.resolve(originalFunction(args, config)).then(function (seriesList) {\n        seriesList.list = _.map(seriesList.list, function (series) {\n          if (series.data.length === 0) throw new Error(name + '() returned no results');\n          series.data = offsetSeries(series.data, args.byName.offset);\n          series.fit = args.byName.fit || series.fit || 'nearest';\n          return series;\n        });\n        return seriesList;\n      });\n    };\n\n    _get(Object.getPrototypeOf(Datasource.prototype), 'constructor', this).call(this, name, config);\n\n    // You  need to call timelionFn if calling up a datasource from another datasource,\n    // otherwise teh series will end up being offset twice.\n    this.timelionFn = originalFunction;\n    this.datasource = true;\n    this.cacheKey = function (item) {\n      return item.text;\n    };\n    Object.freeze(this);\n  }\n\n  return Datasource;\n})(TimelionFunction);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9jbGFzc2VzL2RhdGFzb3VyY2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsc0JBQXNCLENBQUMsQ0FBQztBQUN0RCxJQUFNLFlBQVksR0FBSSxhQUFhLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDckQsSUFBTSxnQkFBZ0IsR0FBRyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUN4RCxJQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzs7QUFFN0MsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFHakMsU0FBUyxZQUFZLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRTtBQUN0QyxNQUFJLE1BQU0sRUFBRTtBQUNWLFlBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxVQUFVLEtBQUssRUFBRTtBQUMxQyxhQUFPLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDdkQsQ0FBQyxDQUFDO0dBQ0o7QUFDRCxTQUFPLFFBQVEsQ0FBQztDQUNqQjs7QUFFRCxNQUFNLENBQUMsT0FBTztZQUFTLFVBQVU7O0FBQ3BCLFdBRFUsVUFBVSxDQUNuQixJQUFJLEVBQUUsTUFBTSxFQUFFOzBCQURMLFVBQVU7OztBQUk3QixVQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztBQUNmLFVBQUksRUFBRSxRQUFRO0FBQ2QsV0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixVQUFJLEVBQUUsZ0lBQWdJO0tBQ3ZJLENBQUMsQ0FBQzs7QUFFSCxVQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztBQUNmLFVBQUksRUFBRSxLQUFLO0FBQ1gsV0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixVQUFJLEVBQUUsdUZBQXVGLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0tBQ2hJLENBQUMsQ0FBQzs7O0FBR0gsUUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDO0FBQ25DLFVBQU0sQ0FBQyxFQUFFLEdBQUcsVUFBVSxJQUFJLEVBQUUsUUFBUSxFQUFFO0FBQ3BDLFVBQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakMsVUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUN0QixjQUFNLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3pDLGNBQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3BFLGNBQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO09BQ2pFOztBQUVELGFBQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxVQUFVLEVBQUU7QUFDaEYsa0JBQVUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLFVBQVUsTUFBTSxFQUFFO0FBQ3pELGNBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsSUFBSSxHQUFHLHdCQUF3QixDQUFDLENBQUM7QUFDL0UsZ0JBQU0sQ0FBQyxJQUFJLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM1RCxnQkFBTSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxNQUFNLENBQUMsR0FBRyxJQUFJLFNBQVMsQ0FBQztBQUN4RCxpQkFBTyxNQUFNLENBQUM7U0FDZixDQUFDLENBQUM7QUFDSCxlQUFPLFVBQVUsQ0FBQztPQUVuQixDQUFDLENBQUM7S0FDSixDQUFDOztBQUVGLCtCQXRDbUIsVUFBVSw2Q0FzQ3ZCLElBQUksRUFBRSxNQUFNLEVBQUU7Ozs7QUFJcEIsUUFBSSxDQUFDLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQztBQUNuQyxRQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztBQUN2QixRQUFJLENBQUMsUUFBUSxHQUFHLFVBQVUsSUFBSSxFQUFFO0FBQzlCLGFBQU8sSUFBSSxDQUFDLElBQUksQ0FBQztLQUNsQixDQUFDO0FBQ0YsVUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUNyQjs7U0FoRG9CLFVBQVU7R0FBUyxnQkFBZ0IsQ0FrRHpELENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvbGliL2NsYXNzZXMvZGF0YXNvdXJjZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGxvYWRGdW5jdGlvbnMgPSByZXF1aXJlKCcuLi9sb2FkX2Z1bmN0aW9ucy5qcycpO1xuY29uc3QgZml0RnVuY3Rpb25zICA9IGxvYWRGdW5jdGlvbnMoJ2ZpdF9mdW5jdGlvbnMnKTtcbmNvbnN0IFRpbWVsaW9uRnVuY3Rpb24gPSByZXF1aXJlKCcuL3RpbWVsaW9uX2Z1bmN0aW9uJyk7XG5jb25zdCBvZmZzZXRUaW1lID0gcmVxdWlyZSgnLi4vb2Zmc2V0X3RpbWUnKTtcblxuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cblxuZnVuY3Rpb24gb2Zmc2V0U2VyaWVzKHJlc3BvbnNlLCBvZmZzZXQpIHtcbiAgaWYgKG9mZnNldCkge1xuICAgIHJlc3BvbnNlID0gXy5tYXAocmVzcG9uc2UsIGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgcmV0dXJuIFtvZmZzZXRUaW1lKHBvaW50WzBdLCBvZmZzZXQsIHRydWUpLCBwb2ludFsxXV07XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIERhdGFzb3VyY2UgZXh0ZW5kcyBUaW1lbGlvbkZ1bmN0aW9uIHtcbiAgY29uc3RydWN0b3IobmFtZSwgY29uZmlnKSB7XG5cbiAgICAvLyBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0aGF0IGV2ZXJ5IGRhdGFTb3VyY2UgdGFrZVxuICAgIGNvbmZpZy5hcmdzLnB1c2goe1xuICAgICAgbmFtZTogJ29mZnNldCcsXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddLFxuICAgICAgaGVscDogJ09mZnNldCB0aGUgc2VyaWVzIHJldHJpZXZhbCBieSBhIGRhdGUgZXhwcmVzc2lvbi4gRWcgLTFNIHRvIG1ha2UgZXZlbnRzIGZyb20gb25lIG1vbnRoIGFnbyBhcHBlYXIgYXMgaWYgdGhleSBhcmUgaGFwcGVuaW5nIG5vdydcbiAgICB9KTtcblxuICAgIGNvbmZpZy5hcmdzLnB1c2goe1xuICAgICAgbmFtZTogJ2ZpdCcsXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddLFxuICAgICAgaGVscDogJ0FsZ29yaXRobSB0byB1c2UgZm9yIGZpdHRpbmcgc2VyaWVzIHRvIHRoZSB0YXJnZXQgdGltZSBzcGFuIGFuZCBpbnRlcnZhbC4gQXZhaWxhYmxlOiAnICsgXy5rZXlzKGZpdEZ1bmN0aW9ucykuam9pbignLCAnKVxuICAgIH0pO1xuXG4gICAgLy8gV3JhcCB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gc28gd2UgY2FuIG1vZGlmeSBpbnB1dHMvb3V0cHV0cyB3aXRoIG9mZnNldCAmIGZpdFxuICAgIGNvbnN0IG9yaWdpbmFsRnVuY3Rpb24gPSBjb25maWcuZm47XG4gICAgY29uZmlnLmZuID0gZnVuY3Rpb24gKGFyZ3MsIHRsQ29uZmlnKSB7XG4gICAgICBjb25zdCBjb25maWcgPSBfLmNsb25lKHRsQ29uZmlnKTtcbiAgICAgIGlmIChhcmdzLmJ5TmFtZS5vZmZzZXQpIHtcbiAgICAgICAgY29uZmlnLnRpbWUgPSBfLmNsb25lRGVlcCh0bENvbmZpZy50aW1lKTtcbiAgICAgICAgY29uZmlnLnRpbWUuZnJvbSA9IG9mZnNldFRpbWUoY29uZmlnLnRpbWUuZnJvbSwgYXJncy5ieU5hbWUub2Zmc2V0KTtcbiAgICAgICAgY29uZmlnLnRpbWUudG8gPSBvZmZzZXRUaW1lKGNvbmZpZy50aW1lLnRvLCBhcmdzLmJ5TmFtZS5vZmZzZXQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG9yaWdpbmFsRnVuY3Rpb24oYXJncywgY29uZmlnKSkudGhlbihmdW5jdGlvbiAoc2VyaWVzTGlzdCkge1xuICAgICAgICBzZXJpZXNMaXN0Lmxpc3QgPSBfLm1hcChzZXJpZXNMaXN0Lmxpc3QsIGZ1bmN0aW9uIChzZXJpZXMpIHtcbiAgICAgICAgICBpZiAoc2VyaWVzLmRhdGEubGVuZ3RoID09PSAwKSB0aHJvdyBuZXcgRXJyb3IobmFtZSArICcoKSByZXR1cm5lZCBubyByZXN1bHRzJyk7XG4gICAgICAgICAgc2VyaWVzLmRhdGEgPSBvZmZzZXRTZXJpZXMoc2VyaWVzLmRhdGEsIGFyZ3MuYnlOYW1lLm9mZnNldCk7XG4gICAgICAgICAgc2VyaWVzLmZpdCA9IGFyZ3MuYnlOYW1lLmZpdCB8fCBzZXJpZXMuZml0IHx8ICduZWFyZXN0JztcbiAgICAgICAgICByZXR1cm4gc2VyaWVzO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlcmllc0xpc3Q7XG5cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzdXBlcihuYW1lLCBjb25maWcpO1xuXG4gICAgLy8gWW91ICBuZWVkIHRvIGNhbGwgdGltZWxpb25GbiBpZiBjYWxsaW5nIHVwIGEgZGF0YXNvdXJjZSBmcm9tIGFub3RoZXIgZGF0YXNvdXJjZSxcbiAgICAvLyBvdGhlcndpc2UgdGVoIHNlcmllcyB3aWxsIGVuZCB1cCBiZWluZyBvZmZzZXQgdHdpY2UuXG4gICAgdGhpcy50aW1lbGlvbkZuID0gb3JpZ2luYWxGdW5jdGlvbjtcbiAgICB0aGlzLmRhdGFzb3VyY2UgPSB0cnVlO1xuICAgIHRoaXMuY2FjaGVLZXkgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0udGV4dDtcbiAgICB9O1xuICAgIE9iamVjdC5mcmVlemUodGhpcyk7XG4gIH1cblxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/classes/datasource.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/classes/datasource.js",
      "sourcesContent": [
        "const loadFunctions = require('../load_functions.js');\nconst fitFunctions  = loadFunctions('fit_functions');\nconst TimelionFunction = require('./timelion_function');\nconst offsetTime = require('../offset_time');\n\nconst _ = require('lodash');\nconst moment = require('moment');\n\n\nfunction offsetSeries(response, offset) {\n  if (offset) {\n    response = _.map(response, function (point) {\n      return [offsetTime(point[0], offset, true), point[1]];\n    });\n  }\n  return response;\n}\n\nmodule.exports = class Datasource extends TimelionFunction {\n  constructor(name, config) {\n\n    // Additional arguments that every dataSource take\n    config.args.push({\n      name: 'offset',\n      types: ['string', 'null'],\n      help: 'Offset the series retrieval by a date expression. Eg -1M to make events from one month ago appear as if they are happening now'\n    });\n\n    config.args.push({\n      name: 'fit',\n      types: ['string', 'null'],\n      help: 'Algorithm to use for fitting series to the target time span and interval. Available: ' + _.keys(fitFunctions).join(', ')\n    });\n\n    // Wrap the original function so we can modify inputs/outputs with offset & fit\n    const originalFunction = config.fn;\n    config.fn = function (args, tlConfig) {\n      const config = _.clone(tlConfig);\n      if (args.byName.offset) {\n        config.time = _.cloneDeep(tlConfig.time);\n        config.time.from = offsetTime(config.time.from, args.byName.offset);\n        config.time.to = offsetTime(config.time.to, args.byName.offset);\n      }\n\n      return Promise.resolve(originalFunction(args, config)).then(function (seriesList) {\n        seriesList.list = _.map(seriesList.list, function (series) {\n          if (series.data.length === 0) throw new Error(name + '() returned no results');\n          series.data = offsetSeries(series.data, args.byName.offset);\n          series.fit = args.byName.fit || series.fit || 'nearest';\n          return series;\n        });\n        return seriesList;\n\n      });\n    };\n\n    super(name, config);\n\n    // You  need to call timelionFn if calling up a datasource from another datasource,\n    // otherwise teh series will end up being offset twice.\n    this.timelionFn = originalFunction;\n    this.datasource = true;\n    this.cacheKey = function (item) {\n      return item.text;\n    };\n    Object.freeze(this);\n  }\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/offset_time.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar moment = require('moment');\n\n// usually reverse = false on the request, true on the response\nmodule.exports = function offsetTime(milliseconds, offset, reverse) {\n  if (!offset.match(/[-+][0-9]+[mshdwMy]/g)) {\n    throw new Error('Malformed `offset` at ' + offset);\n  }\n  var parts = offset.match(/[-+]|[0-9]+|[mshdwMy]/g);\n\n  var add = parts[0] === '+';\n  add = reverse ? !add : add;\n\n  var mode = add ? 'add' : 'subtract';\n\n  var momentObj = moment(milliseconds)[mode](parts[1], parts[2]);\n  return momentObj.valueOf();\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9vZmZzZXRfdGltZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7O0FBR2pDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsU0FBUyxVQUFVLENBQUMsWUFBWSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUU7QUFDbEUsTUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsc0JBQXNCLENBQUMsRUFBRTtBQUN6QyxVQUFNLElBQUksS0FBSyxDQUFFLHdCQUF3QixHQUFHLE1BQU0sQ0FBQyxDQUFDO0dBQ3JEO0FBQ0QsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDOztBQUVyRCxNQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDO0FBQzNCLEtBQUcsR0FBRyxPQUFPLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDOztBQUUzQixNQUFNLElBQUksR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLFVBQVUsQ0FBQzs7QUFFdEMsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqRSxTQUFPLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztDQUM1QixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9vZmZzZXRfdGltZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG4vLyB1c3VhbGx5IHJldmVyc2UgPSBmYWxzZSBvbiB0aGUgcmVxdWVzdCwgdHJ1ZSBvbiB0aGUgcmVzcG9uc2Vcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gb2Zmc2V0VGltZShtaWxsaXNlY29uZHMsIG9mZnNldCwgcmV2ZXJzZSkge1xuICBpZiAoIW9mZnNldC5tYXRjaCgvWy0rXVswLTldK1ttc2hkd015XS9nKSkge1xuICAgIHRocm93IG5ldyBFcnJvciAoJ01hbGZvcm1lZCBgb2Zmc2V0YCBhdCAnICsgb2Zmc2V0KTtcbiAgfVxuICBjb25zdCBwYXJ0cyA9IG9mZnNldC5tYXRjaCgvWy0rXXxbMC05XSt8W21zaGR3TXldL2cpO1xuXG4gIGxldCBhZGQgPSBwYXJ0c1swXSA9PT0gJysnO1xuICBhZGQgPSByZXZlcnNlID8gIWFkZCA6IGFkZDtcblxuICBjb25zdCBtb2RlID0gYWRkID8gJ2FkZCcgOiAnc3VidHJhY3QnO1xuXG4gIGNvbnN0IG1vbWVudE9iaiA9IG1vbWVudChtaWxsaXNlY29uZHMpW21vZGVdKHBhcnRzWzFdLCBwYXJ0c1syXSk7XG4gIHJldHVybiBtb21lbnRPYmoudmFsdWVPZigpO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/offset_time.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;AAGjC,MAAM,CAAC,OAAO,GAAG,SAAS,UAAU,CAAC,YAAY,EAAE,MAAM,EAAE,OAAO,EAAE;AAClE,MAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sBAAsB,CAAC,EAAE;AACzC,UAAM,IAAI,KAAK,CAAE,wBAAwB,GAAG,MAAM,CAAC,CAAC;GACrD;AACD,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;;AAErD,MAAI,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC;AAC3B,KAAG,GAAG,OAAO,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;;AAE3B,MAAM,IAAI,GAAG,GAAG,GAAG,KAAK,GAAG,UAAU,CAAC;;AAEtC,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,SAAO,SAAS,CAAC,OAAO,EAAE,CAAC;CAC5B,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/offset_time.js",
      "sourcesContent": [
        "const moment = require('moment');\n\n// usually reverse = false on the request, true on the response\nmodule.exports = function offsetTime(milliseconds, offset, reverse) {\n  if (!offset.match(/[-+][0-9]+[mshdwMy]/g)) {\n    throw new Error ('Malformed `offset` at ' + offset);\n  }\n  const parts = offset.match(/[-+]|[0-9]+|[mshdwMy]/g);\n\n  let add = parts[0] === '+';\n  add = reverse ? !add : add;\n\n  const mode = add ? 'add' : 'subtract';\n\n  const momentObj = moment(milliseconds)[mode](parts[1], parts[2]);\n  return momentObj.valueOf();\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/hide.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('hide', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'hide',\n    types: ['boolean', 'null'],\n    help: 'Hide or unhide the series'\n  }],\n  help: 'Hide the series by default',\n  fn: function hideFn(args) {\n    return alter(args, function (eachSeries, hide) {\n      eachSeries._hide = hide == null ? true : hide;\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvaGlkZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3pDLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsTUFBTSxFQUFFO0FBQ3JDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsTUFBTTtBQUNaLFNBQUssRUFBRSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUM7QUFDMUIsUUFBSSxFQUFFLDJCQUEyQjtHQUNsQyxDQUNGO0FBQ0QsTUFBSSxFQUFFLDRCQUE0QjtBQUNsQyxJQUFFLEVBQUUsU0FBUyxNQUFNLENBQUMsSUFBSSxFQUFFO0FBQ3hCLFdBQU8sS0FBSyxDQUFDLElBQUksRUFBRSxVQUFVLFVBQVUsRUFBRSxJQUFJLEVBQUU7QUFDN0MsZ0JBQVUsQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQzlDLGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvaGlkZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFsdGVyID0gcmVxdWlyZSgnLi4vbGliL2FsdGVyLmpzJyk7XG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IENoYWluYWJsZSgnaGlkZScsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdoaWRlJyxcbiAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nLCAnbnVsbCddLFxuICAgICAgaGVscDogJ0hpZGUgb3IgdW5oaWRlIHRoZSBzZXJpZXMnXG4gICAgfVxuICBdLFxuICBoZWxwOiAnSGlkZSB0aGUgc2VyaWVzIGJ5IGRlZmF1bHQnLFxuICBmbjogZnVuY3Rpb24gaGlkZUZuKGFyZ3MpIHtcbiAgICByZXR1cm4gYWx0ZXIoYXJncywgZnVuY3Rpb24gKGVhY2hTZXJpZXMsIGhpZGUpIHtcbiAgICAgIGVhY2hTZXJpZXMuX2hpZGUgPSBoaWRlID09IG51bGwgPyB0cnVlIDogaGlkZTtcbiAgICAgIHJldHVybiBlYWNoU2VyaWVzO1xuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/hide.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,MAAM,EAAE;AACrC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC;AAC1B,QAAI,EAAE,2BAA2B;GAClC,CACF;AACD,MAAI,EAAE,4BAA4B;AAClC,IAAE,EAAE,SAAS,MAAM,CAAC,IAAI,EAAE;AACxB,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,IAAI,EAAE;AAC7C,gBAAU,CAAC,KAAK,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;AAC9C,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/hide.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('hide', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'hide',\n      types: ['boolean', 'null'],\n      help: 'Hide or unhide the series'\n    }\n  ],\n  help: 'Hide the series by default',\n  fn: function hideFn(args) {\n    return alter(args, function (eachSeries, hide) {\n      eachSeries._hide = hide == null ? true : hide;\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/label.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar util = require('util');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('label', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'label',\n    types: ['string'],\n    help: 'Legend value for series. You can use $1, $2, etc, in the string to match up with the regex capture groups'\n  }, {\n    name: 'regex',\n    types: ['string', 'null'],\n    help: 'A regex with capture group support'\n  }],\n  help: 'Change the label of the series. Use %s reference the existing label',\n  fn: function labelFn(args) {\n    var config = args.byName;\n    return alter(args, function (eachSeries) {\n      if (config.regex) {\n        eachSeries.label = eachSeries.label.replace(new RegExp(config.regex), config.label);\n      } else {\n        eachSeries.label = config.label;\n      }\n\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbGFiZWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN6QyxJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7O0FBRTdCLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsT0FBTyxFQUFFO0FBQ3RDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsT0FBTztBQUNiLFNBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUNqQixRQUFJLEVBQUUsMkdBQTJHO0dBQ2xILEVBQ0Q7QUFDRSxRQUFJLEVBQUUsT0FBTztBQUNiLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSxFQUFFLG9DQUFvQztHQUMzQyxDQUNGO0FBQ0QsTUFBSSxFQUFFLHFFQUFxRTtBQUMzRSxJQUFFLEVBQUcsU0FBUyxPQUFPLENBQUMsSUFBSSxFQUFFO0FBQzFCLFFBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDM0IsV0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLFVBQVUsVUFBVSxFQUFFO0FBQ3ZDLFVBQUksTUFBTSxDQUFDLEtBQUssRUFBRTtBQUNoQixrQkFBVSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO09BQ3JGLE1BQU07QUFDTCxrQkFBVSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO09BQ2pDOztBQUVELGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbGFiZWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbHRlciA9IHJlcXVpcmUoJy4uL2xpYi9hbHRlci5qcycpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxuY29uc3QgQ2hhaW5hYmxlID0gcmVxdWlyZSgnLi4vbGliL2NsYXNzZXMvY2hhaW5hYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBDaGFpbmFibGUoJ2xhYmVsJywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ2lucHV0U2VyaWVzJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnXVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2xhYmVsJyxcbiAgICAgIHR5cGVzOiBbJ3N0cmluZyddLFxuICAgICAgaGVscDogJ0xlZ2VuZCB2YWx1ZSBmb3Igc2VyaWVzLiBZb3UgY2FuIHVzZSAkMSwgJDIsIGV0YywgaW4gdGhlIHN0cmluZyB0byBtYXRjaCB1cCB3aXRoIHRoZSByZWdleCBjYXB0dXJlIGdyb3VwcydcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdyZWdleCcsXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddLFxuICAgICAgaGVscDogJ0EgcmVnZXggd2l0aCBjYXB0dXJlIGdyb3VwIHN1cHBvcnQnXG4gICAgfVxuICBdLFxuICBoZWxwOiAnQ2hhbmdlIHRoZSBsYWJlbCBvZiB0aGUgc2VyaWVzLiBVc2UgJXMgcmVmZXJlbmNlIHRoZSBleGlzdGluZyBsYWJlbCcsXG4gIGZuOiAgZnVuY3Rpb24gbGFiZWxGbihhcmdzKSB7XG4gICAgY29uc3QgY29uZmlnID0gYXJncy5ieU5hbWU7XG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzKSB7XG4gICAgICBpZiAoY29uZmlnLnJlZ2V4KSB7XG4gICAgICAgIGVhY2hTZXJpZXMubGFiZWwgPSBlYWNoU2VyaWVzLmxhYmVsLnJlcGxhY2UobmV3IFJlZ0V4cChjb25maWcucmVnZXgpLCBjb25maWcubGFiZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWFjaFNlcmllcy5sYWJlbCA9IGNvbmZpZy5sYWJlbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/label.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;;AAE7B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;AACtC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,2GAA2G;GAClH,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,oCAAoC;GAC3C,CACF;AACD,MAAI,EAAE,qEAAqE;AAC3E,IAAE,EAAG,SAAS,OAAO,CAAC,IAAI,EAAE;AAC1B,QAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AAC3B,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;AACvC,UAAI,MAAM,CAAC,KAAK,EAAE;AAChB,kBAAU,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;OACrF,MAAM;AACL,kBAAU,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;OACjC;;AAED,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/label.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst util = require('util');\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('label', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'label',\n      types: ['string'],\n      help: 'Legend value for series. You can use $1, $2, etc, in the string to match up with the regex capture groups'\n    },\n    {\n      name: 'regex',\n      types: ['string', 'null'],\n      help: 'A regex with capture group support'\n    }\n  ],\n  help: 'Change the label of the series. Use %s reference the existing label',\n  fn:  function labelFn(args) {\n    const config = args.byName;\n    return alter(args, function (eachSeries) {\n      if (config.regex) {\n        eachSeries.label = eachSeries.label.replace(new RegExp(config.regex), config.label);\n      } else {\n        eachSeries.label = config.label;\n      }\n\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/legend.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('legend', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'position',\n    types: ['string', 'boolean', 'null'],\n    help: 'Corner to place the legend in: nw, ne, se, or sw. You can also pass false to disable the legend'\n  }, {\n    name: 'columns',\n    types: ['number', 'null'],\n    help: 'Number of columns to divide the legend into'\n  }],\n  help: 'Set the position and style of the legend on the plot',\n  fn: function legendFn(args) {\n    return alter(args, function (eachSeries, position, columns) {\n      eachSeries._global = eachSeries._global || {};\n      eachSeries._global.legend = eachSeries._global.legend || {};\n      eachSeries._global.legend.noColumns = columns;\n\n      if (position === false) {\n        eachSeries._global.legend.show = false;\n      } else {\n        eachSeries._global.legend.position = position;\n      }\n\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbGVnZW5kLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7O0FBRXpDLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsUUFBUSxFQUFFO0FBQ3ZDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsVUFBVTtBQUNoQixTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQztBQUNwQyxRQUFJLEVBQUUsaUdBQWlHO0dBQ3hHLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsU0FBUztBQUNmLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSxFQUFFLDZDQUE2QztHQUNwRCxDQUNGO0FBQ0QsTUFBSSxFQUFFLHNEQUFzRDtBQUM1RCxJQUFFLEVBQUUsU0FBUyxRQUFRLENBQUMsSUFBSSxFQUFFO0FBQzFCLFdBQU8sS0FBSyxDQUFDLElBQUksRUFBRSxVQUFVLFVBQVUsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFO0FBQzFELGdCQUFVLENBQUMsT0FBTyxHQUFHLFVBQVUsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO0FBQzlDLGdCQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUM7QUFDNUQsZ0JBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7O0FBRTlDLFVBQUksUUFBUSxLQUFLLEtBQUssRUFBRTtBQUN0QixrQkFBVSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztPQUN4QyxNQUFNO0FBQ0wsa0JBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7T0FDL0M7O0FBRUQsYUFBTyxVQUFVLENBQUM7S0FDbkIsQ0FBQyxDQUFDO0dBQ0o7Q0FDRixDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy9sZWdlbmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbHRlciA9IHJlcXVpcmUoJy4uL2xpYi9hbHRlci5qcycpO1xuXG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IENoYWluYWJsZSgnbGVnZW5kJywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ2lucHV0U2VyaWVzJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnXVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3Bvc2l0aW9uJyxcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdib29sZWFuJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdDb3JuZXIgdG8gcGxhY2UgdGhlIGxlZ2VuZCBpbjogbncsIG5lLCBzZSwgb3Igc3cuIFlvdSBjYW4gYWxzbyBwYXNzIGZhbHNlIHRvIGRpc2FibGUgdGhlIGxlZ2VuZCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdjb2x1bW5zJyxcbiAgICAgIHR5cGVzOiBbJ251bWJlcicsICdudWxsJ10sXG4gICAgICBoZWxwOiAnTnVtYmVyIG9mIGNvbHVtbnMgdG8gZGl2aWRlIHRoZSBsZWdlbmQgaW50bydcbiAgICB9LFxuICBdLFxuICBoZWxwOiAnU2V0IHRoZSBwb3NpdGlvbiBhbmQgc3R5bGUgb2YgdGhlIGxlZ2VuZCBvbiB0aGUgcGxvdCcsXG4gIGZuOiBmdW5jdGlvbiBsZWdlbmRGbihhcmdzKSB7XG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzLCBwb3NpdGlvbiwgY29sdW1ucykge1xuICAgICAgZWFjaFNlcmllcy5fZ2xvYmFsID0gZWFjaFNlcmllcy5fZ2xvYmFsIHx8IHt9O1xuICAgICAgZWFjaFNlcmllcy5fZ2xvYmFsLmxlZ2VuZCA9IGVhY2hTZXJpZXMuX2dsb2JhbC5sZWdlbmQgfHwge307XG4gICAgICBlYWNoU2VyaWVzLl9nbG9iYWwubGVnZW5kLm5vQ29sdW1ucyA9IGNvbHVtbnM7XG5cbiAgICAgIGlmIChwb3NpdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgZWFjaFNlcmllcy5fZ2xvYmFsLmxlZ2VuZC5zaG93ID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlYWNoU2VyaWVzLl9nbG9iYWwubGVnZW5kLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlYWNoU2VyaWVzO1xuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/legend.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;;AAEzC,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,QAAQ,EAAE;AACvC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,UAAU;AAChB,SAAK,EAAE,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,CAAC;AACpC,QAAI,EAAE,iGAAiG;GACxG,EACD;AACE,QAAI,EAAE,SAAS;AACf,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,6CAA6C;GACpD,CACF;AACD,MAAI,EAAE,sDAAsD;AAC5D,IAAE,EAAE,SAAS,QAAQ,CAAC,IAAI,EAAE;AAC1B,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAE;AAC1D,gBAAU,CAAC,OAAO,GAAG,UAAU,CAAC,OAAO,IAAI,EAAE,CAAC;AAC9C,gBAAU,CAAC,OAAO,CAAC,MAAM,GAAG,UAAU,CAAC,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC;AAC5D,gBAAU,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,GAAG,OAAO,CAAC;;AAE9C,UAAI,QAAQ,KAAK,KAAK,EAAE;AACtB,kBAAU,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,GAAG,KAAK,CAAC;OACxC,MAAM;AACL,kBAAU,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;OAC/C;;AAED,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/legend.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('legend', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'position',\n      types: ['string', 'boolean', 'null'],\n      help: 'Corner to place the legend in: nw, ne, se, or sw. You can also pass false to disable the legend'\n    },\n    {\n      name: 'columns',\n      types: ['number', 'null'],\n      help: 'Number of columns to divide the legend into'\n    },\n  ],\n  help: 'Set the position and style of the legend on the plot',\n  fn: function legendFn(args) {\n    return alter(args, function (eachSeries, position, columns) {\n      eachSeries._global = eachSeries._global || {};\n      eachSeries._global.legend = eachSeries._global.legend || {};\n      eachSeries._global.legend.noColumns = columns;\n\n      if (position === false) {\n        eachSeries._global.legend.show = false;\n      } else {\n        eachSeries._global.legend.position = position;\n      }\n\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/lines.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('lines', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'width',\n    types: ['number', 'null'],\n    help: 'Line thickness'\n  }, {\n    name: 'fill',\n    types: ['number', 'null'],\n    help: 'Number between 0 and 10. Use for making area charts'\n  }, {\n    name: 'stack',\n    types: ['boolean', 'null'],\n    help: 'Stack lines, often misleading. At least use some fill if you use this.'\n  }, {\n    name: 'show',\n    types: ['number', 'boolean', 'null'],\n    help: 'Show or hide lines'\n  }, {\n    name: 'steps',\n    types: ['number', 'boolean', 'null'],\n    help: 'Show line as step, eg, do not interpolate between points'\n  }],\n  help: 'Show the seriesList as lines',\n  fn: function linesFn(args) {\n    return alter(args, function (eachSeries, width, fill, stack, show, steps) {\n      eachSeries.lines = eachSeries.lines || {};\n\n      // Defaults\n      if (eachSeries.lines.lineWidth == null) eachSeries.lines.lineWidth = 3;\n\n      if (width != null) eachSeries.lines.lineWidth = width;\n      if (fill != null) eachSeries.lines.fill = fill / 10;\n      if (stack != null) eachSeries.stack = stack;\n      if (show != null) eachSeries.lines.show = show;\n      if (steps != null) eachSeries.lines.steps = steps;\n\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbGluZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQzs7QUFFekMsSUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDdEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxPQUFPLEVBQUU7QUFDdEMsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxPQUFPO0FBQ2IsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsZ0JBQWdCO0dBQ3ZCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsTUFBTTtBQUNaLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSxFQUFFLHFEQUFxRDtHQUM1RCxFQUNEO0FBQ0UsUUFBSSxFQUFFLE9BQU87QUFDYixTQUFLLEVBQUUsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDO0FBQzFCLFFBQUksRUFBRSx3RUFBd0U7R0FDL0UsRUFDRDtBQUNFLFFBQUksRUFBRSxNQUFNO0FBQ1osU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUM7QUFDcEMsUUFBSSxFQUFFLG9CQUFvQjtHQUMzQixFQUNEO0FBQ0UsUUFBSSxFQUFFLE9BQU87QUFDYixTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQztBQUNwQyxRQUFJLEVBQUUsMERBQTBEO0dBQ2pFLENBQ0Y7QUFDRCxNQUFJLEVBQUUsOEJBQThCO0FBQ3BDLElBQUUsRUFBRSxTQUFTLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDekIsV0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLFVBQVUsVUFBVSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUU7QUFDeEUsZ0JBQVUsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7OztBQUcxQyxVQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJLElBQUksRUFBRSxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7O0FBRXZFLFVBQUksS0FBSyxJQUFJLElBQUksRUFBRSxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7QUFDdEQsVUFBSSxJQUFJLElBQUksSUFBSSxFQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFDckQsVUFBSSxLQUFLLElBQUksSUFBSSxFQUFFLFVBQVUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQzVDLFVBQUksSUFBSSxJQUFJLElBQUksRUFBRyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7QUFDaEQsVUFBSSxLQUFLLElBQUksSUFBSSxFQUFFLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQzs7QUFFbEQsYUFBTyxVQUFVLENBQUM7S0FDbkIsQ0FBQyxDQUFDO0dBQ0o7Q0FDRixDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy9saW5lcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFsdGVyID0gcmVxdWlyZSgnLi4vbGliL2FsdGVyLmpzJyk7XG5cbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdsaW5lcycsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICd3aWR0aCcsXG4gICAgICB0eXBlczogWydudW1iZXInLCAnbnVsbCddLFxuICAgICAgaGVscDogJ0xpbmUgdGhpY2tuZXNzJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2ZpbGwnLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdOdW1iZXIgYmV0d2VlbiAwIGFuZCAxMC4gVXNlIGZvciBtYWtpbmcgYXJlYSBjaGFydHMnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnc3RhY2snLFxuICAgICAgdHlwZXM6IFsnYm9vbGVhbicsICdudWxsJ10sXG4gICAgICBoZWxwOiAnU3RhY2sgbGluZXMsIG9mdGVuIG1pc2xlYWRpbmcuIEF0IGxlYXN0IHVzZSBzb21lIGZpbGwgaWYgeW91IHVzZSB0aGlzLidcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdzaG93JyxcbiAgICAgIHR5cGVzOiBbJ251bWJlcicsICdib29sZWFuJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdTaG93IG9yIGhpZGUgbGluZXMnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnc3RlcHMnLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJywgJ2Jvb2xlYW4nLCAnbnVsbCddLFxuICAgICAgaGVscDogJ1Nob3cgbGluZSBhcyBzdGVwLCBlZywgZG8gbm90IGludGVycG9sYXRlIGJldHdlZW4gcG9pbnRzJ1xuICAgIH1cbiAgXSxcbiAgaGVscDogJ1Nob3cgdGhlIHNlcmllc0xpc3QgYXMgbGluZXMnLFxuICBmbjogZnVuY3Rpb24gbGluZXNGbihhcmdzKSB7XG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzLCB3aWR0aCwgZmlsbCwgc3RhY2ssIHNob3csIHN0ZXBzKSB7XG4gICAgICBlYWNoU2VyaWVzLmxpbmVzID0gZWFjaFNlcmllcy5saW5lcyB8fCB7fTtcblxuICAgICAgLy8gRGVmYXVsdHNcbiAgICAgIGlmIChlYWNoU2VyaWVzLmxpbmVzLmxpbmVXaWR0aCA9PSBudWxsKSBlYWNoU2VyaWVzLmxpbmVzLmxpbmVXaWR0aCA9IDM7XG5cbiAgICAgIGlmICh3aWR0aCAhPSBudWxsKSBlYWNoU2VyaWVzLmxpbmVzLmxpbmVXaWR0aCA9IHdpZHRoO1xuICAgICAgaWYgKGZpbGwgIT0gbnVsbCkgIGVhY2hTZXJpZXMubGluZXMuZmlsbCA9IGZpbGwgLyAxMDtcbiAgICAgIGlmIChzdGFjayAhPSBudWxsKSBlYWNoU2VyaWVzLnN0YWNrID0gc3RhY2s7XG4gICAgICBpZiAoc2hvdyAhPSBudWxsKSAgZWFjaFNlcmllcy5saW5lcy5zaG93ID0gc2hvdztcbiAgICAgIGlmIChzdGVwcyAhPSBudWxsKSBlYWNoU2VyaWVzLmxpbmVzLnN0ZXBzID0gc3RlcHM7XG5cbiAgICAgIHJldHVybiBlYWNoU2VyaWVzO1xuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/lines.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;;AAEzC,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;AACtC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,gBAAgB;GACvB,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,qDAAqD;GAC5D,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC;AAC1B,QAAI,EAAE,wEAAwE;GAC/E,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,CAAC;AACpC,QAAI,EAAE,oBAAoB;GAC3B,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,CAAC;AACpC,QAAI,EAAE,0DAA0D;GACjE,CACF;AACD,MAAI,EAAE,8BAA8B;AACpC,IAAE,EAAE,SAAS,OAAO,CAAC,IAAI,EAAE;AACzB,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE;AACxE,gBAAU,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,IAAI,EAAE,CAAC;;;AAG1C,UAAI,UAAU,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,EAAE,UAAU,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC;;AAEvE,UAAI,KAAK,IAAI,IAAI,EAAE,UAAU,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;AACtD,UAAI,IAAI,IAAI,IAAI,EAAG,UAAU,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;AACrD,UAAI,KAAK,IAAI,IAAI,EAAE,UAAU,CAAC,KAAK,GAAG,KAAK,CAAC;AAC5C,UAAI,IAAI,IAAI,IAAI,EAAG,UAAU,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;AAChD,UAAI,KAAK,IAAI,IAAI,EAAE,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;;AAElD,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/lines.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('lines', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'width',\n      types: ['number', 'null'],\n      help: 'Line thickness'\n    },\n    {\n      name: 'fill',\n      types: ['number', 'null'],\n      help: 'Number between 0 and 10. Use for making area charts'\n    },\n    {\n      name: 'stack',\n      types: ['boolean', 'null'],\n      help: 'Stack lines, often misleading. At least use some fill if you use this.'\n    },\n    {\n      name: 'show',\n      types: ['number', 'boolean', 'null'],\n      help: 'Show or hide lines'\n    },\n    {\n      name: 'steps',\n      types: ['number', 'boolean', 'null'],\n      help: 'Show line as step, eg, do not interpolate between points'\n    }\n  ],\n  help: 'Show the seriesList as lines',\n  fn: function linesFn(args) {\n    return alter(args, function (eachSeries, width, fill, stack, show, steps) {\n      eachSeries.lines = eachSeries.lines || {};\n\n      // Defaults\n      if (eachSeries.lines.lineWidth == null) eachSeries.lines.lineWidth = 3;\n\n      if (width != null) eachSeries.lines.lineWidth = width;\n      if (fill != null)  eachSeries.lines.fill = fill / 10;\n      if (stack != null) eachSeries.stack = stack;\n      if (show != null)  eachSeries.lines.show = show;\n      if (steps != null) eachSeries.lines.steps = steps;\n\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/log.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('log', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'base',\n    types: ['number'],\n    help: 'Set logarithmic base, 10 by default'\n\n  }],\n  help: 'Return the logarithm value of each value in the series list (default base: 10)',\n  fn: function logFn(args) {\n    var config = args.byName;\n    return alter(args, function (eachSeries) {\n      var data = _.map(eachSeries.data, function (point) {\n        return [point[0], Math.log(point[1]) / Math.log(config.base || 10)];\n      });\n      eachSeries.data = data;\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDekMsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsS0FBSyxFQUFFO0FBQ3BDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsTUFBTTtBQUNaLFNBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUNqQixRQUFJLEVBQUUscUNBQXFDOztHQUU1QyxDQUNGO0FBQ0QsTUFBSSxFQUFFLGdGQUFnRjtBQUN0RixJQUFFLEVBQUUsU0FBUyxLQUFLLENBQUMsSUFBSSxFQUFFO0FBQ3ZCLFFBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDM0IsV0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLFVBQVUsVUFBVSxFQUFFO0FBQ3ZDLFVBQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxVQUFVLEtBQUssRUFBRTtBQUNuRCxlQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7T0FDckUsQ0FBQyxDQUFDO0FBQ0gsZ0JBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWx0ZXIgPSByZXF1aXJlKCcuLi9saWIvYWx0ZXIuanMnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdsb2cnLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnaW5wdXRTZXJpZXMnLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCddXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnYmFzZScsXG4gICAgICB0eXBlczogWydudW1iZXInXSxcbiAgICAgIGhlbHA6ICdTZXQgbG9nYXJpdGhtaWMgYmFzZSwgMTAgYnkgZGVmYXVsdCdcblxuICAgIH1cbiAgXSxcbiAgaGVscDogJ1JldHVybiB0aGUgbG9nYXJpdGhtIHZhbHVlIG9mIGVhY2ggdmFsdWUgaW4gdGhlIHNlcmllcyBsaXN0IChkZWZhdWx0IGJhc2U6IDEwKScsXG4gIGZuOiBmdW5jdGlvbiBsb2dGbihhcmdzKSB7XG4gICAgY29uc3QgY29uZmlnID0gYXJncy5ieU5hbWU7XG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzKSB7XG4gICAgICBjb25zdCBkYXRhID0gXy5tYXAoZWFjaFNlcmllcy5kYXRhLCBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIFtwb2ludFswXSwgTWF0aC5sb2cocG9pbnRbMV0pIC8gTWF0aC5sb2coY29uZmlnLmJhc2UgfHwgMTApXTtcbiAgICAgIH0pO1xuICAgICAgZWFjaFNlcmllcy5kYXRhID0gZGF0YTtcbiAgICAgIHJldHVybiBlYWNoU2VyaWVzO1xuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/log.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE;AACpC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,qCAAqC;;GAE5C,CACF;AACD,MAAI,EAAE,gFAAgF;AACtF,IAAE,EAAE,SAAS,KAAK,CAAC,IAAI,EAAE;AACvB,QAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AAC3B,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;AACvC,UAAM,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,KAAK,EAAE;AACnD,eAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;OACrE,CAAC,CAAC;AACH,gBAAU,CAAC,IAAI,GAAG,IAAI,CAAC;AACvB,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/log.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('log', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'base',\n      types: ['number'],\n      help: 'Set logarithmic base, 10 by default'\n\n    }\n  ],\n  help: 'Return the logarithm value of each value in the series list (default base: 10)',\n  fn: function logFn(args) {\n    const config = args.byName;\n    return alter(args, function (eachSeries) {\n      const data = _.map(eachSeries.data, function (point) {\n        return [point[0], Math.log(point[1]) / Math.log(config.base || 10)];\n      });\n      eachSeries.data = data;\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/max.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar reduce = require('../lib/reduce.js');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('max', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'value',\n    types: ['seriesList', 'number'],\n    help: 'Sets the point to whichever is higher, the existing value, or the one passed.' + ' If passing a seriesList it must contain exactly 1 series.'\n\n  }],\n  help: 'Maximum values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  fn: function maxFn(args) {\n    return reduce(args, function (a, b) {\n      return Math.max(a, b);\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbWF4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7O0FBRTNDLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsS0FBSyxFQUFFO0FBQ3BDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsT0FBTztBQUNiLFNBQUssRUFBRSxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUM7QUFDL0IsUUFBSSxFQUFFLCtFQUErRSxHQUNyRiw0REFBNEQ7O0dBRTdELENBRUY7QUFDRCxNQUFJLEVBQUUsZ0hBQWdIO0FBQ3RILElBQUUsRUFBRSxTQUFTLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFDdkIsV0FBTyxNQUFNLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUNsQyxhQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0tBQ3ZCLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbWF4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVkdWNlID0gcmVxdWlyZSgnLi4vbGliL3JlZHVjZS5qcycpO1xuXG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IENoYWluYWJsZSgnbWF4Jywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ2lucHV0U2VyaWVzJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnXVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3ZhbHVlJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnLCAnbnVtYmVyJ10sXG4gICAgICBoZWxwOiAnU2V0cyB0aGUgcG9pbnQgdG8gd2hpY2hldmVyIGlzIGhpZ2hlciwgdGhlIGV4aXN0aW5nIHZhbHVlLCBvciB0aGUgb25lIHBhc3NlZC4nICtcbiAgICAgICcgSWYgcGFzc2luZyBhIHNlcmllc0xpc3QgaXQgbXVzdCBjb250YWluIGV4YWN0bHkgMSBzZXJpZXMuJ1xuXG4gICAgfVxuXG4gIF0sXG4gIGhlbHA6ICdNYXhpbXVtIHZhbHVlcyBvZiBvbmUgb3IgbW9yZSBzZXJpZXMgaW4gYSBzZXJpZXNMaXN0IHRvIGVhY2ggcG9zaXRpb24sIGluIGVhY2ggc2VyaWVzLCBvZiB0aGUgaW5wdXQgc2VyaWVzTGlzdCcsXG4gIGZuOiBmdW5jdGlvbiBtYXhGbihhcmdzKSB7XG4gICAgcmV0dXJuIHJlZHVjZShhcmdzLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIE1hdGgubWF4KGEsIGIpO1xuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/max.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAE3C,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE;AACpC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC;AAC/B,QAAI,EAAE,+EAA+E,GACrF,4DAA4D;;GAE7D,CAEF;AACD,MAAI,EAAE,gHAAgH;AACtH,IAAE,EAAE,SAAS,KAAK,CAAC,IAAI,EAAE;AACvB,WAAO,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;AAClC,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACvB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/max.js",
      "sourcesContent": [
        "const reduce = require('../lib/reduce.js');\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('max', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'value',\n      types: ['seriesList', 'number'],\n      help: 'Sets the point to whichever is higher, the existing value, or the one passed.' +\n      ' If passing a seriesList it must contain exactly 1 series.'\n\n    }\n\n  ],\n  help: 'Maximum values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  fn: function maxFn(args) {\n    return reduce(args, function (a, b) {\n      return Math.max(a, b);\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/min.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar reduce = require('../lib/reduce.js');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('min', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'value',\n    types: ['seriesList', 'number'],\n    help: 'Sets the point to whichever is lower, the existing value, or the one passed.' + ' If passing a seriesList it must contain exactly 1 series.'\n\n  }],\n  help: 'Minimum values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  fn: function minFn(args) {\n    return reduce(args, function (a, b) {\n      return Math.min(a, b);\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7O0FBRTNDLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsS0FBSyxFQUFFO0FBQ3BDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsT0FBTztBQUNiLFNBQUssRUFBRSxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUM7QUFDL0IsUUFBSSxFQUFFLDhFQUE4RSxHQUNwRiw0REFBNEQ7O0dBRTdELENBRUY7QUFDRCxNQUFJLEVBQUUsZ0hBQWdIO0FBQ3RILElBQUUsRUFBRSxTQUFTLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFDdkIsV0FBTyxNQUFNLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUNsQyxhQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0tBQ3ZCLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVkdWNlID0gcmVxdWlyZSgnLi4vbGliL3JlZHVjZS5qcycpO1xuXG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IENoYWluYWJsZSgnbWluJywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ2lucHV0U2VyaWVzJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnXVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3ZhbHVlJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnLCAnbnVtYmVyJ10sXG4gICAgICBoZWxwOiAnU2V0cyB0aGUgcG9pbnQgdG8gd2hpY2hldmVyIGlzIGxvd2VyLCB0aGUgZXhpc3RpbmcgdmFsdWUsIG9yIHRoZSBvbmUgcGFzc2VkLicgK1xuICAgICAgJyBJZiBwYXNzaW5nIGEgc2VyaWVzTGlzdCBpdCBtdXN0IGNvbnRhaW4gZXhhY3RseSAxIHNlcmllcy4nXG5cbiAgICB9XG5cbiAgXSxcbiAgaGVscDogJ01pbmltdW0gdmFsdWVzIG9mIG9uZSBvciBtb3JlIHNlcmllcyBpbiBhIHNlcmllc0xpc3QgdG8gZWFjaCBwb3NpdGlvbiwgaW4gZWFjaCBzZXJpZXMsIG9mIHRoZSBpbnB1dCBzZXJpZXNMaXN0JyxcbiAgZm46IGZ1bmN0aW9uIG1pbkZuKGFyZ3MpIHtcbiAgICByZXR1cm4gcmVkdWNlKGFyZ3MsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gTWF0aC5taW4oYSwgYik7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/min.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAE3C,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE;AACpC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC;AAC/B,QAAI,EAAE,8EAA8E,GACpF,4DAA4D;;GAE7D,CAEF;AACD,MAAI,EAAE,gHAAgH;AACtH,IAAE,EAAE,SAAS,KAAK,CAAC,IAAI,EAAE;AACvB,WAAO,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;AAClC,aAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KACvB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/min.js",
      "sourcesContent": [
        "const reduce = require('../lib/reduce.js');\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('min', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'value',\n      types: ['seriesList', 'number'],\n      help: 'Sets the point to whichever is lower, the existing value, or the one passed.' +\n      ' If passing a seriesList it must contain exactly 1 series.'\n\n    }\n\n  ],\n  help: 'Minimum values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  fn: function minFn(args) {\n    return reduce(args, function (a, b) {\n      return Math.min(a, b);\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/movingaverage.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('movingaverage', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'window',\n    types: ['number'],\n    help: 'Number of points to average over'\n  }, {\n    name: 'position',\n    types: ['string', 'null'],\n    help: 'Position of the averaged points relative to the result time.  Options are left, right, and center (default).'\n  }],\n  aliases: ['mvavg'],\n  help: 'Calculate the moving average over a given window. Nice for smoothing noisey series',\n  fn: function movingaverageFn(args) {\n    return alter(args, function (eachSeries, _window, _position) {\n\n      _position = _position || 'center';\n      var validPositions = ['left', 'right', 'center'];\n      if (!_.contains(validPositions, _position)) throw new Error('Valid positions are: ' + validPositions.join(', '));\n\n      var pairs = eachSeries.data;\n      var pairsLen = pairs.length;\n      eachSeries.label = eachSeries.label + ' mvavg=' + _window;\n\n      function toPoint(point, pairSlice) {\n        var average = _.chain(pairSlice).map(1).reduce(function (memo, num) {\n          return memo + num;\n        }).value() / _window;\n\n        return [point[0], average];\n      }\n\n      if (_position === 'center') {\n        (function () {\n          var windowLeft = Math.floor(_window / 2);\n          var windowRight = _window - windowLeft;\n          eachSeries.data = _.map(pairs, function (point, i) {\n            if (i < windowLeft || i >= pairsLen - windowRight) return [point[0], null];\n            return toPoint(point, pairs.slice(i - windowLeft, i + windowRight));\n          });\n        })();\n      } else if (_position === 'left') {\n        eachSeries.data = _.map(pairs, function (point, i) {\n          if (i < _window) return [point[0], null];\n          return toPoint(point, pairs.slice(i - _window, i));\n        });\n      } else if (_position === 'right') {\n        eachSeries.data = _.map(pairs, function (point, i) {\n          if (i >= pairsLen - _window) return [point[0], null];\n          return toPoint(point, pairs.slice(i, i + _window));\n        });\n      }\n\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbW92aW5nYXZlcmFnZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3pDLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUN0RCxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksU0FBUyxDQUFDLGVBQWUsRUFBRTtBQUM5QyxNQUFJLEVBQUUsQ0FDSjtBQUNFLFFBQUksRUFBRSxhQUFhO0FBQ25CLFNBQUssRUFBRSxDQUFDLFlBQVksQ0FBQztHQUN0QixFQUNEO0FBQ0UsUUFBSSxFQUFFLFFBQVE7QUFDZCxTQUFLLEVBQUUsQ0FBQyxRQUFRLENBQUM7QUFDakIsUUFBSSxFQUFFLGtDQUFrQztHQUN6QyxFQUNEO0FBQ0UsUUFBSSxFQUFFLFVBQVU7QUFDaEIsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsOEdBQThHO0dBQ3JILENBQ0Y7QUFDRCxTQUFPLEVBQUUsQ0FBQyxPQUFPLENBQUM7QUFDbEIsTUFBSSxFQUFFLG9GQUFvRjtBQUMxRixJQUFFLEVBQUUsU0FBUyxlQUFlLENBQUMsSUFBSSxFQUFFO0FBQ2pDLFdBQU8sS0FBSyxDQUFDLElBQUksRUFBRSxVQUFVLFVBQVUsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFOztBQUUzRCxlQUFTLEdBQUcsU0FBUyxJQUFJLFFBQVEsQ0FBQztBQUNsQyxVQUFNLGNBQWMsR0FBRyxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDbkQsVUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxFQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLEdBQUcsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDOztBQUVqSCxVQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO0FBQzlCLFVBQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7QUFDOUIsZ0JBQVUsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssR0FBRyxTQUFTLEdBQUcsT0FBTyxDQUFDOztBQUUxRCxlQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFO0FBQ2pDLFlBQU0sT0FBTyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQ2pDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxJQUFJLEVBQUUsR0FBRyxFQUFFO0FBQ2xDLGlCQUFRLElBQUksR0FBRyxHQUFHLENBQUU7U0FDckIsQ0FBQyxDQUFDLEtBQUssRUFBRSxHQUFHLE9BQU8sQ0FBQzs7QUFFckIsZUFBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztPQUM1Qjs7QUFFRCxVQUFJLFNBQVMsS0FBSyxRQUFRLEVBQUU7O0FBQzFCLGNBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzNDLGNBQU0sV0FBVyxHQUFHLE9BQU8sR0FBRyxVQUFVLENBQUM7QUFDekMsb0JBQVUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsVUFBVSxLQUFLLEVBQUUsQ0FBQyxFQUFFO0FBQ2pELGdCQUFJLENBQUMsR0FBRyxVQUFVLElBQUksQ0FBQyxJQUFJLFFBQVEsR0FBRyxXQUFXLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUMzRSxtQkFBTyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLFVBQVUsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztXQUNyRSxDQUFDLENBQUM7O09BQ0osTUFBTSxJQUFJLFNBQVMsS0FBSyxNQUFNLEVBQUU7QUFDL0Isa0JBQVUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsVUFBVSxLQUFLLEVBQUUsQ0FBQyxFQUFFO0FBQ2pELGNBQUksQ0FBQyxHQUFHLE9BQU8sRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3pDLGlCQUFPLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEQsQ0FBQyxDQUFDO09BRUosTUFBTSxJQUFJLFNBQVMsS0FBSyxPQUFPLEVBQUU7QUFDaEMsa0JBQVUsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsVUFBVSxLQUFLLEVBQUUsQ0FBQyxFQUFFO0FBQ2pELGNBQUksQ0FBQyxJQUFJLFFBQVEsR0FBRyxPQUFPLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNyRCxpQkFBTyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFHLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQ3JELENBQUMsQ0FBQztPQUVKOztBQUVELGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbW92aW5nYXZlcmFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFsdGVyID0gcmVxdWlyZSgnLi4vbGliL2FsdGVyLmpzJyk7XG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IENoYWluYWJsZSgnbW92aW5nYXZlcmFnZScsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICd3aW5kb3cnLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJ10sXG4gICAgICBoZWxwOiAnTnVtYmVyIG9mIHBvaW50cyB0byBhdmVyYWdlIG92ZXInXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAncG9zaXRpb24nLFxuICAgICAgdHlwZXM6IFsnc3RyaW5nJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdQb3NpdGlvbiBvZiB0aGUgYXZlcmFnZWQgcG9pbnRzIHJlbGF0aXZlIHRvIHRoZSByZXN1bHQgdGltZS4gIE9wdGlvbnMgYXJlIGxlZnQsIHJpZ2h0LCBhbmQgY2VudGVyIChkZWZhdWx0KS4nXG4gICAgfVxuICBdLFxuICBhbGlhc2VzOiBbJ212YXZnJ10sXG4gIGhlbHA6ICdDYWxjdWxhdGUgdGhlIG1vdmluZyBhdmVyYWdlIG92ZXIgYSBnaXZlbiB3aW5kb3cuIE5pY2UgZm9yIHNtb290aGluZyBub2lzZXkgc2VyaWVzJyxcbiAgZm46IGZ1bmN0aW9uIG1vdmluZ2F2ZXJhZ2VGbihhcmdzKSB7XG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzLCBfd2luZG93LCBfcG9zaXRpb24pIHtcblxuICAgICAgX3Bvc2l0aW9uID0gX3Bvc2l0aW9uIHx8ICdjZW50ZXInO1xuICAgICAgY29uc3QgdmFsaWRQb3NpdGlvbnMgPSBbJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJ107XG4gICAgICBpZiAoIV8uY29udGFpbnModmFsaWRQb3NpdGlvbnMsIF9wb3NpdGlvbikpIHRocm93IG5ldyBFcnJvcignVmFsaWQgcG9zaXRpb25zIGFyZTogJyArIHZhbGlkUG9zaXRpb25zLmpvaW4oJywgJykpO1xuXG4gICAgICBjb25zdCBwYWlycyA9IGVhY2hTZXJpZXMuZGF0YTtcbiAgICAgIGNvbnN0IHBhaXJzTGVuID0gcGFpcnMubGVuZ3RoO1xuICAgICAgZWFjaFNlcmllcy5sYWJlbCA9IGVhY2hTZXJpZXMubGFiZWwgKyAnIG12YXZnPScgKyBfd2luZG93O1xuXG4gICAgICBmdW5jdGlvbiB0b1BvaW50KHBvaW50LCBwYWlyU2xpY2UpIHtcbiAgICAgICAgY29uc3QgYXZlcmFnZSA9IF8uY2hhaW4ocGFpclNsaWNlKVxuICAgICAgICAubWFwKDEpLnJlZHVjZShmdW5jdGlvbiAobWVtbywgbnVtKSB7XG4gICAgICAgICAgcmV0dXJuIChtZW1vICsgbnVtKTtcbiAgICAgICAgfSkudmFsdWUoKSAvIF93aW5kb3c7XG5cbiAgICAgICAgcmV0dXJuIFtwb2ludFswXSwgYXZlcmFnZV07XG4gICAgICB9XG5cbiAgICAgIGlmIChfcG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgIGNvbnN0IHdpbmRvd0xlZnQgPSBNYXRoLmZsb29yKF93aW5kb3cgLyAyKTtcbiAgICAgICAgY29uc3Qgd2luZG93UmlnaHQgPSBfd2luZG93IC0gd2luZG93TGVmdDtcbiAgICAgICAgZWFjaFNlcmllcy5kYXRhID0gXy5tYXAocGFpcnMsIGZ1bmN0aW9uIChwb2ludCwgaSkge1xuICAgICAgICAgIGlmIChpIDwgd2luZG93TGVmdCB8fCBpID49IHBhaXJzTGVuIC0gd2luZG93UmlnaHQpIHJldHVybiBbcG9pbnRbMF0sIG51bGxdO1xuICAgICAgICAgIHJldHVybiB0b1BvaW50KHBvaW50LCBwYWlycy5zbGljZShpIC0gd2luZG93TGVmdCwgaSArIHdpbmRvd1JpZ2h0KSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChfcG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICBlYWNoU2VyaWVzLmRhdGEgPSBfLm1hcChwYWlycywgZnVuY3Rpb24gKHBvaW50LCBpKSB7XG4gICAgICAgICAgaWYgKGkgPCBfd2luZG93KSByZXR1cm4gW3BvaW50WzBdLCBudWxsXTtcbiAgICAgICAgICByZXR1cm4gdG9Qb2ludChwb2ludCwgcGFpcnMuc2xpY2UoaSAtIF93aW5kb3csIGkpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH0gZWxzZSBpZiAoX3Bvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgIGVhY2hTZXJpZXMuZGF0YSA9IF8ubWFwKHBhaXJzLCBmdW5jdGlvbiAocG9pbnQsIGkpIHtcbiAgICAgICAgICBpZiAoaSA+PSBwYWlyc0xlbiAtIF93aW5kb3cpIHJldHVybiBbcG9pbnRbMF0sIG51bGxdO1xuICAgICAgICAgIHJldHVybiB0b1BvaW50KHBvaW50LCBwYWlycy5zbGljZShpICwgaSArIF93aW5kb3cpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/movingaverage.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/movingaverage.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('movingaverage', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'window',\n      types: ['number'],\n      help: 'Number of points to average over'\n    },\n    {\n      name: 'position',\n      types: ['string', 'null'],\n      help: 'Position of the averaged points relative to the result time.  Options are left, right, and center (default).'\n    }\n  ],\n  aliases: ['mvavg'],\n  help: 'Calculate the moving average over a given window. Nice for smoothing noisey series',\n  fn: function movingaverageFn(args) {\n    return alter(args, function (eachSeries, _window, _position) {\n\n      _position = _position || 'center';\n      const validPositions = ['left', 'right', 'center'];\n      if (!_.contains(validPositions, _position)) throw new Error('Valid positions are: ' + validPositions.join(', '));\n\n      const pairs = eachSeries.data;\n      const pairsLen = pairs.length;\n      eachSeries.label = eachSeries.label + ' mvavg=' + _window;\n\n      function toPoint(point, pairSlice) {\n        const average = _.chain(pairSlice)\n        .map(1).reduce(function (memo, num) {\n          return (memo + num);\n        }).value() / _window;\n\n        return [point[0], average];\n      }\n\n      if (_position === 'center') {\n        const windowLeft = Math.floor(_window / 2);\n        const windowRight = _window - windowLeft;\n        eachSeries.data = _.map(pairs, function (point, i) {\n          if (i < windowLeft || i >= pairsLen - windowRight) return [point[0], null];\n          return toPoint(point, pairs.slice(i - windowLeft, i + windowRight));\n        });\n      } else if (_position === 'left') {\n        eachSeries.data = _.map(pairs, function (point, i) {\n          if (i < _window) return [point[0], null];\n          return toPoint(point, pairs.slice(i - _window, i));\n        });\n\n      } else if (_position === 'right') {\n        eachSeries.data = _.map(pairs, function (point, i) {\n          if (i >= pairsLen - _window) return [point[0], null];\n          return toPoint(point, pairs.slice(i , i + _window));\n        });\n\n      }\n\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/movingstd.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('movingstd', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'window',\n    types: ['number'],\n    help: 'Number of points to compute the standard deviation over'\n  }],\n  aliases: ['mvstd'],\n  help: 'Calculate the moving standard deviation over a given window. Uses naive two-pass algorithm. Rounding errors ' + 'may become more noticeable with very long series, or series with very large numbers.',\n  fn: function movingstdFn(args) {\n    return alter(args, function (eachSeries, _window) {\n\n      var pairs = eachSeries.data;\n\n      eachSeries.data = _.map(pairs, function (point, i) {\n        if (i < _window) {\n          return [point[0], null];\n        }\n\n        var average = _.chain(pairs.slice(i - _window, i)).map(function (point) {\n          return point[1];\n        }).reduce(function (memo, num) {\n          return memo + num;\n        }).value() / _window;\n\n        var variance = _.chain(pairs.slice(i - _window, i)).map(function (point) {\n          return point[1];\n        }).reduce(function (memo, num) {\n          return memo + Math.pow(num - average, 2);\n        }).value() / (_window - 1);\n\n        return [point[0], Math.sqrt(variance)];\n      });\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbW92aW5nc3RkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDekMsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsV0FBVyxFQUFFO0FBQzFDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsUUFBUTtBQUNkLFNBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUNqQixRQUFJLEVBQUUseURBQXlEO0dBQ2hFLENBQ0Y7QUFDRCxTQUFPLEVBQUUsQ0FBQyxPQUFPLENBQUM7QUFDbEIsTUFBSSxFQUFFLDhHQUE4RyxHQUNsSCxzRkFBc0Y7QUFDeEYsSUFBRSxFQUFFLFNBQVMsV0FBVyxDQUFDLElBQUksRUFBRTtBQUM3QixXQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxVQUFVLEVBQUUsT0FBTyxFQUFFOztBQUVoRCxVQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDOztBQUU5QixnQkFBVSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxVQUFVLEtBQUssRUFBRSxDQUFDLEVBQUU7QUFDakQsWUFBSSxDQUFDLEdBQUcsT0FBTyxFQUFFO0FBQUUsaUJBQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FBRTs7QUFFN0MsWUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FDbkQsR0FBRyxDQUFDLFVBQVUsS0FBSyxFQUFFO0FBQ3BCLGlCQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNqQixDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsSUFBSSxFQUFFLEdBQUcsRUFBRTtBQUM3QixpQkFBUSxJQUFJLEdBQUcsR0FBRyxDQUFFO1NBQ3JCLENBQUMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxPQUFPLENBQUM7O0FBRXJCLFlBQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQ3BELEdBQUcsQ0FBQyxVQUFVLEtBQUssRUFBRTtBQUNwQixpQkFBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDakIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFVLElBQUksRUFBRSxHQUFHLEVBQUU7QUFDN0IsaUJBQU8sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztTQUMxQyxDQUFDLENBQUMsS0FBSyxFQUFFLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQSxBQUFDLENBQUM7O0FBRTNCLGVBQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO09BQ3hDLENBQUMsQ0FBQztBQUNILGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbW92aW5nc3RkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWx0ZXIgPSByZXF1aXJlKCcuLi9saWIvYWx0ZXIuanMnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdtb3ZpbmdzdGQnLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnaW5wdXRTZXJpZXMnLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCddXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnd2luZG93JyxcbiAgICAgIHR5cGVzOiBbJ251bWJlciddLFxuICAgICAgaGVscDogJ051bWJlciBvZiBwb2ludHMgdG8gY29tcHV0ZSB0aGUgc3RhbmRhcmQgZGV2aWF0aW9uIG92ZXInXG4gICAgfVxuICBdLFxuICBhbGlhc2VzOiBbJ212c3RkJ10sXG4gIGhlbHA6ICdDYWxjdWxhdGUgdGhlIG1vdmluZyBzdGFuZGFyZCBkZXZpYXRpb24gb3ZlciBhIGdpdmVuIHdpbmRvdy4gVXNlcyBuYWl2ZSB0d28tcGFzcyBhbGdvcml0aG0uIFJvdW5kaW5nIGVycm9ycyAnICtcbiAgICAnbWF5IGJlY29tZSBtb3JlIG5vdGljZWFibGUgd2l0aCB2ZXJ5IGxvbmcgc2VyaWVzLCBvciBzZXJpZXMgd2l0aCB2ZXJ5IGxhcmdlIG51bWJlcnMuJyxcbiAgZm46IGZ1bmN0aW9uIG1vdmluZ3N0ZEZuKGFyZ3MpIHtcbiAgICByZXR1cm4gYWx0ZXIoYXJncywgZnVuY3Rpb24gKGVhY2hTZXJpZXMsIF93aW5kb3cpIHtcblxuICAgICAgY29uc3QgcGFpcnMgPSBlYWNoU2VyaWVzLmRhdGE7XG5cbiAgICAgIGVhY2hTZXJpZXMuZGF0YSA9IF8ubWFwKHBhaXJzLCBmdW5jdGlvbiAocG9pbnQsIGkpIHtcbiAgICAgICAgaWYgKGkgPCBfd2luZG93KSB7IHJldHVybiBbcG9pbnRbMF0sIG51bGxdOyB9XG5cbiAgICAgICAgY29uc3QgYXZlcmFnZSA9IF8uY2hhaW4ocGFpcnMuc2xpY2UoaSAtIF93aW5kb3csIGkpKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICAgIHJldHVybiBwb2ludFsxXTtcbiAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBudW0pIHtcbiAgICAgICAgICByZXR1cm4gKG1lbW8gKyBudW0pO1xuICAgICAgICB9KS52YWx1ZSgpIC8gX3dpbmRvdztcblxuICAgICAgICBjb25zdCB2YXJpYW5jZSA9IF8uY2hhaW4ocGFpcnMuc2xpY2UoaSAtIF93aW5kb3csIGkpKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICAgIHJldHVybiBwb2ludFsxXTtcbiAgICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBudW0pIHtcbiAgICAgICAgICByZXR1cm4gbWVtbyArIE1hdGgucG93KG51bSAtIGF2ZXJhZ2UsIDIpO1xuICAgICAgICB9KS52YWx1ZSgpIC8gKF93aW5kb3cgLSAxKTtcblxuICAgICAgICByZXR1cm4gW3BvaW50WzBdLCBNYXRoLnNxcnQodmFyaWFuY2UpXTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/movingstd.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,WAAW,EAAE;AAC1C,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,QAAQ;AACd,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,yDAAyD;GAChE,CACF;AACD,SAAO,EAAE,CAAC,OAAO,CAAC;AAClB,MAAI,EAAE,8GAA8G,GAClH,sFAAsF;AACxF,IAAE,EAAE,SAAS,WAAW,CAAC,IAAI,EAAE;AAC7B,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,OAAO,EAAE;;AAEhD,UAAM,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC;;AAE9B,gBAAU,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,KAAK,EAAE,CAAC,EAAE;AACjD,YAAI,CAAC,GAAG,OAAO,EAAE;AAAE,iBAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;SAAE;;AAE7C,YAAM,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,EAAE,CAAC,CAAC,CAAC,CACnD,GAAG,CAAC,UAAU,KAAK,EAAE;AACpB,iBAAO,KAAK,CAAC,CAAC,CAAC,CAAC;SACjB,CAAC,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,GAAG,EAAE;AAC7B,iBAAQ,IAAI,GAAG,GAAG,CAAE;SACrB,CAAC,CAAC,KAAK,EAAE,GAAG,OAAO,CAAC;;AAErB,YAAM,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,EAAE,CAAC,CAAC,CAAC,CACpD,GAAG,CAAC,UAAU,KAAK,EAAE;AACpB,iBAAO,KAAK,CAAC,CAAC,CAAC,CAAC;SACjB,CAAC,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,GAAG,EAAE;AAC7B,iBAAO,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,OAAO,EAAE,CAAC,CAAC,CAAC;SAC1C,CAAC,CAAC,KAAK,EAAE,IAAI,OAAO,GAAG,CAAC,CAAA,AAAC,CAAC;;AAE3B,eAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;OACxC,CAAC,CAAC;AACH,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/movingstd.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('movingstd', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'window',\n      types: ['number'],\n      help: 'Number of points to compute the standard deviation over'\n    }\n  ],\n  aliases: ['mvstd'],\n  help: 'Calculate the moving standard deviation over a given window. Uses naive two-pass algorithm. Rounding errors ' +\n    'may become more noticeable with very long series, or series with very large numbers.',\n  fn: function movingstdFn(args) {\n    return alter(args, function (eachSeries, _window) {\n\n      const pairs = eachSeries.data;\n\n      eachSeries.data = _.map(pairs, function (point, i) {\n        if (i < _window) { return [point[0], null]; }\n\n        const average = _.chain(pairs.slice(i - _window, i))\n        .map(function (point) {\n          return point[1];\n        }).reduce(function (memo, num) {\n          return (memo + num);\n        }).value() / _window;\n\n        const variance = _.chain(pairs.slice(i - _window, i))\n        .map(function (point) {\n          return point[1];\n        }).reduce(function (memo, num) {\n          return memo + Math.pow(num - average, 2);\n        }).value() / (_window - 1);\n\n        return [point[0], Math.sqrt(variance)];\n      });\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/multiply.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar reduce = require('../lib/reduce.js');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('multiply', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'multiplier',\n    types: ['seriesList', 'number'],\n    help: 'Number or series by which to multiply. If passing a seriesList it must contain exactly 1 series.'\n  }],\n  help: 'Multiply the values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  fn: function multiplyFn(args) {\n    return reduce(args, function (a, b) {\n      return a * b;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvbXVsdGlwbHkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQzs7QUFFM0MsSUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDdEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxVQUFVLEVBQUU7QUFDekMsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxZQUFZO0FBQ2xCLFNBQUssRUFBRSxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUM7QUFDL0IsUUFBSSxFQUFFLGtHQUFrRztHQUN6RyxDQUNGO0FBQ0QsTUFBSSxFQUFFLHFIQUFxSDtBQUMzSCxJQUFFLEVBQUUsU0FBUyxVQUFVLENBQUMsSUFBSSxFQUFFO0FBQzVCLFdBQU8sTUFBTSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDbEMsYUFBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2QsQ0FBQyxDQUFDO0dBQ0o7Q0FDRixDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy9tdWx0aXBseS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJlZHVjZSA9IHJlcXVpcmUoJy4uL2xpYi9yZWR1Y2UuanMnKTtcblxuY29uc3QgQ2hhaW5hYmxlID0gcmVxdWlyZSgnLi4vbGliL2NsYXNzZXMvY2hhaW5hYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBDaGFpbmFibGUoJ211bHRpcGx5Jywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ2lucHV0U2VyaWVzJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnXVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ211bHRpcGxpZXInLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCcsICdudW1iZXInXSxcbiAgICAgIGhlbHA6ICdOdW1iZXIgb3Igc2VyaWVzIGJ5IHdoaWNoIHRvIG11bHRpcGx5LiBJZiBwYXNzaW5nIGEgc2VyaWVzTGlzdCBpdCBtdXN0IGNvbnRhaW4gZXhhY3RseSAxIHNlcmllcy4nXG4gICAgfVxuICBdLFxuICBoZWxwOiAnTXVsdGlwbHkgdGhlIHZhbHVlcyBvZiBvbmUgb3IgbW9yZSBzZXJpZXMgaW4gYSBzZXJpZXNMaXN0IHRvIGVhY2ggcG9zaXRpb24sIGluIGVhY2ggc2VyaWVzLCBvZiB0aGUgaW5wdXQgc2VyaWVzTGlzdCcsXG4gIGZuOiBmdW5jdGlvbiBtdWx0aXBseUZuKGFyZ3MpIHtcbiAgICByZXR1cm4gcmVkdWNlKGFyZ3MsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYSAqIGI7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/multiply.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAE3C,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,UAAU,EAAE;AACzC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,YAAY;AAClB,SAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC;AAC/B,QAAI,EAAE,kGAAkG;GACzG,CACF;AACD,MAAI,EAAE,qHAAqH;AAC3H,IAAE,EAAE,SAAS,UAAU,CAAC,IAAI,EAAE;AAC5B,WAAO,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;AAClC,aAAO,CAAC,GAAG,CAAC,CAAC;KACd,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/multiply.js",
      "sourcesContent": [
        "const reduce = require('../lib/reduce.js');\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('multiply', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'multiplier',\n      types: ['seriesList', 'number'],\n      help: 'Number or series by which to multiply. If passing a seriesList it must contain exactly 1 series.'\n    }\n  ],\n  help: 'Multiply the values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  fn: function multiplyFn(args) {\n    return reduce(args, function (a, b) {\n      return a * b;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/points.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('points', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'radius',\n    types: ['number', 'null'],\n    help: 'Size of points'\n  }, {\n    name: 'weight',\n    types: ['number', 'null'],\n    help: 'Thickness of line around point'\n  }, {\n    name: 'fill',\n    types: ['number', 'null'],\n    help: 'Number between 0 and 10 representing opacity of fill'\n  }, {\n    name: 'fillColor',\n    types: ['string', 'null'],\n    help: 'Color with which to fill point'\n  }, {\n    name: 'symbol',\n    help: 'cross, circle, triangle, square or diamond',\n    types: ['string', 'null']\n  }, {\n    name: 'show',\n    types: ['boolean', 'null'],\n    help: 'Show points or not'\n  }],\n  help: 'Show the series as points',\n  fn: function pointsFn(args) {\n    return alter(args, function (eachSeries, radius, weight, fill, fillColor, symbol, show) {\n      eachSeries.points = eachSeries.points || {};\n      eachSeries.points.radius = radius == null ? undefined : radius;\n\n      if (fill) {\n        eachSeries.points.fillColor = fillColor == null ? false : fillColor;\n      }\n\n      if (fill != null) {\n        eachSeries.points.fill = fill / 10;\n      }\n\n      if (weight != null) {\n        eachSeries.points.lineWidth = weight;\n      }\n\n      symbol = symbol || 'circle';\n      var validSymbols = ['triangle', 'cross', 'square', 'diamond', 'circle'];\n      if (!_.contains(['triangle', 'cross', 'square', 'diamond', 'circle'], symbol)) {\n        throw new Error('Valid symbols are: ' + validSymbols.join(', '));\n      }\n\n      eachSeries.points.symbol = symbol;\n\n      eachSeries.points.show = show == null ? true : show;\n\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvcG9pbnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDekMsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUU1QixJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUN0RCxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksU0FBUyxDQUFDLFFBQVEsRUFBRTtBQUN2QyxNQUFJLEVBQUUsQ0FDSjtBQUNFLFFBQUksRUFBRSxhQUFhO0FBQ25CLFNBQUssRUFBRSxDQUFDLFlBQVksQ0FBQztHQUN0QixFQUNEO0FBQ0UsUUFBSSxFQUFFLFFBQVE7QUFDZCxTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO0FBQ3pCLFFBQUksRUFBRSxnQkFBZ0I7R0FDdkIsRUFDRDtBQUNFLFFBQUksRUFBRSxRQUFRO0FBQ2QsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsZ0NBQWdDO0dBQ3ZDLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsTUFBTTtBQUNaLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSxFQUFFLHNEQUFzRDtHQUM3RCxFQUNEO0FBQ0UsUUFBSSxFQUFFLFdBQVc7QUFDakIsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsZ0NBQWdDO0dBQ3ZDLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsUUFBUTtBQUNkLFFBQUksRUFBRSw0Q0FBNEM7QUFDbEQsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztHQUMxQixFQUNEO0FBQ0UsUUFBSSxFQUFFLE1BQU07QUFDWixTQUFLLEVBQUUsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDO0FBQzFCLFFBQUksRUFBRSxvQkFBb0I7R0FDM0IsQ0FDRjtBQUNELE1BQUksRUFBRSwyQkFBMkI7QUFDakMsSUFBRSxFQUFFLFNBQVMsUUFBUSxDQUFDLElBQUksRUFBRTtBQUMxQixXQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxVQUFVLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7QUFDdEYsZ0JBQVUsQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUM7QUFDNUMsZ0JBQVUsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sSUFBSSxJQUFJLEdBQUcsU0FBUyxHQUFHLE1BQU0sQ0FBQzs7QUFFL0QsVUFBSSxJQUFJLEVBQUU7QUFDUixrQkFBVSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsU0FBUyxJQUFJLElBQUksR0FBRyxLQUFLLEdBQUcsU0FBUyxDQUFDO09BQ3JFOztBQUVELFVBQUksSUFBSSxJQUFJLElBQUksRUFBRTtBQUNoQixrQkFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztPQUNyQzs7QUFFRCxVQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7QUFDbEIsa0JBQVUsQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztPQUN0Qzs7QUFFRCxZQUFNLEdBQUcsTUFBTSxJQUFJLFFBQVEsQ0FBQztBQUM1QixVQUFNLFlBQVksR0FBRyxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUMxRSxVQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxRQUFRLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBRTtBQUM3RSxjQUFNLElBQUksS0FBSyxDQUFDLHFCQUFxQixHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztPQUNsRTs7QUFFRCxnQkFBVSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVsQyxnQkFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDOztBQUlwRCxhQUFPLFVBQVUsQ0FBQztLQUNuQixDQUFDLENBQUM7R0FDSjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL3BvaW50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFsdGVyID0gcmVxdWlyZSgnLi4vbGliL2FsdGVyLmpzJyk7XG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdwb2ludHMnLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnaW5wdXRTZXJpZXMnLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCddXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAncmFkaXVzJyxcbiAgICAgIHR5cGVzOiBbJ251bWJlcicsICdudWxsJ10sXG4gICAgICBoZWxwOiAnU2l6ZSBvZiBwb2ludHMnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnd2VpZ2h0JyxcbiAgICAgIHR5cGVzOiBbJ251bWJlcicsICdudWxsJ10sXG4gICAgICBoZWxwOiAnVGhpY2tuZXNzIG9mIGxpbmUgYXJvdW5kIHBvaW50J1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2ZpbGwnLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdOdW1iZXIgYmV0d2VlbiAwIGFuZCAxMCByZXByZXNlbnRpbmcgb3BhY2l0eSBvZiBmaWxsJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2ZpbGxDb2xvcicsXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddLFxuICAgICAgaGVscDogJ0NvbG9yIHdpdGggd2hpY2ggdG8gZmlsbCBwb2ludCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdzeW1ib2wnLFxuICAgICAgaGVscDogJ2Nyb3NzLCBjaXJjbGUsIHRyaWFuZ2xlLCBzcXVhcmUgb3IgZGlhbW9uZCcsXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnc2hvdycsXG4gICAgICB0eXBlczogWydib29sZWFuJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdTaG93IHBvaW50cyBvciBub3QnXG4gICAgfVxuICBdLFxuICBoZWxwOiAnU2hvdyB0aGUgc2VyaWVzIGFzIHBvaW50cycsXG4gIGZuOiBmdW5jdGlvbiBwb2ludHNGbihhcmdzKSB7XG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzLCByYWRpdXMsIHdlaWdodCwgZmlsbCwgZmlsbENvbG9yLCBzeW1ib2wsIHNob3cpIHtcbiAgICAgIGVhY2hTZXJpZXMucG9pbnRzID0gZWFjaFNlcmllcy5wb2ludHMgfHwge307XG4gICAgICBlYWNoU2VyaWVzLnBvaW50cy5yYWRpdXMgPSByYWRpdXMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJhZGl1cztcblxuICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgZWFjaFNlcmllcy5wb2ludHMuZmlsbENvbG9yID0gZmlsbENvbG9yID09IG51bGwgPyBmYWxzZSA6IGZpbGxDb2xvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpbGwgIT0gbnVsbCkge1xuICAgICAgICBlYWNoU2VyaWVzLnBvaW50cy5maWxsID0gIGZpbGwgLyAxMDtcbiAgICAgIH1cblxuICAgICAgaWYgKHdlaWdodCAhPSBudWxsKSB7XG4gICAgICAgIGVhY2hTZXJpZXMucG9pbnRzLmxpbmVXaWR0aCA9IHdlaWdodDtcbiAgICAgIH1cblxuICAgICAgc3ltYm9sID0gc3ltYm9sIHx8ICdjaXJjbGUnO1xuICAgICAgY29uc3QgdmFsaWRTeW1ib2xzID0gWyd0cmlhbmdsZScsICdjcm9zcycsICdzcXVhcmUnLCAnZGlhbW9uZCcsICdjaXJjbGUnXTtcbiAgICAgIGlmICghXy5jb250YWlucyhbJ3RyaWFuZ2xlJywgJ2Nyb3NzJywgJ3NxdWFyZScsICdkaWFtb25kJywgJ2NpcmNsZSddLCBzeW1ib2wpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVmFsaWQgc3ltYm9scyBhcmU6ICcgKyB2YWxpZFN5bWJvbHMuam9pbignLCAnKSk7XG4gICAgICB9XG5cbiAgICAgIGVhY2hTZXJpZXMucG9pbnRzLnN5bWJvbCA9IHN5bWJvbDtcblxuICAgICAgZWFjaFNlcmllcy5wb2ludHMuc2hvdyA9IHNob3cgPT0gbnVsbCA/IHRydWUgOiBzaG93O1xuXG5cblxuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/points.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,QAAQ,EAAE;AACvC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,QAAQ;AACd,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,gBAAgB;GACvB,EACD;AACE,QAAI,EAAE,QAAQ;AACd,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,gCAAgC;GACvC,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,sDAAsD;GAC7D,EACD;AACE,QAAI,EAAE,WAAW;AACjB,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,gCAAgC;GACvC,EACD;AACE,QAAI,EAAE,QAAQ;AACd,QAAI,EAAE,4CAA4C;AAClD,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;GAC1B,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC;AAC1B,QAAI,EAAE,oBAAoB;GAC3B,CACF;AACD,MAAI,EAAE,2BAA2B;AACjC,IAAE,EAAE,SAAS,QAAQ,CAAC,IAAI,EAAE;AAC1B,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE;AACtF,gBAAU,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,IAAI,EAAE,CAAC;AAC5C,gBAAU,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,IAAI,IAAI,GAAG,SAAS,GAAG,MAAM,CAAC;;AAE/D,UAAI,IAAI,EAAE;AACR,kBAAU,CAAC,MAAM,CAAC,SAAS,GAAG,SAAS,IAAI,IAAI,GAAG,KAAK,GAAG,SAAS,CAAC;OACrE;;AAED,UAAI,IAAI,IAAI,IAAI,EAAE;AAChB,kBAAU,CAAC,MAAM,CAAC,IAAI,GAAI,IAAI,GAAG,EAAE,CAAC;OACrC;;AAED,UAAI,MAAM,IAAI,IAAI,EAAE;AAClB,kBAAU,CAAC,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC;OACtC;;AAED,YAAM,GAAG,MAAM,IAAI,QAAQ,CAAC;AAC5B,UAAM,YAAY,GAAG,CAAC,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;AAC1E,UAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,CAAC,EAAE,MAAM,CAAC,EAAE;AAC7E,cAAM,IAAI,KAAK,CAAC,qBAAqB,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;OAClE;;AAED,gBAAU,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;;AAElC,gBAAU,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;;AAIpD,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/points.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('points', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'radius',\n      types: ['number', 'null'],\n      help: 'Size of points'\n    },\n    {\n      name: 'weight',\n      types: ['number', 'null'],\n      help: 'Thickness of line around point'\n    },\n    {\n      name: 'fill',\n      types: ['number', 'null'],\n      help: 'Number between 0 and 10 representing opacity of fill'\n    },\n    {\n      name: 'fillColor',\n      types: ['string', 'null'],\n      help: 'Color with which to fill point'\n    },\n    {\n      name: 'symbol',\n      help: 'cross, circle, triangle, square or diamond',\n      types: ['string', 'null']\n    },\n    {\n      name: 'show',\n      types: ['boolean', 'null'],\n      help: 'Show points or not'\n    }\n  ],\n  help: 'Show the series as points',\n  fn: function pointsFn(args) {\n    return alter(args, function (eachSeries, radius, weight, fill, fillColor, symbol, show) {\n      eachSeries.points = eachSeries.points || {};\n      eachSeries.points.radius = radius == null ? undefined : radius;\n\n      if (fill) {\n        eachSeries.points.fillColor = fillColor == null ? false : fillColor;\n      }\n\n      if (fill != null) {\n        eachSeries.points.fill =  fill / 10;\n      }\n\n      if (weight != null) {\n        eachSeries.points.lineWidth = weight;\n      }\n\n      symbol = symbol || 'circle';\n      const validSymbols = ['triangle', 'cross', 'square', 'diamond', 'circle'];\n      if (!_.contains(['triangle', 'cross', 'square', 'diamond', 'circle'], symbol)) {\n        throw new Error('Valid symbols are: ' + validSymbols.join(', '));\n      }\n\n      eachSeries.points.symbol = symbol;\n\n      eachSeries.points.show = show == null ? true : show;\n\n\n\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/precision.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar reduce = require('../lib/reduce.js');\nvar alter = require('../lib/alter.js');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('precision', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'precision',\n    types: ['number'],\n    help: 'Number of digits to round each value to'\n  }],\n  help: 'number of digits to round the decimal portion of the value to',\n  fn: function precisionFn(args) {\n    alter(args, function (eachSeries, precision) {\n      eachSeries._meta = eachSeries._meta || {};\n      eachSeries._meta.precision = precision;\n      return eachSeries;\n    });\n\n    return reduce(args, function (a, b) {\n      return parseInt(a * Math.pow(10, b), 10) / Math.pow(10, b);\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvcHJlY2lzaW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDM0MsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7O0FBR3pDLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsV0FBVyxFQUFFO0FBQzFDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsV0FBVztBQUNqQixTQUFLLEVBQUUsQ0FBQyxRQUFRLENBQUM7QUFDakIsUUFBSSxFQUFFLHlDQUF5QztHQUNoRCxDQUNGO0FBQ0QsTUFBSSxFQUFFLCtEQUErRDtBQUNyRSxJQUFFLEVBQUUsU0FBUyxXQUFXLENBQUMsSUFBSSxFQUFFO0FBQzdCLFNBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxVQUFVLEVBQUUsU0FBUyxFQUFFO0FBQzNDLGdCQUFVLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO0FBQzFDLGdCQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7QUFDdkMsYUFBTyxVQUFVLENBQUM7S0FDbkIsQ0FBQyxDQUFDOztBQUVILFdBQU8sTUFBTSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDbEMsYUFBTyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0tBQzVELENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvcHJlY2lzaW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVkdWNlID0gcmVxdWlyZSgnLi4vbGliL3JlZHVjZS5qcycpO1xuY29uc3QgYWx0ZXIgPSByZXF1aXJlKCcuLi9saWIvYWx0ZXIuanMnKTtcblxuXG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IENoYWluYWJsZSgncHJlY2lzaW9uJywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ2lucHV0U2VyaWVzJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnXVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3ByZWNpc2lvbicsXG4gICAgICB0eXBlczogWydudW1iZXInXSxcbiAgICAgIGhlbHA6ICdOdW1iZXIgb2YgZGlnaXRzIHRvIHJvdW5kIGVhY2ggdmFsdWUgdG8nXG4gICAgfVxuICBdLFxuICBoZWxwOiAnbnVtYmVyIG9mIGRpZ2l0cyB0byByb3VuZCB0aGUgZGVjaW1hbCBwb3J0aW9uIG9mIHRoZSB2YWx1ZSB0bycsXG4gIGZuOiBmdW5jdGlvbiBwcmVjaXNpb25GbihhcmdzKSB7XG4gICAgYWx0ZXIoYXJncywgZnVuY3Rpb24gKGVhY2hTZXJpZXMsIHByZWNpc2lvbikge1xuICAgICAgZWFjaFNlcmllcy5fbWV0YSA9IGVhY2hTZXJpZXMuX21ldGEgfHwge307XG4gICAgICBlYWNoU2VyaWVzLl9tZXRhLnByZWNpc2lvbiA9IHByZWNpc2lvbjtcbiAgICAgIHJldHVybiBlYWNoU2VyaWVzO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlZHVjZShhcmdzLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KGEgKiBNYXRoLnBvdygxMCwgYiksIDEwKSAvIE1hdGgucG93KDEwLCBiKTtcbiAgICB9KTtcbiAgfVxufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/precision.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;AAC3C,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;;AAGzC,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,WAAW,EAAE;AAC1C,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,WAAW;AACjB,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,yCAAyC;GAChD,CACF;AACD,MAAI,EAAE,+DAA+D;AACrE,IAAE,EAAE,SAAS,WAAW,CAAC,IAAI,EAAE;AAC7B,SAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,SAAS,EAAE;AAC3C,gBAAU,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,IAAI,EAAE,CAAC;AAC1C,gBAAU,CAAC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;AACvC,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;;AAEH,WAAO,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;AAClC,aAAO,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;KAC5D,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/precision.js",
      "sourcesContent": [
        "const reduce = require('../lib/reduce.js');\nconst alter = require('../lib/alter.js');\n\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('precision', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'precision',\n      types: ['number'],\n      help: 'Number of digits to round each value to'\n    }\n  ],\n  help: 'number of digits to round the decimal portion of the value to',\n  fn: function precisionFn(args) {\n    alter(args, function (eachSeries, precision) {\n      eachSeries._meta = eachSeries._meta || {};\n      eachSeries._meta.precision = precision;\n      return eachSeries;\n    });\n\n    return reduce(args, function (a, b) {\n      return parseInt(a * Math.pow(10, b), 10) / Math.pow(10, b);\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/props.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar Chainable = require('../lib/classes/chainable');\nvar _ = require('lodash');\n\nfunction unflatten(data) {\n  if (Object(data) !== data || _.isArray(data)) return data;\n\n  var regex = new RegExp(/\\.?([^.\\[\\]]+)|\\[(\\d+)\\]/g);\n  var result = {};\n  _.each(data, function (val, p) {\n    var cur = result;\n    var prop = '';\n    var m = undefined;\n    while (m = regex.exec(p)) {\n      cur = cur[prop] || (cur[prop] = m[2] ? [] : {});\n      prop = m[2] || m[1];\n    }\n    cur[prop] = data[p];\n  });\n\n  return result[''] || result;\n}\n\nmodule.exports = new Chainable('props', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'global',\n    types: ['boolean', 'null'],\n    help: 'Set props on the seriesList vs on each series'\n  }],\n  extended: {\n    types: ['seriesList', 'number', 'string', 'boolean', 'null'],\n    // Extended args can not currently be multivalued,\n    // multi: false is not required and is shown here for demonstration purposes\n    multi: false\n  },\n  // extended means you can pass arguments that aren't listed. They just won't be in the ordered array\n  // They will be passed as args._extended:{}\n  help: 'Use at your own risk, sets arbitrary properties on the series. For example .props(label=bears!)',\n  fn: function firstFn(args) {\n    var properties = unflatten(_.omit(args.byName, 'inputSeries', 'global'));\n\n    if (args.byName.global) {\n      _.assign(args.byName.inputSeries, properties);\n      return args.byName.inputSeries;\n    } else {\n      return alter(args, function (eachSeries) {\n        _.assign(eachSeries, properties);\n        return eachSeries;\n      });\n    }\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvcHJvcHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN6QyxJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUN0RCxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRTVCLFNBQVMsU0FBUyxDQUFDLElBQUksRUFBRTtBQUN2QixNQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLElBQUksQ0FBQzs7QUFFMUQsTUFBTSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUN0RCxNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDbEIsR0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsVUFBVSxHQUFHLEVBQUUsQ0FBQyxFQUFFO0FBQzdCLFFBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQztBQUNqQixRQUFJLElBQUksR0FBRyxFQUFFLENBQUM7QUFDZCxRQUFJLENBQUMsWUFBQSxDQUFDO0FBQ04sV0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUN4QixTQUFHLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxBQUFDLENBQUM7QUFDbEQsVUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDckI7QUFDRCxPQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0dBQ3JCLENBQUMsQ0FBQzs7QUFFSCxTQUFPLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxNQUFNLENBQUM7Q0FDN0I7O0FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxPQUFPLEVBQUU7QUFDdEMsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxRQUFRO0FBQ2QsU0FBSyxFQUFFLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQztBQUMxQixRQUFJLEVBQUUsK0NBQStDO0dBQ3RELENBQ0Y7QUFDRCxVQUFRLEVBQUU7QUFDUixTQUFLLEVBQUUsQ0FBQyxZQUFZLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDOzs7QUFHNUQsU0FBSyxFQUFFLEtBQUs7R0FDYjs7O0FBR0QsTUFBSSxFQUFFLGlHQUFpRztBQUN2RyxJQUFFLEVBQUUsU0FBUyxPQUFPLENBQUMsSUFBSSxFQUFFO0FBQ3pCLFFBQU0sVUFBVSxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7O0FBRTNFLFFBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7QUFDdEIsT0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUM5QyxhQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO0tBQ2hDLE1BQU07QUFDTCxhQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxVQUFVLEVBQUU7QUFDdkMsU0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDakMsZUFBTyxVQUFVLENBQUM7T0FDbkIsQ0FBQyxDQUFDO0tBQ0o7R0FDRjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL3Byb3BzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWx0ZXIgPSByZXF1aXJlKCcuLi9saWIvYWx0ZXIuanMnKTtcbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5mdW5jdGlvbiB1bmZsYXR0ZW4oZGF0YSkge1xuICBpZiAoT2JqZWN0KGRhdGEpICE9PSBkYXRhIHx8IF8uaXNBcnJheShkYXRhKSkgcmV0dXJuIGRhdGE7XG5cbiAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKC9cXC4/KFteLlxcW1xcXV0rKXxcXFsoXFxkKylcXF0vZyk7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBfLmVhY2goZGF0YSwgZnVuY3Rpb24gKHZhbCwgcCkge1xuICAgIGxldCBjdXIgPSByZXN1bHQ7XG4gICAgbGV0IHByb3AgPSAnJztcbiAgICBsZXQgbTtcbiAgICB3aGlsZSAobSA9IHJlZ2V4LmV4ZWMocCkpIHtcbiAgICAgIGN1ciA9IGN1cltwcm9wXSB8fCAoY3VyW3Byb3BdID0gKG1bMl0gPyBbXSA6IHt9KSk7XG4gICAgICBwcm9wID0gbVsyXSB8fCBtWzFdO1xuICAgIH1cbiAgICBjdXJbcHJvcF0gPSBkYXRhW3BdO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0WycnXSB8fCByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IENoYWluYWJsZSgncHJvcHMnLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnaW5wdXRTZXJpZXMnLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCddXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnZ2xvYmFsJyxcbiAgICAgIHR5cGVzOiBbJ2Jvb2xlYW4nLCAnbnVsbCddLFxuICAgICAgaGVscDogJ1NldCBwcm9wcyBvbiB0aGUgc2VyaWVzTGlzdCB2cyBvbiBlYWNoIHNlcmllcydcbiAgICB9XG4gIF0sXG4gIGV4dGVuZGVkOiB7XG4gICAgdHlwZXM6IFsnc2VyaWVzTGlzdCcsICdudW1iZXInLCAnc3RyaW5nJywgJ2Jvb2xlYW4nLCAnbnVsbCddLFxuICAgIC8vIEV4dGVuZGVkIGFyZ3MgY2FuIG5vdCBjdXJyZW50bHkgYmUgbXVsdGl2YWx1ZWQsXG4gICAgLy8gbXVsdGk6IGZhbHNlIGlzIG5vdCByZXF1aXJlZCBhbmQgaXMgc2hvd24gaGVyZSBmb3IgZGVtb25zdHJhdGlvbiBwdXJwb3Nlc1xuICAgIG11bHRpOiBmYWxzZVxuICB9LFxuICAvLyBleHRlbmRlZCBtZWFucyB5b3UgY2FuIHBhc3MgYXJndW1lbnRzIHRoYXQgYXJlbid0IGxpc3RlZC4gVGhleSBqdXN0IHdvbid0IGJlIGluIHRoZSBvcmRlcmVkIGFycmF5XG4gIC8vIFRoZXkgd2lsbCBiZSBwYXNzZWQgYXMgYXJncy5fZXh0ZW5kZWQ6e31cbiAgaGVscDogJ1VzZSBhdCB5b3VyIG93biByaXNrLCBzZXRzIGFyYml0cmFyeSBwcm9wZXJ0aWVzIG9uIHRoZSBzZXJpZXMuIEZvciBleGFtcGxlIC5wcm9wcyhsYWJlbD1iZWFycyEpJyxcbiAgZm46IGZ1bmN0aW9uIGZpcnN0Rm4oYXJncykge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB1bmZsYXR0ZW4oXy5vbWl0KGFyZ3MuYnlOYW1lLCAnaW5wdXRTZXJpZXMnLCAnZ2xvYmFsJykpO1xuXG4gICAgaWYgKGFyZ3MuYnlOYW1lLmdsb2JhbCkge1xuICAgICAgXy5hc3NpZ24oYXJncy5ieU5hbWUuaW5wdXRTZXJpZXMsIHByb3BlcnRpZXMpO1xuICAgICAgcmV0dXJuIGFyZ3MuYnlOYW1lLmlucHV0U2VyaWVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYWx0ZXIoYXJncywgZnVuY3Rpb24gKGVhY2hTZXJpZXMpIHtcbiAgICAgICAgXy5hc3NpZ24oZWFjaFNlcmllcywgcHJvcGVydGllcyk7XG4gICAgICAgIHJldHVybiBlYWNoU2VyaWVzO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/props.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,SAAS,SAAS,CAAC,IAAI,EAAE;AACvB,MAAI,MAAM,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,OAAO,IAAI,CAAC;;AAE1D,MAAM,KAAK,GAAG,IAAI,MAAM,CAAC,2BAA2B,CAAC,CAAC;AACtD,MAAM,MAAM,GAAG,EAAE,CAAC;AAClB,GAAC,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,GAAG,EAAE,CAAC,EAAE;AAC7B,QAAI,GAAG,GAAG,MAAM,CAAC;AACjB,QAAI,IAAI,GAAG,EAAE,CAAC;AACd,QAAI,CAAC,YAAA,CAAC;AACN,WAAO,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;AACxB,SAAG,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,GAAI,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,AAAC,CAAC;AAClD,UAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KACrB;AACD,OAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;GACrB,CAAC,CAAC;;AAEH,SAAO,MAAM,CAAC,EAAE,CAAC,IAAI,MAAM,CAAC;CAC7B;;AAED,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;AACtC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,QAAQ;AACd,SAAK,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC;AAC1B,QAAI,EAAE,+CAA+C;GACtD,CACF;AACD,UAAQ,EAAE;AACR,SAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,CAAC;;;AAG5D,SAAK,EAAE,KAAK;GACb;;;AAGD,MAAI,EAAE,iGAAiG;AACvG,IAAE,EAAE,SAAS,OAAO,CAAC,IAAI,EAAE;AACzB,QAAM,UAAU,GAAG,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,aAAa,EAAE,QAAQ,CAAC,CAAC,CAAC;;AAE3E,QAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;AACtB,OAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;AAC9C,aAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;KAChC,MAAM;AACL,aAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;AACvC,SAAC,CAAC,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;AACjC,eAAO,UAAU,CAAC;OACnB,CAAC,CAAC;KACJ;GACF;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/props.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst Chainable = require('../lib/classes/chainable');\nconst _ = require('lodash');\n\nfunction unflatten(data) {\n  if (Object(data) !== data || _.isArray(data)) return data;\n\n  const regex = new RegExp(/\\.?([^.\\[\\]]+)|\\[(\\d+)\\]/g);\n  const result = {};\n  _.each(data, function (val, p) {\n    let cur = result;\n    let prop = '';\n    let m;\n    while (m = regex.exec(p)) {\n      cur = cur[prop] || (cur[prop] = (m[2] ? [] : {}));\n      prop = m[2] || m[1];\n    }\n    cur[prop] = data[p];\n  });\n\n  return result[''] || result;\n}\n\nmodule.exports = new Chainable('props', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'global',\n      types: ['boolean', 'null'],\n      help: 'Set props on the seriesList vs on each series'\n    }\n  ],\n  extended: {\n    types: ['seriesList', 'number', 'string', 'boolean', 'null'],\n    // Extended args can not currently be multivalued,\n    // multi: false is not required and is shown here for demonstration purposes\n    multi: false\n  },\n  // extended means you can pass arguments that aren't listed. They just won't be in the ordered array\n  // They will be passed as args._extended:{}\n  help: 'Use at your own risk, sets arbitrary properties on the series. For example .props(label=bears!)',\n  fn: function firstFn(args) {\n    const properties = unflatten(_.omit(args.byName, 'inputSeries', 'global'));\n\n    if (args.byName.global) {\n      _.assign(args.byName.inputSeries, properties);\n      return args.byName.inputSeries;\n    } else {\n      return alter(args, function (eachSeries) {\n        _.assign(eachSeries, properties);\n        return eachSeries;\n      });\n    }\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/quandl.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar fetch = require('node-fetch');\nvar moment = require('moment');\nfetch.Promise = require('bluebird');\n//var parseDateMath = require('../utils/date_math.js');\n\nvar Datasource = require('../lib/classes/datasource');\n\nmodule.exports = new Datasource('quandl', {\n  dataSource: true,\n  args: [{\n    name: 'code',\n    types: ['string', 'null'],\n    help: 'The quandl code to plot. You can find these on quandl.com.'\n  }, {\n    name: 'position',\n    types: ['number', 'null'],\n    help: 'Some quandl sources return multiple series, which one should I use? 1 based index.'\n  }],\n  help: '\\n    [experimental]\\n    Pull data from quandl.com using the quandl code. Set \"timelion:quandl.key\" to your free API key in Kibana\\'s\\n    Advanced Settings. The API has a really low rate limit without a key.',\n  fn: function quandlFn(args, tlConfig) {\n    var intervalMap = {\n      '1d': 'daily',\n      '1w': 'weekly',\n      '1M': 'monthly',\n      '1y': 'annual'\n    };\n\n    var config = _.defaults(args.byName, {\n      code: 'WIKI/AAPL',\n      position: 1,\n      interval: intervalMap[tlConfig.time.interval],\n      apikey: tlConfig.settings['timelion:quandl.key']\n    });\n\n    if (!config.interval) {\n      throw new Error('quandl() unsupported interval: ' + tlConfig.time.interval + '. quandl() supports: ' + _.keys(intervalMap).join(', '));\n    }\n\n    var time = {\n      min: moment.utc(tlConfig.time.from).format('YYYY-MM-DD'),\n      max: moment.utc(tlConfig.time.to).format('YYYY-MM-DD')\n    };\n\n    // POSITIONS\n    // 1. open\n    // 2. high\n    // 3. low\n    // 4. close\n    // 5. volume\n\n    var URL = 'https://www.quandl.com/api/v1/datasets/' + config.code + '.json' + '?sort_order=asc' + '&trim_start=' + time.min + '&trim_end=' + time.max + '&collapse=' + config.interval + '&auth_token=' + config.apikey;\n\n    return fetch(URL).then(function (resp) {\n      return resp.json();\n    }).then(function (resp) {\n      var data = _.map(resp.data, function (bucket) {\n        return [moment(bucket[0]).valueOf(), bucket[config.position]];\n      });\n\n      return {\n        type: 'seriesList',\n        list: [{\n          data: data,\n          type: 'series',\n          fit: 'nearest',\n          label: resp.name\n        }]\n      };\n    })['catch'](function (e) {\n      throw e;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvcXVhbmRsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNwQyxJQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakMsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7OztBQUlwQyxJQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQzs7QUFHeEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFVBQVUsQ0FBRSxRQUFRLEVBQUU7QUFDekMsWUFBVSxFQUFFLElBQUk7QUFDaEIsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsTUFBTTtBQUNaLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSxFQUFFLDREQUE0RDtHQUNuRSxFQUNEO0FBQ0UsUUFBSSxFQUFFLFVBQVU7QUFDaEIsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsb0ZBQW9GO0dBQzNGLENBQ0Y7QUFDRCxNQUFJLHFOQUdvRTtBQUN4RSxJQUFFLEVBQUUsU0FBUyxRQUFRLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTtBQUNwQyxRQUFNLFdBQVcsR0FBRztBQUNsQixVQUFJLEVBQUUsT0FBTztBQUNiLFVBQUksRUFBRSxRQUFRO0FBQ2QsVUFBSSxFQUFFLFNBQVM7QUFDZixVQUFJLEVBQUUsUUFBUTtLQUNmLENBQUM7O0FBRUYsUUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ3JDLFVBQUksRUFBRSxXQUFXO0FBQ2pCLGNBQVEsRUFBRSxDQUFDO0FBQ1gsY0FBUSxFQUFFLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztBQUM3QyxZQUFNLEVBQUUsUUFBUSxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQztLQUNqRCxDQUFDLENBQUM7O0FBRUgsUUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUU7QUFDcEIsWUFBTSxJQUFJLEtBQUssQ0FBQyxpQ0FBaUMsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FDMUUsdUJBQXVCLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztLQUMzRDs7QUFFRCxRQUFNLElBQUksR0FBRztBQUNYLFNBQUcsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztBQUN4RCxTQUFHLEVBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUM7S0FDeEQsQ0FBQzs7Ozs7Ozs7O0FBU0YsUUFBTSxHQUFHLEdBQUcseUNBQXlDLEdBQUcsTUFBTSxDQUFDLElBQUksR0FBRyxPQUFPLEdBQzNFLGlCQUFpQixHQUNqQixjQUFjLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FDekIsWUFBWSxHQUFHLElBQUksQ0FBQyxHQUFHLEdBQ3ZCLFlBQVksR0FBRyxNQUFNLENBQUMsUUFBUSxHQUM5QixjQUFjLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQzs7QUFFakMsV0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFO0FBQUUsYUFBTyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7S0FBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFO0FBQ25GLFVBQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxVQUFVLE1BQU0sRUFBRTtBQUM5QyxlQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztPQUMvRCxDQUFDLENBQUM7O0FBRUgsYUFBTztBQUNMLFlBQUksRUFBRSxZQUFZO0FBQ2xCLFlBQUksRUFBRSxDQUFDO0FBQ0wsY0FBSSxFQUFHLElBQUk7QUFDWCxjQUFJLEVBQUUsUUFBUTtBQUNkLGFBQUcsRUFBRSxTQUFTO0FBQ2QsZUFBSyxFQUFFLElBQUksQ0FBQyxJQUFJO1NBQ2pCLENBQUM7T0FDSCxDQUFDO0tBQ0gsQ0FBQyxTQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7QUFDcEIsWUFBTSxDQUFDLENBQUM7S0FDVCxDQUFDLENBQUM7R0FDSjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL3F1YW5kbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGZldGNoID0gcmVxdWlyZSgnbm9kZS1mZXRjaCcpO1xuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5mZXRjaC5Qcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcbi8vdmFyIHBhcnNlRGF0ZU1hdGggPSByZXF1aXJlKCcuLi91dGlscy9kYXRlX21hdGguanMnKTtcblxuXG5jb25zdCBEYXRhc291cmNlID0gcmVxdWlyZSgnLi4vbGliL2NsYXNzZXMvZGF0YXNvdXJjZScpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IERhdGFzb3VyY2UgKCdxdWFuZGwnLCB7XG4gIGRhdGFTb3VyY2U6IHRydWUsXG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnY29kZScsXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddLFxuICAgICAgaGVscDogJ1RoZSBxdWFuZGwgY29kZSB0byBwbG90LiBZb3UgY2FuIGZpbmQgdGhlc2Ugb24gcXVhbmRsLmNvbS4nXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAncG9zaXRpb24nLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdTb21lIHF1YW5kbCBzb3VyY2VzIHJldHVybiBtdWx0aXBsZSBzZXJpZXMsIHdoaWNoIG9uZSBzaG91bGQgSSB1c2U/IDEgYmFzZWQgaW5kZXguJ1xuICAgIH1cbiAgXSxcbiAgaGVscDogYFxuICAgIFtleHBlcmltZW50YWxdXG4gICAgUHVsbCBkYXRhIGZyb20gcXVhbmRsLmNvbSB1c2luZyB0aGUgcXVhbmRsIGNvZGUuIFNldCBcInRpbWVsaW9uOnF1YW5kbC5rZXlcIiB0byB5b3VyIGZyZWUgQVBJIGtleSBpbiBLaWJhbmEnc1xuICAgIEFkdmFuY2VkIFNldHRpbmdzLiBUaGUgQVBJIGhhcyBhIHJlYWxseSBsb3cgcmF0ZSBsaW1pdCB3aXRob3V0IGEga2V5LmAsXG4gIGZuOiBmdW5jdGlvbiBxdWFuZGxGbihhcmdzLCB0bENvbmZpZykge1xuICAgIGNvbnN0IGludGVydmFsTWFwID0ge1xuICAgICAgJzFkJzogJ2RhaWx5JyxcbiAgICAgICcxdyc6ICd3ZWVrbHknLFxuICAgICAgJzFNJzogJ21vbnRobHknLFxuICAgICAgJzF5JzogJ2FubnVhbCcsXG4gICAgfTtcblxuICAgIGNvbnN0IGNvbmZpZyA9IF8uZGVmYXVsdHMoYXJncy5ieU5hbWUsIHtcbiAgICAgIGNvZGU6ICdXSUtJL0FBUEwnLFxuICAgICAgcG9zaXRpb246IDEsXG4gICAgICBpbnRlcnZhbDogaW50ZXJ2YWxNYXBbdGxDb25maWcudGltZS5pbnRlcnZhbF0sXG4gICAgICBhcGlrZXk6IHRsQ29uZmlnLnNldHRpbmdzWyd0aW1lbGlvbjpxdWFuZGwua2V5J11cbiAgICB9KTtcblxuICAgIGlmICghY29uZmlnLmludGVydmFsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3F1YW5kbCgpIHVuc3VwcG9ydGVkIGludGVydmFsOiAnICsgdGxDb25maWcudGltZS5pbnRlcnZhbCArXG4gICAgICAnLiBxdWFuZGwoKSBzdXBwb3J0czogJyArIF8ua2V5cyhpbnRlcnZhbE1hcCkuam9pbignLCAnKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdGltZSA9IHtcbiAgICAgIG1pbjogbW9tZW50LnV0Yyh0bENvbmZpZy50aW1lLmZyb20pLmZvcm1hdCgnWVlZWS1NTS1ERCcpLFxuICAgICAgbWF4OiAgbW9tZW50LnV0Yyh0bENvbmZpZy50aW1lLnRvKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxuICAgIH07XG5cbiAgICAvLyBQT1NJVElPTlNcbiAgICAvLyAxLiBvcGVuXG4gICAgLy8gMi4gaGlnaFxuICAgIC8vIDMuIGxvd1xuICAgIC8vIDQuIGNsb3NlXG4gICAgLy8gNS4gdm9sdW1lXG5cbiAgICBjb25zdCBVUkwgPSAnaHR0cHM6Ly93d3cucXVhbmRsLmNvbS9hcGkvdjEvZGF0YXNldHMvJyArIGNvbmZpZy5jb2RlICsgJy5qc29uJyArXG4gICAgICAnP3NvcnRfb3JkZXI9YXNjJyArXG4gICAgICAnJnRyaW1fc3RhcnQ9JyArIHRpbWUubWluICtcbiAgICAgICcmdHJpbV9lbmQ9JyArIHRpbWUubWF4ICtcbiAgICAgICcmY29sbGFwc2U9JyArIGNvbmZpZy5pbnRlcnZhbCArXG4gICAgICAnJmF1dGhfdG9rZW49JyArIGNvbmZpZy5hcGlrZXk7XG5cbiAgICByZXR1cm4gZmV0Y2goVVJMKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7IHJldHVybiByZXNwLmpzb24oKTsgfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgY29uc3QgZGF0YSA9IF8ubWFwKHJlc3AuZGF0YSwgZnVuY3Rpb24gKGJ1Y2tldCkge1xuICAgICAgICByZXR1cm4gW21vbWVudChidWNrZXRbMF0pLnZhbHVlT2YoKSwgYnVja2V0W2NvbmZpZy5wb3NpdGlvbl1dO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdzZXJpZXNMaXN0JyxcbiAgICAgICAgbGlzdDogW3tcbiAgICAgICAgICBkYXRhOiAgZGF0YSxcbiAgICAgICAgICB0eXBlOiAnc2VyaWVzJyxcbiAgICAgICAgICBmaXQ6ICduZWFyZXN0JyxcbiAgICAgICAgICBsYWJlbDogcmVzcC5uYW1lXG4gICAgICAgIH1dXG4gICAgICB9O1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/quandl.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/quandl.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst fetch = require('node-fetch');\nconst moment = require('moment');\nfetch.Promise = require('bluebird');\n//var parseDateMath = require('../utils/date_math.js');\n\n\nconst Datasource = require('../lib/classes/datasource');\n\n\nmodule.exports = new Datasource ('quandl', {\n  dataSource: true,\n  args: [\n    {\n      name: 'code',\n      types: ['string', 'null'],\n      help: 'The quandl code to plot. You can find these on quandl.com.'\n    },\n    {\n      name: 'position',\n      types: ['number', 'null'],\n      help: 'Some quandl sources return multiple series, which one should I use? 1 based index.'\n    }\n  ],\n  help: `\n    [experimental]\n    Pull data from quandl.com using the quandl code. Set \"timelion:quandl.key\" to your free API key in Kibana's\n    Advanced Settings. The API has a really low rate limit without a key.`,\n  fn: function quandlFn(args, tlConfig) {\n    const intervalMap = {\n      '1d': 'daily',\n      '1w': 'weekly',\n      '1M': 'monthly',\n      '1y': 'annual',\n    };\n\n    const config = _.defaults(args.byName, {\n      code: 'WIKI/AAPL',\n      position: 1,\n      interval: intervalMap[tlConfig.time.interval],\n      apikey: tlConfig.settings['timelion:quandl.key']\n    });\n\n    if (!config.interval) {\n      throw new Error('quandl() unsupported interval: ' + tlConfig.time.interval +\n      '. quandl() supports: ' + _.keys(intervalMap).join(', '));\n    }\n\n    const time = {\n      min: moment.utc(tlConfig.time.from).format('YYYY-MM-DD'),\n      max:  moment.utc(tlConfig.time.to).format('YYYY-MM-DD')\n    };\n\n    // POSITIONS\n    // 1. open\n    // 2. high\n    // 3. low\n    // 4. close\n    // 5. volume\n\n    const URL = 'https://www.quandl.com/api/v1/datasets/' + config.code + '.json' +\n      '?sort_order=asc' +\n      '&trim_start=' + time.min +\n      '&trim_end=' + time.max +\n      '&collapse=' + config.interval +\n      '&auth_token=' + config.apikey;\n\n    return fetch(URL).then(function (resp) { return resp.json(); }).then(function (resp) {\n      const data = _.map(resp.data, function (bucket) {\n        return [moment(bucket[0]).valueOf(), bucket[config.position]];\n      });\n\n      return {\n        type: 'seriesList',\n        list: [{\n          data:  data,\n          type: 'series',\n          fit: 'nearest',\n          label: resp.name\n        }]\n      };\n    }).catch(function (e) {\n      throw e;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/range.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('range', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'min',\n    types: ['number'],\n    help: 'New minimum value'\n  }, {\n    name: 'max',\n    types: ['number'],\n    help: 'New maximum value'\n  }],\n  help: 'Changes the max and min of a series while keeping the same shape',\n  fn: function range(args) {\n    return alter(args, function (eachSeries) {\n      var values = _.map(eachSeries.data, 1);\n      var min = _.min(values);\n      var max = _.max(values);\n\n      // newvalue= (max'-min')/(max-min)*(value-min)+min'.\n      var data = _.map(eachSeries.data, function (point) {\n        var val = (args.byName.max - args.byName.min) / (max - min) * (point[1] - min) + args.byName.min;\n        return [point[0], val];\n      });\n      eachSeries.data = data;\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvcmFuZ2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN6QyxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsSUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDdEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxPQUFPLEVBQUU7QUFDdEMsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxLQUFLO0FBQ1gsU0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ2pCLFFBQUksRUFBRSxtQkFBbUI7R0FDMUIsRUFDRDtBQUNFLFFBQUksRUFBRSxLQUFLO0FBQ1gsU0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ2pCLFFBQUksRUFBRSxtQkFBbUI7R0FDMUIsQ0FDRjtBQUNELE1BQUksRUFBRSxrRUFBa0U7QUFDeEUsSUFBRSxFQUFFLFNBQVMsS0FBSyxDQUFDLElBQUksRUFBRTtBQUN2QixXQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxVQUFVLEVBQUU7QUFDdkMsVUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3pDLFVBQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDMUIsVUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7O0FBRzFCLFVBQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxVQUFVLEtBQUssRUFBRTtBQUNuRCxZQUFNLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFBLElBQzNDLEdBQUcsR0FBRyxHQUFHLENBQUEsQUFBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUEsQUFBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO0FBQ25ELGVBQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7T0FDeEIsQ0FBQyxDQUFDO0FBQ0gsZ0JBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvcmFuZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbHRlciA9IHJlcXVpcmUoJy4uL2xpYi9hbHRlci5qcycpO1xuY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgQ2hhaW5hYmxlID0gcmVxdWlyZSgnLi4vbGliL2NsYXNzZXMvY2hhaW5hYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBDaGFpbmFibGUoJ3JhbmdlJywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ2lucHV0U2VyaWVzJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnXVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ21pbicsXG4gICAgICB0eXBlczogWydudW1iZXInXSxcbiAgICAgIGhlbHA6ICdOZXcgbWluaW11bSB2YWx1ZSdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdtYXgnLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJ10sXG4gICAgICBoZWxwOiAnTmV3IG1heGltdW0gdmFsdWUnXG4gICAgfVxuICBdLFxuICBoZWxwOiAnQ2hhbmdlcyB0aGUgbWF4IGFuZCBtaW4gb2YgYSBzZXJpZXMgd2hpbGUga2VlcGluZyB0aGUgc2FtZSBzaGFwZScsXG4gIGZuOiBmdW5jdGlvbiByYW5nZShhcmdzKSB7XG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzKSB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBfLm1hcChlYWNoU2VyaWVzLmRhdGEsIDEpO1xuICAgICAgY29uc3QgbWluID0gXy5taW4odmFsdWVzKTtcbiAgICAgIGNvbnN0IG1heCA9IF8ubWF4KHZhbHVlcyk7XG5cbiAgICAgIC8vIG5ld3ZhbHVlPSAobWF4Jy1taW4nKS8obWF4LW1pbikqKHZhbHVlLW1pbikrbWluJy5cbiAgICAgIGNvbnN0IGRhdGEgPSBfLm1hcChlYWNoU2VyaWVzLmRhdGEsIGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICBjb25zdCB2YWwgPSAoYXJncy5ieU5hbWUubWF4IC0gYXJncy5ieU5hbWUubWluKSAvXG4gICAgICAgICAgKG1heCAtIG1pbikgKiAocG9pbnRbMV0gLSBtaW4pICsgYXJncy5ieU5hbWUubWluO1xuICAgICAgICByZXR1cm4gW3BvaW50WzBdLCB2YWxdO1xuICAgICAgfSk7XG4gICAgICBlYWNoU2VyaWVzLmRhdGEgPSBkYXRhO1xuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/range.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;AACtC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,KAAK;AACX,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,mBAAmB;GAC1B,EACD;AACE,QAAI,EAAE,KAAK;AACX,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,mBAAmB;GAC1B,CACF;AACD,MAAI,EAAE,kEAAkE;AACxE,IAAE,EAAE,SAAS,KAAK,CAAC,IAAI,EAAE;AACvB,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;AACvC,UAAM,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;AACzC,UAAM,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;AAC1B,UAAM,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;;;AAG1B,UAAM,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,KAAK,EAAE;AACnD,YAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAA,IAC3C,GAAG,GAAG,GAAG,CAAA,AAAC,IAAI,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAA,AAAC,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;AACnD,eAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;OACxB,CAAC,CAAC;AACH,gBAAU,CAAC,IAAI,GAAG,IAAI,CAAC;AACvB,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/range.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('range', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'min',\n      types: ['number'],\n      help: 'New minimum value'\n    },\n    {\n      name: 'max',\n      types: ['number'],\n      help: 'New maximum value'\n    }\n  ],\n  help: 'Changes the max and min of a series while keeping the same shape',\n  fn: function range(args) {\n    return alter(args, function (eachSeries) {\n      const values = _.map(eachSeries.data, 1);\n      const min = _.min(values);\n      const max = _.max(values);\n\n      // newvalue= (max'-min')/(max-min)*(value-min)+min'.\n      const data = _.map(eachSeries.data, function (point) {\n        const val = (args.byName.max - args.byName.min) /\n          (max - min) * (point[1] - min) + args.byName.min;\n        return [point[0], val];\n      });\n      eachSeries.data = data;\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/scale_interval.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar toMS = require('../lib/to_milliseconds.js');\n\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('scale_interval', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'interval',\n    types: ['string'],\n    help: 'The new interval in date math notation, eg 1s for 1 second. 1m, 5m, 1M, 1w, 1y, etc.'\n  }],\n  help: 'Changes scales a value (usually a sum or a count) to a new interval. For example, as a per-second rate',\n  fn: function scaleIntervalFn(args, tlConfig) {\n    var currentInterval = toMS(tlConfig.time.interval);\n    var scaleInterval = toMS(args.byName.interval);\n\n    return alter(args, function (eachSeries) {\n      var data = _.map(eachSeries.data, function (point) {\n        return [point[0], point[1] / currentInterval * scaleInterval];\n      });\n      eachSeries.data = data;\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvc2NhbGVfaW50ZXJ2YWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN6QyxJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQzs7QUFFbEQsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsZ0JBQWdCLEVBQUU7QUFDL0MsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxVQUFVO0FBQ2hCLFNBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUNqQixRQUFJLEVBQUUsc0ZBQXNGO0dBQzdGLENBQ0Y7QUFDRCxNQUFJLEVBQUUsd0dBQXdHO0FBQzlHLElBQUUsRUFBRSxTQUFTLGVBQWUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFO0FBQzNDLFFBQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3JELFFBQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUVqRCxXQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxVQUFVLEVBQUU7QUFDdkMsVUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLFVBQVUsS0FBSyxFQUFFO0FBQ25ELGVBQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQUFBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsZUFBZSxHQUFJLGFBQWEsQ0FBQyxDQUFDO09BQ2pFLENBQUMsQ0FBQztBQUNILGdCQUFVLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztBQUN2QixhQUFPLFVBQVUsQ0FBQztLQUNuQixDQUFDLENBQUM7R0FDSjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL3NjYWxlX2ludGVydmFsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWx0ZXIgPSByZXF1aXJlKCcuLi9saWIvYWx0ZXIuanMnKTtcbmNvbnN0IHRvTVMgPSByZXF1aXJlKCcuLi9saWIvdG9fbWlsbGlzZWNvbmRzLmpzJyk7XG5cbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdzY2FsZV9pbnRlcnZhbCcsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdpbnRlcnZhbCcsXG4gICAgICB0eXBlczogWydzdHJpbmcnXSxcbiAgICAgIGhlbHA6ICdUaGUgbmV3IGludGVydmFsIGluIGRhdGUgbWF0aCBub3RhdGlvbiwgZWcgMXMgZm9yIDEgc2Vjb25kLiAxbSwgNW0sIDFNLCAxdywgMXksIGV0Yy4nXG4gICAgfVxuICBdLFxuICBoZWxwOiAnQ2hhbmdlcyBzY2FsZXMgYSB2YWx1ZSAodXN1YWxseSBhIHN1bSBvciBhIGNvdW50KSB0byBhIG5ldyBpbnRlcnZhbC4gRm9yIGV4YW1wbGUsIGFzIGEgcGVyLXNlY29uZCByYXRlJyxcbiAgZm46IGZ1bmN0aW9uIHNjYWxlSW50ZXJ2YWxGbihhcmdzLCB0bENvbmZpZykge1xuICAgIGNvbnN0IGN1cnJlbnRJbnRlcnZhbCA9IHRvTVModGxDb25maWcudGltZS5pbnRlcnZhbCk7XG4gICAgY29uc3Qgc2NhbGVJbnRlcnZhbCA9IHRvTVMoYXJncy5ieU5hbWUuaW50ZXJ2YWwpO1xuXG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzKSB7XG4gICAgICBjb25zdCBkYXRhID0gXy5tYXAoZWFjaFNlcmllcy5kYXRhLCBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIFtwb2ludFswXSwgKHBvaW50WzFdIC8gY3VycmVudEludGVydmFsKSAqIHNjYWxlSW50ZXJ2YWxdO1xuICAgICAgfSk7XG4gICAgICBlYWNoU2VyaWVzLmRhdGEgPSBkYXRhO1xuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/scale_interval.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,IAAI,GAAG,OAAO,CAAC,2BAA2B,CAAC,CAAC;;AAElD,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,gBAAgB,EAAE;AAC/C,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,UAAU;AAChB,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,sFAAsF;GAC7F,CACF;AACD,MAAI,EAAE,wGAAwG;AAC9G,IAAE,EAAE,SAAS,eAAe,CAAC,IAAI,EAAE,QAAQ,EAAE;AAC3C,QAAM,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACrD,QAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;;AAEjD,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;AACvC,UAAM,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,KAAK,EAAE;AACnD,eAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,AAAC,KAAK,CAAC,CAAC,CAAC,GAAG,eAAe,GAAI,aAAa,CAAC,CAAC;OACjE,CAAC,CAAC;AACH,gBAAU,CAAC,IAAI,GAAG,IAAI,CAAC;AACvB,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/scale_interval.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst toMS = require('../lib/to_milliseconds.js');\n\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('scale_interval', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'interval',\n      types: ['string'],\n      help: 'The new interval in date math notation, eg 1s for 1 second. 1m, 5m, 1M, 1w, 1y, etc.'\n    }\n  ],\n  help: 'Changes scales a value (usually a sum or a count) to a new interval. For example, as a per-second rate',\n  fn: function scaleIntervalFn(args, tlConfig) {\n    const currentInterval = toMS(tlConfig.time.interval);\n    const scaleInterval = toMS(args.byName.interval);\n\n    return alter(args, function (eachSeries) {\n      const data = _.map(eachSeries.data, function (point) {\n        return [point[0], (point[1] / currentInterval) * scaleInterval];\n      });\n      eachSeries.data = data;\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/static.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar fetch = require('node-fetch');\nvar moment = require('moment');\nvar Datasource = require('../lib/classes/datasource');\nvar Promise = require('bluebird');\n\nmodule.exports = new Datasource('static', {\n  aliases: ['value'],\n  args: [{\n    name: 'value', // _test-data.users.*.data\n    types: ['number', 'string'],\n    help: 'The single value to to display, you can also pass several values and I will interpolate them evenly ' + 'across your time range.'\n  }, {\n    name: 'label',\n    types: ['string', 'null'],\n    help: 'A quick way to set the label for the series. You could also use the .label() function'\n  }],\n  help: 'Draws a single value across the chart',\n  fn: function staticFn(args, tlConfig) {\n\n    var data = undefined;\n    var target = tlConfig.getTargetSeries();\n    if (typeof args.byName.value === 'string') {\n      (function () {\n        var points = args.byName.value.split(':');\n        var begin = _.first(target)[0];\n        var end = _.last(target)[0];\n        var step = (end - begin) / (points.length - 1);\n        data = _.map(points, function (point, i) {\n          return [begin + i * step, parseFloat(point)];\n        });\n      })();\n    } else {\n      data = _.map(target, function (bucket) {\n        return [bucket[0], args.byName.value];\n      });\n    }\n\n    return Promise.resolve({\n      type: 'seriesList',\n      list: [{\n        data: data,\n        type: 'series',\n        label: args.byName.label == null ? String(args.byName.value) : args.byName.label,\n        fit: args.byName.fit || 'average'\n      }]\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvc3RhdGljLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNwQyxJQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakMsSUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUM7QUFDeEQsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUdwQyxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksVUFBVSxDQUFFLFFBQVEsRUFBRTtBQUN6QyxTQUFPLEVBQUUsQ0FBQyxPQUFPLENBQUM7QUFDbEIsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsT0FBTztBQUNiLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUM7QUFDM0IsUUFBSSxFQUFFLHNHQUFzRyxHQUMxRyx5QkFBeUI7R0FDNUIsRUFDRDtBQUNFLFFBQUksRUFBRSxPQUFPO0FBQ2IsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsdUZBQXVGO0dBQzlGLENBQ0Y7QUFDRCxNQUFJLEVBQUUsdUNBQXVDO0FBQzdDLElBQUUsRUFBRSxTQUFTLFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFOztBQUVwQyxRQUFJLElBQUksWUFBQSxDQUFDO0FBQ1QsUUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLGVBQWUsRUFBRSxDQUFDO0FBQzFDLFFBQUksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssS0FBSyxRQUFRLEVBQUU7O0FBQ3pDLFlBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM1QyxZQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pDLFlBQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDOUIsWUFBTSxJQUFJLEdBQUcsQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFBLElBQUssTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUEsQUFBQyxDQUFDO0FBQ2pELFlBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxVQUFVLEtBQUssRUFBRSxDQUFDLEVBQUU7QUFDdkMsaUJBQU8sQ0FBQyxLQUFLLEdBQUksQ0FBQyxHQUFHLElBQUksQUFBQyxFQUFFLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQ2hELENBQUMsQ0FBQzs7S0FDSixNQUFNO0FBQ0wsVUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLFVBQVUsTUFBTSxFQUFFO0FBQ3JDLGVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztPQUN2QyxDQUFDLENBQUM7S0FDSjs7QUFFRCxXQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDckIsVUFBSSxFQUFFLFlBQVk7QUFDbEIsVUFBSSxFQUFFLENBQ0o7QUFDRSxZQUFJLEVBQUUsSUFBSTtBQUNWLFlBQUksRUFBRSxRQUFRO0FBQ2QsYUFBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUs7QUFDaEYsV0FBRyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLFNBQVM7T0FDbEMsQ0FDRjtLQUNGLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvc3RhdGljLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJyk7XG5jb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbmNvbnN0IERhdGFzb3VyY2UgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9kYXRhc291cmNlJyk7XG5jb25zdCBQcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBEYXRhc291cmNlICgnc3RhdGljJywge1xuICBhbGlhc2VzOiBbJ3ZhbHVlJ10sXG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAndmFsdWUnLCAvLyBfdGVzdC1kYXRhLnVzZXJzLiouZGF0YVxuICAgICAgdHlwZXM6IFsnbnVtYmVyJywgJ3N0cmluZyddLFxuICAgICAgaGVscDogJ1RoZSBzaW5nbGUgdmFsdWUgdG8gdG8gZGlzcGxheSwgeW91IGNhbiBhbHNvIHBhc3Mgc2V2ZXJhbCB2YWx1ZXMgYW5kIEkgd2lsbCBpbnRlcnBvbGF0ZSB0aGVtIGV2ZW5seSAnICtcbiAgICAgICAgJ2Fjcm9zcyB5b3VyIHRpbWUgcmFuZ2UuJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2xhYmVsJyxcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXG4gICAgICBoZWxwOiAnQSBxdWljayB3YXkgdG8gc2V0IHRoZSBsYWJlbCBmb3IgdGhlIHNlcmllcy4gWW91IGNvdWxkIGFsc28gdXNlIHRoZSAubGFiZWwoKSBmdW5jdGlvbidcbiAgICB9XG4gIF0sXG4gIGhlbHA6ICdEcmF3cyBhIHNpbmdsZSB2YWx1ZSBhY3Jvc3MgdGhlIGNoYXJ0JyxcbiAgZm46IGZ1bmN0aW9uIHN0YXRpY0ZuKGFyZ3MsIHRsQ29uZmlnKSB7XG5cbiAgICBsZXQgZGF0YTtcbiAgICBjb25zdCB0YXJnZXQgPSB0bENvbmZpZy5nZXRUYXJnZXRTZXJpZXMoKTtcbiAgICBpZiAodHlwZW9mIGFyZ3MuYnlOYW1lLnZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgcG9pbnRzID0gYXJncy5ieU5hbWUudmFsdWUuc3BsaXQoJzonKTtcbiAgICAgIGNvbnN0IGJlZ2luID0gXy5maXJzdCh0YXJnZXQpWzBdO1xuICAgICAgY29uc3QgZW5kID0gXy5sYXN0KHRhcmdldClbMF07XG4gICAgICBjb25zdCBzdGVwID0gKGVuZCAtIGJlZ2luKSAvIChwb2ludHMubGVuZ3RoIC0gMSk7XG4gICAgICBkYXRhID0gXy5tYXAocG9pbnRzLCBmdW5jdGlvbiAocG9pbnQsIGkpIHtcbiAgICAgICAgcmV0dXJuIFtiZWdpbiArIChpICogc3RlcCksIHBhcnNlRmxvYXQocG9pbnQpXTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhID0gXy5tYXAodGFyZ2V0LCBmdW5jdGlvbiAoYnVja2V0KSB7XG4gICAgICAgIHJldHVybiBbYnVja2V0WzBdLCBhcmdzLmJ5TmFtZS52YWx1ZV07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgIHR5cGU6ICdzZXJpZXNMaXN0JyxcbiAgICAgIGxpc3Q6IFtcbiAgICAgICAge1xuICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgdHlwZTogJ3NlcmllcycsXG4gICAgICAgICAgbGFiZWw6IGFyZ3MuYnlOYW1lLmxhYmVsID09IG51bGwgPyBTdHJpbmcoYXJncy5ieU5hbWUudmFsdWUpIDogYXJncy5ieU5hbWUubGFiZWwsXG4gICAgICAgICAgZml0OiBhcmdzLmJ5TmFtZS5maXQgfHwgJ2F2ZXJhZ2UnXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KTtcbiAgfVxufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/static.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,KAAK,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACpC,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,IAAM,UAAU,GAAG,OAAO,CAAC,2BAA2B,CAAC,CAAC;AACxD,IAAM,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;;AAGpC,MAAM,CAAC,OAAO,GAAG,IAAI,UAAU,CAAE,QAAQ,EAAE;AACzC,SAAO,EAAE,CAAC,OAAO,CAAC;AAClB,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC;AAC3B,QAAI,EAAE,sGAAsG,GAC1G,yBAAyB;GAC5B,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,uFAAuF;GAC9F,CACF;AACD,MAAI,EAAE,uCAAuC;AAC7C,IAAE,EAAE,SAAS,QAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE;;AAEpC,QAAI,IAAI,YAAA,CAAC;AACT,QAAM,MAAM,GAAG,QAAQ,CAAC,eAAe,EAAE,CAAC;AAC1C,QAAI,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,KAAK,QAAQ,EAAE;;AACzC,YAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC5C,YAAM,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACjC,YAAM,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B,YAAM,IAAI,GAAG,CAAC,GAAG,GAAG,KAAK,CAAA,IAAK,MAAM,CAAC,MAAM,GAAG,CAAC,CAAA,AAAC,CAAC;AACjD,YAAI,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE,CAAC,EAAE;AACvC,iBAAO,CAAC,KAAK,GAAI,CAAC,GAAG,IAAI,AAAC,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;SAChD,CAAC,CAAC;;KACJ,MAAM;AACL,UAAI,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,MAAM,EAAE;AACrC,eAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;OACvC,CAAC,CAAC;KACJ;;AAED,WAAO,OAAO,CAAC,OAAO,CAAC;AACrB,UAAI,EAAE,YAAY;AAClB,UAAI,EAAE,CACJ;AACE,YAAI,EAAE,IAAI;AACV,YAAI,EAAE,QAAQ;AACd,aAAK,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK;AAChF,WAAG,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,SAAS;OAClC,CACF;KACF,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/static.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst fetch = require('node-fetch');\nconst moment = require('moment');\nconst Datasource = require('../lib/classes/datasource');\nconst Promise = require('bluebird');\n\n\nmodule.exports = new Datasource ('static', {\n  aliases: ['value'],\n  args: [\n    {\n      name: 'value', // _test-data.users.*.data\n      types: ['number', 'string'],\n      help: 'The single value to to display, you can also pass several values and I will interpolate them evenly ' +\n        'across your time range.'\n    },\n    {\n      name: 'label',\n      types: ['string', 'null'],\n      help: 'A quick way to set the label for the series. You could also use the .label() function'\n    }\n  ],\n  help: 'Draws a single value across the chart',\n  fn: function staticFn(args, tlConfig) {\n\n    let data;\n    const target = tlConfig.getTargetSeries();\n    if (typeof args.byName.value === 'string') {\n      const points = args.byName.value.split(':');\n      const begin = _.first(target)[0];\n      const end = _.last(target)[0];\n      const step = (end - begin) / (points.length - 1);\n      data = _.map(points, function (point, i) {\n        return [begin + (i * step), parseFloat(point)];\n      });\n    } else {\n      data = _.map(target, function (bucket) {\n        return [bucket[0], args.byName.value];\n      });\n    }\n\n    return Promise.resolve({\n      type: 'seriesList',\n      list: [\n        {\n          data: data,\n          type: 'series',\n          label: args.byName.label == null ? String(args.byName.value) : args.byName.label,\n          fit: args.byName.fit || 'average'\n        }\n      ]\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/subtract.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar reduce = require('../lib/reduce.js');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('subtract', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'term',\n    types: ['seriesList', 'number'],\n    help: 'Number or series to subtract from input. If passing a seriesList it must contain exactly 1 series.'\n  }],\n  help: 'Subtract the values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  fn: function subtractFn(args) {\n    return reduce(args, function (a, b) {\n      return a - b;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvc3VidHJhY3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQzs7QUFHM0MsSUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDdEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxVQUFVLEVBQUU7QUFDekMsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxNQUFNO0FBQ1osU0FBSyxFQUFFLENBQUMsWUFBWSxFQUFFLFFBQVEsQ0FBQztBQUMvQixRQUFJLEVBQUUsb0dBQW9HO0dBQzNHLENBQ0Y7QUFDRCxNQUFJLEVBQUUscUhBQXFIO0FBQzNILElBQUUsRUFBRSxTQUFTLFVBQVUsQ0FBQyxJQUFJLEVBQUU7QUFDNUIsV0FBTyxNQUFNLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUNsQyxhQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDZCxDQUFDLENBQUM7R0FDSjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL3N1YnRyYWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVkdWNlID0gcmVxdWlyZSgnLi4vbGliL3JlZHVjZS5qcycpO1xuXG5cbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdzdWJ0cmFjdCcsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICd0ZXJtJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnLCAnbnVtYmVyJ10sXG4gICAgICBoZWxwOiAnTnVtYmVyIG9yIHNlcmllcyB0byBzdWJ0cmFjdCBmcm9tIGlucHV0LiBJZiBwYXNzaW5nIGEgc2VyaWVzTGlzdCBpdCBtdXN0IGNvbnRhaW4gZXhhY3RseSAxIHNlcmllcy4nXG4gICAgfVxuICBdLFxuICBoZWxwOiAnU3VidHJhY3QgdGhlIHZhbHVlcyBvZiBvbmUgb3IgbW9yZSBzZXJpZXMgaW4gYSBzZXJpZXNMaXN0IHRvIGVhY2ggcG9zaXRpb24sIGluIGVhY2ggc2VyaWVzLCBvZiB0aGUgaW5wdXQgc2VyaWVzTGlzdCcsXG4gIGZuOiBmdW5jdGlvbiBzdWJ0cmFjdEZuKGFyZ3MpIHtcbiAgICByZXR1cm4gcmVkdWNlKGFyZ3MsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/subtract.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAG3C,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,UAAU,EAAE;AACzC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC;AAC/B,QAAI,EAAE,oGAAoG;GAC3G,CACF;AACD,MAAI,EAAE,qHAAqH;AAC3H,IAAE,EAAE,SAAS,UAAU,CAAC,IAAI,EAAE;AAC5B,WAAO,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;AAClC,aAAO,CAAC,GAAG,CAAC,CAAC;KACd,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/subtract.js",
      "sourcesContent": [
        "const reduce = require('../lib/reduce.js');\n\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('subtract', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'term',\n      types: ['seriesList', 'number'],\n      help: 'Number or series to subtract from input. If passing a seriesList it must contain exactly 1 series.'\n    }\n  ],\n  help: 'Subtract the values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  fn: function subtractFn(args) {\n    return reduce(args, function (a, b) {\n      return a - b;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/sum.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar reduce = require('../lib/reduce.js');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('sum', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'term',\n    types: ['seriesList', 'number'],\n    help: 'Number or series to sum with the input series. If passing a seriesList it must contain exactly 1 series.'\n\n  }],\n  help: 'Adds the values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  aliases: ['add', 'plus'],\n  fn: function sumFn(args) {\n    return reduce(args, function (a, b) {\n      return a + b;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvc3VtLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7O0FBRTNDLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxTQUFTLENBQUMsS0FBSyxFQUFFO0FBQ3BDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLGFBQWE7QUFDbkIsU0FBSyxFQUFFLENBQUMsWUFBWSxDQUFDO0dBQ3RCLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsTUFBTTtBQUNaLFNBQUssRUFBRSxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUM7QUFDL0IsUUFBSSxFQUFFLDBHQUEwRzs7R0FFakgsQ0FDRjtBQUNELE1BQUksRUFBRSxpSEFBaUg7QUFDdkgsU0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQztBQUN4QixJQUFFLEVBQUUsU0FBUyxLQUFLLENBQUMsSUFBSSxFQUFFO0FBQ3ZCLFdBQU8sTUFBTSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDbEMsYUFBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2QsQ0FBQyxDQUFDO0dBQ0o7Q0FDRixDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy9zdW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZWR1Y2UgPSByZXF1aXJlKCcuLi9saWIvcmVkdWNlLmpzJyk7XG5cbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCdzdW0nLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnaW5wdXRTZXJpZXMnLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCddXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAndGVybScsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0JywgJ251bWJlciddLFxuICAgICAgaGVscDogJ051bWJlciBvciBzZXJpZXMgdG8gc3VtIHdpdGggdGhlIGlucHV0IHNlcmllcy4gSWYgcGFzc2luZyBhIHNlcmllc0xpc3QgaXQgbXVzdCBjb250YWluIGV4YWN0bHkgMSBzZXJpZXMuJ1xuXG4gICAgfVxuICBdLFxuICBoZWxwOiAnQWRkcyB0aGUgdmFsdWVzIG9mIG9uZSBvciBtb3JlIHNlcmllcyBpbiBhIHNlcmllc0xpc3QgdG8gZWFjaCBwb3NpdGlvbiwgaW4gZWFjaCBzZXJpZXMsIG9mIHRoZSBpbnB1dCBzZXJpZXNMaXN0JyxcbiAgYWxpYXNlczogWydhZGQnLCAncGx1cyddLFxuICBmbjogZnVuY3Rpb24gc3VtRm4oYXJncykge1xuICAgIHJldHVybiByZWR1Y2UoYXJncywgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhICsgYjtcbiAgICB9KTtcbiAgfVxufSk7Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/sum.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAE3C,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,KAAK,EAAE;AACpC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC;AAC/B,QAAI,EAAE,0GAA0G;;GAEjH,CACF;AACD,MAAI,EAAE,iHAAiH;AACvH,SAAO,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC;AACxB,IAAE,EAAE,SAAS,KAAK,CAAC,IAAI,EAAE;AACvB,WAAO,MAAM,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;AAClC,aAAO,CAAC,GAAG,CAAC,CAAC;KACd,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/sum.js",
      "sourcesContent": [
        "const reduce = require('../lib/reduce.js');\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('sum', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'term',\n      types: ['seriesList', 'number'],\n      help: 'Number or series to sum with the input series. If passing a seriesList it must contain exactly 1 series.'\n\n    }\n  ],\n  help: 'Adds the values of one or more series in a seriesList to each position, in each series, of the input seriesList',\n  aliases: ['add', 'plus'],\n  fn: function sumFn(args) {\n    return reduce(args, function (a, b) {\n      return a + b;\n    });\n  }\n});"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/title.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('title', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'title',\n    types: ['string', 'null'],\n    help: 'Title for the plot.'\n  }],\n  help: 'Adds a title to the top of the plot. If called on more than 1 seriesList the last call will be used.',\n  fn: function hideFn(args) {\n    return alter(args, function (eachSeries, title) {\n      eachSeries._title = title;\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvdGl0bGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN6QyxJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUN0RCxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksU0FBUyxDQUFDLE9BQU8sRUFBRTtBQUN0QyxNQUFJLEVBQUUsQ0FDSjtBQUNFLFFBQUksRUFBRSxhQUFhO0FBQ25CLFNBQUssRUFBRSxDQUFDLFlBQVksQ0FBQztHQUN0QixFQUNEO0FBQ0UsUUFBSSxFQUFFLE9BQU87QUFDYixTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO0FBQ3pCLFFBQUksRUFBRSxxQkFBcUI7R0FDNUIsQ0FDRjtBQUNELE1BQUksRUFBRSxzR0FBc0c7QUFDNUcsSUFBRSxFQUFFLFNBQVMsTUFBTSxDQUFDLElBQUksRUFBRTtBQUN4QixXQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxVQUFVLEVBQUUsS0FBSyxFQUFFO0FBQzlDLGdCQUFVLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztBQUMxQixhQUFPLFVBQVUsQ0FBQztLQUNuQixDQUFDLENBQUM7R0FDSjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL3RpdGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWx0ZXIgPSByZXF1aXJlKCcuLi9saWIvYWx0ZXIuanMnKTtcbmNvbnN0IENoYWluYWJsZSA9IHJlcXVpcmUoJy4uL2xpYi9jbGFzc2VzL2NoYWluYWJsZScpO1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCd0aXRsZScsIHtcbiAgYXJnczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICdpbnB1dFNlcmllcycsXG4gICAgICB0eXBlczogWydzZXJpZXNMaXN0J11cbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICd0aXRsZScsXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddLFxuICAgICAgaGVscDogJ1RpdGxlIGZvciB0aGUgcGxvdC4nXG4gICAgfVxuICBdLFxuICBoZWxwOiAnQWRkcyBhIHRpdGxlIHRvIHRoZSB0b3Agb2YgdGhlIHBsb3QuIElmIGNhbGxlZCBvbiBtb3JlIHRoYW4gMSBzZXJpZXNMaXN0IHRoZSBsYXN0IGNhbGwgd2lsbCBiZSB1c2VkLicsXG4gIGZuOiBmdW5jdGlvbiBoaWRlRm4oYXJncykge1xuICAgIHJldHVybiBhbHRlcihhcmdzLCBmdW5jdGlvbiAoZWFjaFNlcmllcywgdGl0bGUpIHtcbiAgICAgIGVhY2hTZXJpZXMuX3RpdGxlID0gdGl0bGU7XG4gICAgICByZXR1cm4gZWFjaFNlcmllcztcbiAgICB9KTtcbiAgfVxufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/title.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;AACtC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,qBAAqB;GAC5B,CACF;AACD,MAAI,EAAE,sGAAsG;AAC5G,IAAE,EAAE,SAAS,MAAM,CAAC,IAAI,EAAE;AACxB,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,KAAK,EAAE;AAC9C,gBAAU,CAAC,MAAM,GAAG,KAAK,CAAC;AAC1B,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/title.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('title', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'title',\n      types: ['string', 'null'],\n      help: 'Title for the plot.'\n    }\n  ],\n  help: 'Adds a title to the top of the plot. If called on more than 1 seriesList the last call will be used.',\n  fn: function hideFn(args) {\n    return alter(args, function (eachSeries, title) {\n      eachSeries._title = title;\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/trim.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\nvar _ = require('lodash');\nvar Chainable = require('../lib/classes/chainable');\nvar argType = require('../handlers/lib/arg_type.js');\n\nmodule.exports = new Chainable('trim', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'start',\n    types: ['number', 'null'],\n    help: 'Buckets to trim from the beginning of the series. Default: 1'\n  }, {\n    name: 'end',\n    types: ['number', 'null'],\n    help: 'Buckets to trim from the end of the series. Default: 1'\n  }],\n  help: 'Set N buckets at the start or end of a series to null to fit the \"partial bucket issue\"',\n  fn: function conditionFn(args) {\n    var config = args.byName;\n    if (config.start == null) config.start = 1;\n    if (config.end == null) config.end = 1;\n\n    return alter(args, function (eachSeries) {\n\n      _.times(config.start, function (i) {\n        eachSeries.data[i][1] = null;\n      });\n\n      _.times(config.end, function (i) {\n        eachSeries.data[eachSeries.data.length - 1 - i][1] = null;\n      });\n\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvdHJpbS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3pDLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUN0RCxJQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsNkJBQTZCLENBQUMsQ0FBQzs7QUFFdkQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEVBQUU7QUFDckMsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxPQUFPO0FBQ2IsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsOERBQThEO0dBQ3JFLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsS0FBSztBQUNYLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSxFQUFFLHdEQUF3RDtHQUMvRCxDQUNGO0FBQ0QsTUFBSSxFQUFFLHlGQUF5RjtBQUMvRixJQUFFLEVBQUUsU0FBUyxXQUFXLENBQUMsSUFBSSxFQUFFO0FBQzdCLFFBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDM0IsUUFBSSxNQUFNLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRSxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztBQUMzQyxRQUFJLE1BQU0sQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDOztBQUV2QyxXQUFPLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxVQUFVLEVBQUU7O0FBRXZDLE9BQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsRUFBRTtBQUNqQyxrQkFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7T0FDOUIsQ0FBQyxDQUFDOztBQUVILE9BQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsRUFBRTtBQUMvQixrQkFBVSxDQUFDLElBQUksQ0FBQyxBQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7T0FDN0QsQ0FBQyxDQUFDOztBQUVILGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvdHJpbS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFsdGVyID0gcmVxdWlyZSgnLi4vbGliL2FsdGVyLmpzJyk7XG5jb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcbmNvbnN0IGFyZ1R5cGUgPSByZXF1aXJlKCcuLi9oYW5kbGVycy9saWIvYXJnX3R5cGUuanMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgQ2hhaW5hYmxlKCd0cmltJywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ2lucHV0U2VyaWVzJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnXVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3N0YXJ0JyxcbiAgICAgIHR5cGVzOiBbJ251bWJlcicsICdudWxsJ10sXG4gICAgICBoZWxwOiAnQnVja2V0cyB0byB0cmltIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgc2VyaWVzLiBEZWZhdWx0OiAxJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2VuZCcsXG4gICAgICB0eXBlczogWydudW1iZXInLCAnbnVsbCddLFxuICAgICAgaGVscDogJ0J1Y2tldHMgdG8gdHJpbSBmcm9tIHRoZSBlbmQgb2YgdGhlIHNlcmllcy4gRGVmYXVsdDogMSdcbiAgICB9XG4gIF0sXG4gIGhlbHA6ICdTZXQgTiBidWNrZXRzIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgYSBzZXJpZXMgdG8gbnVsbCB0byBmaXQgdGhlIFwicGFydGlhbCBidWNrZXQgaXNzdWVcIicsXG4gIGZuOiBmdW5jdGlvbiBjb25kaXRpb25GbihhcmdzKSB7XG4gICAgY29uc3QgY29uZmlnID0gYXJncy5ieU5hbWU7XG4gICAgaWYgKGNvbmZpZy5zdGFydCA9PSBudWxsKSBjb25maWcuc3RhcnQgPSAxO1xuICAgIGlmIChjb25maWcuZW5kID09IG51bGwpIGNvbmZpZy5lbmQgPSAxO1xuXG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzKSB7XG5cbiAgICAgIF8udGltZXMoY29uZmlnLnN0YXJ0LCBmdW5jdGlvbiAoaSkge1xuICAgICAgICBlYWNoU2VyaWVzLmRhdGFbaV1bMV0gPSBudWxsO1xuICAgICAgfSk7XG5cbiAgICAgIF8udGltZXMoY29uZmlnLmVuZCwgZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgZWFjaFNlcmllcy5kYXRhWyhlYWNoU2VyaWVzLmRhdGEubGVuZ3RoIC0gMSkgLSBpXVsxXSA9IG51bGw7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGVhY2hTZXJpZXM7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/trim.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AACzC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,IAAM,OAAO,GAAG,OAAO,CAAC,6BAA6B,CAAC,CAAC;;AAEvD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,MAAM,EAAE;AACrC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,8DAA8D;GACrE,EACD;AACE,QAAI,EAAE,KAAK;AACX,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,wDAAwD;GAC/D,CACF;AACD,MAAI,EAAE,yFAAyF;AAC/F,IAAE,EAAE,SAAS,WAAW,CAAC,IAAI,EAAE;AAC7B,QAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AAC3B,QAAI,MAAM,CAAC,KAAK,IAAI,IAAI,EAAE,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;AAC3C,QAAI,MAAM,CAAC,GAAG,IAAI,IAAI,EAAE,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC;;AAEvC,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE;;AAEvC,OAAC,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE;AACjC,kBAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;OAC9B,CAAC,CAAC;;AAEH,OAAC,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,UAAU,CAAC,EAAE;AAC/B,kBAAU,CAAC,IAAI,CAAC,AAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;OAC7D,CAAC,CAAC;;AAEH,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/trim.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\nconst _ = require('lodash');\nconst Chainable = require('../lib/classes/chainable');\nconst argType = require('../handlers/lib/arg_type.js');\n\nmodule.exports = new Chainable('trim', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'start',\n      types: ['number', 'null'],\n      help: 'Buckets to trim from the beginning of the series. Default: 1'\n    },\n    {\n      name: 'end',\n      types: ['number', 'null'],\n      help: 'Buckets to trim from the end of the series. Default: 1'\n    }\n  ],\n  help: 'Set N buckets at the start or end of a series to null to fit the \"partial bucket issue\"',\n  fn: function conditionFn(args) {\n    const config = args.byName;\n    if (config.start == null) config.start = 1;\n    if (config.end == null) config.end = 1;\n\n    return alter(args, function (eachSeries) {\n\n      _.times(config.start, function (i) {\n        eachSeries.data[i][1] = null;\n      });\n\n      _.times(config.end, function (i) {\n        eachSeries.data[(eachSeries.data.length - 1) - i][1] = null;\n      });\n\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/worldbank_indicators.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar fetch = require('node-fetch');\nvar moment = require('moment');\nvar worldbank = require('./worldbank.js');\nvar Promise = require('bluebird');\nvar Datasource = require('../lib/classes/datasource');\n\nmodule.exports = new Datasource('worldbank_indicators', {\n  args: [{\n    name: 'country', // countries/all/indicators/SP.POP.TOTL\n    types: ['string', 'null'],\n    help: 'Worldbank country identifier. Usually the country\\'s 2 letter code'\n  }, {\n    name: 'indicator',\n    types: ['string', 'null'],\n    help: 'The indicator code to use. You\\'ll have to look this up on data.worldbank.org.' + ' Often pretty obtuse. Eg SP.POP.TOTL is population'\n  }],\n  aliases: ['wbi'],\n  help: '\\n    [experimental]\\n    Pull data from http://data.worldbank.org/ using the country name and indicator. The worldbank provides\\n    mostly yearly data, and often has no data for the current year. Try offset=-1y if you get no data for recent\\n    time ranges.',\n  fn: function worldbankIndicators(args, tlConfig) {\n    var config = _.defaults(args.byName, {\n      country: 'wld',\n      indicator: 'SP.POP.TOTL'\n    });\n\n    var countries = config.country.split(':');\n    var seriesLists = _.map(countries, function (country) {\n      var code = 'countries/' + country + '/indicators/' + config.indicator;\n      var wbArgs = [code];\n      wbArgs.byName = { code: code };\n      return worldbank.timelionFn(wbArgs, tlConfig);\n    });\n\n    return Promise.map(seriesLists, function (seriesList) {\n      return seriesList.list[0];\n    }).then(function (list) {\n      return {\n        type: 'seriesList',\n        list: list\n      };\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvd29ybGRiYW5rX2luZGljYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDNUIsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3BDLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNqQyxJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUM1QyxJQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDcEMsSUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUM7O0FBR3hELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxVQUFVLENBQUUsc0JBQXNCLEVBQUU7QUFDdkQsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsU0FBUztBQUNmLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSxFQUFFLG9FQUFvRTtHQUMzRSxFQUNEO0FBQ0UsUUFBSSxFQUFFLFdBQVc7QUFDakIsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsZ0ZBQWdGLEdBQ3BGLG9EQUFvRDtHQUN2RCxDQUNGO0FBQ0QsU0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ2hCLE1BQUksd1FBSVc7QUFDZixJQUFFLEVBQUUsU0FBUyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFO0FBQy9DLFFBQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNyQyxhQUFPLEVBQUUsS0FBSztBQUNkLGVBQVMsRUFBRSxhQUFhO0tBQ3pCLENBQUMsQ0FBQzs7QUFFSCxRQUFNLFNBQVMsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM1QyxRQUFNLFdBQVcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxVQUFVLE9BQU8sRUFBRTtBQUN0RCxVQUFNLElBQUksR0FBRyxZQUFZLEdBQUcsT0FBTyxHQUFHLGNBQWMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO0FBQ3hFLFVBQU0sTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdEIsWUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUMvQixhQUFPLFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0tBQy9DLENBQUMsQ0FBQzs7QUFFSCxXQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLFVBQVUsVUFBVSxFQUFFO0FBQ3BELGFBQU8sVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUMzQixDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxFQUFFO0FBQ3RCLGFBQU87QUFDTCxZQUFJLEVBQUUsWUFBWTtBQUNsQixZQUFJLEVBQUUsSUFBSTtPQUNYLENBQUM7S0FDSCxDQUFDLENBQUM7R0FFSjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL3dvcmxkYmFua19pbmRpY2F0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJyk7XG5jb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbmNvbnN0IHdvcmxkYmFuayA9IHJlcXVpcmUoJy4vd29ybGRiYW5rLmpzJyk7XG5jb25zdCBQcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKTtcbmNvbnN0IERhdGFzb3VyY2UgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9kYXRhc291cmNlJyk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgRGF0YXNvdXJjZSAoJ3dvcmxkYmFua19pbmRpY2F0b3JzJywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ2NvdW50cnknLCAvLyBjb3VudHJpZXMvYWxsL2luZGljYXRvcnMvU1AuUE9QLlRPVExcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXG4gICAgICBoZWxwOiAnV29ybGRiYW5rIGNvdW50cnkgaWRlbnRpZmllci4gVXN1YWxseSB0aGUgY291bnRyeVxcJ3MgMiBsZXR0ZXIgY29kZSdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdpbmRpY2F0b3InLFxuICAgICAgdHlwZXM6IFsnc3RyaW5nJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdUaGUgaW5kaWNhdG9yIGNvZGUgdG8gdXNlLiBZb3VcXCdsbCBoYXZlIHRvIGxvb2sgdGhpcyB1cCBvbiBkYXRhLndvcmxkYmFuay5vcmcuJyArXG4gICAgICAgICcgT2Z0ZW4gcHJldHR5IG9idHVzZS4gRWcgU1AuUE9QLlRPVEwgaXMgcG9wdWxhdGlvbidcbiAgICB9XG4gIF0sXG4gIGFsaWFzZXM6IFsnd2JpJ10sXG4gIGhlbHA6IGBcbiAgICBbZXhwZXJpbWVudGFsXVxuICAgIFB1bGwgZGF0YSBmcm9tIGh0dHA6Ly9kYXRhLndvcmxkYmFuay5vcmcvIHVzaW5nIHRoZSBjb3VudHJ5IG5hbWUgYW5kIGluZGljYXRvci4gVGhlIHdvcmxkYmFuayBwcm92aWRlc1xuICAgIG1vc3RseSB5ZWFybHkgZGF0YSwgYW5kIG9mdGVuIGhhcyBubyBkYXRhIGZvciB0aGUgY3VycmVudCB5ZWFyLiBUcnkgb2Zmc2V0PS0xeSBpZiB5b3UgZ2V0IG5vIGRhdGEgZm9yIHJlY2VudFxuICAgIHRpbWUgcmFuZ2VzLmAsXG4gIGZuOiBmdW5jdGlvbiB3b3JsZGJhbmtJbmRpY2F0b3JzKGFyZ3MsIHRsQ29uZmlnKSB7XG4gICAgY29uc3QgY29uZmlnID0gXy5kZWZhdWx0cyhhcmdzLmJ5TmFtZSwge1xuICAgICAgY291bnRyeTogJ3dsZCcsXG4gICAgICBpbmRpY2F0b3I6ICdTUC5QT1AuVE9UTCdcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvdW50cmllcyA9IGNvbmZpZy5jb3VudHJ5LnNwbGl0KCc6Jyk7XG4gICAgY29uc3Qgc2VyaWVzTGlzdHMgPSBfLm1hcChjb3VudHJpZXMsIGZ1bmN0aW9uIChjb3VudHJ5KSB7XG4gICAgICBjb25zdCBjb2RlID0gJ2NvdW50cmllcy8nICsgY291bnRyeSArICcvaW5kaWNhdG9ycy8nICsgY29uZmlnLmluZGljYXRvcjtcbiAgICAgIGNvbnN0IHdiQXJncyA9IFtjb2RlXTtcbiAgICAgIHdiQXJncy5ieU5hbWUgPSB7IGNvZGU6IGNvZGUgfTtcbiAgICAgIHJldHVybiB3b3JsZGJhbmsudGltZWxpb25Gbih3YkFyZ3MsIHRsQ29uZmlnKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBQcm9taXNlLm1hcChzZXJpZXNMaXN0cywgZnVuY3Rpb24gKHNlcmllc0xpc3QpIHtcbiAgICAgIHJldHVybiBzZXJpZXNMaXN0Lmxpc3RbMF07XG4gICAgfSkudGhlbihmdW5jdGlvbiAobGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3Nlcmllc0xpc3QnLFxuICAgICAgICBsaXN0OiBsaXN0XG4gICAgICB9O1xuICAgIH0pO1xuXG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/worldbank_indicators.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,KAAK,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACpC,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,IAAM,SAAS,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAC5C,IAAM,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACpC,IAAM,UAAU,GAAG,OAAO,CAAC,2BAA2B,CAAC,CAAC;;AAGxD,MAAM,CAAC,OAAO,GAAG,IAAI,UAAU,CAAE,sBAAsB,EAAE;AACvD,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,SAAS;AACf,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,oEAAoE;GAC3E,EACD;AACE,QAAI,EAAE,WAAW;AACjB,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,gFAAgF,GACpF,oDAAoD;GACvD,CACF;AACD,SAAO,EAAE,CAAC,KAAK,CAAC;AAChB,MAAI,wQAIW;AACf,IAAE,EAAE,SAAS,mBAAmB,CAAC,IAAI,EAAE,QAAQ,EAAE;AAC/C,QAAM,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE;AACrC,aAAO,EAAE,KAAK;AACd,eAAS,EAAE,aAAa;KACzB,CAAC,CAAC;;AAEH,QAAM,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC5C,QAAM,WAAW,GAAG,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,UAAU,OAAO,EAAE;AACtD,UAAM,IAAI,GAAG,YAAY,GAAG,OAAO,GAAG,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC;AACxE,UAAM,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC;AACtB,YAAM,CAAC,MAAM,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;AAC/B,aAAO,SAAS,CAAC,UAAU,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;KAC/C,CAAC,CAAC;;AAEH,WAAO,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,UAAU,EAAE;AACpD,aAAO,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KAC3B,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;AACtB,aAAO;AACL,YAAI,EAAE,YAAY;AAClB,YAAI,EAAE,IAAI;OACX,CAAC;KACH,CAAC,CAAC;GAEJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/worldbank_indicators.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst fetch = require('node-fetch');\nconst moment = require('moment');\nconst worldbank = require('./worldbank.js');\nconst Promise = require('bluebird');\nconst Datasource = require('../lib/classes/datasource');\n\n\nmodule.exports = new Datasource ('worldbank_indicators', {\n  args: [\n    {\n      name: 'country', // countries/all/indicators/SP.POP.TOTL\n      types: ['string', 'null'],\n      help: 'Worldbank country identifier. Usually the country\\'s 2 letter code'\n    },\n    {\n      name: 'indicator',\n      types: ['string', 'null'],\n      help: 'The indicator code to use. You\\'ll have to look this up on data.worldbank.org.' +\n        ' Often pretty obtuse. Eg SP.POP.TOTL is population'\n    }\n  ],\n  aliases: ['wbi'],\n  help: `\n    [experimental]\n    Pull data from http://data.worldbank.org/ using the country name and indicator. The worldbank provides\n    mostly yearly data, and often has no data for the current year. Try offset=-1y if you get no data for recent\n    time ranges.`,\n  fn: function worldbankIndicators(args, tlConfig) {\n    const config = _.defaults(args.byName, {\n      country: 'wld',\n      indicator: 'SP.POP.TOTL'\n    });\n\n    const countries = config.country.split(':');\n    const seriesLists = _.map(countries, function (country) {\n      const code = 'countries/' + country + '/indicators/' + config.indicator;\n      const wbArgs = [code];\n      wbArgs.byName = { code: code };\n      return worldbank.timelionFn(wbArgs, tlConfig);\n    });\n\n    return Promise.map(seriesLists, function (seriesList) {\n      return seriesList.list[0];\n    }).then(function (list) {\n      return {\n        type: 'seriesList',\n        list: list\n      };\n    });\n\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/worldbank.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar fetch = require('node-fetch');\nvar moment = require('moment');\nvar Datasource = require('../lib/classes/datasource');\n\nmodule.exports = new Datasource('worldbank', {\n  args: [{\n    name: 'code', // countries/all/indicators/SP.POP.TOTL\n    types: ['string', 'null'],\n    help: 'Worldbank API path.' + ' This is usually everything after the domain, before the querystring. Eg: ' + '/en/countries/ind;chn/indicators/DPANUSSPF.'\n  }],\n  aliases: ['wb'],\n  help: '\\n    [experimental]\\n    Pull data from http://data.worldbank.org/ using path to series.\\n    The worldbank provides mostly yearly data, and often has no data for the current year.\\n    Try offset=-1y if you get no data for recent time ranges.',\n  fn: function worldbank(args, tlConfig) {\n    // http://api.worldbank.org/en/countries/ind;chn/indicators/DPANUSSPF?date=2000:2006&MRV=5\n\n    var config = _.defaults(args.byName, {\n      code: 'countries/wld/indicators/SP.POP.TOTL'\n    });\n\n    var time = {\n      min: moment(tlConfig.time.from).format('YYYY'),\n      max: moment(tlConfig.time.to).format('YYYY')\n    };\n\n    var URL = 'http://api.worldbank.org/' + config.code + '?date=' + time.min + ':' + time.max + '&format=json' + '&per_page=1000';\n\n    return fetch(URL).then(function (resp) {\n      return resp.json();\n    }).then(function (resp) {\n      var hasData = false;\n\n      var respSeries = resp[1];\n\n      var deduped = {};\n      var description = undefined;\n      _.each(respSeries, function (bucket) {\n        if (bucket.value != null) hasData = true;\n        description = bucket.country.value + ' ' + bucket.indicator.value;\n        deduped[bucket.date] = bucket.value;\n      });\n\n      var data = _.compact(_.map(deduped, function (val, date) {\n        // Discard nulls\n        if (val == null) return;\n        return [moment(date, 'YYYY').valueOf(), Number(val)];\n      }));\n\n      if (!hasData) throw new Error('Worldbank request succeeded, but there was no data for ' + config.code);\n\n      return {\n        type: 'seriesList',\n        list: [{\n          data: data,\n          type: 'series',\n          label: description,\n          _meta: {\n            worldbank_request: URL\n          }\n        }]\n      };\n    })['catch'](function (e) {\n      throw e;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvd29ybGRiYW5rLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNwQyxJQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakMsSUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUM7O0FBRXhELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxVQUFVLENBQUUsV0FBVyxFQUFFO0FBQzVDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLE1BQU07QUFDWixTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO0FBQ3pCLFFBQUksRUFBRSxxQkFBcUIsR0FDekIsNEVBQTRFLEdBQzVFLDZDQUE2QztHQUNoRCxDQUNGO0FBQ0QsU0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQ2YsTUFBSSx3UEFJd0Q7QUFDNUQsSUFBRSxFQUFFLFNBQVMsU0FBUyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUU7OztBQUdyQyxRQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDckMsVUFBSSxFQUFFLHNDQUFzQztLQUM3QyxDQUFDLENBQUM7O0FBRUgsUUFBTSxJQUFJLEdBQUc7QUFDWCxTQUFHLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUM5QyxTQUFHLEVBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztLQUM5QyxDQUFDOztBQUVGLFFBQU0sR0FBRyxHQUFHLDJCQUEyQixHQUFHLE1BQU0sQ0FBQyxJQUFJLEdBQ25ELFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUNwQyxjQUFjLEdBQ2QsZ0JBQWdCLENBQUM7O0FBRW5CLFdBQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksRUFBRTtBQUFFLGFBQU8sSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0tBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksRUFBRTtBQUNuRixVQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7O0FBRXBCLFVBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFM0IsVUFBTSxPQUFPLEdBQUcsRUFBRSxDQUFDO0FBQ25CLFVBQUksV0FBVyxZQUFBLENBQUM7QUFDaEIsT0FBQyxDQUFDLElBQUksQ0FBRSxVQUFVLEVBQUUsVUFBVSxNQUFNLEVBQUU7QUFDcEMsWUFBSSxNQUFNLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRSxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3pDLG1CQUFXLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO0FBQ2xFLGVBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztPQUNyQyxDQUFDLENBQUM7O0FBRUgsVUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxVQUFVLEdBQUcsRUFBRSxJQUFJLEVBQUU7O0FBRXpELFlBQUksR0FBRyxJQUFJLElBQUksRUFBRSxPQUFPO0FBQ3hCLGVBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO09BQ3RELENBQUMsQ0FBQyxDQUFDOztBQUVKLFVBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyx5REFBeUQsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRXZHLGFBQU87QUFDTCxZQUFJLEVBQUUsWUFBWTtBQUNsQixZQUFJLEVBQUUsQ0FBQztBQUNMLGNBQUksRUFBRyxJQUFJO0FBQ1gsY0FBSSxFQUFFLFFBQVE7QUFDZCxlQUFLLEVBQUUsV0FBVztBQUNsQixlQUFLLEVBQUU7QUFDTCw2QkFBaUIsRUFBRSxHQUFHO1dBQ3ZCO1NBQ0YsQ0FBQztPQUNILENBQUM7S0FDSCxDQUFDLFNBQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtBQUNwQixZQUFNLENBQUMsQ0FBQztLQUNULENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvd29ybGRiYW5rLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJyk7XG5jb25zdCBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbmNvbnN0IERhdGFzb3VyY2UgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9kYXRhc291cmNlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IERhdGFzb3VyY2UgKCd3b3JsZGJhbmsnLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnY29kZScsIC8vIGNvdW50cmllcy9hbGwvaW5kaWNhdG9ycy9TUC5QT1AuVE9UTFxuICAgICAgdHlwZXM6IFsnc3RyaW5nJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdXb3JsZGJhbmsgQVBJIHBhdGguJyArXG4gICAgICAgICcgVGhpcyBpcyB1c3VhbGx5IGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGRvbWFpbiwgYmVmb3JlIHRoZSBxdWVyeXN0cmluZy4gRWc6ICcgK1xuICAgICAgICAnL2VuL2NvdW50cmllcy9pbmQ7Y2huL2luZGljYXRvcnMvRFBBTlVTU1BGLidcbiAgICB9XG4gIF0sXG4gIGFsaWFzZXM6IFsnd2InXSxcbiAgaGVscDogYFxuICAgIFtleHBlcmltZW50YWxdXG4gICAgUHVsbCBkYXRhIGZyb20gaHR0cDovL2RhdGEud29ybGRiYW5rLm9yZy8gdXNpbmcgcGF0aCB0byBzZXJpZXMuXG4gICAgVGhlIHdvcmxkYmFuayBwcm92aWRlcyBtb3N0bHkgeWVhcmx5IGRhdGEsIGFuZCBvZnRlbiBoYXMgbm8gZGF0YSBmb3IgdGhlIGN1cnJlbnQgeWVhci5cbiAgICBUcnkgb2Zmc2V0PS0xeSBpZiB5b3UgZ2V0IG5vIGRhdGEgZm9yIHJlY2VudCB0aW1lIHJhbmdlcy5gLFxuICBmbjogZnVuY3Rpb24gd29ybGRiYW5rKGFyZ3MsIHRsQ29uZmlnKSB7XG4gICAgLy8gaHR0cDovL2FwaS53b3JsZGJhbmsub3JnL2VuL2NvdW50cmllcy9pbmQ7Y2huL2luZGljYXRvcnMvRFBBTlVTU1BGP2RhdGU9MjAwMDoyMDA2Jk1SVj01XG5cbiAgICBjb25zdCBjb25maWcgPSBfLmRlZmF1bHRzKGFyZ3MuYnlOYW1lLCB7XG4gICAgICBjb2RlOiAnY291bnRyaWVzL3dsZC9pbmRpY2F0b3JzL1NQLlBPUC5UT1RMJ1xuICAgIH0pO1xuXG4gICAgY29uc3QgdGltZSA9IHtcbiAgICAgIG1pbjogbW9tZW50KHRsQ29uZmlnLnRpbWUuZnJvbSkuZm9ybWF0KCdZWVlZJyksXG4gICAgICBtYXg6ICBtb21lbnQodGxDb25maWcudGltZS50bykuZm9ybWF0KCdZWVlZJylcbiAgICB9O1xuXG4gICAgY29uc3QgVVJMID0gJ2h0dHA6Ly9hcGkud29ybGRiYW5rLm9yZy8nICsgY29uZmlnLmNvZGUgK1xuICAgICAgJz9kYXRlPScgKyB0aW1lLm1pbiArICc6JyArIHRpbWUubWF4ICtcbiAgICAgICcmZm9ybWF0PWpzb24nICtcbiAgICAgICcmcGVyX3BhZ2U9MTAwMCc7XG5cbiAgICByZXR1cm4gZmV0Y2goVVJMKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7IHJldHVybiByZXNwLmpzb24oKTsgfSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgbGV0IGhhc0RhdGEgPSBmYWxzZTtcblxuICAgICAgY29uc3QgcmVzcFNlcmllcyA9IHJlc3BbMV07XG5cbiAgICAgIGNvbnN0IGRlZHVwZWQgPSB7fTtcbiAgICAgIGxldCBkZXNjcmlwdGlvbjtcbiAgICAgIF8uZWFjaCAocmVzcFNlcmllcywgZnVuY3Rpb24gKGJ1Y2tldCkge1xuICAgICAgICBpZiAoYnVja2V0LnZhbHVlICE9IG51bGwpIGhhc0RhdGEgPSB0cnVlO1xuICAgICAgICBkZXNjcmlwdGlvbiA9IGJ1Y2tldC5jb3VudHJ5LnZhbHVlICsgJyAnICsgYnVja2V0LmluZGljYXRvci52YWx1ZTtcbiAgICAgICAgZGVkdXBlZFtidWNrZXQuZGF0ZV0gPSBidWNrZXQudmFsdWU7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGF0YSA9IF8uY29tcGFjdChfLm1hcChkZWR1cGVkLCBmdW5jdGlvbiAodmFsLCBkYXRlKSB7XG4gICAgICAgIC8vIERpc2NhcmQgbnVsbHNcbiAgICAgICAgaWYgKHZhbCA9PSBudWxsKSByZXR1cm47XG4gICAgICAgIHJldHVybiBbbW9tZW50KGRhdGUsICdZWVlZJykudmFsdWVPZigpLCBOdW1iZXIodmFsKV07XG4gICAgICB9KSk7XG5cbiAgICAgIGlmICghaGFzRGF0YSkgdGhyb3cgbmV3IEVycm9yKCdXb3JsZGJhbmsgcmVxdWVzdCBzdWNjZWVkZWQsIGJ1dCB0aGVyZSB3YXMgbm8gZGF0YSBmb3IgJyArIGNvbmZpZy5jb2RlKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3Nlcmllc0xpc3QnLFxuICAgICAgICBsaXN0OiBbe1xuICAgICAgICAgIGRhdGE6ICBkYXRhLFxuICAgICAgICAgIHR5cGU6ICdzZXJpZXMnLFxuICAgICAgICAgIGxhYmVsOiBkZXNjcmlwdGlvbixcbiAgICAgICAgICBfbWV0YToge1xuICAgICAgICAgICAgd29ybGRiYW5rX3JlcXVlc3Q6IFVSTFxuICAgICAgICAgIH1cbiAgICAgICAgfV1cbiAgICAgIH07XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/worldbank.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/worldbank.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst fetch = require('node-fetch');\nconst moment = require('moment');\nconst Datasource = require('../lib/classes/datasource');\n\nmodule.exports = new Datasource ('worldbank', {\n  args: [\n    {\n      name: 'code', // countries/all/indicators/SP.POP.TOTL\n      types: ['string', 'null'],\n      help: 'Worldbank API path.' +\n        ' This is usually everything after the domain, before the querystring. Eg: ' +\n        '/en/countries/ind;chn/indicators/DPANUSSPF.'\n    }\n  ],\n  aliases: ['wb'],\n  help: `\n    [experimental]\n    Pull data from http://data.worldbank.org/ using path to series.\n    The worldbank provides mostly yearly data, and often has no data for the current year.\n    Try offset=-1y if you get no data for recent time ranges.`,\n  fn: function worldbank(args, tlConfig) {\n    // http://api.worldbank.org/en/countries/ind;chn/indicators/DPANUSSPF?date=2000:2006&MRV=5\n\n    const config = _.defaults(args.byName, {\n      code: 'countries/wld/indicators/SP.POP.TOTL'\n    });\n\n    const time = {\n      min: moment(tlConfig.time.from).format('YYYY'),\n      max:  moment(tlConfig.time.to).format('YYYY')\n    };\n\n    const URL = 'http://api.worldbank.org/' + config.code +\n      '?date=' + time.min + ':' + time.max +\n      '&format=json' +\n      '&per_page=1000';\n\n    return fetch(URL).then(function (resp) { return resp.json(); }).then(function (resp) {\n      let hasData = false;\n\n      const respSeries = resp[1];\n\n      const deduped = {};\n      let description;\n      _.each (respSeries, function (bucket) {\n        if (bucket.value != null) hasData = true;\n        description = bucket.country.value + ' ' + bucket.indicator.value;\n        deduped[bucket.date] = bucket.value;\n      });\n\n      const data = _.compact(_.map(deduped, function (val, date) {\n        // Discard nulls\n        if (val == null) return;\n        return [moment(date, 'YYYY').valueOf(), Number(val)];\n      }));\n\n      if (!hasData) throw new Error('Worldbank request succeeded, but there was no data for ' + config.code);\n\n      return {\n        type: 'seriesList',\n        list: [{\n          data:  data,\n          type: 'series',\n          label: description,\n          _meta: {\n            worldbank_request: URL\n          }\n        }]\n      };\n    }).catch(function (e) {\n      throw e;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/yaxis.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar alter = require('../lib/alter.js');\n\nvar Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('yaxis', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'yaxis',\n    types: ['number', 'null'],\n    help: 'The numbered y-axis to plot this series on, eg .yaxis(2) for a 2nd y-axis.'\n  }, {\n    name: 'min',\n    types: ['number', 'null'],\n    help: 'Min value'\n  }, {\n    name: 'max',\n    types: ['number', 'null'],\n    help: 'Max value'\n  }, {\n    name: 'position',\n    types: ['string', 'null'],\n    help: 'left or right'\n  }, {\n    name: 'label',\n    types: ['string', 'null'],\n    help: 'Label for axis'\n  }, {\n    name: 'color',\n    types: ['string', 'null'],\n    help: 'Color of axis label'\n  }],\n  help: 'Configures a variety of y-axis options, the most important likely being the ability to add an Nth (eg 2nd) y-axis',\n  fn: function yaxisFn(args) {\n    return alter(args, function (eachSeries, yaxis, min, max, position, label, color) {\n      yaxis = yaxis || 1;\n\n      eachSeries.yaxis = yaxis;\n      eachSeries._global = eachSeries._global || {};\n\n      eachSeries._global.yaxes = eachSeries._global.yaxes || [];\n      eachSeries._global.yaxes[yaxis - 1] = eachSeries._global.yaxes[yaxis - 1] || {};\n\n      var myAxis = eachSeries._global.yaxes[yaxis - 1];\n      myAxis.position = position || (yaxis % 2 ? 'left' : 'right');\n      myAxis.min = min;\n      myAxis.max = max;\n      myAxis.axisLabelFontSizePixels = 11;\n      myAxis.axisLabel = label;\n      myAxis.axisLabelColour = color;\n      myAxis.axisLabelUseCanvas = true;\n\n      return eachSeries;\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMveWF4aXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQzs7QUFFekMsSUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDdEQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxPQUFPLEVBQUU7QUFDdEMsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxPQUFPO0FBQ2IsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsNEVBQTRFO0dBQ25GLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsS0FBSztBQUNYLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSxFQUFFLFdBQVc7R0FDbEIsRUFDRDtBQUNFLFFBQUksRUFBRSxLQUFLO0FBQ1gsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsV0FBVztHQUNsQixFQUNEO0FBQ0UsUUFBSSxFQUFFLFVBQVU7QUFDaEIsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsZUFBZTtHQUN0QixFQUNEO0FBQ0UsUUFBSSxFQUFFLE9BQU87QUFDYixTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO0FBQ3pCLFFBQUksRUFBRSxnQkFBZ0I7R0FDdkIsRUFDRDtBQUNFLFFBQUksRUFBRSxPQUFPO0FBQ2IsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUscUJBQXFCO0dBQzVCLENBQ0Y7QUFDRCxNQUFJLEVBQUUsbUhBQW1IO0FBQ3pILElBQUUsRUFBRSxTQUFTLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDekIsV0FBTyxLQUFLLENBQUMsSUFBSSxFQUFFLFVBQVUsVUFBVSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ2hGLFdBQUssR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDOztBQUVuQixnQkFBVSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDekIsZ0JBQVUsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7O0FBRTlDLGdCQUFVLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7QUFDMUQsZ0JBQVUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDOztBQUVoRixVQUFNLE1BQU0sR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDbkQsWUFBTSxDQUFDLFFBQVEsR0FBRyxRQUFRLEtBQUssS0FBSyxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsT0FBTyxDQUFBLEFBQUMsQ0FBQztBQUM3RCxZQUFNLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNqQixZQUFNLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNqQixZQUFNLENBQUMsdUJBQXVCLEdBQUcsRUFBRSxDQUFDO0FBQ3BDLFlBQU0sQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO0FBQ3pCLFlBQU0sQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO0FBQy9CLFlBQU0sQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7O0FBSWpDLGFBQU8sVUFBVSxDQUFDO0tBQ25CLENBQUMsQ0FBQztHQUNKO0NBQ0YsQ0FBQyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMveWF4aXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbHRlciA9IHJlcXVpcmUoJy4uL2xpYi9hbHRlci5qcycpO1xuXG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IENoYWluYWJsZSgneWF4aXMnLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnaW5wdXRTZXJpZXMnLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCddXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAneWF4aXMnLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdUaGUgbnVtYmVyZWQgeS1heGlzIHRvIHBsb3QgdGhpcyBzZXJpZXMgb24sIGVnIC55YXhpcygyKSBmb3IgYSAybmQgeS1heGlzLidcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdtaW4nLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdNaW4gdmFsdWUnXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnbWF4JyxcbiAgICAgIHR5cGVzOiBbJ251bWJlcicsICdudWxsJ10sXG4gICAgICBoZWxwOiAnTWF4IHZhbHVlJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3Bvc2l0aW9uJyxcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXG4gICAgICBoZWxwOiAnbGVmdCBvciByaWdodCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdsYWJlbCcsXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddLFxuICAgICAgaGVscDogJ0xhYmVsIGZvciBheGlzJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2NvbG9yJyxcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXG4gICAgICBoZWxwOiAnQ29sb3Igb2YgYXhpcyBsYWJlbCdcbiAgICB9LFxuICBdLFxuICBoZWxwOiAnQ29uZmlndXJlcyBhIHZhcmlldHkgb2YgeS1heGlzIG9wdGlvbnMsIHRoZSBtb3N0IGltcG9ydGFudCBsaWtlbHkgYmVpbmcgdGhlIGFiaWxpdHkgdG8gYWRkIGFuIE50aCAoZWcgMm5kKSB5LWF4aXMnLFxuICBmbjogZnVuY3Rpb24geWF4aXNGbihhcmdzKSB7XG4gICAgcmV0dXJuIGFsdGVyKGFyZ3MsIGZ1bmN0aW9uIChlYWNoU2VyaWVzLCB5YXhpcywgbWluLCBtYXgsIHBvc2l0aW9uLCBsYWJlbCwgY29sb3IpIHtcbiAgICAgIHlheGlzID0geWF4aXMgfHwgMTtcblxuICAgICAgZWFjaFNlcmllcy55YXhpcyA9IHlheGlzO1xuICAgICAgZWFjaFNlcmllcy5fZ2xvYmFsID0gZWFjaFNlcmllcy5fZ2xvYmFsIHx8IHt9O1xuXG4gICAgICBlYWNoU2VyaWVzLl9nbG9iYWwueWF4ZXMgPSBlYWNoU2VyaWVzLl9nbG9iYWwueWF4ZXMgfHwgW107XG4gICAgICBlYWNoU2VyaWVzLl9nbG9iYWwueWF4ZXNbeWF4aXMgLSAxXSA9IGVhY2hTZXJpZXMuX2dsb2JhbC55YXhlc1t5YXhpcyAtIDFdIHx8IHt9O1xuXG4gICAgICBjb25zdCBteUF4aXMgPSBlYWNoU2VyaWVzLl9nbG9iYWwueWF4ZXNbeWF4aXMgLSAxXTtcbiAgICAgIG15QXhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uIHx8ICh5YXhpcyAlIDIgPyAnbGVmdCcgOiAncmlnaHQnKTtcbiAgICAgIG15QXhpcy5taW4gPSBtaW47XG4gICAgICBteUF4aXMubWF4ID0gbWF4O1xuICAgICAgbXlBeGlzLmF4aXNMYWJlbEZvbnRTaXplUGl4ZWxzID0gMTE7XG4gICAgICBteUF4aXMuYXhpc0xhYmVsID0gbGFiZWw7XG4gICAgICBteUF4aXMuYXhpc0xhYmVsQ29sb3VyID0gY29sb3I7XG4gICAgICBteUF4aXMuYXhpc0xhYmVsVXNlQ2FudmFzID0gdHJ1ZTtcblxuXG5cbiAgICAgIHJldHVybiBlYWNoU2VyaWVzO1xuICAgIH0pO1xuICB9XG59KTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/yaxis.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;;AAEzC,IAAM,SAAS,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACtD,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;AACtC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,4EAA4E;GACnF,EACD;AACE,QAAI,EAAE,KAAK;AACX,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,WAAW;GAClB,EACD;AACE,QAAI,EAAE,KAAK;AACX,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,WAAW;GAClB,EACD;AACE,QAAI,EAAE,UAAU;AAChB,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,eAAe;GACtB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,gBAAgB;GACvB,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,qBAAqB;GAC5B,CACF;AACD,MAAI,EAAE,mHAAmH;AACzH,IAAE,EAAE,SAAS,OAAO,CAAC,IAAI,EAAE;AACzB,WAAO,KAAK,CAAC,IAAI,EAAE,UAAU,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;AAChF,WAAK,GAAG,KAAK,IAAI,CAAC,CAAC;;AAEnB,gBAAU,CAAC,KAAK,GAAG,KAAK,CAAC;AACzB,gBAAU,CAAC,OAAO,GAAG,UAAU,CAAC,OAAO,IAAI,EAAE,CAAC;;AAE9C,gBAAU,CAAC,OAAO,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;AAC1D,gBAAU,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;;AAEhF,UAAM,MAAM,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;AACnD,YAAM,CAAC,QAAQ,GAAG,QAAQ,KAAK,KAAK,GAAG,CAAC,GAAG,MAAM,GAAG,OAAO,CAAA,AAAC,CAAC;AAC7D,YAAM,CAAC,GAAG,GAAG,GAAG,CAAC;AACjB,YAAM,CAAC,GAAG,GAAG,GAAG,CAAC;AACjB,YAAM,CAAC,uBAAuB,GAAG,EAAE,CAAC;AACpC,YAAM,CAAC,SAAS,GAAG,KAAK,CAAC;AACzB,YAAM,CAAC,eAAe,GAAG,KAAK,CAAC;AAC/B,YAAM,CAAC,kBAAkB,GAAG,IAAI,CAAC;;AAIjC,aAAO,UAAU,CAAC;KACnB,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/yaxis.js",
      "sourcesContent": [
        "const alter = require('../lib/alter.js');\n\nconst Chainable = require('../lib/classes/chainable');\nmodule.exports = new Chainable('yaxis', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'yaxis',\n      types: ['number', 'null'],\n      help: 'The numbered y-axis to plot this series on, eg .yaxis(2) for a 2nd y-axis.'\n    },\n    {\n      name: 'min',\n      types: ['number', 'null'],\n      help: 'Min value'\n    },\n    {\n      name: 'max',\n      types: ['number', 'null'],\n      help: 'Max value'\n    },\n    {\n      name: 'position',\n      types: ['string', 'null'],\n      help: 'left or right'\n    },\n    {\n      name: 'label',\n      types: ['string', 'null'],\n      help: 'Label for axis'\n    },\n    {\n      name: 'color',\n      types: ['string', 'null'],\n      help: 'Color of axis label'\n    },\n  ],\n  help: 'Configures a variety of y-axis options, the most important likely being the ability to add an Nth (eg 2nd) y-axis',\n  fn: function yaxisFn(args) {\n    return alter(args, function (eachSeries, yaxis, min, max, position, label, color) {\n      yaxis = yaxis || 1;\n\n      eachSeries.yaxis = yaxis;\n      eachSeries._global = eachSeries._global || {};\n\n      eachSeries._global.yaxes = eachSeries._global.yaxes || [];\n      eachSeries._global.yaxes[yaxis - 1] = eachSeries._global.yaxes[yaxis - 1] || {};\n\n      const myAxis = eachSeries._global.yaxes[yaxis - 1];\n      myAxis.position = position || (yaxis % 2 ? 'left' : 'right');\n      myAxis.min = min;\n      myAxis.max = max;\n      myAxis.axisLabelFontSizePixels = 11;\n      myAxis.axisLabel = label;\n      myAxis.axisLabelColour = color;\n      myAxis.axisLabelUseCanvas = true;\n\n\n\n      return eachSeries;\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./lib/agg_response_to_series_list",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "toSeriesList"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-default"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _libAgg_response_to_series_list = require('./lib/agg_response_to_series_list');\n\nvar _libAgg_response_to_series_list2 = _interopRequireDefault(_libAgg_response_to_series_list);\n\nvar _ = require('lodash');\nvar moment = require('moment');\nvar toMS = require('../../lib/to_milliseconds.js');\nvar Datasource = require('../../lib/classes/datasource');\nvar buildRequest = require('./lib/build_request');\n\nmodule.exports = new Datasource('es', {\n  args: [{\n    name: 'q',\n    types: ['string', 'null'],\n    multi: true,\n    help: 'Query in lucene query string syntax'\n  }, {\n    name: 'metric',\n    types: ['string', 'null'],\n    multi: true,\n    help: 'An elasticsearch single value metric agg, eg avg, sum, min, max or cardinality, followed by a field.' + ' Eg \"sum:bytes\", or just \"count\"'\n  }, {\n    name: 'split',\n    types: ['string', 'null'],\n    multi: true,\n    help: 'An elasticsearch field to split the series on and a limit. Eg, \"hostname:10\" to get the top 10 hostnames'\n  }, {\n    name: 'index',\n    types: ['string', 'null'],\n    help: 'Index to query, wildcards accepted'\n  }, {\n    name: 'timefield',\n    types: ['string', 'null'],\n    help: 'Field of type \"date\" to use for x-axis'\n  }, {\n    name: 'kibana',\n    types: ['boolean', 'null'],\n    help: 'Respect filters on Kibana dashboards. Only has an effect when using on Kibana dashboards'\n  }, {\n    name: 'interval', // You really shouldn't use this, use the interval picker instead\n    types: ['string', 'null'],\n    help: '**DO NOT USE THIS**. Its fun for debugging fit functions, but you really should use the interval picker'\n  }],\n  help: 'Pull data from an elasticsearch instance',\n  aliases: ['elasticsearch'],\n  fn: function esFn(args, tlConfig) {\n\n    var config = _.defaults(_.clone(args.byName), {\n      q: '*',\n      metric: ['count'],\n      index: tlConfig.settings['timelion:es.default_index'],\n      timefield: tlConfig.settings['timelion:es.timefield'],\n      interval: tlConfig.time.interval,\n      kibana: true,\n      fit: 'nearest'\n    });\n\n    var _tlConfig$server$plugins$elasticsearch$getCluster = tlConfig.server.plugins.elasticsearch.getCluster('data');\n\n    var callWithRequest = _tlConfig$server$plugins$elasticsearch$getCluster.callWithRequest;\n\n    var body = buildRequest(config, tlConfig);\n\n    return callWithRequest(tlConfig.request, 'search', body).then(function (resp) {\n      if (!resp._shards.total) throw new Error('Elasticsearch index not found: ' + config.index);\n      return {\n        type: 'seriesList',\n        list: (0, _libAgg_response_to_series_list2['default'])(resp.aggregations, config)\n      };\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvZXMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs4Q0FLeUIsbUNBQW1DOzs7O0FBTDVELElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakMsSUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLDhCQUE4QixDQUFDLENBQUM7QUFDckQsSUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLDhCQUE4QixDQUFDLENBQUM7QUFDM0QsSUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUM7O0FBR3BELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxFQUFFO0FBQ3BDLE1BQUksRUFBRSxDQUNKO0FBQ0UsUUFBSSxFQUFFLEdBQUc7QUFDVCxTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO0FBQ3pCLFNBQUssRUFBRSxJQUFJO0FBQ1gsUUFBSSxFQUFFLHFDQUFxQztHQUM1QyxFQUNEO0FBQ0UsUUFBSSxFQUFFLFFBQVE7QUFDZCxTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO0FBQ3pCLFNBQUssRUFBRSxJQUFJO0FBQ1gsUUFBSSxFQUFFLHNHQUFzRyxHQUMxRyxrQ0FBa0M7R0FDckMsRUFDRDtBQUNFLFFBQUksRUFBRSxPQUFPO0FBQ2IsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixTQUFLLEVBQUUsSUFBSTtBQUNYLFFBQUksRUFBRSwwR0FBMEc7R0FDakgsRUFDRDtBQUNFLFFBQUksRUFBRSxPQUFPO0FBQ2IsU0FBSyxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztBQUN6QixRQUFJLEVBQUUsb0NBQW9DO0dBQzNDLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsV0FBVztBQUNqQixTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO0FBQ3pCLFFBQUksRUFBRSx3Q0FBd0M7R0FDL0MsRUFDRDtBQUNFLFFBQUksRUFBRSxRQUFRO0FBQ2QsU0FBSyxFQUFFLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQztBQUMxQixRQUFJLEVBQUUsMEZBQTBGO0dBQ2pHLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsVUFBVTtBQUNoQixTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO0FBQ3pCLFFBQUksRUFBRSx5R0FBeUc7R0FDaEgsQ0FDRjtBQUNELE1BQUksRUFBRSwwQ0FBMEM7QUFDaEQsU0FBTyxFQUFFLENBQUMsZUFBZSxDQUFDO0FBQzFCLElBQUUsRUFBRSxTQUFTLElBQUksQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFOztBQUVoQyxRQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBQzlDLE9BQUMsRUFBRSxHQUFHO0FBQ04sWUFBTSxFQUFFLENBQUMsT0FBTyxDQUFDO0FBQ2pCLFdBQUssRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLDJCQUEyQixDQUFDO0FBQ3JELGVBQVMsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLHVCQUF1QixDQUFDO0FBQ3JELGNBQVEsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVE7QUFDaEMsWUFBTSxFQUFFLElBQUk7QUFDWixTQUFHLEVBQUUsU0FBUztLQUNmLENBQUMsQ0FBQzs7NERBRXlCLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDOztRQUE1RSxlQUFlLHFEQUFmLGVBQWU7O0FBRXZCLFFBQU0sSUFBSSxHQUFHLFlBQVksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7O0FBRTVDLFdBQU8sZUFBZSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLElBQUksRUFBRTtBQUM1RSxVQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxpQ0FBaUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDM0YsYUFBTztBQUNMLFlBQUksRUFBRSxZQUFZO0FBQ2xCLFlBQUksRUFBRSxpREFBYSxJQUFJLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQztPQUM5QyxDQUFDO0tBQ0gsQ0FBQyxDQUFDO0dBQ0o7Q0FDRixDQUFDLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy9lcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuY29uc3QgdG9NUyA9IHJlcXVpcmUoJy4uLy4uL2xpYi90b19taWxsaXNlY29uZHMuanMnKTtcbmNvbnN0IERhdGFzb3VyY2UgPSByZXF1aXJlKCcuLi8uLi9saWIvY2xhc3Nlcy9kYXRhc291cmNlJyk7XG5jb25zdCBidWlsZFJlcXVlc3QgPSByZXF1aXJlKCcuL2xpYi9idWlsZF9yZXF1ZXN0Jyk7XG5pbXBvcnQgdG9TZXJpZXNMaXN0IGZyb20gJy4vbGliL2FnZ19yZXNwb25zZV90b19zZXJpZXNfbGlzdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IERhdGFzb3VyY2UoJ2VzJywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ3EnLFxuICAgICAgdHlwZXM6IFsnc3RyaW5nJywgJ251bGwnXSxcbiAgICAgIG11bHRpOiB0cnVlLFxuICAgICAgaGVscDogJ1F1ZXJ5IGluIGx1Y2VuZSBxdWVyeSBzdHJpbmcgc3ludGF4J1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ21ldHJpYycsXG4gICAgICB0eXBlczogWydzdHJpbmcnLCAnbnVsbCddLFxuICAgICAgbXVsdGk6IHRydWUsXG4gICAgICBoZWxwOiAnQW4gZWxhc3RpY3NlYXJjaCBzaW5nbGUgdmFsdWUgbWV0cmljIGFnZywgZWcgYXZnLCBzdW0sIG1pbiwgbWF4IG9yIGNhcmRpbmFsaXR5LCBmb2xsb3dlZCBieSBhIGZpZWxkLicgK1xuICAgICAgICAnIEVnIFwic3VtOmJ5dGVzXCIsIG9yIGp1c3QgXCJjb3VudFwiJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3NwbGl0JyxcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXG4gICAgICBtdWx0aTogdHJ1ZSxcbiAgICAgIGhlbHA6ICdBbiBlbGFzdGljc2VhcmNoIGZpZWxkIHRvIHNwbGl0IHRoZSBzZXJpZXMgb24gYW5kIGEgbGltaXQuIEVnLCBcImhvc3RuYW1lOjEwXCIgdG8gZ2V0IHRoZSB0b3AgMTAgaG9zdG5hbWVzJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2luZGV4JyxcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXG4gICAgICBoZWxwOiAnSW5kZXggdG8gcXVlcnksIHdpbGRjYXJkcyBhY2NlcHRlZCdcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICd0aW1lZmllbGQnLFxuICAgICAgdHlwZXM6IFsnc3RyaW5nJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdGaWVsZCBvZiB0eXBlIFwiZGF0ZVwiIHRvIHVzZSBmb3IgeC1heGlzJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2tpYmFuYScsXG4gICAgICB0eXBlczogWydib29sZWFuJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdSZXNwZWN0IGZpbHRlcnMgb24gS2liYW5hIGRhc2hib2FyZHMuIE9ubHkgaGFzIGFuIGVmZmVjdCB3aGVuIHVzaW5nIG9uIEtpYmFuYSBkYXNoYm9hcmRzJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2ludGVydmFsJywgLy8gWW91IHJlYWxseSBzaG91bGRuJ3QgdXNlIHRoaXMsIHVzZSB0aGUgaW50ZXJ2YWwgcGlja2VyIGluc3RlYWRcbiAgICAgIHR5cGVzOiBbJ3N0cmluZycsICdudWxsJ10sXG4gICAgICBoZWxwOiAnKipETyBOT1QgVVNFIFRISVMqKi4gSXRzIGZ1biBmb3IgZGVidWdnaW5nIGZpdCBmdW5jdGlvbnMsIGJ1dCB5b3UgcmVhbGx5IHNob3VsZCB1c2UgdGhlIGludGVydmFsIHBpY2tlcidcbiAgICB9XG4gIF0sXG4gIGhlbHA6ICdQdWxsIGRhdGEgZnJvbSBhbiBlbGFzdGljc2VhcmNoIGluc3RhbmNlJyxcbiAgYWxpYXNlczogWydlbGFzdGljc2VhcmNoJ10sXG4gIGZuOiBmdW5jdGlvbiBlc0ZuKGFyZ3MsIHRsQ29uZmlnKSB7XG5cbiAgICBjb25zdCBjb25maWcgPSBfLmRlZmF1bHRzKF8uY2xvbmUoYXJncy5ieU5hbWUpLCB7XG4gICAgICBxOiAnKicsXG4gICAgICBtZXRyaWM6IFsnY291bnQnXSxcbiAgICAgIGluZGV4OiB0bENvbmZpZy5zZXR0aW5nc1sndGltZWxpb246ZXMuZGVmYXVsdF9pbmRleCddLFxuICAgICAgdGltZWZpZWxkOiB0bENvbmZpZy5zZXR0aW5nc1sndGltZWxpb246ZXMudGltZWZpZWxkJ10sXG4gICAgICBpbnRlcnZhbDogdGxDb25maWcudGltZS5pbnRlcnZhbCxcbiAgICAgIGtpYmFuYTogdHJ1ZSxcbiAgICAgIGZpdDogJ25lYXJlc3QnXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGNhbGxXaXRoUmVxdWVzdCB9ID0gdGxDb25maWcuc2VydmVyLnBsdWdpbnMuZWxhc3RpY3NlYXJjaC5nZXRDbHVzdGVyKCdkYXRhJyk7XG5cbiAgICBjb25zdCBib2R5ID0gYnVpbGRSZXF1ZXN0KGNvbmZpZywgdGxDb25maWcpO1xuXG4gICAgcmV0dXJuIGNhbGxXaXRoUmVxdWVzdCh0bENvbmZpZy5yZXF1ZXN0LCAnc2VhcmNoJywgYm9keSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgaWYgKCFyZXNwLl9zaGFyZHMudG90YWwpIHRocm93IG5ldyBFcnJvcignRWxhc3RpY3NlYXJjaCBpbmRleCBub3QgZm91bmQ6ICcgKyBjb25maWcuaW5kZXgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3Nlcmllc0xpc3QnLFxuICAgICAgICBsaXN0OiB0b1Nlcmllc0xpc3QocmVzcC5hZ2dyZWdhdGlvbnMsIGNvbmZpZylcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbn0pO1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/index.js"
      ],
      "names": [],
      "mappings": ";;;;8CAKyB,mCAAmC;;;;AAL5D,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,IAAM,IAAI,GAAG,OAAO,CAAC,8BAA8B,CAAC,CAAC;AACrD,IAAM,UAAU,GAAG,OAAO,CAAC,8BAA8B,CAAC,CAAC;AAC3D,IAAM,YAAY,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;;AAGpD,MAAM,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,IAAI,EAAE;AACpC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,GAAG;AACT,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,SAAK,EAAE,IAAI;AACX,QAAI,EAAE,qCAAqC;GAC5C,EACD;AACE,QAAI,EAAE,QAAQ;AACd,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,SAAK,EAAE,IAAI;AACX,QAAI,EAAE,sGAAsG,GAC1G,kCAAkC;GACrC,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,SAAK,EAAE,IAAI;AACX,QAAI,EAAE,0GAA0G;GACjH,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,oCAAoC;GAC3C,EACD;AACE,QAAI,EAAE,WAAW;AACjB,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,wCAAwC;GAC/C,EACD;AACE,QAAI,EAAE,QAAQ;AACd,SAAK,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC;AAC1B,QAAI,EAAE,0FAA0F;GACjG,EACD;AACE,QAAI,EAAE,UAAU;AAChB,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,yGAAyG;GAChH,CACF;AACD,MAAI,EAAE,0CAA0C;AAChD,SAAO,EAAE,CAAC,eAAe,CAAC;AAC1B,IAAE,EAAE,SAAS,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE;;AAEhC,QAAM,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;AAC9C,OAAC,EAAE,GAAG;AACN,YAAM,EAAE,CAAC,OAAO,CAAC;AACjB,WAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,2BAA2B,CAAC;AACrD,eAAS,EAAE,QAAQ,CAAC,QAAQ,CAAC,uBAAuB,CAAC;AACrD,cAAQ,EAAE,QAAQ,CAAC,IAAI,CAAC,QAAQ;AAChC,YAAM,EAAE,IAAI;AACZ,SAAG,EAAE,SAAS;KACf,CAAC,CAAC;;4DAEyB,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC;;QAA5E,eAAe,qDAAf,eAAe;;AAEvB,QAAM,IAAI,GAAG,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;;AAE5C,WAAO,eAAe,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE;AAC5E,UAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,IAAI,KAAK,CAAC,iCAAiC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;AAC3F,aAAO;AACL,YAAI,EAAE,YAAY;AAClB,YAAI,EAAE,iDAAa,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC;OAC9C,CAAC;KACH,CAAC,CAAC;GACJ;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/index.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst moment = require('moment');\nconst toMS = require('../../lib/to_milliseconds.js');\nconst Datasource = require('../../lib/classes/datasource');\nconst buildRequest = require('./lib/build_request');\nimport toSeriesList from './lib/agg_response_to_series_list';\n\nmodule.exports = new Datasource('es', {\n  args: [\n    {\n      name: 'q',\n      types: ['string', 'null'],\n      multi: true,\n      help: 'Query in lucene query string syntax'\n    },\n    {\n      name: 'metric',\n      types: ['string', 'null'],\n      multi: true,\n      help: 'An elasticsearch single value metric agg, eg avg, sum, min, max or cardinality, followed by a field.' +\n        ' Eg \"sum:bytes\", or just \"count\"'\n    },\n    {\n      name: 'split',\n      types: ['string', 'null'],\n      multi: true,\n      help: 'An elasticsearch field to split the series on and a limit. Eg, \"hostname:10\" to get the top 10 hostnames'\n    },\n    {\n      name: 'index',\n      types: ['string', 'null'],\n      help: 'Index to query, wildcards accepted'\n    },\n    {\n      name: 'timefield',\n      types: ['string', 'null'],\n      help: 'Field of type \"date\" to use for x-axis'\n    },\n    {\n      name: 'kibana',\n      types: ['boolean', 'null'],\n      help: 'Respect filters on Kibana dashboards. Only has an effect when using on Kibana dashboards'\n    },\n    {\n      name: 'interval', // You really shouldn't use this, use the interval picker instead\n      types: ['string', 'null'],\n      help: '**DO NOT USE THIS**. Its fun for debugging fit functions, but you really should use the interval picker'\n    }\n  ],\n  help: 'Pull data from an elasticsearch instance',\n  aliases: ['elasticsearch'],\n  fn: function esFn(args, tlConfig) {\n\n    const config = _.defaults(_.clone(args.byName), {\n      q: '*',\n      metric: ['count'],\n      index: tlConfig.settings['timelion:es.default_index'],\n      timefield: tlConfig.settings['timelion:es.timefield'],\n      interval: tlConfig.time.interval,\n      kibana: true,\n      fit: 'nearest'\n    });\n\n    const { callWithRequest } = tlConfig.server.plugins.elasticsearch.getCluster('data');\n\n    const body = buildRequest(config, tlConfig);\n\n    return callWithRequest(tlConfig.request, 'search', body).then(function (resp) {\n      if (!resp._shards.total) throw new Error('Elasticsearch index not found: ' + config.index);\n      return {\n        type: 'seriesList',\n        list: toSeriesList(resp.aggregations, config)\n      };\n    });\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/lib/agg_response_to_series_list.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "timeBucketsToPairs",
            "buckets",
            "flattenBucket",
            "bucket",
            "path",
            "result",
            "toSeriesList",
            "aggs",
            "config"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "timeBucketsToPairs",
              "exported": "timeBucketsToPairs"
            },
            {
              "kind": "local",
              "local": "buckets",
              "exported": "buckets"
            },
            {
              "kind": "local",
              "local": "flattenBucket",
              "exported": "flattenBucket"
            },
            {
              "kind": "local",
              "local": "bucket",
              "exported": "bucket"
            },
            {
              "kind": "local",
              "local": "path",
              "exported": "path"
            },
            {
              "kind": "local",
              "local": "result",
              "exported": "result"
            },
            {
              "kind": "local",
              "local": "toSeriesList",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "aggs",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "config",
              "exported": "default"
            }
          ]
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.timeBucketsToPairs = timeBucketsToPairs;\nexports.flattenBucket = flattenBucket;\nexports['default'] = toSeriesList;\nvar _ = require('lodash');\n\nfunction timeBucketsToPairs(buckets) {\n  var timestamps = _.pluck(buckets, 'key');\n  var series = {};\n  _.each(buckets, function (bucket) {\n    _.forOwn(bucket, function (val, key) {\n      if (_.isPlainObject(val)) {\n        series[key] = series[key] || [];\n        series[key].push(val.value);\n      }\n    });\n  });\n\n  return _.mapValues(series, function (values) {\n    return _.zip(timestamps, values);\n  });\n}\n\nfunction flattenBucket(bucket, path, result) {\n  result = result || {};\n  path = path || [];\n  _.forOwn(bucket, function (val, key) {\n    if (!_.isPlainObject(val)) return;\n    if (_.get(val, 'meta.type') === 'split') {\n      _.each(val.buckets, function (bucket, bucketKey) {\n        if (bucket.key == null) bucket.key = bucketKey; // For handling \"keyed\" response formats, eg filters agg\n        flattenBucket(bucket, path.concat([key + ':' + bucket.key]), result);\n      });\n    } else if (_.get(val, 'meta.type') === 'time_buckets') {\n      var metrics = timeBucketsToPairs(val.buckets);\n      _.each(metrics, function (pairs, metricName) {\n        result[path.concat([metricName]).join(' > ')] = pairs;\n      });\n    }\n  });\n  return result;\n}\n\nfunction toSeriesList(aggs, config) {\n  return _.map(flattenBucket(aggs), function (values, name) {\n    return {\n      data: values,\n      type: 'series',\n      fit: config.fit,\n      label: name\n    };\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvZXMvbGliL2FnZ19yZXNwb25zZV90b19zZXJpZXNfbGlzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQXVDd0IsWUFBWTtBQXZDcEMsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUVyQixTQUFTLGtCQUFrQixDQUFDLE9BQU8sRUFBRTtBQUMxQyxNQUFNLFVBQVUsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMzQyxNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDbEIsR0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsVUFBVSxNQUFNLEVBQUU7QUFDaEMsS0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsVUFBVSxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQ25DLFVBQUksQ0FBQyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN4QixjQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNoQyxjQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztPQUM3QjtLQUNGLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQzs7QUFFSCxTQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLFVBQVUsTUFBTSxFQUFFO0FBQzNDLFdBQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUM7R0FDbEMsQ0FBQyxDQUFDO0NBQ0o7O0FBRU0sU0FBUyxhQUFhLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUU7QUFDbEQsUUFBTSxHQUFHLE1BQU0sSUFBSSxFQUFFLENBQUM7QUFDdEIsTUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7QUFDbEIsR0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsVUFBVSxHQUFHLEVBQUUsR0FBRyxFQUFFO0FBQ25DLFFBQUksQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU87QUFDbEMsUUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsS0FBSyxPQUFPLEVBQUU7QUFDdkMsT0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLFVBQVUsTUFBTSxFQUFFLFNBQVMsRUFBRTtBQUMvQyxZQUFJLE1BQU0sQ0FBQyxHQUFHLElBQUksSUFBSSxFQUFFLE1BQU0sQ0FBQyxHQUFHLEdBQUcsU0FBUyxDQUFDO0FBQy9DLHFCQUFhLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO09BQ3RFLENBQUMsQ0FBQztLQUNKLE1BQU0sSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsS0FBSyxjQUFjLEVBQUU7QUFDckQsVUFBTSxPQUFPLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ2hELE9BQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFVBQVUsS0FBSyxFQUFFLFVBQVUsRUFBRTtBQUMzQyxjQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO09BQ3ZELENBQUMsQ0FBQztLQUNKO0dBQ0YsQ0FBQyxDQUFDO0FBQ0gsU0FBTyxNQUFNLENBQUM7Q0FDZjs7QUFFYyxTQUFTLFlBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFO0FBQ2pELFNBQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUUsVUFBVSxNQUFNLEVBQUUsSUFBSSxFQUFFO0FBQ3hELFdBQU87QUFDTCxVQUFJLEVBQUUsTUFBTTtBQUNaLFVBQUksRUFBRSxRQUFRO0FBQ2QsU0FBRyxFQUFFLE1BQU0sQ0FBQyxHQUFHO0FBQ2YsV0FBSyxFQUFFLElBQUk7S0FDWixDQUFDO0dBQ0gsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy9lcy9saWIvYWdnX3Jlc3BvbnNlX3RvX3Nlcmllc19saXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5leHBvcnQgZnVuY3Rpb24gdGltZUJ1Y2tldHNUb1BhaXJzKGJ1Y2tldHMpIHtcbiAgY29uc3QgdGltZXN0YW1wcyA9IF8ucGx1Y2soYnVja2V0cywgJ2tleScpO1xuICBjb25zdCBzZXJpZXMgPSB7fTtcbiAgXy5lYWNoKGJ1Y2tldHMsIGZ1bmN0aW9uIChidWNrZXQpIHtcbiAgICBfLmZvck93bihidWNrZXQsIGZ1bmN0aW9uICh2YWwsIGtleSkge1xuICAgICAgaWYgKF8uaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICAgIHNlcmllc1trZXldID0gc2VyaWVzW2tleV0gfHwgW107XG4gICAgICAgIHNlcmllc1trZXldLnB1c2godmFsLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIF8ubWFwVmFsdWVzKHNlcmllcywgZnVuY3Rpb24gKHZhbHVlcykge1xuICAgIHJldHVybiBfLnppcCh0aW1lc3RhbXBzLCB2YWx1ZXMpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5CdWNrZXQoYnVja2V0LCBwYXRoLCByZXN1bHQpIHtcbiAgcmVzdWx0ID0gcmVzdWx0IHx8IHt9O1xuICBwYXRoID0gcGF0aCB8fCBbXTtcbiAgXy5mb3JPd24oYnVja2V0LCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICBpZiAoIV8uaXNQbGFpbk9iamVjdCh2YWwpKSByZXR1cm47XG4gICAgaWYgKF8uZ2V0KHZhbCwgJ21ldGEudHlwZScpID09PSAnc3BsaXQnKSB7XG4gICAgICBfLmVhY2godmFsLmJ1Y2tldHMsIGZ1bmN0aW9uIChidWNrZXQsIGJ1Y2tldEtleSkge1xuICAgICAgICBpZiAoYnVja2V0LmtleSA9PSBudWxsKSBidWNrZXQua2V5ID0gYnVja2V0S2V5OyAvLyBGb3IgaGFuZGxpbmcgXCJrZXllZFwiIHJlc3BvbnNlIGZvcm1hdHMsIGVnIGZpbHRlcnMgYWdnXG4gICAgICAgIGZsYXR0ZW5CdWNrZXQoYnVja2V0LCBwYXRoLmNvbmNhdChba2V5ICsgJzonICsgYnVja2V0LmtleV0pLCByZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChfLmdldCh2YWwsICdtZXRhLnR5cGUnKSA9PT0gJ3RpbWVfYnVja2V0cycpIHtcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSB0aW1lQnVja2V0c1RvUGFpcnModmFsLmJ1Y2tldHMpO1xuICAgICAgXy5lYWNoKG1ldHJpY3MsIGZ1bmN0aW9uIChwYWlycywgbWV0cmljTmFtZSkge1xuICAgICAgICByZXN1bHRbcGF0aC5jb25jYXQoW21ldHJpY05hbWVdKS5qb2luKCcgPiAnKV0gPSBwYWlycztcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvU2VyaWVzTGlzdChhZ2dzLCBjb25maWcpIHtcbiAgcmV0dXJuIF8ubWFwKGZsYXR0ZW5CdWNrZXQoYWdncyksIGZ1bmN0aW9uICh2YWx1ZXMsIG5hbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0YTogdmFsdWVzLFxuICAgICAgdHlwZTogJ3NlcmllcycsXG4gICAgICBmaXQ6IGNvbmZpZy5maXQsXG4gICAgICBsYWJlbDogbmFtZVxuICAgIH07XG4gIH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/lib/agg_response_to_series_list.js"
      ],
      "names": [],
      "mappings": ";;;;;;;qBAuCwB,YAAY;AAvCpC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAErB,SAAS,kBAAkB,CAAC,OAAO,EAAE;AAC1C,MAAM,UAAU,GAAG,CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;AAC3C,MAAM,MAAM,GAAG,EAAE,CAAC;AAClB,GAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,MAAM,EAAE;AAChC,KAAC,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;AACnC,UAAI,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;AACxB,cAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;AAChC,cAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;OAC7B;KACF,CAAC,CAAC;GACJ,CAAC,CAAC;;AAEH,SAAO,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,UAAU,MAAM,EAAE;AAC3C,WAAO,CAAC,CAAC,GAAG,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;GAClC,CAAC,CAAC;CACJ;;AAEM,SAAS,aAAa,CAAC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE;AAClD,QAAM,GAAG,MAAM,IAAI,EAAE,CAAC;AACtB,MAAI,GAAG,IAAI,IAAI,EAAE,CAAC;AAClB,GAAC,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;AACnC,QAAI,CAAC,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,OAAO;AAClC,QAAI,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,WAAW,CAAC,KAAK,OAAO,EAAE;AACvC,OAAC,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,UAAU,MAAM,EAAE,SAAS,EAAE;AAC/C,YAAI,MAAM,CAAC,GAAG,IAAI,IAAI,EAAE,MAAM,CAAC,GAAG,GAAG,SAAS,CAAC;AAC/C,qBAAa,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;OACtE,CAAC,CAAC;KACJ,MAAM,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,WAAW,CAAC,KAAK,cAAc,EAAE;AACrD,UAAM,OAAO,GAAG,kBAAkB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AAChD,OAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,KAAK,EAAE,UAAU,EAAE;AAC3C,cAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC;OACvD,CAAC,CAAC;KACJ;GACF,CAAC,CAAC;AACH,SAAO,MAAM,CAAC;CACf;;AAEc,SAAS,YAAY,CAAC,IAAI,EAAE,MAAM,EAAE;AACjD,SAAO,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,UAAU,MAAM,EAAE,IAAI,EAAE;AACxD,WAAO;AACL,UAAI,EAAE,MAAM;AACZ,UAAI,EAAE,QAAQ;AACd,SAAG,EAAE,MAAM,CAAC,GAAG;AACf,WAAK,EAAE,IAAI;KACZ,CAAC;GACH,CAAC,CAAC;CACJ",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/lib/agg_response_to_series_list.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\nexport function timeBucketsToPairs(buckets) {\n  const timestamps = _.pluck(buckets, 'key');\n  const series = {};\n  _.each(buckets, function (bucket) {\n    _.forOwn(bucket, function (val, key) {\n      if (_.isPlainObject(val)) {\n        series[key] = series[key] || [];\n        series[key].push(val.value);\n      }\n    });\n  });\n\n  return _.mapValues(series, function (values) {\n    return _.zip(timestamps, values);\n  });\n}\n\nexport function flattenBucket(bucket, path, result) {\n  result = result || {};\n  path = path || [];\n  _.forOwn(bucket, function (val, key) {\n    if (!_.isPlainObject(val)) return;\n    if (_.get(val, 'meta.type') === 'split') {\n      _.each(val.buckets, function (bucket, bucketKey) {\n        if (bucket.key == null) bucket.key = bucketKey; // For handling \"keyed\" response formats, eg filters agg\n        flattenBucket(bucket, path.concat([key + ':' + bucket.key]), result);\n      });\n    } else if (_.get(val, 'meta.type') === 'time_buckets') {\n      const metrics = timeBucketsToPairs(val.buckets);\n      _.each(metrics, function (pairs, metricName) {\n        result[path.concat([metricName]).join(' > ')] = pairs;\n      });\n    }\n  });\n  return result;\n}\n\nexport default function toSeriesList(aggs, config) {\n  return _.map(flattenBucket(aggs), function (values, name) {\n    return {\n      data: values,\n      type: 'series',\n      fit: config.fit,\n      label: name\n    };\n  });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/lib/build_request.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar createDateAgg = require('./create_date_agg');\n\nmodule.exports = function buildRequest(config, tlConfig) {\n\n  var bool = { must: [], must_not: [] };\n\n  var timeFilter = { range: {} };\n  timeFilter.range[config.timefield] = { gte: tlConfig.time.from, lte: tlConfig.time.to, format: 'epoch_millis' };\n  bool.must.push(timeFilter);\n\n  // Use the kibana filter bar filters\n  if (config.kibana) {\n    bool.filter = _.get(tlConfig, 'request.payload.extended.es.filter') || {};\n  }\n\n  var aggs = {\n    'q': {\n      meta: { type: 'split' },\n      filters: {\n        filters: _.chain(config.q).map(function (q) {\n          return [q, { query_string: { query: q } }];\n        }).zipObject().value()\n      },\n      aggs: {}\n    }\n  };\n\n  var aggCursor = aggs.q.aggs;\n\n  _.each(config.split, function (clause, i) {\n    clause = clause.split(':');\n    if (clause[0] && clause[1]) {\n      aggCursor[clause[0]] = {\n        meta: { type: 'split' },\n        terms: {\n          field: clause[0],\n          size: parseInt(clause[1], 10)\n        },\n        aggs: {}\n      };\n      aggCursor = aggCursor[clause[0]].aggs;\n    } else {\n      throw new Error('`split` requires field:limit');\n    }\n  });\n\n  _.assign(aggCursor, createDateAgg(config, tlConfig));\n\n  return {\n    index: config.index,\n    body: {\n      query: {\n        bool: bool\n      },\n      aggs: aggs,\n      size: 0\n    }\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvZXMvbGliL2J1aWxkX3JlcXVlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFPLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDN0IsSUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7O0FBRW5ELE1BQU0sQ0FBQyxPQUFPLEdBQUksU0FBUyxZQUFZLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRTs7QUFFeEQsTUFBTSxJQUFJLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsQ0FBQzs7QUFFeEMsTUFBTSxVQUFVLEdBQUcsRUFBRSxLQUFLLEVBQUMsRUFBRSxFQUFFLENBQUM7QUFDaEMsWUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxjQUFjLEVBQUUsQ0FBQztBQUNoSCxNQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQzs7O0FBRzNCLE1BQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUNqQixRQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLG9DQUFvQyxDQUFDLElBQUksRUFBRSxDQUFDO0dBQzNFOztBQUVELE1BQU0sSUFBSSxHQUFHO0FBQ1gsT0FBRyxFQUFFO0FBQ0gsVUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUN2QixhQUFPLEVBQUU7QUFDUCxlQUFPLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQzFDLGlCQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUMzQyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxFQUFFO09BQ3ZCO0FBQ0QsVUFBSSxFQUFFLEVBQUU7S0FDVDtHQUNGLENBQUM7O0FBRUYsTUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7O0FBRTVCLEdBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxVQUFVLE1BQU0sRUFBRSxDQUFDLEVBQUU7QUFDeEMsVUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDM0IsUUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQzFCLGVBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRztBQUNyQixZQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQ3ZCLGFBQUssRUFBRTtBQUNMLGVBQUssRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ2hCLGNBQUksRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztTQUM5QjtBQUNELFlBQUksRUFBRSxFQUFFO09BQ1QsQ0FBQztBQUNGLGVBQVMsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0tBQ3ZDLE1BQU07QUFDTCxZQUFNLElBQUksS0FBSyxDQUFFLDhCQUE4QixDQUFDLENBQUM7S0FDbEQ7R0FDRixDQUFDLENBQUM7O0FBRUgsR0FBQyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsYUFBYSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDOztBQUdyRCxTQUFPO0FBQ0wsU0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLO0FBQ25CLFFBQUksRUFBRTtBQUNKLFdBQUssRUFBRTtBQUNMLFlBQUksRUFBRSxJQUFJO09BQ1g7QUFDRCxVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxDQUFDO0tBQ1I7R0FDRixDQUFDO0NBQ0gsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL2VzL2xpYi9idWlsZF9yZXF1ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmNvbnN0IGNyZWF0ZURhdGVBZ2cgPSByZXF1aXJlKCcuL2NyZWF0ZV9kYXRlX2FnZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICBmdW5jdGlvbiBidWlsZFJlcXVlc3QoY29uZmlnLCB0bENvbmZpZykge1xuXG4gIGNvbnN0IGJvb2wgPSB7IG11c3Q6IFtdLCBtdXN0X25vdDogW10gfTtcblxuICBjb25zdCB0aW1lRmlsdGVyID0geyByYW5nZTp7fSB9O1xuICB0aW1lRmlsdGVyLnJhbmdlW2NvbmZpZy50aW1lZmllbGRdID0geyBndGU6IHRsQ29uZmlnLnRpbWUuZnJvbSwgbHRlOiB0bENvbmZpZy50aW1lLnRvLCBmb3JtYXQ6ICdlcG9jaF9taWxsaXMnIH07XG4gIGJvb2wubXVzdC5wdXNoKHRpbWVGaWx0ZXIpO1xuXG4gIC8vIFVzZSB0aGUga2liYW5hIGZpbHRlciBiYXIgZmlsdGVyc1xuICBpZiAoY29uZmlnLmtpYmFuYSkge1xuICAgIGJvb2wuZmlsdGVyID0gXy5nZXQodGxDb25maWcsICdyZXF1ZXN0LnBheWxvYWQuZXh0ZW5kZWQuZXMuZmlsdGVyJykgfHwge307XG4gIH1cblxuICBjb25zdCBhZ2dzID0ge1xuICAgICdxJzoge1xuICAgICAgbWV0YTogeyB0eXBlOiAnc3BsaXQnIH0sXG4gICAgICBmaWx0ZXJzOiB7XG4gICAgICAgIGZpbHRlcnM6IF8uY2hhaW4oY29uZmlnLnEpLm1hcChmdW5jdGlvbiAocSkge1xuICAgICAgICAgIHJldHVybiBbcSwgeyBxdWVyeV9zdHJpbmc6eyBxdWVyeTogcSB9IH1dO1xuICAgICAgICB9KS56aXBPYmplY3QoKS52YWx1ZSgpLFxuICAgICAgfSxcbiAgICAgIGFnZ3M6IHt9XG4gICAgfVxuICB9O1xuXG4gIGxldCBhZ2dDdXJzb3IgPSBhZ2dzLnEuYWdncztcblxuICBfLmVhY2goY29uZmlnLnNwbGl0LCBmdW5jdGlvbiAoY2xhdXNlLCBpKSB7XG4gICAgY2xhdXNlID0gY2xhdXNlLnNwbGl0KCc6Jyk7XG4gICAgaWYgKGNsYXVzZVswXSAmJiBjbGF1c2VbMV0pIHtcbiAgICAgIGFnZ0N1cnNvcltjbGF1c2VbMF1dID0ge1xuICAgICAgICBtZXRhOiB7IHR5cGU6ICdzcGxpdCcgfSxcbiAgICAgICAgdGVybXM6IHtcbiAgICAgICAgICBmaWVsZDogY2xhdXNlWzBdLFxuICAgICAgICAgIHNpemU6IHBhcnNlSW50KGNsYXVzZVsxXSwgMTApXG4gICAgICAgIH0sXG4gICAgICAgIGFnZ3M6IHt9XG4gICAgICB9O1xuICAgICAgYWdnQ3Vyc29yID0gYWdnQ3Vyc29yW2NsYXVzZVswXV0uYWdncztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yICgnYHNwbGl0YCByZXF1aXJlcyBmaWVsZDpsaW1pdCcpO1xuICAgIH1cbiAgfSk7XG5cbiAgXy5hc3NpZ24oYWdnQ3Vyc29yLCBjcmVhdGVEYXRlQWdnKGNvbmZpZywgdGxDb25maWcpKTtcblxuXG4gIHJldHVybiB7XG4gICAgaW5kZXg6IGNvbmZpZy5pbmRleCxcbiAgICBib2R5OiB7XG4gICAgICBxdWVyeToge1xuICAgICAgICBib29sOiBib29sXG4gICAgICB9LFxuICAgICAgYWdnczogYWdncyxcbiAgICAgIHNpemU6IDBcbiAgICB9XG4gIH07XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/lib/build_request.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAO,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC7B,IAAM,aAAa,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;;AAEnD,MAAM,CAAC,OAAO,GAAI,SAAS,YAAY,CAAC,MAAM,EAAE,QAAQ,EAAE;;AAExD,MAAM,IAAI,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC;;AAExC,MAAM,UAAU,GAAG,EAAE,KAAK,EAAC,EAAE,EAAE,CAAC;AAChC,YAAU,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,EAAE,cAAc,EAAE,CAAC;AAChH,MAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;;;AAG3B,MAAI,MAAM,CAAC,MAAM,EAAE;AACjB,QAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,oCAAoC,CAAC,IAAI,EAAE,CAAC;GAC3E;;AAED,MAAM,IAAI,GAAG;AACX,OAAG,EAAE;AACH,UAAI,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;AACvB,aAAO,EAAE;AACP,eAAO,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;AAC1C,iBAAO,CAAC,CAAC,EAAE,EAAE,YAAY,EAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;SAC3C,CAAC,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE;OACvB;AACD,UAAI,EAAE,EAAE;KACT;GACF,CAAC;;AAEF,MAAI,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;;AAE5B,GAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,UAAU,MAAM,EAAE,CAAC,EAAE;AACxC,UAAM,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC3B,QAAI,MAAM,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,EAAE;AAC1B,eAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG;AACrB,YAAI,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;AACvB,aAAK,EAAE;AACL,eAAK,EAAE,MAAM,CAAC,CAAC,CAAC;AAChB,cAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;SAC9B;AACD,YAAI,EAAE,EAAE;OACT,CAAC;AACF,eAAS,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;KACvC,MAAM;AACL,YAAM,IAAI,KAAK,CAAE,8BAA8B,CAAC,CAAC;KAClD;GACF,CAAC,CAAC;;AAEH,GAAC,CAAC,MAAM,CAAC,SAAS,EAAE,aAAa,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC;;AAGrD,SAAO;AACL,SAAK,EAAE,MAAM,CAAC,KAAK;AACnB,QAAI,EAAE;AACJ,WAAK,EAAE;AACL,YAAI,EAAE,IAAI;OACX;AACD,UAAI,EAAE,IAAI;AACV,UAAI,EAAE,CAAC;KACR;GACF,CAAC;CACH,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/lib/build_request.js",
      "sourcesContent": [
        "const  _ = require('lodash');\nconst createDateAgg = require('./create_date_agg');\n\nmodule.exports =  function buildRequest(config, tlConfig) {\n\n  const bool = { must: [], must_not: [] };\n\n  const timeFilter = { range:{} };\n  timeFilter.range[config.timefield] = { gte: tlConfig.time.from, lte: tlConfig.time.to, format: 'epoch_millis' };\n  bool.must.push(timeFilter);\n\n  // Use the kibana filter bar filters\n  if (config.kibana) {\n    bool.filter = _.get(tlConfig, 'request.payload.extended.es.filter') || {};\n  }\n\n  const aggs = {\n    'q': {\n      meta: { type: 'split' },\n      filters: {\n        filters: _.chain(config.q).map(function (q) {\n          return [q, { query_string:{ query: q } }];\n        }).zipObject().value(),\n      },\n      aggs: {}\n    }\n  };\n\n  let aggCursor = aggs.q.aggs;\n\n  _.each(config.split, function (clause, i) {\n    clause = clause.split(':');\n    if (clause[0] && clause[1]) {\n      aggCursor[clause[0]] = {\n        meta: { type: 'split' },\n        terms: {\n          field: clause[0],\n          size: parseInt(clause[1], 10)\n        },\n        aggs: {}\n      };\n      aggCursor = aggCursor[clause[0]].aggs;\n    } else {\n      throw new Error ('`split` requires field:limit');\n    }\n  });\n\n  _.assign(aggCursor, createDateAgg(config, tlConfig));\n\n\n  return {\n    index: config.index,\n    body: {\n      query: {\n        bool: bool\n      },\n      aggs: aggs,\n      size: 0\n    }\n  };\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/lib/create_date_agg.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\nmodule.exports = function createDateAgg(config, tlConfig) {\n  var dateAgg = {\n    time_buckets: {\n      meta: { type: 'time_buckets' },\n      date_histogram: {\n        field: config.timefield,\n        interval: config.interval,\n        time_zone: tlConfig.time.timezone,\n        extended_bounds: {\n          min: tlConfig.time.from,\n          max: tlConfig.time.to\n        },\n        min_doc_count: 0\n      }\n    }\n  };\n\n  dateAgg.time_buckets.aggs = {};\n  _.each(config.metric, function (metric, i) {\n    metric = metric.split(':');\n    if (metric[0] === 'count') {\n      // This is pretty lame, but its how the \"doc_count\" metric has to be implemented at the moment\n      // It simplifies the aggregation tree walking code considerably\n      dateAgg.time_buckets.aggs[metric] = {\n        bucket_script: {\n          buckets_path: '_count',\n          script: { inline: '_value', lang: 'expression' }\n        }\n      };\n    } else if (metric[0] && metric[1]) {\n      var metricName = metric[0] + '(' + metric[1] + ')';\n      dateAgg.time_buckets.aggs[metricName] = {};\n      dateAgg.time_buckets.aggs[metricName][metric[0]] = { field: metric[1] };\n    } else {\n      throw new Error('`metric` requires metric:field or simply count');\n    }\n  });\n\n  return dateAgg;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvZXMvbGliL2NyZWF0ZV9kYXRlX2FnZy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFNUIsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLGFBQWEsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFO0FBQ3hELE1BQU0sT0FBTyxHQUFHO0FBQ2QsZ0JBQVksRUFBRTtBQUNaLFVBQUksRUFBRSxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUU7QUFDOUIsb0JBQWMsRUFBRTtBQUNkLGFBQUssRUFBRSxNQUFNLENBQUMsU0FBUztBQUN2QixnQkFBUSxFQUFFLE1BQU0sQ0FBQyxRQUFRO0FBQ3pCLGlCQUFTLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRO0FBQ2pDLHVCQUFlLEVBQUU7QUFDZixhQUFHLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJO0FBQ3ZCLGFBQUcsRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7U0FDdEI7QUFDRCxxQkFBYSxFQUFFLENBQUM7T0FDakI7S0FDRjtHQUNGLENBQUM7O0FBRUYsU0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQy9CLEdBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxVQUFVLE1BQU0sRUFBRSxDQUFDLEVBQUU7QUFDekMsVUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDM0IsUUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssT0FBTyxFQUFFOzs7QUFHekIsYUFBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUc7QUFDbEMscUJBQWEsRUFBRTtBQUNiLHNCQUFZLEVBQUUsUUFBUTtBQUN0QixnQkFBTSxFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFO1NBQ2pEO09BQ0YsQ0FBQztLQUNILE1BQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQ2pDLFVBQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUNyRCxhQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDM0MsYUFBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7S0FDekUsTUFBTTtBQUNMLFlBQU0sSUFBSSxLQUFLLENBQUUsZ0RBQWdELENBQUMsQ0FBQztLQUNwRTtHQUNGLENBQUMsQ0FBQzs7QUFFSCxTQUFPLE9BQU8sQ0FBQztDQUNoQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvZXMvbGliL2NyZWF0ZV9kYXRlX2FnZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVEYXRlQWdnKGNvbmZpZywgdGxDb25maWcpIHtcbiAgY29uc3QgZGF0ZUFnZyA9IHtcbiAgICB0aW1lX2J1Y2tldHM6IHtcbiAgICAgIG1ldGE6IHsgdHlwZTogJ3RpbWVfYnVja2V0cycgfSxcbiAgICAgIGRhdGVfaGlzdG9ncmFtOiB7XG4gICAgICAgIGZpZWxkOiBjb25maWcudGltZWZpZWxkLFxuICAgICAgICBpbnRlcnZhbDogY29uZmlnLmludGVydmFsLFxuICAgICAgICB0aW1lX3pvbmU6IHRsQ29uZmlnLnRpbWUudGltZXpvbmUsXG4gICAgICAgIGV4dGVuZGVkX2JvdW5kczoge1xuICAgICAgICAgIG1pbjogdGxDb25maWcudGltZS5mcm9tLFxuICAgICAgICAgIG1heDogdGxDb25maWcudGltZS50b1xuICAgICAgICB9LFxuICAgICAgICBtaW5fZG9jX2NvdW50OiAwXG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGRhdGVBZ2cudGltZV9idWNrZXRzLmFnZ3MgPSB7fTtcbiAgXy5lYWNoKGNvbmZpZy5tZXRyaWMsIGZ1bmN0aW9uIChtZXRyaWMsIGkpIHtcbiAgICBtZXRyaWMgPSBtZXRyaWMuc3BsaXQoJzonKTtcbiAgICBpZiAobWV0cmljWzBdID09PSAnY291bnQnKSB7XG4gICAgICAvLyBUaGlzIGlzIHByZXR0eSBsYW1lLCBidXQgaXRzIGhvdyB0aGUgXCJkb2NfY291bnRcIiBtZXRyaWMgaGFzIHRvIGJlIGltcGxlbWVudGVkIGF0IHRoZSBtb21lbnRcbiAgICAgIC8vIEl0IHNpbXBsaWZpZXMgdGhlIGFnZ3JlZ2F0aW9uIHRyZWUgd2Fsa2luZyBjb2RlIGNvbnNpZGVyYWJseVxuICAgICAgZGF0ZUFnZy50aW1lX2J1Y2tldHMuYWdnc1ttZXRyaWNdID0ge1xuICAgICAgICBidWNrZXRfc2NyaXB0OiB7XG4gICAgICAgICAgYnVja2V0c19wYXRoOiAnX2NvdW50JyxcbiAgICAgICAgICBzY3JpcHQ6IHsgaW5saW5lOiAnX3ZhbHVlJywgbGFuZzogJ2V4cHJlc3Npb24nIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG1ldHJpY1swXSAmJiBtZXRyaWNbMV0pIHtcbiAgICAgIGNvbnN0IG1ldHJpY05hbWUgPSBtZXRyaWNbMF0gKyAnKCcgKyBtZXRyaWNbMV0gKyAnKSc7XG4gICAgICBkYXRlQWdnLnRpbWVfYnVja2V0cy5hZ2dzW21ldHJpY05hbWVdID0ge307XG4gICAgICBkYXRlQWdnLnRpbWVfYnVja2V0cy5hZ2dzW21ldHJpY05hbWVdW21ldHJpY1swXV0gPSB7IGZpZWxkOiBtZXRyaWNbMV0gfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yICgnYG1ldHJpY2AgcmVxdWlyZXMgbWV0cmljOmZpZWxkIG9yIHNpbXBseSBjb3VudCcpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGVBZ2c7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/lib/create_date_agg.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,MAAM,CAAC,OAAO,GAAG,SAAS,aAAa,CAAC,MAAM,EAAE,QAAQ,EAAE;AACxD,MAAM,OAAO,GAAG;AACd,gBAAY,EAAE;AACZ,UAAI,EAAE,EAAE,IAAI,EAAE,cAAc,EAAE;AAC9B,oBAAc,EAAE;AACd,aAAK,EAAE,MAAM,CAAC,SAAS;AACvB,gBAAQ,EAAE,MAAM,CAAC,QAAQ;AACzB,iBAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,QAAQ;AACjC,uBAAe,EAAE;AACf,aAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI;AACvB,aAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE;SACtB;AACD,qBAAa,EAAE,CAAC;OACjB;KACF;GACF,CAAC;;AAEF,SAAO,CAAC,YAAY,CAAC,IAAI,GAAG,EAAE,CAAC;AAC/B,GAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,MAAM,EAAE,CAAC,EAAE;AACzC,UAAM,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC3B,QAAI,MAAM,CAAC,CAAC,CAAC,KAAK,OAAO,EAAE;;;AAGzB,aAAO,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG;AAClC,qBAAa,EAAE;AACb,sBAAY,EAAE,QAAQ;AACtB,gBAAM,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,YAAY,EAAE;SACjD;OACF,CAAC;KACH,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,EAAE;AACjC,UAAM,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;AACrD,aAAO,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;AAC3C,aAAO,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;KACzE,MAAM;AACL,YAAM,IAAI,KAAK,CAAE,gDAAgD,CAAC,CAAC;KACpE;GACF,CAAC,CAAC;;AAEH,SAAO,OAAO,CAAC;CAChB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/es/lib/create_date_agg.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\nmodule.exports = function createDateAgg(config, tlConfig) {\n  const dateAgg = {\n    time_buckets: {\n      meta: { type: 'time_buckets' },\n      date_histogram: {\n        field: config.timefield,\n        interval: config.interval,\n        time_zone: tlConfig.time.timezone,\n        extended_bounds: {\n          min: tlConfig.time.from,\n          max: tlConfig.time.to\n        },\n        min_doc_count: 0\n      }\n    }\n  };\n\n  dateAgg.time_buckets.aggs = {};\n  _.each(config.metric, function (metric, i) {\n    metric = metric.split(':');\n    if (metric[0] === 'count') {\n      // This is pretty lame, but its how the \"doc_count\" metric has to be implemented at the moment\n      // It simplifies the aggregation tree walking code considerably\n      dateAgg.time_buckets.aggs[metric] = {\n        bucket_script: {\n          buckets_path: '_count',\n          script: { inline: '_value', lang: 'expression' }\n        }\n      };\n    } else if (metric[0] && metric[1]) {\n      const metricName = metric[0] + '(' + metric[1] + ')';\n      dateAgg.time_buckets.aggs[metricName] = {};\n      dateAgg.time_buckets.aggs[metricName][metric[0]] = { field: metric[1] };\n    } else {\n      throw new Error ('`metric` requires metric:field or simply count');\n    }\n  });\n\n  return dateAgg;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\nvar Chainable = require('../../lib/classes/chainable');\nvar ses = require('./lib/ses');\nvar des = require('./lib/des');\nvar tes = require('./lib/tes');\nvar toMilliseconds = require('../../lib/to_milliseconds');\n\nmodule.exports = new Chainable('holt', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'alpha',\n    types: ['number'],\n    help: '\\n        Smoothing weight from 0 to 1.\\n        Increasing alpha will make the new series more closely follow the original.\\n        Lowering it will make the series smoother'\n  }, {\n    name: 'beta',\n    types: ['number'],\n    help: '\\n        Trending weight from 0 to 1.\\n        Increasing beta will make rising/falling lines continue to rise/fall longer.\\n        Lowering it will make the function learn the new trend faster'\n  }, {\n    name: 'gamma',\n    types: ['number'],\n    help: '\\n        Seasonal weight from 0 to 1. Does your data look like a wave?\\n        Increasing this will give recent seasons more importance, thus changing the wave form faster.\\n        Lowering it will reduce the importance of new seasons, making history more important.\\n        '\n  }, {\n    name: 'season',\n    types: ['string'],\n    help: 'How long is the season, eg, 1w if you pattern repeats weekly. (Only useful with gamma)'\n  }, {\n    name: 'sample',\n    types: ['number', 'null'],\n    help: '\\n      The number of seasons to sample before starting to \"predict\" in a seasonal series.\\n      (Only useful with gamma, Default: all)'\n  }],\n  help: '\\n    Sample the beginning of a series and use it to forecast what should happen\\n    via several optional parameters. In general, like everything, this is crappy at predicting the\\n    future. You\\'re much better off using it to predict what should be happening right now, for the\\n    purpose of anomaly detection. Note that nulls will be filled with forecasted values. Deal with it.',\n  fn: function expsmoothFn(args, tlConfig) {\n\n    var newSeries = _.cloneDeep(args.byName.inputSeries);\n\n    var alpha = args.byName.alpha;\n    var beta = args.byName.beta;\n    var gamma = args.byName.gamma;\n\n    _.each(newSeries.list, function (series) {\n      var sample = args.byName.sample || series.data.length; // If we use length it should simply never predict\n\n      // Single exponential smoothing\n      // This is basically a weighted moving average in which the older\n      // points exponentially degrade relative to the alpha, eg:\n      // 0.8^1, 0.8^2, 0.8^3, etc\n\n      var times = _.map(series.data, 0);\n      var points = _.map(series.data, 1);\n\n      if (alpha != null && beta == null && gamma == null) {\n        points = ses(points, alpha);\n      }\n\n      if (alpha != null && beta != null && gamma == null) {\n        points = des(points, alpha, beta);\n      }\n\n      if (alpha != null && beta != null && gamma != null) {\n        if (!sample || !args.byName.season || sample < 2) {\n          throw new Error('Must specificy a season length and a sample size >= 2');\n        }\n        var season = Math.round(toMilliseconds(args.byName.season) / toMilliseconds(tlConfig.time.interval));\n        points = tes(points, alpha, beta, gamma, season, sample);\n      }\n\n      _.assign(series.data, _.zip(times, points));\n    });\n\n    return newSeries;\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvaG9sdC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsNkJBQTZCLENBQUMsQ0FBQztBQUN6RCxJQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDakMsSUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ2pDLElBQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNqQyxJQUFNLGNBQWMsR0FBRyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQzs7QUFFNUQsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEVBQUU7QUFDckMsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxPQUFPO0FBQ2IsU0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ2pCLFFBQUksbUxBR3dDO0dBQzdDLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsTUFBTTtBQUNaLFNBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUNqQixRQUFJLHVNQUc0RDtHQUNqRSxFQUNEO0FBQ0UsUUFBSSxFQUFFLE9BQU87QUFDYixTQUFLLEVBQUUsQ0FBQyxRQUFRLENBQUM7QUFDakIsUUFBSSwyUkFJRDtHQUNKLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsUUFBUTtBQUNkLFNBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQztBQUNqQixRQUFJLEVBQUUsd0ZBQXdGO0dBQy9GLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsUUFBUTtBQUNkLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSw0SUFFbUM7R0FDeEMsQ0FDRjtBQUNELE1BQUkscVlBSWlHO0FBQ3JHLElBQUUsRUFBRSxTQUFTLFdBQVcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFOztBQUV2QyxRQUFNLFNBQVMsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7O0FBRXZELFFBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0FBQ2hDLFFBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQzlCLFFBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDOztBQUVoQyxLQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsVUFBVSxNQUFNLEVBQUU7QUFDdkMsVUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7Ozs7Ozs7QUFReEQsVUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3BDLFVBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQzs7QUFFbkMsVUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtBQUNsRCxjQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztPQUM3Qjs7QUFFRCxVQUFJLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ2xELGNBQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztPQUNuQzs7QUFFRCxVQUFJLEtBQUssSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ2xELFlBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sSUFBSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ2hELGdCQUFNLElBQUksS0FBSyxDQUFDLHVEQUF1RCxDQUFDLENBQUM7U0FDMUU7QUFDRCxZQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLGNBQWMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdkcsY0FBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO09BQzFEOztBQUVELE9BQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO0tBQzdDLENBQUMsQ0FBQzs7QUFFSCxXQUFPLFNBQVMsQ0FBQztHQUNsQjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL2hvbHQvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5jb25zdCBDaGFpbmFibGUgPSByZXF1aXJlKCcuLi8uLi9saWIvY2xhc3Nlcy9jaGFpbmFibGUnKTtcbmNvbnN0IHNlcyA9IHJlcXVpcmUoJy4vbGliL3NlcycpO1xuY29uc3QgZGVzID0gcmVxdWlyZSgnLi9saWIvZGVzJyk7XG5jb25zdCB0ZXMgPSByZXF1aXJlKCcuL2xpYi90ZXMnKTtcbmNvbnN0IHRvTWlsbGlzZWNvbmRzID0gcmVxdWlyZSgnLi4vLi4vbGliL3RvX21pbGxpc2Vjb25kcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBDaGFpbmFibGUoJ2hvbHQnLCB7XG4gIGFyZ3M6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnaW5wdXRTZXJpZXMnLFxuICAgICAgdHlwZXM6IFsnc2VyaWVzTGlzdCddXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnYWxwaGEnLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJ10sXG4gICAgICBoZWxwOiBgXG4gICAgICAgIFNtb290aGluZyB3ZWlnaHQgZnJvbSAwIHRvIDEuXG4gICAgICAgIEluY3JlYXNpbmcgYWxwaGEgd2lsbCBtYWtlIHRoZSBuZXcgc2VyaWVzIG1vcmUgY2xvc2VseSBmb2xsb3cgdGhlIG9yaWdpbmFsLlxuICAgICAgICBMb3dlcmluZyBpdCB3aWxsIG1ha2UgdGhlIHNlcmllcyBzbW9vdGhlcmBcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdiZXRhJyxcbiAgICAgIHR5cGVzOiBbJ251bWJlciddLFxuICAgICAgaGVscDogYFxuICAgICAgICBUcmVuZGluZyB3ZWlnaHQgZnJvbSAwIHRvIDEuXG4gICAgICAgIEluY3JlYXNpbmcgYmV0YSB3aWxsIG1ha2UgcmlzaW5nL2ZhbGxpbmcgbGluZXMgY29udGludWUgdG8gcmlzZS9mYWxsIGxvbmdlci5cbiAgICAgICAgTG93ZXJpbmcgaXQgd2lsbCBtYWtlIHRoZSBmdW5jdGlvbiBsZWFybiB0aGUgbmV3IHRyZW5kIGZhc3RlcmBcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdnYW1tYScsXG4gICAgICB0eXBlczogWydudW1iZXInXSxcbiAgICAgIGhlbHA6IGBcbiAgICAgICAgU2Vhc29uYWwgd2VpZ2h0IGZyb20gMCB0byAxLiBEb2VzIHlvdXIgZGF0YSBsb29rIGxpa2UgYSB3YXZlP1xuICAgICAgICBJbmNyZWFzaW5nIHRoaXMgd2lsbCBnaXZlIHJlY2VudCBzZWFzb25zIG1vcmUgaW1wb3J0YW5jZSwgdGh1cyBjaGFuZ2luZyB0aGUgd2F2ZSBmb3JtIGZhc3Rlci5cbiAgICAgICAgTG93ZXJpbmcgaXQgd2lsbCByZWR1Y2UgdGhlIGltcG9ydGFuY2Ugb2YgbmV3IHNlYXNvbnMsIG1ha2luZyBoaXN0b3J5IG1vcmUgaW1wb3J0YW50LlxuICAgICAgICBgXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnc2Vhc29uJyxcbiAgICAgIHR5cGVzOiBbJ3N0cmluZyddLFxuICAgICAgaGVscDogJ0hvdyBsb25nIGlzIHRoZSBzZWFzb24sIGVnLCAxdyBpZiB5b3UgcGF0dGVybiByZXBlYXRzIHdlZWtseS4gKE9ubHkgdXNlZnVsIHdpdGggZ2FtbWEpJ1xuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3NhbXBsZScsXG4gICAgICB0eXBlczogWydudW1iZXInLCAnbnVsbCddLFxuICAgICAgaGVscDogYFxuICAgICAgVGhlIG51bWJlciBvZiBzZWFzb25zIHRvIHNhbXBsZSBiZWZvcmUgc3RhcnRpbmcgdG8gXCJwcmVkaWN0XCIgaW4gYSBzZWFzb25hbCBzZXJpZXMuXG4gICAgICAoT25seSB1c2VmdWwgd2l0aCBnYW1tYSwgRGVmYXVsdDogYWxsKWBcbiAgICB9XG4gIF0sXG4gIGhlbHA6IGBcbiAgICBTYW1wbGUgdGhlIGJlZ2lubmluZyBvZiBhIHNlcmllcyBhbmQgdXNlIGl0IHRvIGZvcmVjYXN0IHdoYXQgc2hvdWxkIGhhcHBlblxuICAgIHZpYSBzZXZlcmFsIG9wdGlvbmFsIHBhcmFtZXRlcnMuIEluIGdlbmVyYWwsIGxpa2UgZXZlcnl0aGluZywgdGhpcyBpcyBjcmFwcHkgYXQgcHJlZGljdGluZyB0aGVcbiAgICBmdXR1cmUuIFlvdSdyZSBtdWNoIGJldHRlciBvZmYgdXNpbmcgaXQgdG8gcHJlZGljdCB3aGF0IHNob3VsZCBiZSBoYXBwZW5pbmcgcmlnaHQgbm93LCBmb3IgdGhlXG4gICAgcHVycG9zZSBvZiBhbm9tYWx5IGRldGVjdGlvbi4gTm90ZSB0aGF0IG51bGxzIHdpbGwgYmUgZmlsbGVkIHdpdGggZm9yZWNhc3RlZCB2YWx1ZXMuIERlYWwgd2l0aCBpdC5gLFxuICBmbjogZnVuY3Rpb24gZXhwc21vb3RoRm4oYXJncywgdGxDb25maWcpIHtcblxuICAgIGNvbnN0IG5ld1NlcmllcyA9IF8uY2xvbmVEZWVwKGFyZ3MuYnlOYW1lLmlucHV0U2VyaWVzKTtcblxuICAgIGNvbnN0IGFscGhhID0gYXJncy5ieU5hbWUuYWxwaGE7XG4gICAgY29uc3QgYmV0YSA9IGFyZ3MuYnlOYW1lLmJldGE7XG4gICAgY29uc3QgZ2FtbWEgPSBhcmdzLmJ5TmFtZS5nYW1tYTtcblxuICAgIF8uZWFjaChuZXdTZXJpZXMubGlzdCwgZnVuY3Rpb24gKHNlcmllcykge1xuICAgICAgY29uc3Qgc2FtcGxlID0gYXJncy5ieU5hbWUuc2FtcGxlIHx8IHNlcmllcy5kYXRhLmxlbmd0aDsgLy8gSWYgd2UgdXNlIGxlbmd0aCBpdCBzaG91bGQgc2ltcGx5IG5ldmVyIHByZWRpY3RcblxuXG4gICAgICAvLyBTaW5nbGUgZXhwb25lbnRpYWwgc21vb3RoaW5nXG4gICAgICAvLyBUaGlzIGlzIGJhc2ljYWxseSBhIHdlaWdodGVkIG1vdmluZyBhdmVyYWdlIGluIHdoaWNoIHRoZSBvbGRlclxuICAgICAgLy8gcG9pbnRzIGV4cG9uZW50aWFsbHkgZGVncmFkZSByZWxhdGl2ZSB0byB0aGUgYWxwaGEsIGVnOlxuICAgICAgLy8gMC44XjEsIDAuOF4yLCAwLjheMywgZXRjXG5cbiAgICAgIGNvbnN0IHRpbWVzID0gXy5tYXAoc2VyaWVzLmRhdGEsIDApO1xuICAgICAgbGV0IHBvaW50cyA9IF8ubWFwKHNlcmllcy5kYXRhLCAxKTtcblxuICAgICAgaWYgKGFscGhhICE9IG51bGwgJiYgYmV0YSA9PSBudWxsICYmIGdhbW1hID09IG51bGwpIHtcbiAgICAgICAgcG9pbnRzID0gc2VzKHBvaW50cywgYWxwaGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWxwaGEgIT0gbnVsbCAmJiBiZXRhICE9IG51bGwgJiYgZ2FtbWEgPT0gbnVsbCkge1xuICAgICAgICBwb2ludHMgPSBkZXMocG9pbnRzLCBhbHBoYSwgYmV0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbHBoYSAhPSBudWxsICYmIGJldGEgIT0gbnVsbCAmJiBnYW1tYSAhPSBudWxsKSB7XG4gICAgICAgIGlmICghc2FtcGxlIHx8ICFhcmdzLmJ5TmFtZS5zZWFzb24gfHwgc2FtcGxlIDwgMikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTXVzdCBzcGVjaWZpY3kgYSBzZWFzb24gbGVuZ3RoIGFuZCBhIHNhbXBsZSBzaXplID49IDInKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWFzb24gPSBNYXRoLnJvdW5kKHRvTWlsbGlzZWNvbmRzKGFyZ3MuYnlOYW1lLnNlYXNvbikgLyB0b01pbGxpc2Vjb25kcyh0bENvbmZpZy50aW1lLmludGVydmFsKSk7XG4gICAgICAgIHBvaW50cyA9IHRlcyhwb2ludHMsIGFscGhhLCBiZXRhLCBnYW1tYSwgc2Vhc29uLCBzYW1wbGUpO1xuICAgICAgfVxuXG4gICAgICBfLmFzc2lnbihzZXJpZXMuZGF0YSwgXy56aXAodGltZXMsIHBvaW50cykpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ld1NlcmllcztcbiAgfVxufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/index.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/index.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst Chainable = require('../../lib/classes/chainable');\nconst ses = require('./lib/ses');\nconst des = require('./lib/des');\nconst tes = require('./lib/tes');\nconst toMilliseconds = require('../../lib/to_milliseconds');\n\nmodule.exports = new Chainable('holt', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'alpha',\n      types: ['number'],\n      help: `\n        Smoothing weight from 0 to 1.\n        Increasing alpha will make the new series more closely follow the original.\n        Lowering it will make the series smoother`\n    },\n    {\n      name: 'beta',\n      types: ['number'],\n      help: `\n        Trending weight from 0 to 1.\n        Increasing beta will make rising/falling lines continue to rise/fall longer.\n        Lowering it will make the function learn the new trend faster`\n    },\n    {\n      name: 'gamma',\n      types: ['number'],\n      help: `\n        Seasonal weight from 0 to 1. Does your data look like a wave?\n        Increasing this will give recent seasons more importance, thus changing the wave form faster.\n        Lowering it will reduce the importance of new seasons, making history more important.\n        `\n    },\n    {\n      name: 'season',\n      types: ['string'],\n      help: 'How long is the season, eg, 1w if you pattern repeats weekly. (Only useful with gamma)'\n    },\n    {\n      name: 'sample',\n      types: ['number', 'null'],\n      help: `\n      The number of seasons to sample before starting to \"predict\" in a seasonal series.\n      (Only useful with gamma, Default: all)`\n    }\n  ],\n  help: `\n    Sample the beginning of a series and use it to forecast what should happen\n    via several optional parameters. In general, like everything, this is crappy at predicting the\n    future. You're much better off using it to predict what should be happening right now, for the\n    purpose of anomaly detection. Note that nulls will be filled with forecasted values. Deal with it.`,\n  fn: function expsmoothFn(args, tlConfig) {\n\n    const newSeries = _.cloneDeep(args.byName.inputSeries);\n\n    const alpha = args.byName.alpha;\n    const beta = args.byName.beta;\n    const gamma = args.byName.gamma;\n\n    _.each(newSeries.list, function (series) {\n      const sample = args.byName.sample || series.data.length; // If we use length it should simply never predict\n\n\n      // Single exponential smoothing\n      // This is basically a weighted moving average in which the older\n      // points exponentially degrade relative to the alpha, eg:\n      // 0.8^1, 0.8^2, 0.8^3, etc\n\n      const times = _.map(series.data, 0);\n      let points = _.map(series.data, 1);\n\n      if (alpha != null && beta == null && gamma == null) {\n        points = ses(points, alpha);\n      }\n\n      if (alpha != null && beta != null && gamma == null) {\n        points = des(points, alpha, beta);\n      }\n\n      if (alpha != null && beta != null && gamma != null) {\n        if (!sample || !args.byName.season || sample < 2) {\n          throw new Error('Must specificy a season length and a sample size >= 2');\n        }\n        const season = Math.round(toMilliseconds(args.byName.season) / toMilliseconds(tlConfig.time.interval));\n        points = tes(points, alpha, beta, gamma, season, sample);\n      }\n\n      _.assign(series.data, _.zip(times, points));\n    });\n\n    return newSeries;\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/lib/ses.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/*\n  Single exponential smoothing. Assuming even interval\n*/\n\n'use strict';\n\nvar _ = require('lodash');\n\nmodule.exports = function ses(points, alpha) {\n  var origin = undefined;\n  var level = undefined;\n\n  var smoothedPoints = _.reduce(points, function (result, point, i) {\n    if (i === 0) {\n      origin = point;\n      level = point;\n    } else {\n      // In the case that point[1] is null, we keep origin the same\n      // and forecast the point based on the previous smoothed point\n      if (point != null) {\n        origin = point;\n      }\n      if (origin == null) {\n        level = null;\n      } else {\n        var prevSmoothed = result[i - 1];\n        level = alpha * origin + (1 - alpha) * prevSmoothed;\n      }\n    }\n\n    result.push(level);\n    return result;\n  }, []);\n\n  return smoothedPoints;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvaG9sdC9saWIvc2VzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUlBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFNUIsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLEdBQUcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFO0FBQzNDLE1BQUksTUFBTSxZQUFBLENBQUM7QUFDWCxNQUFJLEtBQUssWUFBQSxDQUFDOztBQUVWLE1BQU0sY0FBYyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLFVBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUs7QUFDNUQsUUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ1gsWUFBTSxHQUFHLEtBQUssQ0FBQztBQUNmLFdBQUssR0FBRyxLQUFLLENBQUM7S0FDZixNQUFNOzs7QUFHTCxVQUFJLEtBQUssSUFBSSxJQUFJLEVBQUU7QUFDakIsY0FBTSxHQUFHLEtBQUssQ0FBQztPQUNoQjtBQUNELFVBQUksTUFBTSxJQUFJLElBQUksRUFBRTtBQUNsQixhQUFLLEdBQUcsSUFBSSxDQUFDO09BQ2QsTUFBTTtBQUNMLFlBQU0sWUFBWSxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDbkMsYUFBSyxHQUFHLEtBQUssR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFBLEdBQUksWUFBWSxDQUFDO09BQ3JEO0tBQ0Y7O0FBRUQsVUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNuQixXQUFPLE1BQU0sQ0FBQztHQUNmLEVBQUUsRUFBRSxDQUFDLENBQUM7O0FBRVAsU0FBTyxjQUFjLENBQUM7Q0FDdkIsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL2hvbHQvbGliL3Nlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gIFNpbmdsZSBleHBvbmVudGlhbCBzbW9vdGhpbmcuIEFzc3VtaW5nIGV2ZW4gaW50ZXJ2YWxcbiovXG5cbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzZXMocG9pbnRzLCBhbHBoYSkge1xuICBsZXQgb3JpZ2luO1xuICBsZXQgbGV2ZWw7XG5cbiAgY29uc3Qgc21vb3RoZWRQb2ludHMgPSBfLnJlZHVjZShwb2ludHMsIChyZXN1bHQsIHBvaW50LCBpKSA9PiB7XG4gICAgaWYgKGkgPT09IDApIHtcbiAgICAgIG9yaWdpbiA9IHBvaW50O1xuICAgICAgbGV2ZWwgPSBwb2ludDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW4gdGhlIGNhc2UgdGhhdCBwb2ludFsxXSBpcyBudWxsLCB3ZSBrZWVwIG9yaWdpbiB0aGUgc2FtZVxuICAgICAgLy8gYW5kIGZvcmVjYXN0IHRoZSBwb2ludCBiYXNlZCBvbiB0aGUgcHJldmlvdXMgc21vb3RoZWQgcG9pbnRcbiAgICAgIGlmIChwb2ludCAhPSBudWxsKSB7XG4gICAgICAgIG9yaWdpbiA9IHBvaW50O1xuICAgICAgfVxuICAgICAgaWYgKG9yaWdpbiA9PSBudWxsKSB7XG4gICAgICAgIGxldmVsID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHByZXZTbW9vdGhlZCA9IHJlc3VsdFtpIC0gMV07XG4gICAgICAgIGxldmVsID0gYWxwaGEgKiBvcmlnaW4gKyAoMSAtIGFscGhhKSAqIHByZXZTbW9vdGhlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bHQucHVzaChsZXZlbCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwgW10pO1xuXG4gIHJldHVybiBzbW9vdGhlZFBvaW50cztcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/lib/ses.js"
      ],
      "names": [],
      "mappings": ";;;;;;AAIA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,MAAM,CAAC,OAAO,GAAG,SAAS,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE;AAC3C,MAAI,MAAM,YAAA,CAAC;AACX,MAAI,KAAK,YAAA,CAAC;;AAEV,MAAM,cAAc,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,UAAC,MAAM,EAAE,KAAK,EAAE,CAAC,EAAK;AAC5D,QAAI,CAAC,KAAK,CAAC,EAAE;AACX,YAAM,GAAG,KAAK,CAAC;AACf,WAAK,GAAG,KAAK,CAAC;KACf,MAAM;;;AAGL,UAAI,KAAK,IAAI,IAAI,EAAE;AACjB,cAAM,GAAG,KAAK,CAAC;OAChB;AACD,UAAI,MAAM,IAAI,IAAI,EAAE;AAClB,aAAK,GAAG,IAAI,CAAC;OACd,MAAM;AACL,YAAM,YAAY,GAAG,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACnC,aAAK,GAAG,KAAK,GAAG,MAAM,GAAG,CAAC,CAAC,GAAG,KAAK,CAAA,GAAI,YAAY,CAAC;OACrD;KACF;;AAED,UAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACnB,WAAO,MAAM,CAAC;GACf,EAAE,EAAE,CAAC,CAAC;;AAEP,SAAO,cAAc,CAAC;CACvB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/lib/ses.js",
      "sourcesContent": [
        "/*\n  Single exponential smoothing. Assuming even interval\n*/\n\nconst _ = require('lodash');\n\nmodule.exports = function ses(points, alpha) {\n  let origin;\n  let level;\n\n  const smoothedPoints = _.reduce(points, (result, point, i) => {\n    if (i === 0) {\n      origin = point;\n      level = point;\n    } else {\n      // In the case that point[1] is null, we keep origin the same\n      // and forecast the point based on the previous smoothed point\n      if (point != null) {\n        origin = point;\n      }\n      if (origin == null) {\n        level = null;\n      } else {\n        const prevSmoothed = result[i - 1];\n        level = alpha * origin + (1 - alpha) * prevSmoothed;\n      }\n    }\n\n    result.push(level);\n    return result;\n  }, []);\n\n  return smoothedPoints;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/lib/des.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\nmodule.exports = function des(points, alpha, beta) {\n  var level = undefined;\n  var prevLevel = undefined;\n  var trend = undefined;\n  var prevTrend = undefined;\n  var value = undefined;\n  var origin = undefined;\n  var unknownCount = 0;\n\n  if (points.length < 2) {\n    throw new Error('You need at least 2 points to use double exponential smoothing');\n  }\n\n  var smoothedPoints = _.map(points, function (point, i) {\n    if (i === 0) {\n      return point;\n    }\n\n    if (i === 1) {\n      // Establish initial values for level and trend;\n      level = points[0];\n      trend = points[1] - points[0]; // This is sort of a lame way to do this\n    }\n\n    if (point == null) {\n      unknownCount++;\n    } else {\n      unknownCount = 0;\n      // These 2 variables are not required, but are used for clarity.\n      prevLevel = level;\n      prevTrend = trend;\n      level = alpha * point + (1 - alpha) * (prevLevel + prevTrend);\n      trend = beta * (level - prevLevel) + (1 - beta) * prevTrend;\n    }\n\n    return level + unknownCount * trend;\n  }, []);\n\n  return smoothedPoints;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvaG9sdC9saWIvZGVzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUU1QixNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsR0FBRyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ2pELE1BQUksS0FBSyxZQUFBLENBQUM7QUFDVixNQUFJLFNBQVMsWUFBQSxDQUFDO0FBQ2QsTUFBSSxLQUFLLFlBQUEsQ0FBQztBQUNWLE1BQUksU0FBUyxZQUFBLENBQUM7QUFDZCxNQUFJLEtBQUssWUFBQSxDQUFDO0FBQ1YsTUFBSSxNQUFNLFlBQUEsQ0FBQztBQUNYLE1BQUksWUFBWSxHQUFHLENBQUMsQ0FBQzs7QUFFckIsTUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtBQUNyQixVQUFNLElBQUksS0FBSyxDQUFFLGdFQUFnRSxDQUFDLENBQUM7R0FDcEY7O0FBRUQsTUFBTSxjQUFjLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsVUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFLO0FBQ2pELFFBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUNYLGFBQU8sS0FBSyxDQUFDO0tBQ2Q7O0FBRUQsUUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFOztBQUVYLFdBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEIsV0FBSyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDL0I7O0FBRUQsUUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ2pCLGtCQUFZLEVBQUUsQ0FBQztLQUNoQixNQUFNO0FBQ0wsa0JBQVksR0FBRyxDQUFDLENBQUM7O0FBRWpCLGVBQVMsR0FBRyxLQUFLLENBQUM7QUFDbEIsZUFBUyxHQUFHLEtBQUssQ0FBQztBQUNsQixXQUFLLEdBQUcsQUFBQyxLQUFLLEdBQUcsS0FBSyxHQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQSxJQUFLLFNBQVMsR0FBRyxTQUFTLENBQUEsQUFBQyxDQUFDO0FBQ2hFLFdBQUssR0FBRyxJQUFJLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQSxBQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFBLEdBQUksU0FBUyxDQUFDO0tBQzdEOztBQUVELFdBQVEsS0FBSyxHQUFJLFlBQVksR0FBRyxLQUFLLEFBQUMsQ0FBRTtHQUN6QyxFQUFFLEVBQUUsQ0FBQyxDQUFDOztBQUVQLFNBQU8sY0FBYyxDQUFDO0NBRXZCLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy9ob2x0L2xpYi9kZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVzKHBvaW50cywgYWxwaGEsIGJldGEpIHtcbiAgbGV0IGxldmVsO1xuICBsZXQgcHJldkxldmVsO1xuICBsZXQgdHJlbmQ7XG4gIGxldCBwcmV2VHJlbmQ7XG4gIGxldCB2YWx1ZTtcbiAgbGV0IG9yaWdpbjtcbiAgbGV0IHVua25vd25Db3VudCA9IDA7XG5cbiAgaWYgKHBvaW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yICgnWW91IG5lZWQgYXQgbGVhc3QgMiBwb2ludHMgdG8gdXNlIGRvdWJsZSBleHBvbmVudGlhbCBzbW9vdGhpbmcnKTtcbiAgfVxuXG4gIGNvbnN0IHNtb290aGVkUG9pbnRzID0gXy5tYXAocG9pbnRzLCAocG9pbnQsIGkpID0+IHtcbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cblxuICAgIGlmIChpID09PSAxKSB7XG4gICAgICAvLyBFc3RhYmxpc2ggaW5pdGlhbCB2YWx1ZXMgZm9yIGxldmVsIGFuZCB0cmVuZDtcbiAgICAgIGxldmVsID0gcG9pbnRzWzBdO1xuICAgICAgdHJlbmQgPSBwb2ludHNbMV0gLSBwb2ludHNbMF07IC8vIFRoaXMgaXMgc29ydCBvZiBhIGxhbWUgd2F5IHRvIGRvIHRoaXNcbiAgICB9XG5cbiAgICBpZiAocG9pbnQgPT0gbnVsbCkge1xuICAgICAgdW5rbm93bkNvdW50Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVua25vd25Db3VudCA9IDA7XG4gICAgICAvLyBUaGVzZSAyIHZhcmlhYmxlcyBhcmUgbm90IHJlcXVpcmVkLCBidXQgYXJlIHVzZWQgZm9yIGNsYXJpdHkuXG4gICAgICBwcmV2TGV2ZWwgPSBsZXZlbDtcbiAgICAgIHByZXZUcmVuZCA9IHRyZW5kO1xuICAgICAgbGV2ZWwgPSAoYWxwaGEgKiBwb2ludCkgKyAoMSAtIGFscGhhKSAqIChwcmV2TGV2ZWwgKyBwcmV2VHJlbmQpO1xuICAgICAgdHJlbmQgPSBiZXRhICogKGxldmVsIC0gcHJldkxldmVsKSArICgxIC0gYmV0YSkgKiBwcmV2VHJlbmQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIChsZXZlbCArICh1bmtub3duQ291bnQgKiB0cmVuZCkpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIHNtb290aGVkUG9pbnRzO1xuXG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/lib/des.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,MAAM,CAAC,OAAO,GAAG,SAAS,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE;AACjD,MAAI,KAAK,YAAA,CAAC;AACV,MAAI,SAAS,YAAA,CAAC;AACd,MAAI,KAAK,YAAA,CAAC;AACV,MAAI,SAAS,YAAA,CAAC;AACd,MAAI,KAAK,YAAA,CAAC;AACV,MAAI,MAAM,YAAA,CAAC;AACX,MAAI,YAAY,GAAG,CAAC,CAAC;;AAErB,MAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AACrB,UAAM,IAAI,KAAK,CAAE,gEAAgE,CAAC,CAAC;GACpF;;AAED,MAAM,cAAc,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,CAAC,EAAK;AACjD,QAAI,CAAC,KAAK,CAAC,EAAE;AACX,aAAO,KAAK,CAAC;KACd;;AAED,QAAI,CAAC,KAAK,CAAC,EAAE;;AAEX,WAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AAClB,WAAK,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;KAC/B;;AAED,QAAI,KAAK,IAAI,IAAI,EAAE;AACjB,kBAAY,EAAE,CAAC;KAChB,MAAM;AACL,kBAAY,GAAG,CAAC,CAAC;;AAEjB,eAAS,GAAG,KAAK,CAAC;AAClB,eAAS,GAAG,KAAK,CAAC;AAClB,WAAK,GAAG,AAAC,KAAK,GAAG,KAAK,GAAI,CAAC,CAAC,GAAG,KAAK,CAAA,IAAK,SAAS,GAAG,SAAS,CAAA,AAAC,CAAC;AAChE,WAAK,GAAG,IAAI,IAAI,KAAK,GAAG,SAAS,CAAA,AAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAA,GAAI,SAAS,CAAC;KAC7D;;AAED,WAAQ,KAAK,GAAI,YAAY,GAAG,KAAK,AAAC,CAAE;GACzC,EAAE,EAAE,CAAC,CAAC;;AAEP,SAAO,cAAc,CAAC;CAEvB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/lib/des.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\nmodule.exports = function des(points, alpha, beta) {\n  let level;\n  let prevLevel;\n  let trend;\n  let prevTrend;\n  let value;\n  let origin;\n  let unknownCount = 0;\n\n  if (points.length < 2) {\n    throw new Error ('You need at least 2 points to use double exponential smoothing');\n  }\n\n  const smoothedPoints = _.map(points, (point, i) => {\n    if (i === 0) {\n      return point;\n    }\n\n    if (i === 1) {\n      // Establish initial values for level and trend;\n      level = points[0];\n      trend = points[1] - points[0]; // This is sort of a lame way to do this\n    }\n\n    if (point == null) {\n      unknownCount++;\n    } else {\n      unknownCount = 0;\n      // These 2 variables are not required, but are used for clarity.\n      prevLevel = level;\n      prevTrend = trend;\n      level = (alpha * point) + (1 - alpha) * (prevLevel + prevTrend);\n      trend = beta * (level - prevLevel) + (1 - beta) * prevTrend;\n    }\n\n    return (level + (unknownCount * trend));\n  }, []);\n\n  return smoothedPoints;\n\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/lib/tes.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "// Frequency = number of points per season\n// Season = 1 hump\n\n/*\nHourly data might have:\n - Daily seasonality (frequency=24)\n - Weekly seasonality (frequency=24×7=168)\n - Annual seasonality (frequency=24×365.25=8766)\n*/\n\n'use strict';\n\nvar _ = require('lodash');\n\n// Uh, I don't think this will work when you have nulls in the initial seasonal components\nfunction initSeasonalComponents(samplePoints, seasonLength) {\n  var sampledSeasonCount = samplePoints.length / seasonLength;\n  var currentSeason = [];\n  var seasonalAverages = _.reduce(samplePoints, function (result, point, i) {\n    currentSeason.push(point);\n    // If this is the end of the season, add it to the result;\n    if (i % seasonLength === seasonLength - 1) {\n      result.push(_.sum(currentSeason) / seasonLength);\n      currentSeason = [];\n    }\n\n    return result;\n  }, []);\n\n  var seasonals = _.times(seasonLength, function (i) {\n    var sumOfValsOverAvg = 0;\n    _.times(sampledSeasonCount, function (j) {\n      sumOfValsOverAvg += samplePoints[seasonLength * j + i] - seasonalAverages[j];\n    });\n\n    return sumOfValsOverAvg / sampledSeasonCount;\n  });\n\n  return seasonals;\n}\n\n// This is different from the DES method of establishing trend because it looks for\n// the difference in points between seasons\nfunction initTrend(samplePoints, seasonLength) {\n  var sum = 0;\n  _.times(seasonLength, function (i) {\n    sum += (samplePoints[i + seasonLength] - samplePoints[i]) / seasonLength;\n  });\n  return sum / seasonLength;\n}\n\nmodule.exports = function tes(points, alpha, beta, gamma, seasonLength, seasonsToSample) {\n\n  var samplePoints = points.slice(0, seasonLength * seasonsToSample);\n  var seasonals = initSeasonalComponents(samplePoints, seasonLength);\n  var level = undefined;\n  var prevLevel = undefined;\n  var trend = undefined;\n  var prevTrend = undefined;\n  var unknownCount = 0;\n\n  var result = _.map(points, function (point, i) {\n    var seasonalPosition = i % seasonLength;\n    // For the first samplePoints.length we use the actual points\n    // After that we switch to the forecast\n    if (i === 0) {\n      trend = initTrend(points, seasonLength);\n      level = points[0];\n      return points[0];\n    }\n\n    // Beta isn't actually used once we're forecasting?\n    if (point == null || i >= samplePoints.length) {\n      unknownCount++;\n      // Don't know this point, make it up!\n      return level + unknownCount * trend + seasonals[seasonalPosition];\n    } else {\n      unknownCount = 0;\n      // These 2 variables are not required, but are used for clarity.\n      prevLevel = level;\n      prevTrend = trend;\n      level = alpha * (point - seasonals[seasonalPosition]) + (1 - alpha) * (prevLevel + prevTrend);\n      trend = beta * (level - prevLevel) + (1 - beta) * prevTrend;\n      seasonals[seasonalPosition] = gamma * (point - level) + (1 - gamma) * seasonals[seasonalPosition];\n      return level + trend + seasonals[seasonalPosition];\n    }\n  });\n\n  return result;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvaG9sdC9saWIvdGVzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQVVBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7O0FBRzVCLFNBQVMsc0JBQXNCLENBQUMsWUFBWSxFQUFFLFlBQVksRUFBRTtBQUMxRCxNQUFNLGtCQUFrQixHQUFHLFlBQVksQ0FBQyxNQUFNLEdBQUcsWUFBWSxDQUFDO0FBQzlELE1BQUksYUFBYSxHQUFHLEVBQUUsQ0FBQztBQUN2QixNQUFNLGdCQUFnQixHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLFVBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUs7QUFDcEUsaUJBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7O0FBRTFCLFFBQUksQ0FBQyxHQUFHLFlBQVksS0FBSyxZQUFZLEdBQUcsQ0FBQyxFQUFFO0FBQ3pDLFlBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsR0FBRyxZQUFZLENBQUMsQ0FBQztBQUNqRCxtQkFBYSxHQUFHLEVBQUUsQ0FBQztLQUNwQjs7QUFFRCxXQUFPLE1BQU0sQ0FBQztHQUNmLEVBQUUsRUFBRSxDQUFDLENBQUM7O0FBRVAsTUFBTSxTQUFTLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsVUFBQyxDQUFDLEVBQUs7QUFDN0MsUUFBSSxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7QUFDekIsS0FBQyxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxVQUFDLENBQUMsRUFBSztBQUNqQyxzQkFBZ0IsSUFBSSxZQUFZLENBQUMsWUFBWSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUM5RSxDQUFDLENBQUM7O0FBRUgsV0FBTyxnQkFBZ0IsR0FBRyxrQkFBa0IsQ0FBQztHQUM5QyxDQUFDLENBQUM7O0FBRUgsU0FBTyxTQUFTLENBQUM7Q0FDbEI7Ozs7QUFJRCxTQUFTLFNBQVMsQ0FBQyxZQUFZLEVBQUUsWUFBWSxFQUFFO0FBQzdDLE1BQUksR0FBRyxHQUFHLENBQUMsQ0FBQztBQUNaLEdBQUMsQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLFVBQUMsQ0FBQyxFQUFLO0FBQzNCLE9BQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFBLEdBQUksWUFBWSxDQUFDO0dBQzFFLENBQUMsQ0FBQztBQUNILFNBQU8sR0FBRyxHQUFHLFlBQVksQ0FBQztDQUMzQjs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsR0FBRyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFOztBQUV2RixNQUFNLFlBQVksR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxZQUFZLEdBQUcsZUFBZSxDQUFDLENBQUM7QUFDckUsTUFBTSxTQUFTLEdBQUcsc0JBQXNCLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3JFLE1BQUksS0FBSyxZQUFBLENBQUM7QUFDVixNQUFJLFNBQVMsWUFBQSxDQUFDO0FBQ2QsTUFBSSxLQUFLLFlBQUEsQ0FBQztBQUNWLE1BQUksU0FBUyxZQUFBLENBQUM7QUFDZCxNQUFJLFlBQVksR0FBRyxDQUFDLENBQUM7O0FBRXJCLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLFVBQUMsS0FBSyxFQUFFLENBQUMsRUFBSztBQUN6QyxRQUFNLGdCQUFnQixHQUFHLENBQUMsR0FBRyxZQUFZLENBQUM7OztBQUcxQyxRQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDWCxXQUFLLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQztBQUN4QyxXQUFLLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2xCLGFBQU8sTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ2xCOzs7QUFHRCxRQUFJLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLFlBQVksQ0FBQyxNQUFNLEVBQUU7QUFDN0Msa0JBQVksRUFBRSxDQUFDOztBQUVmLGFBQU8sQUFBQyxLQUFLLEdBQUksWUFBWSxHQUFHLEtBQUssQUFBQyxHQUFJLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0tBQ3ZFLE1BQU07QUFDTCxrQkFBWSxHQUFHLENBQUMsQ0FBQzs7QUFFakIsZUFBUyxHQUFHLEtBQUssQ0FBQztBQUNsQixlQUFTLEdBQUcsS0FBSyxDQUFDO0FBQ2xCLFdBQUssR0FBRyxLQUFLLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBLEFBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUEsSUFBSyxTQUFTLEdBQUcsU0FBUyxDQUFBLEFBQUMsQ0FBQztBQUM5RixXQUFLLEdBQUcsSUFBSSxJQUFJLEtBQUssR0FBRyxTQUFTLENBQUEsQUFBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQSxHQUFJLFNBQVMsQ0FBQztBQUM1RCxlQUFTLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxLQUFLLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQSxBQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFBLEdBQUksU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFDbEcsYUFBTyxLQUFLLEdBQUcsS0FBSyxHQUFHLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0tBQ3BEO0dBRUYsQ0FBQyxDQUFDOztBQUVILFNBQU8sTUFBTSxDQUFDO0NBQ2YsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL2hvbHQvbGliL3Rlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEZyZXF1ZW5jeSA9IG51bWJlciBvZiBwb2ludHMgcGVyIHNlYXNvblxuLy8gU2Vhc29uID0gMSBodW1wXG5cbi8qXG5Ib3VybHkgZGF0YSBtaWdodCBoYXZlOlxuIC0gRGFpbHkgc2Vhc29uYWxpdHkgKGZyZXF1ZW5jeT0yNClcbiAtIFdlZWtseSBzZWFzb25hbGl0eSAoZnJlcXVlbmN5PTI0w5c3PTE2OClcbiAtIEFubnVhbCBzZWFzb25hbGl0eSAoZnJlcXVlbmN5PTI0w5czNjUuMjU9ODc2NilcbiovXG5cbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuLy8gVWgsIEkgZG9uJ3QgdGhpbmsgdGhpcyB3aWxsIHdvcmsgd2hlbiB5b3UgaGF2ZSBudWxscyBpbiB0aGUgaW5pdGlhbCBzZWFzb25hbCBjb21wb25lbnRzXG5mdW5jdGlvbiBpbml0U2Vhc29uYWxDb21wb25lbnRzKHNhbXBsZVBvaW50cywgc2Vhc29uTGVuZ3RoKSB7XG4gIGNvbnN0IHNhbXBsZWRTZWFzb25Db3VudCA9IHNhbXBsZVBvaW50cy5sZW5ndGggLyBzZWFzb25MZW5ndGg7XG4gIGxldCBjdXJyZW50U2Vhc29uID0gW107XG4gIGNvbnN0IHNlYXNvbmFsQXZlcmFnZXMgPSBfLnJlZHVjZShzYW1wbGVQb2ludHMsIChyZXN1bHQsIHBvaW50LCBpKSA9PiB7XG4gICAgY3VycmVudFNlYXNvbi5wdXNoKHBvaW50KTtcbiAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGVuZCBvZiB0aGUgc2Vhc29uLCBhZGQgaXQgdG8gdGhlIHJlc3VsdDtcbiAgICBpZiAoaSAlIHNlYXNvbkxlbmd0aCA9PT0gc2Vhc29uTGVuZ3RoIC0gMSkge1xuICAgICAgcmVzdWx0LnB1c2goXy5zdW0oY3VycmVudFNlYXNvbikgLyBzZWFzb25MZW5ndGgpO1xuICAgICAgY3VycmVudFNlYXNvbiA9IFtdO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIFtdKTtcblxuICBjb25zdCBzZWFzb25hbHMgPSBfLnRpbWVzKHNlYXNvbkxlbmd0aCwgKGkpID0+IHtcbiAgICBsZXQgc3VtT2ZWYWxzT3ZlckF2ZyA9IDA7XG4gICAgXy50aW1lcyhzYW1wbGVkU2Vhc29uQ291bnQsIChqKSA9PiB7XG4gICAgICBzdW1PZlZhbHNPdmVyQXZnICs9IHNhbXBsZVBvaW50c1tzZWFzb25MZW5ndGggKiBqICsgaV0gLSBzZWFzb25hbEF2ZXJhZ2VzW2pdO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN1bU9mVmFsc092ZXJBdmcgLyBzYW1wbGVkU2Vhc29uQ291bnQ7XG4gIH0pO1xuXG4gIHJldHVybiBzZWFzb25hbHM7XG59XG5cbi8vIFRoaXMgaXMgZGlmZmVyZW50IGZyb20gdGhlIERFUyBtZXRob2Qgb2YgZXN0YWJsaXNoaW5nIHRyZW5kIGJlY2F1c2UgaXQgbG9va3MgZm9yXG4vLyB0aGUgZGlmZmVyZW5jZSBpbiBwb2ludHMgYmV0d2VlbiBzZWFzb25zXG5mdW5jdGlvbiBpbml0VHJlbmQoc2FtcGxlUG9pbnRzLCBzZWFzb25MZW5ndGgpIHtcbiAgbGV0IHN1bSA9IDA7XG4gIF8udGltZXMoc2Vhc29uTGVuZ3RoLCAoaSkgPT4ge1xuICAgIHN1bSArPSAoc2FtcGxlUG9pbnRzW2kgKyBzZWFzb25MZW5ndGhdIC0gc2FtcGxlUG9pbnRzW2ldKSAvIHNlYXNvbkxlbmd0aDtcbiAgfSk7XG4gIHJldHVybiBzdW0gLyBzZWFzb25MZW5ndGg7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGVzKHBvaW50cywgYWxwaGEsIGJldGEsIGdhbW1hLCBzZWFzb25MZW5ndGgsIHNlYXNvbnNUb1NhbXBsZSkge1xuXG4gIGNvbnN0IHNhbXBsZVBvaW50cyA9IHBvaW50cy5zbGljZSgwLCBzZWFzb25MZW5ndGggKiBzZWFzb25zVG9TYW1wbGUpO1xuICBjb25zdCBzZWFzb25hbHMgPSBpbml0U2Vhc29uYWxDb21wb25lbnRzKHNhbXBsZVBvaW50cywgc2Vhc29uTGVuZ3RoKTtcbiAgbGV0IGxldmVsO1xuICBsZXQgcHJldkxldmVsO1xuICBsZXQgdHJlbmQ7XG4gIGxldCBwcmV2VHJlbmQ7XG4gIGxldCB1bmtub3duQ291bnQgPSAwO1xuXG4gIGNvbnN0IHJlc3VsdCA9IF8ubWFwKHBvaW50cywgKHBvaW50LCBpKSA9PiB7XG4gICAgY29uc3Qgc2Vhc29uYWxQb3NpdGlvbiA9IGkgJSBzZWFzb25MZW5ndGg7XG4gICAgLy8gRm9yIHRoZSBmaXJzdCBzYW1wbGVQb2ludHMubGVuZ3RoIHdlIHVzZSB0aGUgYWN0dWFsIHBvaW50c1xuICAgIC8vIEFmdGVyIHRoYXQgd2Ugc3dpdGNoIHRvIHRoZSBmb3JlY2FzdFxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICB0cmVuZCA9IGluaXRUcmVuZChwb2ludHMsIHNlYXNvbkxlbmd0aCk7XG4gICAgICBsZXZlbCA9IHBvaW50c1swXTtcbiAgICAgIHJldHVybiBwb2ludHNbMF07XG4gICAgfVxuXG4gICAgLy8gQmV0YSBpc24ndCBhY3R1YWxseSB1c2VkIG9uY2Ugd2UncmUgZm9yZWNhc3Rpbmc/XG4gICAgaWYgKHBvaW50ID09IG51bGwgfHwgaSA+PSBzYW1wbGVQb2ludHMubGVuZ3RoKSB7XG4gICAgICB1bmtub3duQ291bnQrKztcbiAgICAgIC8vIERvbid0IGtub3cgdGhpcyBwb2ludCwgbWFrZSBpdCB1cCFcbiAgICAgIHJldHVybiAobGV2ZWwgKyAodW5rbm93bkNvdW50ICogdHJlbmQpKSArIHNlYXNvbmFsc1tzZWFzb25hbFBvc2l0aW9uXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdW5rbm93bkNvdW50ID0gMDtcbiAgICAgIC8vIFRoZXNlIDIgdmFyaWFibGVzIGFyZSBub3QgcmVxdWlyZWQsIGJ1dCBhcmUgdXNlZCBmb3IgY2xhcml0eS5cbiAgICAgIHByZXZMZXZlbCA9IGxldmVsO1xuICAgICAgcHJldlRyZW5kID0gdHJlbmQ7XG4gICAgICBsZXZlbCA9IGFscGhhICogKHBvaW50IC0gc2Vhc29uYWxzW3NlYXNvbmFsUG9zaXRpb25dKSArICgxIC0gYWxwaGEpICogKHByZXZMZXZlbCArIHByZXZUcmVuZCk7XG4gICAgICB0cmVuZCA9IGJldGEgKiAobGV2ZWwgLSBwcmV2TGV2ZWwpICsgKDEgLSBiZXRhKSAqIHByZXZUcmVuZDtcbiAgICAgIHNlYXNvbmFsc1tzZWFzb25hbFBvc2l0aW9uXSA9IGdhbW1hICogKHBvaW50IC0gbGV2ZWwpICsgKDEgLSBnYW1tYSkgKiBzZWFzb25hbHNbc2Vhc29uYWxQb3NpdGlvbl07XG4gICAgICByZXR1cm4gbGV2ZWwgKyB0cmVuZCArIHNlYXNvbmFsc1tzZWFzb25hbFBvc2l0aW9uXTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/lib/tes.js"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;AAUA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;;AAG5B,SAAS,sBAAsB,CAAC,YAAY,EAAE,YAAY,EAAE;AAC1D,MAAM,kBAAkB,GAAG,YAAY,CAAC,MAAM,GAAG,YAAY,CAAC;AAC9D,MAAI,aAAa,GAAG,EAAE,CAAC;AACvB,MAAM,gBAAgB,GAAG,CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,UAAC,MAAM,EAAE,KAAK,EAAE,CAAC,EAAK;AACpE,iBAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;AAE1B,QAAI,CAAC,GAAG,YAAY,KAAK,YAAY,GAAG,CAAC,EAAE;AACzC,YAAM,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,aAAa,CAAC,GAAG,YAAY,CAAC,CAAC;AACjD,mBAAa,GAAG,EAAE,CAAC;KACpB;;AAED,WAAO,MAAM,CAAC;GACf,EAAE,EAAE,CAAC,CAAC;;AAEP,MAAM,SAAS,GAAG,CAAC,CAAC,KAAK,CAAC,YAAY,EAAE,UAAC,CAAC,EAAK;AAC7C,QAAI,gBAAgB,GAAG,CAAC,CAAC;AACzB,KAAC,CAAC,KAAK,CAAC,kBAAkB,EAAE,UAAC,CAAC,EAAK;AACjC,sBAAgB,IAAI,YAAY,CAAC,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;KAC9E,CAAC,CAAC;;AAEH,WAAO,gBAAgB,GAAG,kBAAkB,CAAC;GAC9C,CAAC,CAAC;;AAEH,SAAO,SAAS,CAAC;CAClB;;;;AAID,SAAS,SAAS,CAAC,YAAY,EAAE,YAAY,EAAE;AAC7C,MAAI,GAAG,GAAG,CAAC,CAAC;AACZ,GAAC,CAAC,KAAK,CAAC,YAAY,EAAE,UAAC,CAAC,EAAK;AAC3B,OAAG,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,YAAY,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,CAAA,GAAI,YAAY,CAAC;GAC1E,CAAC,CAAC;AACH,SAAO,GAAG,GAAG,YAAY,CAAC;CAC3B;;AAED,MAAM,CAAC,OAAO,GAAG,SAAS,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,YAAY,EAAE,eAAe,EAAE;;AAEvF,MAAM,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,YAAY,GAAG,eAAe,CAAC,CAAC;AACrE,MAAM,SAAS,GAAG,sBAAsB,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;AACrE,MAAI,KAAK,YAAA,CAAC;AACV,MAAI,SAAS,YAAA,CAAC;AACd,MAAI,KAAK,YAAA,CAAC;AACV,MAAI,SAAS,YAAA,CAAC;AACd,MAAI,YAAY,GAAG,CAAC,CAAC;;AAErB,MAAM,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,CAAC,EAAK;AACzC,QAAM,gBAAgB,GAAG,CAAC,GAAG,YAAY,CAAC;;;AAG1C,QAAI,CAAC,KAAK,CAAC,EAAE;AACX,WAAK,GAAG,SAAS,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;AACxC,WAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AAClB,aAAO,MAAM,CAAC,CAAC,CAAC,CAAC;KAClB;;;AAGD,QAAI,KAAK,IAAI,IAAI,IAAI,CAAC,IAAI,YAAY,CAAC,MAAM,EAAE;AAC7C,kBAAY,EAAE,CAAC;;AAEf,aAAO,AAAC,KAAK,GAAI,YAAY,GAAG,KAAK,AAAC,GAAI,SAAS,CAAC,gBAAgB,CAAC,CAAC;KACvE,MAAM;AACL,kBAAY,GAAG,CAAC,CAAC;;AAEjB,eAAS,GAAG,KAAK,CAAC;AAClB,eAAS,GAAG,KAAK,CAAC;AAClB,WAAK,GAAG,KAAK,IAAI,KAAK,GAAG,SAAS,CAAC,gBAAgB,CAAC,CAAA,AAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAA,IAAK,SAAS,GAAG,SAAS,CAAA,AAAC,CAAC;AAC9F,WAAK,GAAG,IAAI,IAAI,KAAK,GAAG,SAAS,CAAA,AAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAA,GAAI,SAAS,CAAC;AAC5D,eAAS,CAAC,gBAAgB,CAAC,GAAG,KAAK,IAAI,KAAK,GAAG,KAAK,CAAA,AAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAA,GAAI,SAAS,CAAC,gBAAgB,CAAC,CAAC;AAClG,aAAO,KAAK,GAAG,KAAK,GAAG,SAAS,CAAC,gBAAgB,CAAC,CAAC;KACpD;GAEF,CAAC,CAAC;;AAEH,SAAO,MAAM,CAAC;CACf,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/holt/lib/tes.js",
      "sourcesContent": [
        "// Frequency = number of points per season\n// Season = 1 hump\n\n/*\nHourly data might have:\n - Daily seasonality (frequency=24)\n - Weekly seasonality (frequency=24×7=168)\n - Annual seasonality (frequency=24×365.25=8766)\n*/\n\nconst _ = require('lodash');\n\n// Uh, I don't think this will work when you have nulls in the initial seasonal components\nfunction initSeasonalComponents(samplePoints, seasonLength) {\n  const sampledSeasonCount = samplePoints.length / seasonLength;\n  let currentSeason = [];\n  const seasonalAverages = _.reduce(samplePoints, (result, point, i) => {\n    currentSeason.push(point);\n      // If this is the end of the season, add it to the result;\n    if (i % seasonLength === seasonLength - 1) {\n      result.push(_.sum(currentSeason) / seasonLength);\n      currentSeason = [];\n    }\n\n    return result;\n  }, []);\n\n  const seasonals = _.times(seasonLength, (i) => {\n    let sumOfValsOverAvg = 0;\n    _.times(sampledSeasonCount, (j) => {\n      sumOfValsOverAvg += samplePoints[seasonLength * j + i] - seasonalAverages[j];\n    });\n\n    return sumOfValsOverAvg / sampledSeasonCount;\n  });\n\n  return seasonals;\n}\n\n// This is different from the DES method of establishing trend because it looks for\n// the difference in points between seasons\nfunction initTrend(samplePoints, seasonLength) {\n  let sum = 0;\n  _.times(seasonLength, (i) => {\n    sum += (samplePoints[i + seasonLength] - samplePoints[i]) / seasonLength;\n  });\n  return sum / seasonLength;\n}\n\nmodule.exports = function tes(points, alpha, beta, gamma, seasonLength, seasonsToSample) {\n\n  const samplePoints = points.slice(0, seasonLength * seasonsToSample);\n  const seasonals = initSeasonalComponents(samplePoints, seasonLength);\n  let level;\n  let prevLevel;\n  let trend;\n  let prevTrend;\n  let unknownCount = 0;\n\n  const result = _.map(points, (point, i) => {\n    const seasonalPosition = i % seasonLength;\n    // For the first samplePoints.length we use the actual points\n    // After that we switch to the forecast\n    if (i === 0) {\n      trend = initTrend(points, seasonLength);\n      level = points[0];\n      return points[0];\n    }\n\n    // Beta isn't actually used once we're forecasting?\n    if (point == null || i >= samplePoints.length) {\n      unknownCount++;\n      // Don't know this point, make it up!\n      return (level + (unknownCount * trend)) + seasonals[seasonalPosition];\n    } else {\n      unknownCount = 0;\n      // These 2 variables are not required, but are used for clarity.\n      prevLevel = level;\n      prevTrend = trend;\n      level = alpha * (point - seasonals[seasonalPosition]) + (1 - alpha) * (prevLevel + prevTrend);\n      trend = beta * (level - prevLevel) + (1 - beta) * prevTrend;\n      seasonals[seasonalPosition] = gamma * (point - level) + (1 - gamma) * seasonals[seasonalPosition];\n      return level + trend + seasonals[seasonalPosition];\n    }\n\n  });\n\n  return result;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/trend/index.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [
          {
            "source": "./lib/regress",
            "imported": [
              "*"
            ],
            "specifiers": [
              {
                "kind": "namespace",
                "local": "regress"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "interop-require-wildcard"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _libRegress = require('./lib/regress');\n\nvar regress = _interopRequireWildcard(_libRegress);\n\nvar _ = require('lodash');\nvar Chainable = require('../../lib/classes/chainable');\n\nvar validRegressions = {\n  linear: 'linear',\n  log: 'logarithmic'\n};\n\nmodule.exports = new Chainable('trend', {\n  args: [{\n    name: 'inputSeries',\n    types: ['seriesList']\n  }, {\n    name: 'mode',\n    types: ['string'],\n    help: 'The algorithm to use for generating the trend line. One of: ' + _.keys(validRegressions).join(', ')\n  }, {\n    name: 'start',\n    types: ['number', 'null'],\n    help: 'Where to start calculating from the beginning or end. For example -10 would start calculating 10 points from' + ' the end, +15 would start 15 points from the beginning. Default: 0'\n  }, {\n    name: 'end',\n    types: ['number', 'null'],\n    help: 'Where to stop calculating from the beginning or end. For example -10 would stop calculating 10 points from' + ' the end, +15 would stop 15 points from the beginning. Default: 0'\n  }],\n  help: 'Draws a trend line using a specified regression algorithm',\n  fn: function absFn(args) {\n    var newSeries = _.cloneDeep(args.byName.inputSeries);\n\n    _.each(newSeries.list, function (series) {\n      var length = series.data.length;\n      var start = args.byName.start == null ? 0 : args.byName.start;\n      var end = args.byName.end == null ? length : args.byName.end;\n      start = start >= 0 ? start : length + start;\n      end = end > 0 ? end : length + end;\n\n      var subset = series.data.slice(start, end);\n\n      var result = regress[args.byName.mode || 'linear'](subset);\n\n      _.each(series.data, function (point) {\n        point[1] = null;\n      });\n\n      _.each(result, function (point, i) {\n        series.data[start + i] = point;\n      });\n    });\n    return newSeries;\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvdHJlbmQvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OzswQkFFeUIsZUFBZTs7SUFBNUIsT0FBTzs7QUFGbkIsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzVCLElBQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDOztBQUd6RCxJQUFNLGdCQUFnQixHQUFHO0FBQ3ZCLFFBQU0sRUFBRSxRQUFRO0FBQ2hCLEtBQUcsRUFBRSxhQUFhO0NBQ25CLENBQUM7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxPQUFPLEVBQUU7QUFDdEMsTUFBSSxFQUFFLENBQ0o7QUFDRSxRQUFJLEVBQUUsYUFBYTtBQUNuQixTQUFLLEVBQUUsQ0FBQyxZQUFZLENBQUM7R0FDdEIsRUFDRDtBQUNFLFFBQUksRUFBRSxNQUFNO0FBQ1osU0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ2pCLFFBQUksRUFBRSw4REFBOEQsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztHQUMzRyxFQUNEO0FBQ0UsUUFBSSxFQUFFLE9BQU87QUFDYixTQUFLLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO0FBQ3pCLFFBQUksRUFBRSw4R0FBOEcsR0FDcEgsb0VBQW9FO0dBQ3JFLEVBQ0Q7QUFDRSxRQUFJLEVBQUUsS0FBSztBQUNYLFNBQUssRUFBRSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7QUFDekIsUUFBSSxFQUFFLDRHQUE0RyxHQUNsSCxtRUFBbUU7R0FDcEUsQ0FDRjtBQUNELE1BQUksRUFBRSwyREFBMkQ7QUFDakUsSUFBRSxFQUFFLFNBQVMsS0FBSyxDQUFDLElBQUksRUFBRTtBQUN2QixRQUFNLFNBQVMsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7O0FBRXZELEtBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxVQUFVLE1BQU0sRUFBRTtBQUN2QyxVQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUNsQyxVQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0FBQzlELFVBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLElBQUksR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7QUFDN0QsV0FBSyxHQUFHLEtBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxHQUFHLE1BQU0sR0FBRyxLQUFLLENBQUM7QUFDNUMsU0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7O0FBRW5DLFVBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQzs7QUFFN0MsVUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztBQUU3RCxPQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsVUFBVSxLQUFLLEVBQUU7QUFDbkMsYUFBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztPQUNqQixDQUFDLENBQUM7O0FBRUgsT0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsVUFBVSxLQUFLLEVBQUUsQ0FBQyxFQUFFO0FBQ2pDLGNBQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztPQUNoQyxDQUFDLENBQUM7S0FDSixDQUFDLENBQUM7QUFDSCxXQUFPLFNBQVMsQ0FBQztHQUNsQjtDQUNGLENBQUMsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9zZXJpZXNfZnVuY3Rpb25zL3RyZW5kL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuY29uc3QgQ2hhaW5hYmxlID0gcmVxdWlyZSgnLi4vLi4vbGliL2NsYXNzZXMvY2hhaW5hYmxlJyk7XG5pbXBvcnQgKiBhcyByZWdyZXNzIGZyb20gJy4vbGliL3JlZ3Jlc3MnO1xuXG5jb25zdCB2YWxpZFJlZ3Jlc3Npb25zID0ge1xuICBsaW5lYXI6ICdsaW5lYXInLFxuICBsb2c6ICdsb2dhcml0aG1pYycsXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBDaGFpbmFibGUoJ3RyZW5kJywge1xuICBhcmdzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ2lucHV0U2VyaWVzJyxcbiAgICAgIHR5cGVzOiBbJ3Nlcmllc0xpc3QnXVxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ21vZGUnLFxuICAgICAgdHlwZXM6IFsnc3RyaW5nJ10sXG4gICAgICBoZWxwOiAnVGhlIGFsZ29yaXRobSB0byB1c2UgZm9yIGdlbmVyYXRpbmcgdGhlIHRyZW5kIGxpbmUuIE9uZSBvZjogJyArIF8ua2V5cyh2YWxpZFJlZ3Jlc3Npb25zKS5qb2luKCcsICcpXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnc3RhcnQnLFxuICAgICAgdHlwZXM6IFsnbnVtYmVyJywgJ251bGwnXSxcbiAgICAgIGhlbHA6ICdXaGVyZSB0byBzdGFydCBjYWxjdWxhdGluZyBmcm9tIHRoZSBiZWdpbm5pbmcgb3IgZW5kLiBGb3IgZXhhbXBsZSAtMTAgd291bGQgc3RhcnQgY2FsY3VsYXRpbmcgMTAgcG9pbnRzIGZyb20nICtcbiAgICAgICcgdGhlIGVuZCwgKzE1IHdvdWxkIHN0YXJ0IDE1IHBvaW50cyBmcm9tIHRoZSBiZWdpbm5pbmcuIERlZmF1bHQ6IDAnLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2VuZCcsXG4gICAgICB0eXBlczogWydudW1iZXInLCAnbnVsbCddLFxuICAgICAgaGVscDogJ1doZXJlIHRvIHN0b3AgY2FsY3VsYXRpbmcgZnJvbSB0aGUgYmVnaW5uaW5nIG9yIGVuZC4gRm9yIGV4YW1wbGUgLTEwIHdvdWxkIHN0b3AgY2FsY3VsYXRpbmcgMTAgcG9pbnRzIGZyb20nICtcbiAgICAgICcgdGhlIGVuZCwgKzE1IHdvdWxkIHN0b3AgMTUgcG9pbnRzIGZyb20gdGhlIGJlZ2lubmluZy4gRGVmYXVsdDogMCcsXG4gICAgfSxcbiAgXSxcbiAgaGVscDogJ0RyYXdzIGEgdHJlbmQgbGluZSB1c2luZyBhIHNwZWNpZmllZCByZWdyZXNzaW9uIGFsZ29yaXRobScsXG4gIGZuOiBmdW5jdGlvbiBhYnNGbihhcmdzKSB7XG4gICAgY29uc3QgbmV3U2VyaWVzID0gXy5jbG9uZURlZXAoYXJncy5ieU5hbWUuaW5wdXRTZXJpZXMpO1xuXG4gICAgXy5lYWNoKG5ld1Nlcmllcy5saXN0LCBmdW5jdGlvbiAoc2VyaWVzKSB7XG4gICAgICBjb25zdCBsZW5ndGggPSBzZXJpZXMuZGF0YS5sZW5ndGg7XG4gICAgICBsZXQgc3RhcnQgPSBhcmdzLmJ5TmFtZS5zdGFydCA9PSBudWxsID8gMCA6IGFyZ3MuYnlOYW1lLnN0YXJ0O1xuICAgICAgbGV0IGVuZCA9IGFyZ3MuYnlOYW1lLmVuZCA9PSBudWxsID8gbGVuZ3RoIDogYXJncy5ieU5hbWUuZW5kO1xuICAgICAgc3RhcnQgPSBzdGFydCA+PSAwID8gc3RhcnQgOiBsZW5ndGggKyBzdGFydDtcbiAgICAgIGVuZCA9IGVuZCA+IDAgPyBlbmQgOiBsZW5ndGggKyBlbmQ7XG5cbiAgICAgIGNvbnN0IHN1YnNldCA9IHNlcmllcy5kYXRhLnNsaWNlKHN0YXJ0LCBlbmQpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSByZWdyZXNzW2FyZ3MuYnlOYW1lLm1vZGUgfHwgJ2xpbmVhciddKHN1YnNldCk7XG5cbiAgICAgIF8uZWFjaChzZXJpZXMuZGF0YSwgZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHBvaW50WzFdID0gbnVsbDtcbiAgICAgIH0pO1xuXG4gICAgICBfLmVhY2gocmVzdWx0LCBmdW5jdGlvbiAocG9pbnQsIGkpIHtcbiAgICAgICAgc2VyaWVzLmRhdGFbc3RhcnQgKyBpXSA9IHBvaW50O1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld1NlcmllcztcbiAgfVxufSk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/trend/index.js"
      ],
      "names": [],
      "mappings": ";;;;0BAEyB,eAAe;;IAA5B,OAAO;;AAFnB,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC5B,IAAM,SAAS,GAAG,OAAO,CAAC,6BAA6B,CAAC,CAAC;;AAGzD,IAAM,gBAAgB,GAAG;AACvB,QAAM,EAAE,QAAQ;AAChB,KAAG,EAAE,aAAa;CACnB,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;AACtC,MAAI,EAAE,CACJ;AACE,QAAI,EAAE,aAAa;AACnB,SAAK,EAAE,CAAC,YAAY,CAAC;GACtB,EACD;AACE,QAAI,EAAE,MAAM;AACZ,SAAK,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,8DAA8D,GAAG,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;GAC3G,EACD;AACE,QAAI,EAAE,OAAO;AACb,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,8GAA8G,GACpH,oEAAoE;GACrE,EACD;AACE,QAAI,EAAE,KAAK;AACX,SAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC;AACzB,QAAI,EAAE,4GAA4G,GAClH,mEAAmE;GACpE,CACF;AACD,MAAI,EAAE,2DAA2D;AACjE,IAAE,EAAE,SAAS,KAAK,CAAC,IAAI,EAAE;AACvB,QAAM,SAAS,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;;AAEvD,KAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,UAAU,MAAM,EAAE;AACvC,UAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;AAClC,UAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;AAC9D,UAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,IAAI,GAAG,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;AAC7D,WAAK,GAAG,KAAK,IAAI,CAAC,GAAG,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC;AAC5C,SAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC;;AAEnC,UAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;;AAE7C,UAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC;;AAE7D,OAAC,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,UAAU,KAAK,EAAE;AACnC,aAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;OACjB,CAAC,CAAC;;AAEH,OAAC,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE,CAAC,EAAE;AACjC,cAAM,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC;OAChC,CAAC,CAAC;KACJ,CAAC,CAAC;AACH,WAAO,SAAS,CAAC;GAClB;CACF,CAAC,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/trend/index.js",
      "sourcesContent": [
        "const _ = require('lodash');\nconst Chainable = require('../../lib/classes/chainable');\nimport * as regress from './lib/regress';\n\nconst validRegressions = {\n  linear: 'linear',\n  log: 'logarithmic',\n};\n\nmodule.exports = new Chainable('trend', {\n  args: [\n    {\n      name: 'inputSeries',\n      types: ['seriesList']\n    },\n    {\n      name: 'mode',\n      types: ['string'],\n      help: 'The algorithm to use for generating the trend line. One of: ' + _.keys(validRegressions).join(', ')\n    },\n    {\n      name: 'start',\n      types: ['number', 'null'],\n      help: 'Where to start calculating from the beginning or end. For example -10 would start calculating 10 points from' +\n      ' the end, +15 would start 15 points from the beginning. Default: 0',\n    },\n    {\n      name: 'end',\n      types: ['number', 'null'],\n      help: 'Where to stop calculating from the beginning or end. For example -10 would stop calculating 10 points from' +\n      ' the end, +15 would stop 15 points from the beginning. Default: 0',\n    },\n  ],\n  help: 'Draws a trend line using a specified regression algorithm',\n  fn: function absFn(args) {\n    const newSeries = _.cloneDeep(args.byName.inputSeries);\n\n    _.each(newSeries.list, function (series) {\n      const length = series.data.length;\n      let start = args.byName.start == null ? 0 : args.byName.start;\n      let end = args.byName.end == null ? length : args.byName.end;\n      start = start >= 0 ? start : length + start;\n      end = end > 0 ? end : length + end;\n\n      const subset = series.data.slice(start, end);\n\n      const result = regress[args.byName.mode || 'linear'](subset);\n\n      _.each(series.data, function (point) {\n        point[1] = null;\n      });\n\n      _.each(result, function (point, i) {\n        series.data[start + i] = point;\n      });\n    });\n    return newSeries;\n  }\n});\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/trend/lib/regress.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [
            "linear",
            "data",
            "log",
            "data"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "linear",
              "exported": "linear"
            },
            {
              "kind": "local",
              "local": "data",
              "exported": "data"
            },
            {
              "kind": "local",
              "local": "log",
              "exported": "log"
            },
            {
              "kind": "local",
              "local": "data",
              "exported": "data"
            }
          ]
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "/*\n* Algorithms from\n* copyright(c) 2013 Tom Alexander\n* Licensed under the MIT license.\n*/\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.linear = linear;\nexports.log = log;\nvar _ = require('lodash');\n\nfunction sum(data, fn) {\n  return _.reduce(data, function (sum, d) {\n    return sum + (d[1] == null ? 0 : fn(d));\n  }, 0);\n}\n\nfunction count(data) {\n  return _.filter(data, function (d) {\n    return d[1] == null ? false : true;\n  }).length;\n}\n\nfunction mapTuples(data, fn) {\n  return _.map(data, function (d) {\n    return [d[0], fn(d)];\n  });\n}\n\nfunction linear(data) {\n  var xSum = sum(data, function (d) {\n    return d[0];\n  });\n  var ySum = sum(data, function (d) {\n    return d[1];\n  });\n  var xSqSum = sum(data, function (d) {\n    return d[0] * d[0];\n  });\n  var xySum = sum(data, function (d) {\n    return d[0] * d[1];\n  });\n  var observations = count(data);\n\n  var gradient = (observations * xySum - xSum * ySum) / (observations * xSqSum - xSum * xSum);\n\n  var intercept = ySum / observations - gradient * xSum / observations;\n\n  return mapTuples(data, function (d) {\n    return d[0] * gradient + intercept;\n  });\n}\n\nfunction log(data) {\n  var logXSum = sum(data, function (d) {\n    return Math.log(d[0]);\n  });\n  var yLogXSum = sum(data, function (d) {\n    return d[1] * Math.log(d[0]);\n  });\n  var ySum = sum(data, function (d) {\n    return d[1];\n  });\n  var logXsqSum = sum(data, function (d) {\n    return Math.pow(Math.log(d[0]), 2);\n  });\n  var observations = count(data);\n\n  var b = (observations * yLogXSum - ySum * logXSum) / (observations * logXsqSum - logXSum * logXSum);\n\n  var a = (ySum - b * logXSum) / observations;\n\n  return mapTuples(data, function (d) {\n    return a + b * Math.log(d[0]);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL3Nlcmllc19mdW5jdGlvbnMvdHJlbmQvbGliL3JlZ3Jlc3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQU1BLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFNUIsU0FBUyxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNyQixTQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLFVBQVUsR0FBRyxFQUFFLENBQUMsRUFBRTtBQUN0QyxXQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUEsQUFBQyxDQUFDO0dBQ3pDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDUDs7QUFFRCxTQUFTLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFDbkIsU0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsRUFBRTtBQUNqQyxXQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQztHQUNwQyxDQUFDLENBQUMsTUFBTSxDQUFDO0NBQ1g7O0FBRUQsU0FBUyxTQUFTLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUMzQixTQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxFQUFFO0FBQzlCLFdBQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FDdEIsQ0FBQyxDQUFDO0NBQ0o7O0FBRU0sU0FBUyxNQUFNLENBQUMsSUFBSSxFQUFFO0FBQzNCLE1BQU0sSUFBSSxHQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUUsVUFBQyxDQUFD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aWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvc2VyaWVzX2Z1bmN0aW9ucy90cmVuZC9saWIvcmVncmVzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4qIEFsZ29yaXRobXMgZnJvbVxuKiBjb3B5cmlnaHQoYykgMjAxMyBUb20gQWxleGFuZGVyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiovXG5cbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuZnVuY3Rpb24gc3VtKGRhdGEsIGZuKSB7XG4gIHJldHVybiBfLnJlZHVjZShkYXRhLCBmdW5jdGlvbiAoc3VtLCBkKSB7XG4gICAgcmV0dXJuIHN1bSArIChkWzFdID09IG51bGwgPyAwIDogZm4oZCkpO1xuICB9LCAwKTtcbn1cblxuZnVuY3Rpb24gY291bnQoZGF0YSkge1xuICByZXR1cm4gXy5maWx0ZXIoZGF0YSwgZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gZFsxXSA9PSBudWxsID8gZmFsc2UgOiB0cnVlO1xuICB9KS5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIG1hcFR1cGxlcyhkYXRhLCBmbikge1xuICByZXR1cm4gXy5tYXAoZGF0YSwgZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gW2RbMF0sIGZuKGQpXTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXIoZGF0YSkge1xuICBjb25zdCB4U3VtICAgID0gc3VtKGRhdGEsIChkKSA9PiB7cmV0dXJuIGRbMF07IH0pO1xuICBjb25zdCB5U3VtICAgID0gc3VtKGRhdGEsIChkKSA9PiB7cmV0dXJuIGRbMV07IH0pO1xuICBjb25zdCB4U3FTdW0gID0gc3VtKGRhdGEsIChkKSA9PiB7cmV0dXJuIGRbMF0gKiBkWzBdOyB9KTtcbiAgY29uc3QgeHlTdW0gICA9IHN1bShkYXRhLCAoZCkgPT4ge3JldHVybiBkWzBdICogZFsxXTsgfSk7XG4gIGNvbnN0IG9ic2VydmF0aW9ucyA9IGNvdW50KGRhdGEpO1xuXG4gIGNvbnN0IGdyYWRpZW50ID1cbiAgICAoKG9ic2VydmF0aW9ucyAqIHh5U3VtKSAgLSAoeFN1bSAqIHlTdW0pKSAvXG4gICAgKChvYnNlcnZhdGlvbnMgKiB4U3FTdW0pIC0gKHhTdW0gKiB4U3VtKSk7XG5cbiAgY29uc3QgaW50ZXJjZXB0ID1cbiAgICAoeVN1bSAvIG9ic2VydmF0aW9ucykgLSAoZ3JhZGllbnQgKiB4U3VtKSAvIG9ic2VydmF0aW9ucztcblxuICByZXR1cm4gbWFwVHVwbGVzKGRhdGEsIChkKSA9PiB7IHJldHVybiBkWzBdICogZ3JhZGllbnQgKyBpbnRlcmNlcHQ7IH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nKGRhdGEpIHtcbiAgY29uc3QgbG9nWFN1bSAgID0gc3VtKGRhdGEsIChkKSA9PiB7cmV0dXJuIE1hdGgubG9nKGRbMF0pOyB9KTtcbiAgY29uc3QgeUxvZ1hTdW0gID0gc3VtKGRhdGEsIChkKSA9PiB7cmV0dXJuIGRbMV0gKiBNYXRoLmxvZyhkWzBdKTsgfSk7XG4gIGNvbnN0IHlTdW0gICAgICA9IHN1bShkYXRhLCAoZCkgPT4ge3JldHVybiBkWzFdOyB9KTtcbiAgY29uc3QgbG9nWHNxU3VtID0gc3VtKGRhdGEsIChkKSA9PiB7cmV0dXJuIE1hdGgucG93KE1hdGgubG9nKGRbMF0pLCAyKTsgfSk7XG4gIGNvbnN0IG9ic2VydmF0aW9ucyA9IGNvdW50KGRhdGEpO1xuXG4gIGNvbnN0IGIgPVxuICAgICgob2JzZXJ2YXRpb25zICogeUxvZ1hTdW0pIC0gICh5U3VtICogbG9nWFN1bSkpIC9cbiAgICAoKG9ic2VydmF0aW9ucyAqIGxvZ1hzcVN1bSkgLSAobG9nWFN1bSAqIGxvZ1hTdW0pKTtcblxuICBjb25zdCBhID1cbiAgICAoeVN1bSAtIGIgKiBsb2dYU3VtKSAvXG4gICAgb2JzZXJ2YXRpb25zO1xuXG4gIHJldHVybiBtYXBUdXBsZXMoZGF0YSwgKGQpID0+IHsgcmV0dXJuIGEgKyBiICogTWF0aC5sb2coZFswXSk7IH0pO1xufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/trend/lib/regress.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/series_functions/trend/lib/regress.js",
      "sourcesContent": [
        "/*\n* Algorithms from\n* copyright(c) 2013 Tom Alexander\n* Licensed under the MIT license.\n*/\n\nconst _ = require('lodash');\n\nfunction sum(data, fn) {\n  return _.reduce(data, function (sum, d) {\n    return sum + (d[1] == null ? 0 : fn(d));\n  }, 0);\n}\n\nfunction count(data) {\n  return _.filter(data, function (d) {\n    return d[1] == null ? false : true;\n  }).length;\n}\n\nfunction mapTuples(data, fn) {\n  return _.map(data, function (d) {\n    return [d[0], fn(d)];\n  });\n}\n\nexport function linear(data) {\n  const xSum    = sum(data, (d) => {return d[0]; });\n  const ySum    = sum(data, (d) => {return d[1]; });\n  const xSqSum  = sum(data, (d) => {return d[0] * d[0]; });\n  const xySum   = sum(data, (d) => {return d[0] * d[1]; });\n  const observations = count(data);\n\n  const gradient =\n    ((observations * xySum)  - (xSum * ySum)) /\n    ((observations * xSqSum) - (xSum * xSum));\n\n  const intercept =\n    (ySum / observations) - (gradient * xSum) / observations;\n\n  return mapTuples(data, (d) => { return d[0] * gradient + intercept; });\n}\n\nexport function log(data) {\n  const logXSum   = sum(data, (d) => {return Math.log(d[0]); });\n  const yLogXSum  = sum(data, (d) => {return d[1] * Math.log(d[0]); });\n  const ySum      = sum(data, (d) => {return d[1]; });\n  const logXsqSum = sum(data, (d) => {return Math.pow(Math.log(d[0]), 2); });\n  const observations = count(data);\n\n  const b =\n    ((observations * yLogXSum) -  (ySum * logXSum)) /\n    ((observations * logXsqSum) - (logXSum * logXSum));\n\n  const a =\n    (ySum - b * logXSum) /\n    observations;\n\n  return mapTuples(data, (d) => { return a + b * Math.log(d[0]); });\n}\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require(\"lodash\");\nvar Api = require('./api');\nvar parts = [require('./es_5_0/aliases'), require('./es_5_0/aggregations'), require('./es_5_0/cat'), require('./es_5_0/cluster'), require('./es_5_0/count'), require('./es_5_0/document'), require('./es_5_0/field_stats'), require('./es_5_0/filter'), require('./es_5_0/nodes'), require('./es_5_0/globals'), require('./es_5_0/indices'), require('./es_5_0/ingest'), require('./es_5_0/mappings'), require('./es_5_0/percolator'), require('./es_5_0/query'), require('./es_5_0/snapshot_restore'), require('./es_5_0/search'), require('./es_5_0/settings'), require('./es_5_0/templates')];\n\nfunction ES_5_0() {\n  Api.call(this, \"es_5_0\");\n  _.each(parts, function (apiSection) {\n    apiSection(this);\n  }, this);\n}\n\nES_5_0.prototype = _.create(Api.prototype, { 'constructor': ES_5_0 });\n\n(function (cls) {\n  cls.addEndpointDescription = function (endpoint, description) {\n    if (description) {\n      var url_params_def = {};\n      _.each(description.patterns || [], function (p) {\n        if (p.indexOf(\"{indices}\") >= 0) {\n          url_params_def[\"ignore_unavailable\"] = \"__flag__\";\n          url_params_def[\"allow_no_indices\"] = \"__flag__\";\n          url_params_def[\"expand_wildcards\"] = [\"open\", \"closed\"];\n        }\n      });\n\n      if (url_params_def) {\n        description.url_params = description.url_params || {};\n        _.defaults(description.url_params, url_params_def);\n      }\n    }\n    Object.getPrototypeOf(cls).addEndpointDescription.call(this, endpoint, description);\n  };\n})(ES_5_0.prototype);\n\nmodule.exports = new ES_5_0();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxQixJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDM0IsSUFBSSxLQUFLLEdBQUcsQ0FDVixPQUFPLENBQUMsa0JBQWtCLENBQUMsRUFDM0IsT0FBTyxDQUFDLHVCQUF1QixDQUFDLEVBQ2hDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFDdkIsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEVBQzNCLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUN6QixPQUFPLENBQUMsbUJBQW1CLENBQUMsRUFDNUIsT0FBTyxDQUFDLHNCQUFzQixDQUFDLEVBQy9CLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxFQUMxQixPQUFPLENBQUMsZ0JBQWdCLENBQUMsRUFDekIsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEVBQzNCLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxFQUMzQixPQUFPLENBQUMsaUJBQWlCLENBQUMsRUFDMUIsT0FBTyxDQUFDLG1CQUFtQixDQUFDLEVBQzVCLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxFQUM5QixPQUFPLENBQUMsZ0JBQWdCLENBQUMsRUFDekIsT0FBTyxDQUFDLDJCQUEyQixDQUFDLEVBQ3BDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxFQUMxQixPQUFPLENBQUMsbUJBQW1CLENBQUMsRUFDNUIsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQzlCLENBQUM7O0FBRUYsU0FBUyxNQUFNLEdBQUc7QUFDaEIsS0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDekIsR0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsVUFBVSxVQUFVLEVBQUU7QUFDbEMsY0FBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQ2xCLEVBQUUsSUFBSSxDQUFDLENBQUM7Q0FDVjs7QUFFRCxNQUFNLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDOztBQUV0RSxDQUFDLFVBQVUsR0FBRyxFQUFFO0FBQ2QsS0FBRyxDQUFDLHNCQUFzQixHQUFHLFVBQVUsUUFBUSxFQUFFLFdBQVcsRUFBRTtBQUM1RCxRQUFJLFdBQVcsRUFBRTtBQUNmLFVBQUksY0FBYyxHQUFHLEVBQUUsQ0FBQztBQUN4QixPQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLElBQUksRUFBRSxFQUFFLFVBQVUsQ0FBQyxFQUFFO0FBQzlDLFlBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDL0Isd0JBQWMsQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUNsRCx3QkFBYyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQ2hELHdCQUFjLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztTQUN6RDtPQUNGLENBQUMsQ0FBQzs7QUFFSCxVQUFJLGNBQWMsRUFBRTtBQUNsQixtQkFBVyxDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUMsVUFBVSxJQUFJLEVBQUUsQ0FBQztBQUN0RCxTQUFDLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsY0FBYyxDQUFDLENBQUM7T0FDcEQ7S0FDRjtBQUNELFVBQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUM7R0FDckYsQ0FBQztDQUNILENBQUEsQ0FBRSxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRXJCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvYXBpX3NlcnZlci9lc181XzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG5sZXQgQXBpID0gcmVxdWlyZSgnLi9hcGknKTtcbmxldCBwYXJ0cyA9IFtcbiAgcmVxdWlyZSgnLi9lc181XzAvYWxpYXNlcycpLFxuICByZXF1aXJlKCcuL2VzXzVfMC9hZ2dyZWdhdGlvbnMnKSxcbiAgcmVxdWlyZSgnLi9lc181XzAvY2F0JyksXG4gIHJlcXVpcmUoJy4vZXNfNV8wL2NsdXN0ZXInKSxcbiAgcmVxdWlyZSgnLi9lc181XzAvY291bnQnKSxcbiAgcmVxdWlyZSgnLi9lc181XzAvZG9jdW1lbnQnKSxcbiAgcmVxdWlyZSgnLi9lc181XzAvZmllbGRfc3RhdHMnKSxcbiAgcmVxdWlyZSgnLi9lc181XzAvZmlsdGVyJyksXG4gIHJlcXVpcmUoJy4vZXNfNV8wL25vZGVzJyksXG4gIHJlcXVpcmUoJy4vZXNfNV8wL2dsb2JhbHMnKSxcbiAgcmVxdWlyZSgnLi9lc181XzAvaW5kaWNlcycpLFxuICByZXF1aXJlKCcuL2VzXzVfMC9pbmdlc3QnKSxcbiAgcmVxdWlyZSgnLi9lc181XzAvbWFwcGluZ3MnKSxcbiAgcmVxdWlyZSgnLi9lc181XzAvcGVyY29sYXRvcicpLFxuICByZXF1aXJlKCcuL2VzXzVfMC9xdWVyeScpLFxuICByZXF1aXJlKCcuL2VzXzVfMC9zbmFwc2hvdF9yZXN0b3JlJyksXG4gIHJlcXVpcmUoJy4vZXNfNV8wL3NlYXJjaCcpLFxuICByZXF1aXJlKCcuL2VzXzVfMC9zZXR0aW5ncycpLFxuICByZXF1aXJlKCcuL2VzXzVfMC90ZW1wbGF0ZXMnKVxuXTtcblxuZnVuY3Rpb24gRVNfNV8wKCkge1xuICBBcGkuY2FsbCh0aGlzLCBcImVzXzVfMFwiKTtcbiAgXy5lYWNoKHBhcnRzLCBmdW5jdGlvbiAoYXBpU2VjdGlvbikge1xuICAgIGFwaVNlY3Rpb24odGhpcyk7XG4gIH0sIHRoaXMpO1xufVxuXG5FU181XzAucHJvdG90eXBlID0gXy5jcmVhdGUoQXBpLnByb3RvdHlwZSwgeyAnY29uc3RydWN0b3InOiBFU181XzAgfSk7XG5cbihmdW5jdGlvbiAoY2xzKSB7XG4gIGNscy5hZGRFbmRwb2ludERlc2NyaXB0aW9uID0gZnVuY3Rpb24gKGVuZHBvaW50LCBkZXNjcmlwdGlvbikge1xuICAgIGlmIChkZXNjcmlwdGlvbikge1xuICAgICAgdmFyIHVybF9wYXJhbXNfZGVmID0ge307XG4gICAgICBfLmVhY2goZGVzY3JpcHRpb24ucGF0dGVybnMgfHwgW10sIGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIGlmIChwLmluZGV4T2YoXCJ7aW5kaWNlc31cIikgPj0gMCkge1xuICAgICAgICAgIHVybF9wYXJhbXNfZGVmW1wiaWdub3JlX3VuYXZhaWxhYmxlXCJdID0gXCJfX2ZsYWdfX1wiO1xuICAgICAgICAgIHVybF9wYXJhbXNfZGVmW1wiYWxsb3dfbm9faW5kaWNlc1wiXSA9IFwiX19mbGFnX19cIjtcbiAgICAgICAgICB1cmxfcGFyYW1zX2RlZltcImV4cGFuZF93aWxkY2FyZHNcIl0gPSBbXCJvcGVuXCIsIFwiY2xvc2VkXCJdO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHVybF9wYXJhbXNfZGVmKSB7XG4gICAgICAgIGRlc2NyaXB0aW9uLnVybF9wYXJhbXMgPSBkZXNjcmlwdGlvbi51cmxfcGFyYW1zIHx8IHt9O1xuICAgICAgICBfLmRlZmF1bHRzKGRlc2NyaXB0aW9uLnVybF9wYXJhbXMsIHVybF9wYXJhbXNfZGVmKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKGNscykuYWRkRW5kcG9pbnREZXNjcmlwdGlvbi5jYWxsKHRoaXMsIGVuZHBvaW50LCBkZXNjcmlwdGlvbik7XG4gIH07XG59KShFU181XzAucHJvdG90eXBlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgRVNfNV8wKCk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC1B,IAAI,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAC3B,IAAI,KAAK,GAAG,CACV,OAAO,CAAC,kBAAkB,CAAC,EAC3B,OAAO,CAAC,uBAAuB,CAAC,EAChC,OAAO,CAAC,cAAc,CAAC,EACvB,OAAO,CAAC,kBAAkB,CAAC,EAC3B,OAAO,CAAC,gBAAgB,CAAC,EACzB,OAAO,CAAC,mBAAmB,CAAC,EAC5B,OAAO,CAAC,sBAAsB,CAAC,EAC/B,OAAO,CAAC,iBAAiB,CAAC,EAC1B,OAAO,CAAC,gBAAgB,CAAC,EACzB,OAAO,CAAC,kBAAkB,CAAC,EAC3B,OAAO,CAAC,kBAAkB,CAAC,EAC3B,OAAO,CAAC,iBAAiB,CAAC,EAC1B,OAAO,CAAC,mBAAmB,CAAC,EAC5B,OAAO,CAAC,qBAAqB,CAAC,EAC9B,OAAO,CAAC,gBAAgB,CAAC,EACzB,OAAO,CAAC,2BAA2B,CAAC,EACpC,OAAO,CAAC,iBAAiB,CAAC,EAC1B,OAAO,CAAC,mBAAmB,CAAC,EAC5B,OAAO,CAAC,oBAAoB,CAAC,CAC9B,CAAC;;AAEF,SAAS,MAAM,GAAG;AAChB,KAAG,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;AACzB,GAAC,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,UAAU,EAAE;AAClC,cAAU,CAAC,IAAI,CAAC,CAAC;GAClB,EAAE,IAAI,CAAC,CAAC;CACV;;AAED,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,EAAE,aAAa,EAAE,MAAM,EAAE,CAAC,CAAC;;AAEtE,CAAC,UAAU,GAAG,EAAE;AACd,KAAG,CAAC,sBAAsB,GAAG,UAAU,QAAQ,EAAE,WAAW,EAAE;AAC5D,QAAI,WAAW,EAAE;AACf,UAAI,cAAc,GAAG,EAAE,CAAC;AACxB,OAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,IAAI,EAAE,EAAE,UAAU,CAAC,EAAE;AAC9C,YAAI,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE;AAC/B,wBAAc,CAAC,oBAAoB,CAAC,GAAG,UAAU,CAAC;AAClD,wBAAc,CAAC,kBAAkB,CAAC,GAAG,UAAU,CAAC;AAChD,wBAAc,CAAC,kBAAkB,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;SACzD;OACF,CAAC,CAAC;;AAEH,UAAI,cAAc,EAAE;AAClB,mBAAW,CAAC,UAAU,GAAG,WAAW,CAAC,UAAU,IAAI,EAAE,CAAC;AACtD,SAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;OACpD;KACF;AACD,UAAM,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,EAAE,WAAW,CAAC,CAAC;GACrF,CAAC;CACH,CAAA,CAAE,MAAM,CAAC,SAAS,CAAC,CAAC;;AAErB,MAAM,CAAC,OAAO,GAAG,IAAI,MAAM,EAAE,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0.js",
      "sourcesContent": [
        "let _ = require(\"lodash\");\nlet Api = require('./api');\nlet parts = [\n  require('./es_5_0/aliases'),\n  require('./es_5_0/aggregations'),\n  require('./es_5_0/cat'),\n  require('./es_5_0/cluster'),\n  require('./es_5_0/count'),\n  require('./es_5_0/document'),\n  require('./es_5_0/field_stats'),\n  require('./es_5_0/filter'),\n  require('./es_5_0/nodes'),\n  require('./es_5_0/globals'),\n  require('./es_5_0/indices'),\n  require('./es_5_0/ingest'),\n  require('./es_5_0/mappings'),\n  require('./es_5_0/percolator'),\n  require('./es_5_0/query'),\n  require('./es_5_0/snapshot_restore'),\n  require('./es_5_0/search'),\n  require('./es_5_0/settings'),\n  require('./es_5_0/templates')\n];\n\nfunction ES_5_0() {\n  Api.call(this, \"es_5_0\");\n  _.each(parts, function (apiSection) {\n    apiSection(this);\n  }, this);\n}\n\nES_5_0.prototype = _.create(Api.prototype, { 'constructor': ES_5_0 });\n\n(function (cls) {\n  cls.addEndpointDescription = function (endpoint, description) {\n    if (description) {\n      var url_params_def = {};\n      _.each(description.patterns || [], function (p) {\n        if (p.indexOf(\"{indices}\") >= 0) {\n          url_params_def[\"ignore_unavailable\"] = \"__flag__\";\n          url_params_def[\"allow_no_indices\"] = \"__flag__\";\n          url_params_def[\"expand_wildcards\"] = [\"open\", \"closed\"];\n        }\n      });\n\n      if (url_params_def) {\n        description.url_params = description.url_params || {};\n        _.defaults(description.url_params, url_params_def);\n      }\n    }\n    Object.getPrototypeOf(cls).addEndpointDescription.call(this, endpoint, description);\n  };\n})(ES_5_0.prototype);\n\nmodule.exports = new ES_5_0();\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/api.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar _ = require(\"lodash\");\n\n'use strict';\n\n/**\n *\n * @param name\n */\nfunction Api(name) {\n  this.globalRules = {};\n  this.endpoints = {};\n  this.name = name;\n}\n\n(function (cls) {\n  cls.addGlobalAutocompleteRules = function (parentNode, rules) {\n    this.globalRules[parentNode] = rules;\n  };\n\n  cls.addEndpointDescription = function (endpoint, description) {\n    if (this.endpoints[endpoint]) {\n      throw new Error(\"endpoint [\" + endpoint + \"] is already registered\");\n    }\n\n    var copiedDescription = {};\n    _.extend(copiedDescription, description || {});\n    _.defaults(copiedDescription, {\n      id: endpoint,\n      patterns: [endpoint],\n      methods: ['GET']\n    });\n    this.endpoints[endpoint] = copiedDescription;\n  };\n\n  cls.asJson = function () {\n    return {\n      \"name\": this.name,\n      \"globals\": this.globalRules,\n      \"endpoints\": this.endpoints\n    };\n  };\n})(Api.prototype);\n\nmodule.exports = Api;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2FwaS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFNUIsWUFBWSxDQUFDOzs7Ozs7QUFNYixTQUFTLEdBQUcsQ0FBQyxJQUFJLEVBQUU7QUFDakIsTUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7QUFDdEIsTUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7QUFDcEIsTUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7Q0FDbEI7O0FBRUQsQUFBQyxDQUFBLFVBQVUsR0FBRyxFQUFFO0FBQ2QsS0FBRyxDQUFDLDBCQUEwQixHQUFHLFVBQVUsVUFBVSxFQUFFLEtBQUssRUFBRTtBQUM1RCxRQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxHQUFHLEtBQUssQ0FBQztHQUN0QyxDQUFDOztBQUVGLEtBQUcsQ0FBQyxzQkFBc0IsR0FBRyxVQUFVLFFBQVEsRUFBRSxXQUFXLEVBQUU7QUFDNUQsUUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFO0FBQzVCLFlBQU0sSUFBSSxLQUFLLENBQUMsWUFBWSxHQUFHLFFBQVEsR0FBRyx5QkFBeUIsQ0FBQyxDQUFDO0tBQ3RFOztBQUVELFFBQUksaUJBQWlCLEdBQUcsRUFBRSxDQUFDO0FBQzNCLEtBQUMsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsV0FBVyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQy9DLEtBQUMsQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUU7QUFDNUIsUUFBRSxFQUFFLFFBQVE7QUFDWixjQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUM7QUFDcEIsYUFBTyxFQUFFLENBQUMsS0FBSyxDQUFDO0tBQ2pCLENBQUMsQ0FBQztBQUNILFFBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsaUJBQWlCLENBQUM7R0FDOUMsQ0FBQzs7QUFFRixLQUFHLENBQUMsTUFBTSxHQUFHLFlBQVk7QUFDdkIsV0FBTztBQUNMLFlBQU0sRUFBRSxJQUFJLENBQUMsSUFBSTtBQUNqQixlQUFTLEVBQUUsSUFBSSxDQUFDLFdBQVc7QUFDM0IsaUJBQVcsRUFBRSxJQUFJLENBQUMsU0FBUztLQUM1QixDQUFBO0dBQ0YsQ0FBQztDQUVILENBQUEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUU7O0FBRWxCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2FwaS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBuYW1lXG4gKi9cbmZ1bmN0aW9uIEFwaShuYW1lKSB7XG4gIHRoaXMuZ2xvYmFsUnVsZXMgPSB7fTtcbiAgdGhpcy5lbmRwb2ludHMgPSB7fTtcbiAgdGhpcy5uYW1lID0gbmFtZTtcbn1cblxuKGZ1bmN0aW9uIChjbHMpIHtcbiAgY2xzLmFkZEdsb2JhbEF1dG9jb21wbGV0ZVJ1bGVzID0gZnVuY3Rpb24gKHBhcmVudE5vZGUsIHJ1bGVzKSB7XG4gICAgdGhpcy5nbG9iYWxSdWxlc1twYXJlbnROb2RlXSA9IHJ1bGVzO1xuICB9O1xuXG4gIGNscy5hZGRFbmRwb2ludERlc2NyaXB0aW9uID0gZnVuY3Rpb24gKGVuZHBvaW50LCBkZXNjcmlwdGlvbikge1xuICAgIGlmICh0aGlzLmVuZHBvaW50c1tlbmRwb2ludF0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImVuZHBvaW50IFtcIiArIGVuZHBvaW50ICsgXCJdIGlzIGFscmVhZHkgcmVnaXN0ZXJlZFwiKTtcbiAgICB9XG5cbiAgICB2YXIgY29waWVkRGVzY3JpcHRpb24gPSB7fTtcbiAgICBfLmV4dGVuZChjb3BpZWREZXNjcmlwdGlvbiwgZGVzY3JpcHRpb24gfHwge30pO1xuICAgIF8uZGVmYXVsdHMoY29waWVkRGVzY3JpcHRpb24sIHtcbiAgICAgIGlkOiBlbmRwb2ludCxcbiAgICAgIHBhdHRlcm5zOiBbZW5kcG9pbnRdLFxuICAgICAgbWV0aG9kczogWydHRVQnXVxuICAgIH0pO1xuICAgIHRoaXMuZW5kcG9pbnRzW2VuZHBvaW50XSA9IGNvcGllZERlc2NyaXB0aW9uO1xuICB9O1xuXG4gIGNscy5hc0pzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwibmFtZVwiOiB0aGlzLm5hbWUsXG4gICAgICBcImdsb2JhbHNcIjogdGhpcy5nbG9iYWxSdWxlcyxcbiAgICAgIFwiZW5kcG9pbnRzXCI6IHRoaXMuZW5kcG9pbnRzXG4gICAgfVxuICB9O1xuXG59KEFwaS5wcm90b3R5cGUpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBBcGk7XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/api.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,YAAY,CAAC;;;;;;AAMb,SAAS,GAAG,CAAC,IAAI,EAAE;AACjB,MAAI,CAAC,WAAW,GAAG,EAAE,CAAC;AACtB,MAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AACpB,MAAI,CAAC,IAAI,GAAG,IAAI,CAAC;CAClB;;AAED,AAAC,CAAA,UAAU,GAAG,EAAE;AACd,KAAG,CAAC,0BAA0B,GAAG,UAAU,UAAU,EAAE,KAAK,EAAE;AAC5D,QAAI,CAAC,WAAW,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;GACtC,CAAC;;AAEF,KAAG,CAAC,sBAAsB,GAAG,UAAU,QAAQ,EAAE,WAAW,EAAE;AAC5D,QAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;AAC5B,YAAM,IAAI,KAAK,CAAC,YAAY,GAAG,QAAQ,GAAG,yBAAyB,CAAC,CAAC;KACtE;;AAED,QAAI,iBAAiB,GAAG,EAAE,CAAC;AAC3B,KAAC,CAAC,MAAM,CAAC,iBAAiB,EAAE,WAAW,IAAI,EAAE,CAAC,CAAC;AAC/C,KAAC,CAAC,QAAQ,CAAC,iBAAiB,EAAE;AAC5B,QAAE,EAAE,QAAQ;AACZ,cAAQ,EAAE,CAAC,QAAQ,CAAC;AACpB,aAAO,EAAE,CAAC,KAAK,CAAC;KACjB,CAAC,CAAC;AACH,QAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,iBAAiB,CAAC;GAC9C,CAAC;;AAEF,KAAG,CAAC,MAAM,GAAG,YAAY;AACvB,WAAO;AACL,YAAM,EAAE,IAAI,CAAC,IAAI;AACjB,eAAS,EAAE,IAAI,CAAC,WAAW;AAC3B,iBAAW,EAAE,IAAI,CAAC,SAAS;KAC5B,CAAA;GACF,CAAC;CAEH,CAAA,CAAC,GAAG,CAAC,SAAS,CAAC,CAAE;;AAElB,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/api.js",
      "sourcesContent": [
        "const _ = require(\"lodash\");\n\n'use strict';\n\n/**\n *\n * @param name\n */\nfunction Api(name) {\n  this.globalRules = {};\n  this.endpoints = {};\n  this.name = name;\n}\n\n(function (cls) {\n  cls.addGlobalAutocompleteRules = function (parentNode, rules) {\n    this.globalRules[parentNode] = rules;\n  };\n\n  cls.addEndpointDescription = function (endpoint, description) {\n    if (this.endpoints[endpoint]) {\n      throw new Error(\"endpoint [\" + endpoint + \"] is already registered\");\n    }\n\n    var copiedDescription = {};\n    _.extend(copiedDescription, description || {});\n    _.defaults(copiedDescription, {\n      id: endpoint,\n      patterns: [endpoint],\n      methods: ['GET']\n    });\n    this.endpoints[endpoint] = copiedDescription;\n  };\n\n  cls.asJson = function () {\n    return {\n      \"name\": this.name,\n      \"globals\": this.globalRules,\n      \"endpoints\": this.endpoints\n    }\n  };\n\n}(Api.prototype));\n\nmodule.exports = Api;\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/aliases.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_post_aliases', {\n    methods: ['POST'],\n    patterns: [\"_aliases\"],\n    data_autocomplete_rules: {\n      'actions': {\n        __template: [{ 'add': { 'index': 'test1', 'alias': 'alias1' } }],\n        __any_of: [{\n          add: {\n            index: '{index}',\n            alias: '',\n            filter: {},\n            routing: '1',\n            search_routing: '1,2',\n            index_routing: '1'\n          },\n          remove: {\n            index: '',\n            alias: ''\n          }\n        }]\n      }\n    }\n  });\n  api.addEndpointDescription('_get_aliases', {\n    methods: ['GET'],\n    patterns: [\"_aliases\"]\n  });\n\n  var aliasRules = {\n    filter: {},\n    routing: '1',\n    search_routing: '1,2',\n    index_routing: '1'\n  };\n\n  api.addEndpointDescription('_post_alias', {\n    methods: [\"POST\", \"PUT\"],\n    patterns: [\"{indices}/_alias/{name}\"],\n    data_autocomplete_rules: aliasRules\n  });\n  api.addEndpointDescription('_delete_alias', {\n    methods: [\"DELETE\"],\n    patterns: [\"{indices}/_alias/{name}\"]\n  });\n  api.addEndpointDescription('_get_alias', {\n    methods: [\"GET\"],\n    patterns: [\"_alias\", \"{indices}/_alias\", \"{indices}/_alias/{name}\", \"_alias/{name}\"]\n  });\n\n  api.addGlobalAutocompleteRules('aliases', {\n    '*': aliasRules\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9hbGlhc2VzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLEdBQUcsRUFBRTtBQUM5QixLQUFHLENBQUMsc0JBQXNCLENBQUMsZUFBZSxFQUFFO0FBQzFDLFdBQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQztBQUNqQixZQUFRLEVBQUUsQ0FDUixVQUFVLENBQ1g7QUFDRCwyQkFBdUIsRUFBRTtBQUN2QixlQUFTLEVBQUU7QUFDVCxrQkFBVSxFQUFFLENBQ1YsRUFBRSxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUNuRDtBQUNELGdCQUFRLEVBQUUsQ0FDUjtBQUNFLGFBQUcsRUFBRTtBQUNILGlCQUFLLEVBQUUsU0FBUztBQUNoQixpQkFBSyxFQUFFLEVBQUU7QUFDVCxrQkFBTSxFQUFFLEVBQUU7QUFDVixtQkFBTyxFQUFFLEdBQUc7QUFDWiwwQkFBYyxFQUFFLEtBQUs7QUFDckIseUJBQWEsRUFBRSxHQUFHO1dBQ25CO0FBQ0QsZ0JBQU0sRUFBRTtBQUNOLGlCQUFLLEVBQUUsRUFBRTtBQUNULGlCQUFLLEVBQUUsRUFBRTtXQUNWO1NBQ0YsQ0FDRjtPQUNGO0tBQ0Y7R0FDRixDQUFDLENBQUM7QUFDSCxLQUFHLENBQUMsc0JBQXNCLENBQUMsY0FBYyxFQUFFO0FBQ3pDLFdBQU8sRUFBRSxDQUFDLEtBQUssQ0FBQztBQUNoQixZQUFRLEVBQUUsQ0FDUixVQUFVLENBQ1g7R0FDRixDQUFDLENBQUM7O0FBRUgsTUFBSSxVQUFVLEdBQUc7QUFDZixVQUFNLEVBQUUsRUFBRTtBQUNWLFdBQU8sRUFBRSxHQUFHO0FBQ1osa0JBQWMsRUFBRSxLQUFLO0FBQ3JCLGlCQUFhLEVBQUUsR0FBRztHQUNuQixDQUFDOztBQUVGLEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxhQUFhLEVBQUU7QUFDeEMsV0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQztBQUN4QixZQUFRLEVBQUUsQ0FDUix5QkFBeUIsQ0FDMUI7QUFDRCwyQkFBdUIsRUFBRSxVQUFVO0dBQ3BDLENBQUMsQ0FBQztBQUNILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxlQUFlLEVBQUU7QUFDMUMsV0FBTyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ25CLFlBQVEsRUFBRSxDQUNSLHlCQUF5QixDQUMxQjtHQUNGLENBQUMsQ0FBQztBQUNILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxZQUFZLEVBQUU7QUFDdkMsV0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ2hCLFlBQVEsRUFBRSxDQUNSLFFBQVEsRUFDUixrQkFBa0IsRUFDbEIseUJBQXlCLEVBQ3pCLGVBQWUsQ0FDaEI7R0FDRixDQUFDLENBQUM7O0FBRUgsS0FBRyxDQUFDLDBCQUEwQixDQUFDLFNBQVMsRUFBRTtBQUN4QyxPQUFHLEVBQUUsVUFBVTtHQUNoQixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9hbGlhc2VzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpKSB7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfcG9zdF9hbGlhc2VzJywge1xuICAgIG1ldGhvZHM6IFsnUE9TVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIl9hbGlhc2VzXCIsXG4gICAgXSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgJ2FjdGlvbnMnOiB7XG4gICAgICAgIF9fdGVtcGxhdGU6IFtcbiAgICAgICAgICB7ICdhZGQnOiB7ICdpbmRleCc6ICd0ZXN0MScsICdhbGlhcyc6ICdhbGlhczEnIH0gfVxuICAgICAgICBdLFxuICAgICAgICBfX2FueV9vZjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFkZDoge1xuICAgICAgICAgICAgICBpbmRleDogJ3tpbmRleH0nLFxuICAgICAgICAgICAgICBhbGlhczogJycsXG4gICAgICAgICAgICAgIGZpbHRlcjoge30sXG4gICAgICAgICAgICAgIHJvdXRpbmc6ICcxJyxcbiAgICAgICAgICAgICAgc2VhcmNoX3JvdXRpbmc6ICcxLDInLFxuICAgICAgICAgICAgICBpbmRleF9yb3V0aW5nOiAnMSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmU6IHtcbiAgICAgICAgICAgICAgaW5kZXg6ICcnLFxuICAgICAgICAgICAgICBhbGlhczogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX2dldF9hbGlhc2VzJywge1xuICAgIG1ldGhvZHM6IFsnR0VUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwiX2FsaWFzZXNcIixcbiAgICBdXG4gIH0pO1xuXG4gIHZhciBhbGlhc1J1bGVzID0ge1xuICAgIGZpbHRlcjoge30sXG4gICAgcm91dGluZzogJzEnLFxuICAgIHNlYXJjaF9yb3V0aW5nOiAnMSwyJyxcbiAgICBpbmRleF9yb3V0aW5nOiAnMSdcbiAgfTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX3Bvc3RfYWxpYXMnLCB7XG4gICAgbWV0aG9kczogW1wiUE9TVFwiLCBcIlBVVFwiXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJ7aW5kaWNlc30vX2FsaWFzL3tuYW1lfVwiXG4gICAgXSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczogYWxpYXNSdWxlc1xuICB9KTtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19kZWxldGVfYWxpYXMnLCB7XG4gICAgbWV0aG9kczogW1wiREVMRVRFXCJdLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRpY2VzfS9fYWxpYXMve25hbWV9XCJcbiAgICBdXG4gIH0pO1xuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX2dldF9hbGlhcycsIHtcbiAgICBtZXRob2RzOiBbXCJHRVRcIl0sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwiX2FsaWFzXCIsXG4gICAgICBcIntpbmRpY2VzfS9fYWxpYXNcIixcbiAgICAgIFwie2luZGljZXN9L19hbGlhcy97bmFtZX1cIixcbiAgICAgIFwiX2FsaWFzL3tuYW1lfVwiXG4gICAgXVxuICB9KTtcblxuICBhcGkuYWRkR2xvYmFsQXV0b2NvbXBsZXRlUnVsZXMoJ2FsaWFzZXMnLCB7XG4gICAgJyonOiBhbGlhc1J1bGVzXG4gIH0pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/aliases.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE;AAC9B,KAAG,CAAC,sBAAsB,CAAC,eAAe,EAAE;AAC1C,WAAO,EAAE,CAAC,MAAM,CAAC;AACjB,YAAQ,EAAE,CACR,UAAU,CACX;AACD,2BAAuB,EAAE;AACvB,eAAS,EAAE;AACT,kBAAU,EAAE,CACV,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,EAAE,CACnD;AACD,gBAAQ,EAAE,CACR;AACE,aAAG,EAAE;AACH,iBAAK,EAAE,SAAS;AAChB,iBAAK,EAAE,EAAE;AACT,kBAAM,EAAE,EAAE;AACV,mBAAO,EAAE,GAAG;AACZ,0BAAc,EAAE,KAAK;AACrB,yBAAa,EAAE,GAAG;WACnB;AACD,gBAAM,EAAE;AACN,iBAAK,EAAE,EAAE;AACT,iBAAK,EAAE,EAAE;WACV;SACF,CACF;OACF;KACF;GACF,CAAC,CAAC;AACH,KAAG,CAAC,sBAAsB,CAAC,cAAc,EAAE;AACzC,WAAO,EAAE,CAAC,KAAK,CAAC;AAChB,YAAQ,EAAE,CACR,UAAU,CACX;GACF,CAAC,CAAC;;AAEH,MAAI,UAAU,GAAG;AACf,UAAM,EAAE,EAAE;AACV,WAAO,EAAE,GAAG;AACZ,kBAAc,EAAE,KAAK;AACrB,iBAAa,EAAE,GAAG;GACnB,CAAC;;AAEF,KAAG,CAAC,sBAAsB,CAAC,aAAa,EAAE;AACxC,WAAO,EAAE,CAAC,MAAM,EAAE,KAAK,CAAC;AACxB,YAAQ,EAAE,CACR,yBAAyB,CAC1B;AACD,2BAAuB,EAAE,UAAU;GACpC,CAAC,CAAC;AACH,KAAG,CAAC,sBAAsB,CAAC,eAAe,EAAE;AAC1C,WAAO,EAAE,CAAC,QAAQ,CAAC;AACnB,YAAQ,EAAE,CACR,yBAAyB,CAC1B;GACF,CAAC,CAAC;AACH,KAAG,CAAC,sBAAsB,CAAC,YAAY,EAAE;AACvC,WAAO,EAAE,CAAC,KAAK,CAAC;AAChB,YAAQ,EAAE,CACR,QAAQ,EACR,kBAAkB,EAClB,yBAAyB,EACzB,eAAe,CAChB;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,0BAA0B,CAAC,SAAS,EAAE;AACxC,OAAG,EAAE,UAAU;GAChB,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/aliases.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('_post_aliases', {\n    methods: ['POST'],\n    patterns: [\n      \"_aliases\",\n    ],\n    data_autocomplete_rules: {\n      'actions': {\n        __template: [\n          { 'add': { 'index': 'test1', 'alias': 'alias1' } }\n        ],\n        __any_of: [\n          {\n            add: {\n              index: '{index}',\n              alias: '',\n              filter: {},\n              routing: '1',\n              search_routing: '1,2',\n              index_routing: '1'\n            },\n            remove: {\n              index: '',\n              alias: ''\n            }\n          }\n        ]\n      }\n    }\n  });\n  api.addEndpointDescription('_get_aliases', {\n    methods: ['GET'],\n    patterns: [\n      \"_aliases\",\n    ]\n  });\n\n  var aliasRules = {\n    filter: {},\n    routing: '1',\n    search_routing: '1,2',\n    index_routing: '1'\n  };\n\n  api.addEndpointDescription('_post_alias', {\n    methods: [\"POST\", \"PUT\"],\n    patterns: [\n      \"{indices}/_alias/{name}\"\n    ],\n    data_autocomplete_rules: aliasRules\n  });\n  api.addEndpointDescription('_delete_alias', {\n    methods: [\"DELETE\"],\n    patterns: [\n      \"{indices}/_alias/{name}\"\n    ]\n  });\n  api.addEndpointDescription('_get_alias', {\n    methods: [\"GET\"],\n    patterns: [\n      \"_alias\",\n      \"{indices}/_alias\",\n      \"{indices}/_alias/{name}\",\n      \"_alias/{name}\"\n    ]\n  });\n\n  api.addGlobalAutocompleteRules('aliases', {\n    '*': aliasRules\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/aggregations.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar simple_metric = {\n  __template: { field: \"\" },\n  field: \"{field}\",\n  missing: 0,\n  script: {\n    // populated by a global rule\n  }\n},\n    field_metric = {\n  __template: { field: \"\" },\n  field: \"{field}\"\n},\n    gap_policy = {\n  __one_of: [\"skip\", \"insert_zeros\"]\n},\n    simple_pipeline = {\n  __template: {\n    buckets_path: \"\"\n  },\n  buckets_path: \"\",\n  format: \"\",\n  gap_policy: gap_policy\n};\nvar rules = {\n  \"*\": {\n    \"aggs\": {\n      __template: {\n        \"NAME\": {\n          \"AGG_TYPE\": {}\n        }\n      }\n    },\n    \"min\": simple_metric,\n    \"max\": simple_metric,\n    \"avg\": simple_metric,\n    \"sum\": simple_metric,\n    \"stats\": simple_metric,\n    \"extended_stats\": simple_metric,\n    \"value_count\": {\n      __template: {\n        \"field\": \"\"\n      },\n      \"field\": \"{field}\",\n      \"script\": {\n        // populated by a global rule\n      }\n    },\n    \"global\": {},\n    \"filter\": {},\n    \"filters\": {\n      __template: {\n        \"filters\": {\n          \"NAME\": {}\n        }\n      },\n      \"filters\": {\n        \"*\": { __scope_link: \"GLOBAL.filter\" }\n      },\n      \"other_bucket\": { __one_of: [true, false] },\n      \"other_bucket_key\": \"\"\n    },\n    \"missing\": field_metric,\n    \"nested\": {\n      __template: {\n        \"path\": \"\"\n      },\n      \"path\": \"\"\n    },\n    \"reverse_nested\": {\n      __template: {\n        \"path\": \"\"\n      },\n      \"path\": \"\"\n    },\n    \"terms\": {\n      __template: {\n        \"field\": \"\",\n        \"size\": 10\n      },\n      \"field\": \"{field}\",\n      \"size\": 10,\n      \"shard_size\": 10,\n      \"order\": {\n        __template: {\n          \"_term\": \"asc\"\n        },\n        \"_term\": { __one_of: [\"asc\", \"desc\"] },\n        \"_count\": { __one_of: [\"asc\", \"desc\"] },\n        \"*\": { __one_of: [\"asc\", \"desc\"] }\n      },\n      \"min_doc_count\": 10,\n      \"script\": {\n        // populated by a global rule\n      },\n      \"include\": \".*\",\n      \"exclude\": \".*\",\n      \"execution_hint\": { __one_of: [\"map\", \"global_ordinals\", \"global_ordinals_hash\", \"global_ordinals_low_cardinality\"] },\n      \"show_term_doc_count_error\": { __one_of: [true, false] },\n      \"collect_mode\": { __one_of: [\"depth_first\", \"breadth_first\"] },\n      \"missing\": \"\"\n    },\n    \"significant_terms\": {\n      __template: {\n        \"field\": \"\"\n      },\n      \"field\": \"{field}\",\n      \"size\": 10,\n      \"shard_size\": 10,\n      \"shard_min_doc_count\": 10,\n      \"min_doc_count\": 10,\n      \"include\": { __one_of: [\"*\", { pattern: \"\", flags: \"\" }] },\n      \"exclude\": { __one_of: [\"*\", { pattern: \"\", flags: \"\" }] },\n      \"execution_hint\": { __one_of: [\"map\", \"global_ordinals\", \"global_ordinals_hash\"] },\n      \"background_filter\": {\n        __scope_link: \"GLOBAL.filter\"\n      },\n      \"mutual_information\": {\n        \"include_negatives\": { __one_of: [true, false] }\n      },\n      \"chi_square\": {\n        \"include_negatives\": { __one_of: [true, false] },\n        \"background_is_superset\": { __one_of: [true, false] }\n      },\n      \"percentage\": {},\n      \"gnd\": {\n        \"background_is_superset\": { __one_of: [true, false] }\n      },\n      \"script_heuristic\": {\n        __template: {\n          \"script\": \"_subset_freq/(_superset_freq - _subset_freq + 1)\"\n        },\n        \"script\": {\n          // populated by a global rule\n        }\n      }\n    },\n    \"range\": {\n      __template: {\n        \"field\": \"\",\n        \"ranges\": [{ \"from\": 50, \"to\": 100 }]\n      },\n      \"field\": \"{field}\",\n      \"ranges\": [{ \"to\": 50, \"from\": 100, \"key\": \"\" }],\n      \"keyed\": { __one_of: [true, false] },\n      \"script\": {\n        // populated by a global rule\n      }\n    },\n    \"date_range\": {\n      __template: {\n        \"field\": \"\",\n        \"ranges\": [{ \"from\": \"now-10d/d\", \"to\": \"now\" }]\n      },\n      \"field\": \"{field}\",\n      \"format\": \"MM-yyy\",\n      \"ranges\": [{ \"to\": \"\", \"from\": \"\", \"key\": \"\" }],\n      \"keyed\": { __one_of: [true, false] },\n      \"script\": {\n        // populated by a global rule\n      }\n    },\n    \"ip_range\": {\n      __template: {\n        \"field\": \"\",\n        \"ranges\": [{ \"from\": \"10.0.0.5\", \"to\": \"10.0.0.10\" }]\n      },\n      \"field\": \"{field}\",\n      \"format\": \"MM-yyy\",\n      \"ranges\": [{ \"to\": \"\", \"from\": \"\", \"key\": \"\", \"mask\": \"10.0.0.127/25\" }],\n      \"keyed\": { __one_of: [true, false] },\n      \"script\": {\n        // populated by a global rule\n      }\n    },\n    \"histogram\": {\n      __template: {\n        \"field\": \"price\",\n        \"interval\": 50\n      },\n      \"field\": \"{field}\",\n      \"interval\": 50,\n      \"min_doc_count\": 0,\n      \"order\": {\n        __template: {\n          \"_key\": \"asc\"\n        },\n        \"_key\": { __one_of: [\"asc\", \"desc\"] },\n        \"_count\": { __one_of: [\"asc\", \"desc\"] },\n        \"*\": { __one_of: [\"asc\", \"desc\"] }\n      },\n      \"keyed\": { __one_of: [true, false] },\n      \"missing\": 0\n    },\n    \"date_histogram\": {\n      __template: {\n        \"field\": \"date\",\n        \"interval\": \"month\"\n      },\n      \"field\": \"{field}\",\n      \"interval\": { __one_of: [\"year\", \"quarter\", \"week\", \"day\", \"hour\", \"minute\", \"second\"] },\n      \"min_doc_count\": 0,\n      \"order\": {\n        __template: {\n          \"_key\": \"asc\"\n        },\n        \"_key\": { __one_of: [\"asc\", \"desc\"] },\n        \"_count\": { __one_of: [\"asc\", \"desc\"] },\n        \"*\": { __one_of: [\"asc\", \"desc\"] }\n      },\n      \"keyed\": { __one_of: [true, false] },\n      \"pre_zone\": \"-01:00\",\n      \"post_zone\": \"-01:00\",\n      \"pre_zone_adjust_large_interval\": { __one_of: [true, false] },\n      \"factor\": 1000,\n      \"pre_offset\": \"1d\",\n      \"post_offset\": \"1d\",\n      \"format\": \"yyyy-MM-dd\",\n      \"time_zone\": \"00:00\",\n      \"missing\": \"\"\n    },\n    \"geo_distance\": {\n      __template: {\n        \"field\": \"location\",\n        \"origin\": { \"lat\": 52.3760, \"lon\": 4.894 },\n        \"ranges\": [{ \"from\": 100, \"to\": 300 }]\n      },\n      \"field\": \"{field}\",\n      \"origin\": { \"lat\": 0.0, \"lon\": 0.0 },\n      \"unit\": { __one_of: [\"mi\", \"km\", \"in\", \"yd\", \"m\", \"cm\", \"mm\"] },\n      \"ranges\": [{ \"from\": 50, \"to\": 100 }],\n      \"distance_type\": { __one_of: [\"arc\", \"sloppy_arc\", \"plane\"] }\n\n    },\n    \"geohash_grid\": {\n      __template: {\n        \"field\": \"\",\n        \"precision\": 3\n      },\n      \"field\": \"{field}\",\n      \"precision\": { __one_of: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12] },\n      \"size\": 10,\n      \"shard_size\": 10\n    },\n    \"percentiles\": {\n      __template: {\n        \"field\": \"\",\n        \"percents\": [1.0, 5.0, 25.0, 50.0, 75.0, 95.0, 99.0]\n      },\n      \"field\": \"{field}\",\n      \"percents\": {\n        __template: [1.0, 5.0, 25.0, 50.0, 75.0, 95.0, 99.0],\n        // mark type as list\n        __any_of: []\n      },\n      \"script\": {\n        // populated by a global rule\n      },\n      \"compression\": 100,\n      \"method\": { __one_of: [\"hdr\", \"tdigest\"] },\n      missing: 0\n    },\n    \"cardinality\": {\n      __template: {\n        \"field\": \"\"\n      },\n      \"precision_threshold\": 100,\n      \"rehash\": true,\n      \"script\": {\n        // populated by a global rule\n      },\n      missing: \"\"\n    },\n    \"scripted_metric\": {\n      __template: {\n        \"init_script\": \"\",\n        \"map_script\": \"\",\n        \"combine_script\": \"\",\n        \"reduce_script\": \"\"\n      },\n      \"init_script\": {\n        __scope_link: \"GLOBAL.script\"\n      },\n      \"map_script\": {\n        __scope_link: \"GLOBAL.script\"\n      },\n      \"combine_script\": {\n        __scope_link: \"GLOBAL.script\"\n      },\n      \"reduce_script\": {\n        __scope_link: \"GLOBAL.script\"\n      },\n      \"lang\": \"groovy\",\n      \"params\": {},\n      \"reduce_params\": {}\n    },\n    \"geo_bounds\": {\n      __template: {\n        field: \"\"\n      },\n      field: \"{field}\",\n      wrap_longitude: { __one_of: [true, false] }\n    },\n    \"top_hits\": {\n      __template: {\n        size: 10\n      },\n      from: 0,\n      size: 10,\n      sort: {\n        __template: [],\n        __scope_link: \"_search.sort\"\n      },\n      highlight: {},\n      explain: { __one_of: [true, false] },\n      _source: {\n        __template: \"\",\n        __scope_link: \"_search._source\"\n      },\n      script_fields: {\n        __scope_link: \"_search.script_fields\"\n      },\n      docvalue_fields: [\"{field}\"],\n      version: { __one_of: [true, false] }\n    },\n    \"percentile_ranks\": {\n      __template: {\n        field: \"\",\n        values: [10, 15]\n      },\n      field: \"{field}\",\n      values: [],\n      \"script\": {\n        // populated by a global rule\n      },\n      \"compression\": 100,\n      \"method\": { __one_of: [\"hdr\", \"tdigest\"] },\n      missing: 0\n    },\n    \"sampler\": {\n      __template: {},\n      \"field\": \"{field}\",\n      \"script\": {\n        // populated by a global rule\n      },\n      \"shard_size\": 100,\n      \"max_docs_per_value\": 3,\n      \"execution_hint\": { __one_of: [\"map\", \"global_ordinals\", \"bytes_hash\"] }\n    },\n    \"children\": {\n      __template: {\n        \"type\": \"\"\n      },\n      \"type\": \"\"\n    },\n    \"derivative\": simple_pipeline,\n    \"avg_bucket\": simple_pipeline,\n    \"max_bucket\": simple_pipeline,\n    \"min_bucket\": simple_pipeline,\n    \"sum_bucket\": simple_pipeline,\n    \"moving_avg\": {\n      __template: {\n        buckets_path: \"\"\n      },\n      buckets_path: \"\",\n      format: \"\",\n      gap_policy: gap_policy,\n      \"window\": 5,\n      model: { __one_of: [\"simple\", \"linear\", \"ewma\", \"holt\", \"holt_winters\"] },\n      settings: {\n        type: { __one_of: [\"add\", \"mult\"] },\n        alpha: 0.5,\n        beta: 0.5,\n        gamma: 0.5,\n        period: 7\n      }\n    },\n    \"cumulative_sum\": {\n      __template: {\n        buckets_path: \"\"\n      },\n      buckets_path: \"\",\n      format: \"\"\n    },\n    \"serial_diff\": {\n      __template: {\n        buckets_path: \"\",\n        lag: 7\n      },\n      lag: 7,\n      gap_policy: gap_policy,\n      buckets_path: \"\",\n      format: \"\"\n    },\n    \"bucket_script\": {\n      __template: {\n        buckets_path: \"\",\n        script: {}\n      },\n      buckets_path: \"\",\n      format: \"\",\n      gap_policy: gap_policy,\n      script: {\n        // populated by a global rule\n      }\n    },\n    \"bucket_selector\": {\n      __template: {\n        buckets_path: \"\",\n        script: {}\n      },\n      buckets_path: \"\",\n      gap_policy: gap_policy,\n      script: {\n        // populated by a global rule\n      }\n    },\n    \"matrix_stats\": {\n      __template: {\n        fields: []\n      },\n      fields: [\"{field}\"]\n    }\n  }\n};\nmodule.exports = function (api) {\n\n  api.addGlobalAutocompleteRules('aggregations', rules);\n  api.addGlobalAutocompleteRules('aggs', rules);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9hZ2dyZWdhdGlvbnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLGFBQWEsR0FBRztBQUNsQixZQUFVLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO0FBQ3pCLE9BQUssRUFBRSxTQUFTO0FBQ2hCLFNBQU8sRUFBRSxDQUFDO0FBQ1YsUUFBTSxFQUFFOztHQUVQO0NBQ0Y7SUFBRSxZQUFZLEdBQUc7QUFDaEIsWUFBVSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtBQUN6QixPQUFLLEVBQUUsU0FBUztDQUNqQjtJQUFFLFVBQVUsR0FBRztBQUNkLFVBQVEsRUFBRSxDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUM7Q0FDbkM7SUFBRSxlQUFlLEdBQUc7QUFDbkIsWUFBVSxFQUFFO0FBQ1YsZ0JBQVksRUFBRSxFQUFFO0dBQ2pCO0FBQ0QsY0FBWSxFQUFFLEVBQUU7QUFDaEIsUUFBTSxFQUFFLEVBQUU7QUFDVixZQUFVLEVBQUUsVUFBVTtDQUN2QixDQUFDO0FBQ0YsSUFBSSxLQUFLLEdBQUc7QUFDVixLQUFHLEVBQUU7QUFDSCxVQUFNLEVBQUU7QUFDTixnQkFBVSxFQUFFO0FBQ1YsY0FBTSxFQUFFO0FBQ04sb0JBQVUsRUFBRSxFQUFFO1NBQ2Y7T0FDRjtLQUNGO0FBQ0QsU0FBSyxFQUFFLGFBQWE7QUFDcEIsU0FBSyxFQUFFLGFBQWE7QUFDcEIsU0FBSyxFQUFFLGFBQWE7QUFDcEIsU0FBSyxFQUFFLGFBQWE7QUFDcEIsV0FBTyxFQUFFLGFBQWE7QUFDdEIsb0JBQWdCLEVBQUUsYUFBYTtBQUMvQixpQkFBYSxFQUFFO0FBQ2IsZ0JBQVUsRUFBRTtBQUNWLGVBQU8sRUFBRSxFQUFFO09BQ1o7QUFDRCxhQUFPLEVBQUUsU0FBUztBQUNsQixjQUFRLEVBQUU7O09BRVQ7S0FDRjtBQUNELFlBQVEsRUFBRSxFQUFFO0FBQ1osWUFBUSxFQUFFLEVBQUU7QUFDWixhQUFTLEVBQUU7QUFDVCxnQkFBVSxFQUFFO0FBQ1YsaUJBQVMsRUFBRTtBQUNULGdCQUFNLEVBQUUsRUFBRTtTQUNYO09BQ0Y7QUFDRCxlQUFTLEVBQUU7QUFDVCxXQUFHLEVBQUUsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFO09BQ3ZDO0FBQ0Qsb0JBQWMsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRTtBQUMzQyx3QkFBa0IsRUFBRSxFQUFFO0tBQ3ZCO0FBQ0QsYUFBUyxFQUFFLFlBQVk7QUFDdkIsWUFBUSxFQUFFO0FBQ1IsZ0JBQVUsRUFBRTtBQUNWLGNBQU0sRUFBRSxFQUFFO09BQ1g7QUFDRCxZQUFNLEVBQUUsRUFBRTtLQUNYO0FBQ0Qsb0JBQWdCLEVBQUU7QUFDaEIsZ0JBQVUsRUFBRTtBQUNWLGNBQU0sRUFBRSxFQUFFO09BQ1g7QUFDRCxZQUFNLEVBQUUsRUFBRTtLQUNYO0FBQ0QsV0FBTyxFQUFFO0FBQ1AsZ0JBQVUsRUFBRTtBQUNWLGVBQU8sRUFBRSxFQUFFO0FBQ1gsY0FBTSxFQUFFLEVBQUU7T0FDWDtBQUNELGFBQU8sRUFBRSxTQUFTO0FBQ2xCLFlBQU0sRUFBRSxFQUFFO0FBQ1Ysa0JBQVksRUFBRSxFQUFFO0FBQ2hCLGFBQU8sRUFBRTtBQUNQLGtCQUFVLEVBQUU7QUFDVixpQkFBTyxFQUFFLEtBQUs7U0FDZjtBQUNELGVBQU8sRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsRUFBRTtBQUN0QyxnQkFBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFO0FBQ3ZDLFdBQUcsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsRUFBRTtPQUNuQztBQUNELHFCQUFlLEVBQUUsRUFBRTtBQUNuQixjQUFRLEVBQUU7O09BRVQ7QUFDRCxlQUFTLEVBQUUsSUFBSTtBQUNmLGVBQVMsRUFBRSxJQUFJO0FBQ2Ysc0JBQWdCLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsaUJBQWlCLEVBQUUsc0JBQXNCLEVBQUUsaUNBQWlDLENBQUMsRUFBRTtBQUNySCxpQ0FBMkIsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRTtBQUN4RCxvQkFBYyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsYUFBYSxFQUFFLGVBQWUsQ0FBQyxFQUFFO0FBQzlELGVBQVMsRUFBRSxFQUFFO0tBQ2Q7QUFDRCx1QkFBbUIsRUFBRTtBQUNuQixnQkFBVSxFQUFFO0FBQ1YsZUFBTyxFQUFFLEVBQUU7T0FDWjtBQUNELGFBQU8sRUFBRSxTQUFTO0FBQ2xCLFlBQU0sRUFBRSxFQUFFO0FBQ1Ysa0JBQVksRUFBRSxFQUFFO0FBQ2hCLDJCQUFxQixFQUFFLEVBQUU7QUFDekIscUJBQWUsRUFBRSxFQUFFO0FBQ25CLGVBQVMsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUU7QUFDMUQsZUFBUyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRTtBQUMxRCxzQkFBZ0IsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxzQkFBc0IsQ0FBQyxFQUFFO0FBQ2xGLHlCQUFtQixFQUFFO0FBQ25CLG9CQUFZLEVBQUUsZUFBZTtPQUM5QjtBQUNELDBCQUFvQixFQUFFO0FBQ3BCLDJCQUFtQixFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO09BQ2pEO0FBQ0Qsa0JBQVksRUFBRTtBQUNaLDJCQUFtQixFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQ2hELGdDQUF3QixFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO09BQ3REO0FBQ0Qsa0JBQVksRUFBRSxFQUFFO0FBQ2hCLFdBQUssRUFBRTtBQUNMLGdDQUF3QixFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO09BQ3REO0FBQ0Qsd0JBQWtCLEVBQUU7QUFDbEIsa0JBQVUsRUFBRTtBQUNWLGtCQUFRLEVBQUUsa0RBQWtEO1NBQzdEO0FBQ0QsZ0JBQVEsRUFBRTs7U0FFVDtPQUNGO0tBQ0Y7QUFDRCxXQUFPLEVBQUU7QUFDUCxnQkFBVSxFQUFFO0FBQ1YsZUFBTyxFQUFFLEVBQUU7QUFDWCxnQkFBUSxFQUFFLENBQ1IsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FDMUI7T0FDRjtBQUNELGFBQU8sRUFBRSxTQUFTO0FBQ2xCLGNBQVEsRUFBRSxDQUNSLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FDckM7QUFDRCxhQUFPLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUU7QUFDcEMsY0FBUSxFQUFFOztPQUVUO0tBQ0Y7QUFDRCxnQkFBWSxFQUFFO0FBQ1osZ0JBQVUsRUFBRTtBQUNWLGVBQU8sRUFBRSxFQUFFO0FBQ1gsZ0JBQVEsRUFBRSxDQUNSLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQ3JDO09BQ0Y7QUFDRCxhQUFPLEVBQUUsU0FBUztBQUNsQixjQUFRLEVBQUUsUUFBUTtBQUNsQixjQUFRLEVBQUUsQ0FDUixFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQ3BDO0FBQ0QsYUFBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQ3BDLGNBQVEsRUFBRTs7T0FFVDtLQUNGO0FBQ0QsY0FBVSxFQUFFO0FBQ1YsZ0JBQVUsRUFBRTtBQUNWLGVBQU8sRUFBRSxFQUFFO0FBQ1gsZ0JBQVEsRUFBRSxDQUNSLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLENBQzFDO09BQ0Y7QUFDRCxhQUFPLEVBQUUsU0FBUztBQUNsQixjQUFRLEVBQUUsUUFBUTtBQUNsQixjQUFRLEVBQUUsQ0FDUixFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUUsQ0FDN0Q7QUFDRCxhQUFPLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUU7QUFDcEMsY0FBUSxFQUFFOztPQUVUO0tBQ0Y7QUFDRCxlQUFXLEVBQUU7QUFDWCxnQkFBVSxFQUFFO0FBQ1YsZUFBTyxFQUFFLE9BQU87QUFDaEIsa0JBQVUsRUFBRSxFQUFFO09BQ2Y7QUFDRCxhQUFPLEVBQUUsU0FBUztBQUNsQixnQkFBVSxFQUFFLEVBQUU7QUFDZCxxQkFBZSxFQUFFLENBQUM7QUFDbEIsYUFBTyxFQUFFO0FBQ1Asa0JBQVUsRUFBRTtBQUNWLGdCQUFNLEVBQUUsS0FBSztTQUNkO0FBQ0QsY0FBTSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFO0FBQ3JDLGdCQUFRLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEVBQUU7QUFDdkMsV0FBRyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFO09BQ25DO0FBQ0QsYUFBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQ3BDLGVBQVMsRUFBRSxDQUFDO0tBQ2I7QUFDRCxvQkFBZ0IsRUFBRTtBQUNoQixnQkFBVSxFQUFFO0FBQ1YsZUFBTyxFQUFFLE1BQU07QUFDZixrQkFBVSxFQUFFLE9BQU87T0FDcEI7QUFDRCxhQUFPLEVBQUUsU0FBUztBQUNsQixnQkFBVSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLEVBQUU7QUFDeEYscUJBQWUsRUFBRSxDQUFDO0FBQ2xCLGFBQU8sRUFBRTtBQUNQLGtCQUFVLEVBQUU7QUFDVixnQkFBTSxFQUFFLEtBQUs7U0FDZDtBQUNELGNBQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsRUFBRTtBQUNyQyxnQkFBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFO0FBQ3ZDLFdBQUcsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsRUFBRTtPQUNuQztBQUNELGFBQU8sRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRTtBQUNwQyxnQkFBVSxFQUFFLFFBQVE7QUFDcEIsaUJBQVcsRUFBRSxRQUFRO0FBQ3JCLHNDQUFnQyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQzdELGNBQVEsRUFBRSxJQUFJO0FBQ2Qsa0JBQVksRUFBRSxJQUFJO0FBQ2xCLG1CQUFhLEVBQUUsSUFBSTtBQUNuQixjQUFRLEVBQUUsWUFBWTtBQUN0QixpQkFBVyxFQUFFLE9BQU87QUFDcEIsZUFBUyxFQUFFLEVBQUU7S0FDZDtBQUNELGtCQUFjLEVBQUU7QUFDZCxnQkFBVSxFQUFFO0FBQ1YsZUFBTyxFQUFFLFVBQVU7QUFDbkIsZ0JBQVEsRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRTtBQUMxQyxnQkFBUSxFQUFFLENBQ1IsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FDM0I7T0FDRjtBQUNELGFBQU8sRUFBRSxTQUFTO0FBQ2xCLGNBQVEsRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRTtBQUNwQyxZQUFNLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRTtBQUMvRCxjQUFRLEVBQUUsQ0FDUixFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUMxQjtBQUNELHFCQUFlLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsWUFBWSxFQUFFLE9BQU8sQ0FBQyxFQUFFOztLQUU5RDtBQUNELGtCQUFjLEVBQUU7QUFDZCxnQkFBVSxFQUFFO0FBQ1YsZUFBTyxFQUFFLEVBQUU7QUFDWCxtQkFBVyxFQUFFLENBQUM7T0FDZjtBQUNELGFBQU8sRUFBRSxTQUFTO0FBQ2xCLGlCQUFXLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFO0FBQ2xFLFlBQU0sRUFBRSxFQUFFO0FBQ1Ysa0JBQVksRUFBRSxFQUFFO0tBQ2pCO0FBQ0QsaUJBQWEsRUFBRTtBQUNiLGdCQUFVLEVBQUU7QUFDVixlQUFPLEVBQUUsRUFBRTtBQUNYLGtCQUFVLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7T0FDckQ7QUFDRCxhQUFPLEVBQUUsU0FBUztBQUNsQixnQkFBVSxFQUFFO0FBQ1Ysa0JBQVUsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQzs7QUFFcEQsZ0JBQVEsRUFBRSxFQUFFO09BQ2I7QUFDRCxjQUFRLEVBQUU7O09BRVQ7QUFDRCxtQkFBYSxFQUFFLEdBQUc7QUFDbEIsY0FBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQzFDLGFBQU8sRUFBRSxDQUFDO0tBQ1g7QUFDRCxpQkFBYSxFQUFFO0FBQ2IsZ0JBQVUsRUFBRTtBQUNWLGVBQU8sRUFBRSxFQUFFO09BQ1o7QUFDRCwyQkFBcUIsRUFBRSxHQUFHO0FBQzFCLGNBQVEsRUFBRSxJQUFJO0FBQ2QsY0FBUSxFQUFFOztPQUVUO0FBQ0QsYUFBTyxFQUFFLEVBQUU7S0FDWjtBQUNELHFCQUFpQixFQUFFO0FBQ2pCLGdCQUFVLEVBQUU7QUFDVixxQkFBYSxFQUFFLEVBQUU7QUFDakIsb0JBQVksRUFBRSxFQUFFO0FBQ2hCLHdCQUFnQixFQUFFLEVBQUU7QUFDcEIsdUJBQWUsRUFBRSxFQUFFO09BQ3BCO0FBQ0QsbUJBQWEsRUFBRTtBQUNiLG9CQUFZLEVBQUUsZUFBZTtPQUM5QjtBQUNELGtCQUFZLEVBQUU7QUFDWixvQkFBWSxFQUFFLGVBQWU7T0FDOUI7QUFDRCxzQkFBZ0IsRUFBRTtBQUNoQixvQkFBWSxFQUFFLGVBQWU7T0FDOUI7QUFDRCxxQkFBZSxFQUFFO0FBQ2Ysb0JBQVksRUFBRSxlQUFlO09BQzlCO0FBQ0QsWUFBTSxFQUFFLFFBQVE7QUFDaEIsY0FBUSxFQUFFLEVBQUU7QUFDWixxQkFBZSxFQUFFLEVBQUU7S0FDcEI7QUFDRCxnQkFBWSxFQUFFO0FBQ1osZ0JBQVUsRUFBRTtBQUNWLGFBQUssRUFBRSxFQUFFO09BQ1Y7QUFDRCxXQUFLLEVBQUUsU0FBUztBQUNoQixvQkFBYyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO0tBQzVDO0FBQ0QsY0FBVSxFQUFFO0FBQ1YsZ0JBQVUsRUFBRTtBQUNWLFlBQUksRUFBRSxFQUFFO09BQ1Q7QUFDRCxVQUFJLEVBQUUsQ0FBQztBQUNQLFVBQUksRUFBRSxFQUFFO0FBQ1IsVUFBSSxFQUFFO0FBQ0osa0JBQVUsRUFBRSxFQUFFO0FBQ2Qsb0JBQVksRUFBRSxjQUFjO09BQzdCO0FBQ0QsZUFBUyxFQUFFLEVBQUU7QUFDYixhQUFPLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUU7QUFDcEMsYUFBTyxFQUFFO0FBQ1Asa0JBQVUsRUFBRSxFQUFFO0FBQ2Qsb0JBQVksRUFBRSxpQkFBaUI7T0FDaEM7QUFDRCxtQkFBYSxFQUFFO0FBQ2Isb0JBQVksRUFBRSx1QkFBdUI7T0FDdEM7QUFDRCxxQkFBZSxFQUFFLENBQUMsU0FBUyxDQUFDO0FBQzVCLGFBQU8sRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRTtLQUNyQztBQUNELHNCQUFrQixFQUFFO0FBQ2xCLGdCQUFVLEVBQUU7QUFDVixhQUFLLEVBQUUsRUFBRTtBQUNULGNBQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7T0FDakI7QUFDRCxXQUFLLEVBQUUsU0FBUztBQUNoQixZQUFNLEVBQUUsRUFBRTtBQUNWLGNBQVEsRUFBRTs7T0FFVDtBQUNELG1CQUFhLEVBQUUsR0FBRztBQUNsQixjQUFRLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLEVBQUU7QUFDMUMsYUFBTyxFQUFFLENBQUM7S0FDWDtBQUNELGFBQVMsRUFBRTtBQUNULGdCQUFVLEVBQUUsRUFBRTtBQUNkLGFBQU8sRUFBRSxTQUFTO0FBQ2xCLGNBQVEsRUFBRTs7T0FFVDtBQUNELGtCQUFZLEVBQUUsR0FBRztBQUNqQiwwQkFBb0IsRUFBRSxDQUFDO0FBQ3ZCLHNCQUFnQixFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLGlCQUFpQixFQUFFLFlBQVksQ0FBQyxFQUFFO0tBQ3pFO0FBQ0QsY0FBVSxFQUFFO0FBQ1YsZ0JBQVUsRUFBRTtBQUNWLGNBQU0sRUFBRSxFQUFFO09BQ1g7QUFDRCxZQUFNLEVBQUUsRUFBRTtLQUNYO0FBQ0QsZ0JBQVksRUFBRSxlQUFlO0FBQzdCLGdCQUFZLEVBQUUsZUFBZTtBQUM3QixnQkFBWSxFQUFFLGVBQWU7QUFDN0IsZ0JBQVksRUFBRSxlQUFlO0FBQzdCLGdCQUFZLEVBQUUsZUFBZTtBQUM3QixnQkFBWSxFQUFFO0FBQ1osZ0JBQVUsRUFBRTtBQUNWLG9CQUFZLEVBQUUsRUFBRTtPQUNqQjtBQUNELGtCQUFZLEVBQUUsRUFBRTtBQUNoQixZQUFNLEVBQUUsRUFBRTtBQUNWLGdCQUFVLEVBQUUsVUFBVTtBQUN0QixjQUFRLEVBQUUsQ0FBQztBQUNYLFdBQUssRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxjQUFjLENBQUMsRUFBRTtBQUN6RSxjQUFRLEVBQUU7QUFDUixZQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEVBQUU7QUFDbkMsYUFBSyxFQUFFLEdBQUc7QUFDVixZQUFJLEVBQUUsR0FBRztBQUNULGFBQUssRUFBRSxHQUFHO0FBQ1YsY0FBTSxFQUFFLENBQUM7T0FDVjtLQUNGO0FBQ0Qsb0JBQWdCLEVBQUU7QUFDaEIsZ0JBQVUsRUFBRTtBQUNWLG9CQUFZLEVBQUUsRUFBRTtPQUNqQjtBQUNELGtCQUFZLEVBQUUsRUFBRTtBQUNoQixZQUFNLEVBQUUsRUFBRTtLQUNYO0FBQ0QsaUJBQWEsRUFBRTtBQUNiLGdCQUFVLEVBQUU7QUFDVixvQkFBWSxFQUFFLEVBQUU7QUFDaEIsV0FBRyxFQUFFLENBQUM7T0FDUDtBQUNELFNBQUcsRUFBRSxDQUFDO0FBQ04sZ0JBQVUsRUFBRSxVQUFVO0FBQ3RCLGtCQUFZLEVBQUUsRUFBRTtBQUNoQixZQUFNLEVBQUUsRUFBRTtLQUNYO0FBQ0QsbUJBQWUsRUFBRTtBQUNmLGdCQUFVLEVBQUU7QUFDVixvQkFBWSxFQUFFLEVBQUU7QUFDaEIsY0FBTSxFQUFFLEVBQUU7T0FDWDtBQUNELGtCQUFZLEVBQUUsRUFBRTtBQUNoQixZQUFNLEVBQUUsRUFBRTtBQUNWLGdCQUFVLEVBQUUsVUFBVTtBQUN0QixZQUFNLEVBQUU7O09BRVA7S0FDRjtBQUNELHFCQUFpQixFQUFFO0FBQ2pCLGdCQUFVLEVBQUU7QUFDVixvQkFBWSxFQUFFLEVBQUU7QUFDaEIsY0FBTSxFQUFFLEVBQUU7T0FDWDtBQUNELGtCQUFZLEVBQUUsRUFBRTtBQUNoQixnQkFBVSxFQUFFLFVBQVU7QUFDdEIsWUFBTSxFQUFFOztPQUVQO0tBQ0Y7QUFDRCxrQkFBYyxFQUFFO0FBQ2QsZ0JBQVUsRUFBRTtBQUNWLGNBQU0sRUFBRSxFQUFFO09BQ1g7QUFDRCxZQUFNLEVBQUUsQ0FBQyxTQUFTLENBQUM7S0FDcEI7R0FDRjtDQUNGLENBQUM7QUFDRixNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsR0FBRyxFQUFFOztBQUU5QixLQUFHLENBQUMsMEJBQTBCLENBQUMsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3RELEtBQUcsQ0FBQywwQkFBMEIsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7Q0FDL0MsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvYXBpX3NlcnZlci9lc181XzAvYWdncmVnYXRpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHNpbXBsZV9tZXRyaWMgPSB7XG4gIF9fdGVtcGxhdGU6IHsgZmllbGQ6IFwiXCIgfSxcbiAgZmllbGQ6IFwie2ZpZWxkfVwiLFxuICBtaXNzaW5nOiAwLFxuICBzY3JpcHQ6IHtcbiAgICAvLyBwb3B1bGF0ZWQgYnkgYSBnbG9iYWwgcnVsZVxuICB9XG59LCBmaWVsZF9tZXRyaWMgPSB7XG4gIF9fdGVtcGxhdGU6IHsgZmllbGQ6IFwiXCIgfSxcbiAgZmllbGQ6IFwie2ZpZWxkfVwiXG59LCBnYXBfcG9saWN5ID0ge1xuICBfX29uZV9vZjogW1wic2tpcFwiLCBcImluc2VydF96ZXJvc1wiXVxufSwgc2ltcGxlX3BpcGVsaW5lID0ge1xuICBfX3RlbXBsYXRlOiB7XG4gICAgYnVja2V0c19wYXRoOiBcIlwiXG4gIH0sXG4gIGJ1Y2tldHNfcGF0aDogXCJcIixcbiAgZm9ybWF0OiBcIlwiLFxuICBnYXBfcG9saWN5OiBnYXBfcG9saWN5XG59O1xudmFyIHJ1bGVzID0ge1xuICBcIipcIjoge1xuICAgIFwiYWdnc1wiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIFwiTkFNRVwiOiB7XG4gICAgICAgICAgXCJBR0dfVFlQRVwiOiB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBcIm1pblwiOiBzaW1wbGVfbWV0cmljLFxuICAgIFwibWF4XCI6IHNpbXBsZV9tZXRyaWMsXG4gICAgXCJhdmdcIjogc2ltcGxlX21ldHJpYyxcbiAgICBcInN1bVwiOiBzaW1wbGVfbWV0cmljLFxuICAgIFwic3RhdHNcIjogc2ltcGxlX21ldHJpYyxcbiAgICBcImV4dGVuZGVkX3N0YXRzXCI6IHNpbXBsZV9tZXRyaWMsXG4gICAgXCJ2YWx1ZV9jb3VudFwiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIFwiZmllbGRcIjogXCJcIlxuICAgICAgfSxcbiAgICAgIFwiZmllbGRcIjogXCJ7ZmllbGR9XCIsXG4gICAgICBcInNjcmlwdFwiOiB7XG4gICAgICAgIC8vIHBvcHVsYXRlZCBieSBhIGdsb2JhbCBydWxlXG4gICAgICB9XG4gICAgfSxcbiAgICBcImdsb2JhbFwiOiB7fSxcbiAgICBcImZpbHRlclwiOiB7fSxcbiAgICBcImZpbHRlcnNcIjoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBcImZpbHRlcnNcIjoge1xuICAgICAgICAgIFwiTkFNRVwiOiB7fVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJmaWx0ZXJzXCI6IHtcbiAgICAgICAgXCIqXCI6IHsgX19zY29wZV9saW5rOiBcIkdMT0JBTC5maWx0ZXJcIiB9XG4gICAgICB9LFxuICAgICAgXCJvdGhlcl9idWNrZXRcIjogeyBfX29uZV9vZjogW3RydWUsIGZhbHNlXSB9LFxuICAgICAgXCJvdGhlcl9idWNrZXRfa2V5XCI6IFwiXCJcbiAgICB9LFxuICAgIFwibWlzc2luZ1wiOiBmaWVsZF9tZXRyaWMsXG4gICAgXCJuZXN0ZWRcIjoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBcInBhdGhcIjogXCJcIlxuICAgICAgfSxcbiAgICAgIFwicGF0aFwiOiBcIlwiXG4gICAgfSxcbiAgICBcInJldmVyc2VfbmVzdGVkXCI6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgXCJwYXRoXCI6IFwiXCJcbiAgICAgIH0sXG4gICAgICBcInBhdGhcIjogXCJcIlxuICAgIH0sXG4gICAgXCJ0ZXJtc1wiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIFwiZmllbGRcIjogXCJcIixcbiAgICAgICAgXCJzaXplXCI6IDEwXG4gICAgICB9LFxuICAgICAgXCJmaWVsZFwiOiBcIntmaWVsZH1cIixcbiAgICAgIFwic2l6ZVwiOiAxMCxcbiAgICAgIFwic2hhcmRfc2l6ZVwiOiAxMCxcbiAgICAgIFwib3JkZXJcIjoge1xuICAgICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICAgXCJfdGVybVwiOiBcImFzY1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiX3Rlcm1cIjogeyBfX29uZV9vZjogW1wiYXNjXCIsIFwiZGVzY1wiXSB9LFxuICAgICAgICBcIl9jb3VudFwiOiB7IF9fb25lX29mOiBbXCJhc2NcIiwgXCJkZXNjXCJdIH0sXG4gICAgICAgIFwiKlwiOiB7IF9fb25lX29mOiBbXCJhc2NcIiwgXCJkZXNjXCJdIH1cbiAgICAgIH0sXG4gICAgICBcIm1pbl9kb2NfY291bnRcIjogMTAsXG4gICAgICBcInNjcmlwdFwiOiB7XG4gICAgICAgIC8vIHBvcHVsYXRlZCBieSBhIGdsb2JhbCBydWxlXG4gICAgICB9LFxuICAgICAgXCJpbmNsdWRlXCI6IFwiLipcIixcbiAgICAgIFwiZXhjbHVkZVwiOiBcIi4qXCIsXG4gICAgICBcImV4ZWN1dGlvbl9oaW50XCI6IHsgX19vbmVfb2Y6IFtcIm1hcFwiLCBcImdsb2JhbF9vcmRpbmFsc1wiLCBcImdsb2JhbF9vcmRpbmFsc19oYXNoXCIsIFwiZ2xvYmFsX29yZGluYWxzX2xvd19jYXJkaW5hbGl0eVwiXSB9LFxuICAgICAgXCJzaG93X3Rlcm1fZG9jX2NvdW50X2Vycm9yXCI6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfSxcbiAgICAgIFwiY29sbGVjdF9tb2RlXCI6IHsgX19vbmVfb2Y6IFtcImRlcHRoX2ZpcnN0XCIsIFwiYnJlYWR0aF9maXJzdFwiXSB9LFxuICAgICAgXCJtaXNzaW5nXCI6IFwiXCJcbiAgICB9LFxuICAgIFwic2lnbmlmaWNhbnRfdGVybXNcIjoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBcImZpZWxkXCI6IFwiXCJcbiAgICAgIH0sXG4gICAgICBcImZpZWxkXCI6IFwie2ZpZWxkfVwiLFxuICAgICAgXCJzaXplXCI6IDEwLFxuICAgICAgXCJzaGFyZF9zaXplXCI6IDEwLFxuICAgICAgXCJzaGFyZF9taW5fZG9jX2NvdW50XCI6IDEwLFxuICAgICAgXCJtaW5fZG9jX2NvdW50XCI6IDEwLFxuICAgICAgXCJpbmNsdWRlXCI6IHsgX19vbmVfb2Y6IFtcIipcIiwgeyBwYXR0ZXJuOiBcIlwiLCBmbGFnczogXCJcIiB9XSB9LFxuICAgICAgXCJleGNsdWRlXCI6IHsgX19vbmVfb2Y6IFtcIipcIiwgeyBwYXR0ZXJuOiBcIlwiLCBmbGFnczogXCJcIiB9XSB9LFxuICAgICAgXCJleGVjdXRpb25faGludFwiOiB7IF9fb25lX29mOiBbXCJtYXBcIiwgXCJnbG9iYWxfb3JkaW5hbHNcIiwgXCJnbG9iYWxfb3JkaW5hbHNfaGFzaFwiXSB9LFxuICAgICAgXCJiYWNrZ3JvdW5kX2ZpbHRlclwiOiB7XG4gICAgICAgIF9fc2NvcGVfbGluazogXCJHTE9CQUwuZmlsdGVyXCJcbiAgICAgIH0sXG4gICAgICBcIm11dHVhbF9pbmZvcm1hdGlvblwiOiB7XG4gICAgICAgIFwiaW5jbHVkZV9uZWdhdGl2ZXNcIjogeyBfX29uZV9vZjogW3RydWUsIGZhbHNlXSB9XG4gICAgICB9LFxuICAgICAgXCJjaGlfc3F1YXJlXCI6IHtcbiAgICAgICAgXCJpbmNsdWRlX25lZ2F0aXZlc1wiOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH0sXG4gICAgICAgIFwiYmFja2dyb3VuZF9pc19zdXBlcnNldFwiOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH1cbiAgICAgIH0sXG4gICAgICBcInBlcmNlbnRhZ2VcIjoge30sXG4gICAgICBcImduZFwiOiB7XG4gICAgICAgIFwiYmFja2dyb3VuZF9pc19zdXBlcnNldFwiOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH1cbiAgICAgIH0sXG4gICAgICBcInNjcmlwdF9oZXVyaXN0aWNcIjoge1xuICAgICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICAgXCJzY3JpcHRcIjogXCJfc3Vic2V0X2ZyZXEvKF9zdXBlcnNldF9mcmVxIC0gX3N1YnNldF9mcmVxICsgMSlcIlxuICAgICAgICB9LFxuICAgICAgICBcInNjcmlwdFwiOiB7XG4gICAgICAgICAgLy8gcG9wdWxhdGVkIGJ5IGEgZ2xvYmFsIHJ1bGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgXCJyYW5nZVwiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIFwiZmllbGRcIjogXCJcIixcbiAgICAgICAgXCJyYW5nZXNcIjogW1xuICAgICAgICAgIHsgXCJmcm9tXCI6IDUwLCBcInRvXCI6IDEwMCB9LFxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgXCJmaWVsZFwiOiBcIntmaWVsZH1cIixcbiAgICAgIFwicmFuZ2VzXCI6IFtcbiAgICAgICAgeyBcInRvXCI6IDUwLCBcImZyb21cIjogMTAwLCBcImtleVwiOiBcIlwiIH1cbiAgICAgIF0sXG4gICAgICBcImtleWVkXCI6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfSxcbiAgICAgIFwic2NyaXB0XCI6IHtcbiAgICAgICAgLy8gcG9wdWxhdGVkIGJ5IGEgZ2xvYmFsIHJ1bGVcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiZGF0ZV9yYW5nZVwiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIFwiZmllbGRcIjogXCJcIixcbiAgICAgICAgXCJyYW5nZXNcIjogW1xuICAgICAgICAgIHsgXCJmcm9tXCI6IFwibm93LTEwZC9kXCIsIFwidG9cIjogXCJub3dcIiB9LFxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgXCJmaWVsZFwiOiBcIntmaWVsZH1cIixcbiAgICAgIFwiZm9ybWF0XCI6IFwiTU0teXl5XCIsXG4gICAgICBcInJhbmdlc1wiOiBbXG4gICAgICAgIHsgXCJ0b1wiOiBcIlwiLCBcImZyb21cIjogXCJcIiwgXCJrZXlcIjogXCJcIiB9XG4gICAgICBdLFxuICAgICAgXCJrZXllZFwiOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH0sXG4gICAgICBcInNjcmlwdFwiOiB7XG4gICAgICAgIC8vIHBvcHVsYXRlZCBieSBhIGdsb2JhbCBydWxlXG4gICAgICB9XG4gICAgfSxcbiAgICBcImlwX3JhbmdlXCI6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgXCJmaWVsZFwiOiBcIlwiLFxuICAgICAgICBcInJhbmdlc1wiOiBbXG4gICAgICAgICAgeyBcImZyb21cIjogXCIxMC4wLjAuNVwiLCBcInRvXCI6IFwiMTAuMC4wLjEwXCIgfSxcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIFwiZmllbGRcIjogXCJ7ZmllbGR9XCIsXG4gICAgICBcImZvcm1hdFwiOiBcIk1NLXl5eVwiLFxuICAgICAgXCJyYW5nZXNcIjogW1xuICAgICAgICB7IFwidG9cIjogXCJcIiwgXCJmcm9tXCI6IFwiXCIsIFwia2V5XCI6IFwiXCIsIFwibWFza1wiOiBcIjEwLjAuMC4xMjcvMjVcIiB9XG4gICAgICBdLFxuICAgICAgXCJrZXllZFwiOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH0sXG4gICAgICBcInNjcmlwdFwiOiB7XG4gICAgICAgIC8vIHBvcHVsYXRlZCBieSBhIGdsb2JhbCBydWxlXG4gICAgICB9XG4gICAgfSxcbiAgICBcImhpc3RvZ3JhbVwiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIFwiZmllbGRcIjogXCJwcmljZVwiLFxuICAgICAgICBcImludGVydmFsXCI6IDUwXG4gICAgICB9LFxuICAgICAgXCJmaWVsZFwiOiBcIntmaWVsZH1cIixcbiAgICAgIFwiaW50ZXJ2YWxcIjogNTAsXG4gICAgICBcIm1pbl9kb2NfY291bnRcIjogMCxcbiAgICAgIFwib3JkZXJcIjoge1xuICAgICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICAgXCJfa2V5XCI6IFwiYXNjXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJfa2V5XCI6IHsgX19vbmVfb2Y6IFtcImFzY1wiLCBcImRlc2NcIl0gfSxcbiAgICAgICAgXCJfY291bnRcIjogeyBfX29uZV9vZjogW1wiYXNjXCIsIFwiZGVzY1wiXSB9LFxuICAgICAgICBcIipcIjogeyBfX29uZV9vZjogW1wiYXNjXCIsIFwiZGVzY1wiXSB9XG4gICAgICB9LFxuICAgICAgXCJrZXllZFwiOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH0sXG4gICAgICBcIm1pc3NpbmdcIjogMFxuICAgIH0sXG4gICAgXCJkYXRlX2hpc3RvZ3JhbVwiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIFwiZmllbGRcIjogXCJkYXRlXCIsXG4gICAgICAgIFwiaW50ZXJ2YWxcIjogXCJtb250aFwiXG4gICAgICB9LFxuICAgICAgXCJmaWVsZFwiOiBcIntmaWVsZH1cIixcbiAgICAgIFwiaW50ZXJ2YWxcIjogeyBfX29uZV9vZjogW1wieWVhclwiLCBcInF1YXJ0ZXJcIiwgXCJ3ZWVrXCIsIFwiZGF5XCIsIFwiaG91clwiLCBcIm1pbnV0ZVwiLCBcInNlY29uZFwiXSB9LFxuICAgICAgXCJtaW5fZG9jX2NvdW50XCI6IDAsXG4gICAgICBcIm9yZGVyXCI6IHtcbiAgICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICAgIFwiX2tleVwiOiBcImFzY1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiX2tleVwiOiB7IF9fb25lX29mOiBbXCJhc2NcIiwgXCJkZXNjXCJdIH0sXG4gICAgICAgIFwiX2NvdW50XCI6IHsgX19vbmVfb2Y6IFtcImFzY1wiLCBcImRlc2NcIl0gfSxcbiAgICAgICAgXCIqXCI6IHsgX19vbmVfb2Y6IFtcImFzY1wiLCBcImRlc2NcIl0gfVxuICAgICAgfSxcbiAgICAgIFwia2V5ZWRcIjogeyBfX29uZV9vZjogW3RydWUsIGZhbHNlXSB9LFxuICAgICAgXCJwcmVfem9uZVwiOiBcIi0wMTowMFwiLFxuICAgICAgXCJwb3N0X3pvbmVcIjogXCItMDE6MDBcIixcbiAgICAgIFwicHJlX3pvbmVfYWRqdXN0X2xhcmdlX2ludGVydmFsXCI6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfSxcbiAgICAgIFwiZmFjdG9yXCI6IDEwMDAsXG4gICAgICBcInByZV9vZmZzZXRcIjogXCIxZFwiLFxuICAgICAgXCJwb3N0X29mZnNldFwiOiBcIjFkXCIsXG4gICAgICBcImZvcm1hdFwiOiBcInl5eXktTU0tZGRcIixcbiAgICAgIFwidGltZV96b25lXCI6IFwiMDA6MDBcIixcbiAgICAgIFwibWlzc2luZ1wiOiBcIlwiXG4gICAgfSxcbiAgICBcImdlb19kaXN0YW5jZVwiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIFwiZmllbGRcIjogXCJsb2NhdGlvblwiLFxuICAgICAgICBcIm9yaWdpblwiOiB7IFwibGF0XCI6IDUyLjM3NjAsIFwibG9uXCI6IDQuODk0IH0sXG4gICAgICAgIFwicmFuZ2VzXCI6IFtcbiAgICAgICAgICB7IFwiZnJvbVwiOiAxMDAsIFwidG9cIjogMzAwIH0sXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBcImZpZWxkXCI6IFwie2ZpZWxkfVwiLFxuICAgICAgXCJvcmlnaW5cIjogeyBcImxhdFwiOiAwLjAsIFwibG9uXCI6IDAuMCB9LFxuICAgICAgXCJ1bml0XCI6IHsgX19vbmVfb2Y6IFtcIm1pXCIsIFwia21cIiwgXCJpblwiLCBcInlkXCIsIFwibVwiLCBcImNtXCIsIFwibW1cIl0gfSxcbiAgICAgIFwicmFuZ2VzXCI6IFtcbiAgICAgICAgeyBcImZyb21cIjogNTAsIFwidG9cIjogMTAwIH1cbiAgICAgIF0sXG4gICAgICBcImRpc3RhbmNlX3R5cGVcIjogeyBfX29uZV9vZjogW1wiYXJjXCIsIFwic2xvcHB5X2FyY1wiLCBcInBsYW5lXCJdIH1cblxuICAgIH0sXG4gICAgXCJnZW9oYXNoX2dyaWRcIjoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBcImZpZWxkXCI6IFwiXCIsXG4gICAgICAgIFwicHJlY2lzaW9uXCI6IDNcbiAgICAgIH0sXG4gICAgICBcImZpZWxkXCI6IFwie2ZpZWxkfVwiLFxuICAgICAgXCJwcmVjaXNpb25cIjogeyBfX29uZV9vZjogWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTJdIH0sXG4gICAgICBcInNpemVcIjogMTAsXG4gICAgICBcInNoYXJkX3NpemVcIjogMTBcbiAgICB9LFxuICAgIFwicGVyY2VudGlsZXNcIjoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBcImZpZWxkXCI6IFwiXCIsXG4gICAgICAgIFwicGVyY2VudHNcIjogWzEuMCwgNS4wLCAyNS4wLCA1MC4wLCA3NS4wLCA5NS4wLCA5OS4wXVxuICAgICAgfSxcbiAgICAgIFwiZmllbGRcIjogXCJ7ZmllbGR9XCIsXG4gICAgICBcInBlcmNlbnRzXCI6IHtcbiAgICAgICAgX190ZW1wbGF0ZTogWzEuMCwgNS4wLCAyNS4wLCA1MC4wLCA3NS4wLCA5NS4wLCA5OS4wXSxcbiAgICAgICAgLy8gbWFyayB0eXBlIGFzIGxpc3RcbiAgICAgICAgX19hbnlfb2Y6IFtdXG4gICAgICB9LFxuICAgICAgXCJzY3JpcHRcIjoge1xuICAgICAgICAvLyBwb3B1bGF0ZWQgYnkgYSBnbG9iYWwgcnVsZVxuICAgICAgfSxcbiAgICAgIFwiY29tcHJlc3Npb25cIjogMTAwLFxuICAgICAgXCJtZXRob2RcIjogeyBfX29uZV9vZjogW1wiaGRyXCIsIFwidGRpZ2VzdFwiXSB9LFxuICAgICAgbWlzc2luZzogMFxuICAgIH0sXG4gICAgXCJjYXJkaW5hbGl0eVwiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIFwiZmllbGRcIjogXCJcIlxuICAgICAgfSxcbiAgICAgIFwicHJlY2lzaW9uX3RocmVzaG9sZFwiOiAxMDAsXG4gICAgICBcInJlaGFzaFwiOiB0cnVlLFxuICAgICAgXCJzY3JpcHRcIjoge1xuICAgICAgICAvLyBwb3B1bGF0ZWQgYnkgYSBnbG9iYWwgcnVsZVxuICAgICAgfSxcbiAgICAgIG1pc3Npbmc6IFwiXCJcbiAgICB9LFxuICAgIFwic2NyaXB0ZWRfbWV0cmljXCI6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgXCJpbml0X3NjcmlwdFwiOiBcIlwiLFxuICAgICAgICBcIm1hcF9zY3JpcHRcIjogXCJcIixcbiAgICAgICAgXCJjb21iaW5lX3NjcmlwdFwiOiBcIlwiLFxuICAgICAgICBcInJlZHVjZV9zY3JpcHRcIjogXCJcIlxuICAgICAgfSxcbiAgICAgIFwiaW5pdF9zY3JpcHRcIjoge1xuICAgICAgICBfX3Njb3BlX2xpbms6IFwiR0xPQkFMLnNjcmlwdFwiXG4gICAgICB9LFxuICAgICAgXCJtYXBfc2NyaXB0XCI6IHtcbiAgICAgICAgX19zY29wZV9saW5rOiBcIkdMT0JBTC5zY3JpcHRcIlxuICAgICAgfSxcbiAgICAgIFwiY29tYmluZV9zY3JpcHRcIjoge1xuICAgICAgICBfX3Njb3BlX2xpbms6IFwiR0xPQkFMLnNjcmlwdFwiXG4gICAgICB9LFxuICAgICAgXCJyZWR1Y2Vfc2NyaXB0XCI6IHtcbiAgICAgICAgX19zY29wZV9saW5rOiBcIkdMT0JBTC5zY3JpcHRcIlxuICAgICAgfSxcbiAgICAgIFwibGFuZ1wiOiBcImdyb292eVwiLFxuICAgICAgXCJwYXJhbXNcIjoge30sXG4gICAgICBcInJlZHVjZV9wYXJhbXNcIjoge31cbiAgICB9LFxuICAgIFwiZ2VvX2JvdW5kc1wiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIGZpZWxkOiBcIlwiXG4gICAgICB9LFxuICAgICAgZmllbGQ6IFwie2ZpZWxkfVwiLFxuICAgICAgd3JhcF9sb25naXR1ZGU6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfVxuICAgIH0sXG4gICAgXCJ0b3BfaGl0c1wiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIHNpemU6IDEwXG4gICAgICB9LFxuICAgICAgZnJvbTogMCxcbiAgICAgIHNpemU6IDEwLFxuICAgICAgc29ydDoge1xuICAgICAgICBfX3RlbXBsYXRlOiBbXSxcbiAgICAgICAgX19zY29wZV9saW5rOiBcIl9zZWFyY2guc29ydFwiXG4gICAgICB9LFxuICAgICAgaGlnaGxpZ2h0OiB7fSxcbiAgICAgIGV4cGxhaW46IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfSxcbiAgICAgIF9zb3VyY2U6IHtcbiAgICAgICAgX190ZW1wbGF0ZTogXCJcIixcbiAgICAgICAgX19zY29wZV9saW5rOiBcIl9zZWFyY2guX3NvdXJjZVwiXG4gICAgICB9LFxuICAgICAgc2NyaXB0X2ZpZWxkczoge1xuICAgICAgICBfX3Njb3BlX2xpbms6IFwiX3NlYXJjaC5zY3JpcHRfZmllbGRzXCJcbiAgICAgIH0sXG4gICAgICBkb2N2YWx1ZV9maWVsZHM6IFtcIntmaWVsZH1cIl0sXG4gICAgICB2ZXJzaW9uOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH1cbiAgICB9LFxuICAgIFwicGVyY2VudGlsZV9yYW5rc1wiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIGZpZWxkOiBcIlwiLFxuICAgICAgICB2YWx1ZXM6IFsxMCwgMTVdXG4gICAgICB9LFxuICAgICAgZmllbGQ6IFwie2ZpZWxkfVwiLFxuICAgICAgdmFsdWVzOiBbXSxcbiAgICAgIFwic2NyaXB0XCI6IHtcbiAgICAgICAgLy8gcG9wdWxhdGVkIGJ5IGEgZ2xvYmFsIHJ1bGVcbiAgICAgIH0sXG4gICAgICBcImNvbXByZXNzaW9uXCI6IDEwMCxcbiAgICAgIFwibWV0aG9kXCI6IHsgX19vbmVfb2Y6IFtcImhkclwiLCBcInRkaWdlc3RcIl0gfSxcbiAgICAgIG1pc3Npbmc6IDBcbiAgICB9LFxuICAgIFwic2FtcGxlclwiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7fSxcbiAgICAgIFwiZmllbGRcIjogXCJ7ZmllbGR9XCIsXG4gICAgICBcInNjcmlwdFwiOiB7XG4gICAgICAgIC8vIHBvcHVsYXRlZCBieSBhIGdsb2JhbCBydWxlXG4gICAgICB9LFxuICAgICAgXCJzaGFyZF9zaXplXCI6IDEwMCxcbiAgICAgIFwibWF4X2RvY3NfcGVyX3ZhbHVlXCI6IDMsXG4gICAgICBcImV4ZWN1dGlvbl9oaW50XCI6IHsgX19vbmVfb2Y6IFtcIm1hcFwiLCBcImdsb2JhbF9vcmRpbmFsc1wiLCBcImJ5dGVzX2hhc2hcIl0gfVxuICAgIH0sXG4gICAgXCJjaGlsZHJlblwiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIFwidHlwZVwiOiBcIlwiLFxuICAgICAgfSxcbiAgICAgIFwidHlwZVwiOiBcIlwiXG4gICAgfSxcbiAgICBcImRlcml2YXRpdmVcIjogc2ltcGxlX3BpcGVsaW5lLFxuICAgIFwiYXZnX2J1Y2tldFwiOiBzaW1wbGVfcGlwZWxpbmUsXG4gICAgXCJtYXhfYnVja2V0XCI6IHNpbXBsZV9waXBlbGluZSxcbiAgICBcIm1pbl9idWNrZXRcIjogc2ltcGxlX3BpcGVsaW5lLFxuICAgIFwic3VtX2J1Y2tldFwiOiBzaW1wbGVfcGlwZWxpbmUsXG4gICAgXCJtb3ZpbmdfYXZnXCI6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgYnVja2V0c19wYXRoOiBcIlwiXG4gICAgICB9LFxuICAgICAgYnVja2V0c19wYXRoOiBcIlwiLFxuICAgICAgZm9ybWF0OiBcIlwiLFxuICAgICAgZ2FwX3BvbGljeTogZ2FwX3BvbGljeSxcbiAgICAgIFwid2luZG93XCI6IDUsXG4gICAgICBtb2RlbDogeyBfX29uZV9vZjogW1wic2ltcGxlXCIsIFwibGluZWFyXCIsIFwiZXdtYVwiLCBcImhvbHRcIiwgXCJob2x0X3dpbnRlcnNcIl0gfSxcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIHR5cGU6IHsgX19vbmVfb2Y6IFtcImFkZFwiLCBcIm11bHRcIl0gfSxcbiAgICAgICAgYWxwaGE6IDAuNSxcbiAgICAgICAgYmV0YTogMC41LFxuICAgICAgICBnYW1tYTogMC41LFxuICAgICAgICBwZXJpb2Q6IDdcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiY3VtdWxhdGl2ZV9zdW1cIjoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBidWNrZXRzX3BhdGg6IFwiXCJcbiAgICAgIH0sXG4gICAgICBidWNrZXRzX3BhdGg6IFwiXCIsXG4gICAgICBmb3JtYXQ6IFwiXCJcbiAgICB9LFxuICAgIFwic2VyaWFsX2RpZmZcIjoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBidWNrZXRzX3BhdGg6IFwiXCIsXG4gICAgICAgIGxhZzogN1xuICAgICAgfSxcbiAgICAgIGxhZzogNyxcbiAgICAgIGdhcF9wb2xpY3k6IGdhcF9wb2xpY3ksXG4gICAgICBidWNrZXRzX3BhdGg6IFwiXCIsXG4gICAgICBmb3JtYXQ6IFwiXCJcbiAgICB9LFxuICAgIFwiYnVja2V0X3NjcmlwdFwiOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIGJ1Y2tldHNfcGF0aDogXCJcIixcbiAgICAgICAgc2NyaXB0OiB7fVxuICAgICAgfSxcbiAgICAgIGJ1Y2tldHNfcGF0aDogXCJcIixcbiAgICAgIGZvcm1hdDogXCJcIixcbiAgICAgIGdhcF9wb2xpY3k6IGdhcF9wb2xpY3ksXG4gICAgICBzY3JpcHQ6IHtcbiAgICAgICAgLy8gcG9wdWxhdGVkIGJ5IGEgZ2xvYmFsIHJ1bGVcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiYnVja2V0X3NlbGVjdG9yXCI6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgYnVja2V0c19wYXRoOiBcIlwiLFxuICAgICAgICBzY3JpcHQ6IHt9XG4gICAgICB9LFxuICAgICAgYnVja2V0c19wYXRoOiBcIlwiLFxuICAgICAgZ2FwX3BvbGljeTogZ2FwX3BvbGljeSxcbiAgICAgIHNjcmlwdDoge1xuICAgICAgICAvLyBwb3B1bGF0ZWQgYnkgYSBnbG9iYWwgcnVsZVxuICAgICAgfVxuICAgIH0sXG4gICAgXCJtYXRyaXhfc3RhdHNcIjoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBmaWVsZHM6IFtdXG4gICAgICB9LFxuICAgICAgZmllbGRzOiBbXCJ7ZmllbGR9XCJdXG4gICAgfVxuICB9XG59O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpKSB7XG5cbiAgYXBpLmFkZEdsb2JhbEF1dG9jb21wbGV0ZVJ1bGVzKCdhZ2dyZWdhdGlvbnMnLCBydWxlcyk7XG4gIGFwaS5hZGRHbG9iYWxBdXRvY29tcGxldGVSdWxlcygnYWdncycsIHJ1bGVzKTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/aggregations.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/aggregations.js",
      "sourcesContent": [
        "var simple_metric = {\n  __template: { field: \"\" },\n  field: \"{field}\",\n  missing: 0,\n  script: {\n    // populated by a global rule\n  }\n}, field_metric = {\n  __template: { field: \"\" },\n  field: \"{field}\"\n}, gap_policy = {\n  __one_of: [\"skip\", \"insert_zeros\"]\n}, simple_pipeline = {\n  __template: {\n    buckets_path: \"\"\n  },\n  buckets_path: \"\",\n  format: \"\",\n  gap_policy: gap_policy\n};\nvar rules = {\n  \"*\": {\n    \"aggs\": {\n      __template: {\n        \"NAME\": {\n          \"AGG_TYPE\": {}\n        }\n      }\n    },\n    \"min\": simple_metric,\n    \"max\": simple_metric,\n    \"avg\": simple_metric,\n    \"sum\": simple_metric,\n    \"stats\": simple_metric,\n    \"extended_stats\": simple_metric,\n    \"value_count\": {\n      __template: {\n        \"field\": \"\"\n      },\n      \"field\": \"{field}\",\n      \"script\": {\n        // populated by a global rule\n      }\n    },\n    \"global\": {},\n    \"filter\": {},\n    \"filters\": {\n      __template: {\n        \"filters\": {\n          \"NAME\": {}\n        }\n      },\n      \"filters\": {\n        \"*\": { __scope_link: \"GLOBAL.filter\" }\n      },\n      \"other_bucket\": { __one_of: [true, false] },\n      \"other_bucket_key\": \"\"\n    },\n    \"missing\": field_metric,\n    \"nested\": {\n      __template: {\n        \"path\": \"\"\n      },\n      \"path\": \"\"\n    },\n    \"reverse_nested\": {\n      __template: {\n        \"path\": \"\"\n      },\n      \"path\": \"\"\n    },\n    \"terms\": {\n      __template: {\n        \"field\": \"\",\n        \"size\": 10\n      },\n      \"field\": \"{field}\",\n      \"size\": 10,\n      \"shard_size\": 10,\n      \"order\": {\n        __template: {\n          \"_term\": \"asc\"\n        },\n        \"_term\": { __one_of: [\"asc\", \"desc\"] },\n        \"_count\": { __one_of: [\"asc\", \"desc\"] },\n        \"*\": { __one_of: [\"asc\", \"desc\"] }\n      },\n      \"min_doc_count\": 10,\n      \"script\": {\n        // populated by a global rule\n      },\n      \"include\": \".*\",\n      \"exclude\": \".*\",\n      \"execution_hint\": { __one_of: [\"map\", \"global_ordinals\", \"global_ordinals_hash\", \"global_ordinals_low_cardinality\"] },\n      \"show_term_doc_count_error\": { __one_of: [true, false] },\n      \"collect_mode\": { __one_of: [\"depth_first\", \"breadth_first\"] },\n      \"missing\": \"\"\n    },\n    \"significant_terms\": {\n      __template: {\n        \"field\": \"\"\n      },\n      \"field\": \"{field}\",\n      \"size\": 10,\n      \"shard_size\": 10,\n      \"shard_min_doc_count\": 10,\n      \"min_doc_count\": 10,\n      \"include\": { __one_of: [\"*\", { pattern: \"\", flags: \"\" }] },\n      \"exclude\": { __one_of: [\"*\", { pattern: \"\", flags: \"\" }] },\n      \"execution_hint\": { __one_of: [\"map\", \"global_ordinals\", \"global_ordinals_hash\"] },\n      \"background_filter\": {\n        __scope_link: \"GLOBAL.filter\"\n      },\n      \"mutual_information\": {\n        \"include_negatives\": { __one_of: [true, false] }\n      },\n      \"chi_square\": {\n        \"include_negatives\": { __one_of: [true, false] },\n        \"background_is_superset\": { __one_of: [true, false] }\n      },\n      \"percentage\": {},\n      \"gnd\": {\n        \"background_is_superset\": { __one_of: [true, false] }\n      },\n      \"script_heuristic\": {\n        __template: {\n          \"script\": \"_subset_freq/(_superset_freq - _subset_freq + 1)\"\n        },\n        \"script\": {\n          // populated by a global rule\n        }\n      }\n    },\n    \"range\": {\n      __template: {\n        \"field\": \"\",\n        \"ranges\": [\n          { \"from\": 50, \"to\": 100 },\n        ]\n      },\n      \"field\": \"{field}\",\n      \"ranges\": [\n        { \"to\": 50, \"from\": 100, \"key\": \"\" }\n      ],\n      \"keyed\": { __one_of: [true, false] },\n      \"script\": {\n        // populated by a global rule\n      }\n    },\n    \"date_range\": {\n      __template: {\n        \"field\": \"\",\n        \"ranges\": [\n          { \"from\": \"now-10d/d\", \"to\": \"now\" },\n        ]\n      },\n      \"field\": \"{field}\",\n      \"format\": \"MM-yyy\",\n      \"ranges\": [\n        { \"to\": \"\", \"from\": \"\", \"key\": \"\" }\n      ],\n      \"keyed\": { __one_of: [true, false] },\n      \"script\": {\n        // populated by a global rule\n      }\n    },\n    \"ip_range\": {\n      __template: {\n        \"field\": \"\",\n        \"ranges\": [\n          { \"from\": \"10.0.0.5\", \"to\": \"10.0.0.10\" },\n        ]\n      },\n      \"field\": \"{field}\",\n      \"format\": \"MM-yyy\",\n      \"ranges\": [\n        { \"to\": \"\", \"from\": \"\", \"key\": \"\", \"mask\": \"10.0.0.127/25\" }\n      ],\n      \"keyed\": { __one_of: [true, false] },\n      \"script\": {\n        // populated by a global rule\n      }\n    },\n    \"histogram\": {\n      __template: {\n        \"field\": \"price\",\n        \"interval\": 50\n      },\n      \"field\": \"{field}\",\n      \"interval\": 50,\n      \"min_doc_count\": 0,\n      \"order\": {\n        __template: {\n          \"_key\": \"asc\"\n        },\n        \"_key\": { __one_of: [\"asc\", \"desc\"] },\n        \"_count\": { __one_of: [\"asc\", \"desc\"] },\n        \"*\": { __one_of: [\"asc\", \"desc\"] }\n      },\n      \"keyed\": { __one_of: [true, false] },\n      \"missing\": 0\n    },\n    \"date_histogram\": {\n      __template: {\n        \"field\": \"date\",\n        \"interval\": \"month\"\n      },\n      \"field\": \"{field}\",\n      \"interval\": { __one_of: [\"year\", \"quarter\", \"week\", \"day\", \"hour\", \"minute\", \"second\"] },\n      \"min_doc_count\": 0,\n      \"order\": {\n        __template: {\n          \"_key\": \"asc\"\n        },\n        \"_key\": { __one_of: [\"asc\", \"desc\"] },\n        \"_count\": { __one_of: [\"asc\", \"desc\"] },\n        \"*\": { __one_of: [\"asc\", \"desc\"] }\n      },\n      \"keyed\": { __one_of: [true, false] },\n      \"pre_zone\": \"-01:00\",\n      \"post_zone\": \"-01:00\",\n      \"pre_zone_adjust_large_interval\": { __one_of: [true, false] },\n      \"factor\": 1000,\n      \"pre_offset\": \"1d\",\n      \"post_offset\": \"1d\",\n      \"format\": \"yyyy-MM-dd\",\n      \"time_zone\": \"00:00\",\n      \"missing\": \"\"\n    },\n    \"geo_distance\": {\n      __template: {\n        \"field\": \"location\",\n        \"origin\": { \"lat\": 52.3760, \"lon\": 4.894 },\n        \"ranges\": [\n          { \"from\": 100, \"to\": 300 },\n        ]\n      },\n      \"field\": \"{field}\",\n      \"origin\": { \"lat\": 0.0, \"lon\": 0.0 },\n      \"unit\": { __one_of: [\"mi\", \"km\", \"in\", \"yd\", \"m\", \"cm\", \"mm\"] },\n      \"ranges\": [\n        { \"from\": 50, \"to\": 100 }\n      ],\n      \"distance_type\": { __one_of: [\"arc\", \"sloppy_arc\", \"plane\"] }\n\n    },\n    \"geohash_grid\": {\n      __template: {\n        \"field\": \"\",\n        \"precision\": 3\n      },\n      \"field\": \"{field}\",\n      \"precision\": { __one_of: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12] },\n      \"size\": 10,\n      \"shard_size\": 10\n    },\n    \"percentiles\": {\n      __template: {\n        \"field\": \"\",\n        \"percents\": [1.0, 5.0, 25.0, 50.0, 75.0, 95.0, 99.0]\n      },\n      \"field\": \"{field}\",\n      \"percents\": {\n        __template: [1.0, 5.0, 25.0, 50.0, 75.0, 95.0, 99.0],\n        // mark type as list\n        __any_of: []\n      },\n      \"script\": {\n        // populated by a global rule\n      },\n      \"compression\": 100,\n      \"method\": { __one_of: [\"hdr\", \"tdigest\"] },\n      missing: 0\n    },\n    \"cardinality\": {\n      __template: {\n        \"field\": \"\"\n      },\n      \"precision_threshold\": 100,\n      \"rehash\": true,\n      \"script\": {\n        // populated by a global rule\n      },\n      missing: \"\"\n    },\n    \"scripted_metric\": {\n      __template: {\n        \"init_script\": \"\",\n        \"map_script\": \"\",\n        \"combine_script\": \"\",\n        \"reduce_script\": \"\"\n      },\n      \"init_script\": {\n        __scope_link: \"GLOBAL.script\"\n      },\n      \"map_script\": {\n        __scope_link: \"GLOBAL.script\"\n      },\n      \"combine_script\": {\n        __scope_link: \"GLOBAL.script\"\n      },\n      \"reduce_script\": {\n        __scope_link: \"GLOBAL.script\"\n      },\n      \"lang\": \"groovy\",\n      \"params\": {},\n      \"reduce_params\": {}\n    },\n    \"geo_bounds\": {\n      __template: {\n        field: \"\"\n      },\n      field: \"{field}\",\n      wrap_longitude: { __one_of: [true, false] }\n    },\n    \"top_hits\": {\n      __template: {\n        size: 10\n      },\n      from: 0,\n      size: 10,\n      sort: {\n        __template: [],\n        __scope_link: \"_search.sort\"\n      },\n      highlight: {},\n      explain: { __one_of: [true, false] },\n      _source: {\n        __template: \"\",\n        __scope_link: \"_search._source\"\n      },\n      script_fields: {\n        __scope_link: \"_search.script_fields\"\n      },\n      docvalue_fields: [\"{field}\"],\n      version: { __one_of: [true, false] }\n    },\n    \"percentile_ranks\": {\n      __template: {\n        field: \"\",\n        values: [10, 15]\n      },\n      field: \"{field}\",\n      values: [],\n      \"script\": {\n        // populated by a global rule\n      },\n      \"compression\": 100,\n      \"method\": { __one_of: [\"hdr\", \"tdigest\"] },\n      missing: 0\n    },\n    \"sampler\": {\n      __template: {},\n      \"field\": \"{field}\",\n      \"script\": {\n        // populated by a global rule\n      },\n      \"shard_size\": 100,\n      \"max_docs_per_value\": 3,\n      \"execution_hint\": { __one_of: [\"map\", \"global_ordinals\", \"bytes_hash\"] }\n    },\n    \"children\": {\n      __template: {\n        \"type\": \"\",\n      },\n      \"type\": \"\"\n    },\n    \"derivative\": simple_pipeline,\n    \"avg_bucket\": simple_pipeline,\n    \"max_bucket\": simple_pipeline,\n    \"min_bucket\": simple_pipeline,\n    \"sum_bucket\": simple_pipeline,\n    \"moving_avg\": {\n      __template: {\n        buckets_path: \"\"\n      },\n      buckets_path: \"\",\n      format: \"\",\n      gap_policy: gap_policy,\n      \"window\": 5,\n      model: { __one_of: [\"simple\", \"linear\", \"ewma\", \"holt\", \"holt_winters\"] },\n      settings: {\n        type: { __one_of: [\"add\", \"mult\"] },\n        alpha: 0.5,\n        beta: 0.5,\n        gamma: 0.5,\n        period: 7\n      }\n    },\n    \"cumulative_sum\": {\n      __template: {\n        buckets_path: \"\"\n      },\n      buckets_path: \"\",\n      format: \"\"\n    },\n    \"serial_diff\": {\n      __template: {\n        buckets_path: \"\",\n        lag: 7\n      },\n      lag: 7,\n      gap_policy: gap_policy,\n      buckets_path: \"\",\n      format: \"\"\n    },\n    \"bucket_script\": {\n      __template: {\n        buckets_path: \"\",\n        script: {}\n      },\n      buckets_path: \"\",\n      format: \"\",\n      gap_policy: gap_policy,\n      script: {\n        // populated by a global rule\n      }\n    },\n    \"bucket_selector\": {\n      __template: {\n        buckets_path: \"\",\n        script: {}\n      },\n      buckets_path: \"\",\n      gap_policy: gap_policy,\n      script: {\n        // populated by a global rule\n      }\n    },\n    \"matrix_stats\": {\n      __template: {\n        fields: []\n      },\n      fields: [\"{field}\"]\n    }\n  }\n};\nmodule.exports = function (api) {\n\n  api.addGlobalAutocompleteRules('aggregations', rules);\n  api.addGlobalAutocompleteRules('aggs', rules);\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/cat.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nvar _ = require(\"lodash\");\n\nfunction addSimpleCat(endpoint, api, params, patterns) {\n  var url_params = { \"help\": \"__flag__\", \"v\": \"__flag__\", \"bytes\": [\"b\"] };\n  _.each(params || [], function (p) {\n    if (_.isString(p)) {\n      url_params[p] = \"__flag__\";\n    } else {\n      var k = Object.keys(p)[0];\n      url_params[k] = p[k];\n    }\n  });\n  api.addEndpointDescription(endpoint, {\n    match: endpoint,\n    url_params: url_params,\n    patterns: patterns || [endpoint]\n  });\n}\n\nfunction addNodeattrsCat(api) {\n  api.addEndpointDescription('_cat/nodeattrs', {\n    methods: ['GET'],\n    patterns: [\"_cat/nodeattrs\"],\n    url_params: {\n      help: \"__flag__\",\n      v: \"__flag__\",\n      h: [\"node\", \"name\", \"id\", \"nodeId\", \"pid\", \"p\", \"host\", \"h\", \"ip\", \"i\", \"port\", \"po\", \"attr\", \"attr.name\", \"value\", \"attr.value\"]\n    }\n  });\n}\n\nmodule.exports = function (api) {\n  addSimpleCat('_cat/aliases', api);\n  addSimpleCat('_cat/allocation', api, null, ['_cat/allocation', '_cat/allocation/{nodes}']);\n  addSimpleCat('_cat/count', api);\n  addSimpleCat('_cat/health', api, [{ \"ts\": [\"false\", \"true\"] }]);\n  addSimpleCat('_cat/indices', api, [{ h: [] }, \"pri\"], ['_cat/indices', '_cat/indices/{indices}']);\n  addSimpleCat('_cat/master', api);\n  addSimpleCat('_cat/nodes', api);\n  addSimpleCat('_cat/pending_tasks', api);\n  addSimpleCat('_cat/recovery', api);\n  addSimpleCat('_cat/thread_pool', api);\n  addSimpleCat('_cat/shards', api);\n  addSimpleCat('_cat/plugins', api);\n  addSimpleCat('_cat/segments', api);\n  addNodeattrsCat(api);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9jYXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRTFCLFNBQVMsWUFBWSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRTtBQUNyRCxNQUFJLFVBQVUsR0FBRyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO0FBQ3pFLEdBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLEVBQUUsRUFBRSxVQUFVLENBQUMsRUFBRTtBQUNoQyxRQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDakIsZ0JBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7S0FDNUIsTUFDSTtBQUNILFVBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUIsZ0JBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDdEI7R0FDRixDQUFDLENBQUM7QUFDSCxLQUFHLENBQUMsc0JBQXNCLENBQUMsUUFBUSxFQUFFO0FBQ25DLFNBQUssRUFBRSxRQUFRO0FBQ2YsY0FBVSxFQUFFLFVBQVU7QUFDdEIsWUFBUSxFQUFFLFFBQVEsSUFBSSxDQUFDLFFBQVEsQ0FBQztHQUNqQyxDQUFDLENBQUM7Q0FDSjs7QUFFRCxTQUFTLGVBQWUsQ0FBQyxHQUFHLEVBQUU7QUFDNUIsS0FBRyxDQUFDLHNCQUFzQixDQUFDLGdCQUFnQixFQUFFO0FBQzNDLFdBQU8sRUFBRSxDQUFDLEtBQUssQ0FBQztBQUNoQixZQUFRLEVBQUUsQ0FDUixnQkFBZ0IsQ0FDakI7QUFDRCxjQUFVLEVBQUU7QUFDVixVQUFJLEVBQUUsVUFBVTtBQUNoQixPQUFDLEVBQUUsVUFBVTtBQUNiLE9BQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLFlBQVksQ0FBQztLQUNsSTtHQUNGLENBQUMsQ0FBQztDQUNKOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLEVBQUU7QUFDOUIsY0FBWSxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNsQyxjQUFZLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxDQUFDLGlCQUFpQixFQUFFLHlCQUF5QixDQUFDLENBQUMsQ0FBQztBQUMzRixjQUFZLENBQUMsWUFBWSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLGNBQVksQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFLENBQy9CLEVBQUUsSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQzVCLENBQUMsQ0FBQztBQUNILGNBQVksQ0FBQyxjQUFjLEVBQUUsR0FBRyxFQUFFLENBQzlCLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUNULEtBQUssQ0FDTixFQUNELENBQUMsY0FBYyxFQUFFLHdCQUF3QixDQUFDLENBQUMsQ0FBQztBQUM5QyxjQUFZLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2pDLGNBQVksQ0FBQyxZQUFZLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDaEMsY0FBWSxDQUFDLG9CQUFvQixFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3hDLGNBQVksQ0FBQyxlQUFlLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDbkMsY0FBWSxDQUFDLGtCQUFrQixFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3RDLGNBQVksQ0FBQyxhQUFhLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDakMsY0FBWSxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNsQyxjQUFZLENBQUMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ25DLGlCQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDdEIsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvYXBpX3NlcnZlci9lc181XzAvY2F0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5mdW5jdGlvbiBhZGRTaW1wbGVDYXQoZW5kcG9pbnQsIGFwaSwgcGFyYW1zLCBwYXR0ZXJucykge1xuICB2YXIgdXJsX3BhcmFtcyA9IHsgXCJoZWxwXCI6IFwiX19mbGFnX19cIiwgXCJ2XCI6IFwiX19mbGFnX19cIiwgXCJieXRlc1wiOiBbXCJiXCJdIH07XG4gIF8uZWFjaChwYXJhbXMgfHwgW10sIGZ1bmN0aW9uIChwKSB7XG4gICAgaWYgKF8uaXNTdHJpbmcocCkpIHtcbiAgICAgIHVybF9wYXJhbXNbcF0gPSBcIl9fZmxhZ19fXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIGsgPSBPYmplY3Qua2V5cyhwKVswXTtcbiAgICAgIHVybF9wYXJhbXNba10gPSBwW2tdO1xuICAgIH1cbiAgfSk7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKGVuZHBvaW50LCB7XG4gICAgbWF0Y2g6IGVuZHBvaW50LFxuICAgIHVybF9wYXJhbXM6IHVybF9wYXJhbXMsXG4gICAgcGF0dGVybnM6IHBhdHRlcm5zIHx8IFtlbmRwb2ludF1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZE5vZGVhdHRyc0NhdChhcGkpIHtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19jYXQvbm9kZWF0dHJzJywge1xuICAgIG1ldGhvZHM6IFsnR0VUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwiX2NhdC9ub2RlYXR0cnNcIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgaGVscDogXCJfX2ZsYWdfX1wiLFxuICAgICAgdjogXCJfX2ZsYWdfX1wiLFxuICAgICAgaDogW1wibm9kZVwiLCBcIm5hbWVcIiwgXCJpZFwiLCBcIm5vZGVJZFwiLCBcInBpZFwiLCBcInBcIiwgXCJob3N0XCIsIFwiaFwiLCBcImlwXCIsIFwiaVwiLCBcInBvcnRcIiwgXCJwb1wiLCBcImF0dHJcIiwgXCJhdHRyLm5hbWVcIiwgXCJ2YWx1ZVwiLCBcImF0dHIudmFsdWVcIl1cbiAgICB9XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGkpIHtcbiAgYWRkU2ltcGxlQ2F0KCdfY2F0L2FsaWFzZXMnLCBhcGkpO1xuICBhZGRTaW1wbGVDYXQoJ19jYXQvYWxsb2NhdGlvbicsIGFwaSwgbnVsbCwgWydfY2F0L2FsbG9jYXRpb24nLCAnX2NhdC9hbGxvY2F0aW9uL3tub2Rlc30nXSk7XG4gIGFkZFNpbXBsZUNhdCgnX2NhdC9jb3VudCcsIGFwaSk7XG4gIGFkZFNpbXBsZUNhdCgnX2NhdC9oZWFsdGgnLCBhcGksIFtcbiAgICB7IFwidHNcIjogW1wiZmFsc2VcIiwgXCJ0cnVlXCJdIH1cbiAgXSk7XG4gIGFkZFNpbXBsZUNhdCgnX2NhdC9pbmRpY2VzJywgYXBpLCBbXG4gICAgICB7IGg6IFtdIH0sXG4gICAgICBcInByaVwiLFxuICAgIF0sXG4gICAgWydfY2F0L2luZGljZXMnLCAnX2NhdC9pbmRpY2VzL3tpbmRpY2VzfSddKTtcbiAgYWRkU2ltcGxlQ2F0KCdfY2F0L21hc3RlcicsIGFwaSk7XG4gIGFkZFNpbXBsZUNhdCgnX2NhdC9ub2RlcycsIGFwaSk7XG4gIGFkZFNpbXBsZUNhdCgnX2NhdC9wZW5kaW5nX3Rhc2tzJywgYXBpKTtcbiAgYWRkU2ltcGxlQ2F0KCdfY2F0L3JlY292ZXJ5JywgYXBpKTtcbiAgYWRkU2ltcGxlQ2F0KCdfY2F0L3RocmVhZF9wb29sJywgYXBpKTtcbiAgYWRkU2ltcGxlQ2F0KCdfY2F0L3NoYXJkcycsIGFwaSk7XG4gIGFkZFNpbXBsZUNhdCgnX2NhdC9wbHVnaW5zJywgYXBpKTtcbiAgYWRkU2ltcGxlQ2F0KCdfY2F0L3NlZ21lbnRzJywgYXBpKTtcbiAgYWRkTm9kZWF0dHJzQ2F0KGFwaSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/cat.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE1B,SAAS,YAAY,CAAC,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE;AACrD,MAAI,UAAU,GAAG,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,EAAE,UAAU,EAAE,OAAO,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC;AACzE,GAAC,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,EAAE,UAAU,CAAC,EAAE;AAChC,QAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;AACjB,gBAAU,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC;KAC5B,MACI;AACH,UAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1B,gBAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACtB;GACF,CAAC,CAAC;AACH,KAAG,CAAC,sBAAsB,CAAC,QAAQ,EAAE;AACnC,SAAK,EAAE,QAAQ;AACf,cAAU,EAAE,UAAU;AACtB,YAAQ,EAAE,QAAQ,IAAI,CAAC,QAAQ,CAAC;GACjC,CAAC,CAAC;CACJ;;AAED,SAAS,eAAe,CAAC,GAAG,EAAE;AAC5B,KAAG,CAAC,sBAAsB,CAAC,gBAAgB,EAAE;AAC3C,WAAO,EAAE,CAAC,KAAK,CAAC;AAChB,YAAQ,EAAE,CACR,gBAAgB,CACjB;AACD,cAAU,EAAE;AACV,UAAI,EAAE,UAAU;AAChB,OAAC,EAAE,UAAU;AACb,OAAC,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,YAAY,CAAC;KAClI;GACF,CAAC,CAAC;CACJ;;AAED,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE;AAC9B,cAAY,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;AAClC,cAAY,CAAC,iBAAiB,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,iBAAiB,EAAE,yBAAyB,CAAC,CAAC,CAAC;AAC3F,cAAY,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;AAChC,cAAY,CAAC,aAAa,EAAE,GAAG,EAAE,CAC/B,EAAE,IAAI,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC,EAAE,CAC5B,CAAC,CAAC;AACH,cAAY,CAAC,cAAc,EAAE,GAAG,EAAE,CAC9B,EAAE,CAAC,EAAE,EAAE,EAAE,EACT,KAAK,CACN,EACD,CAAC,cAAc,EAAE,wBAAwB,CAAC,CAAC,CAAC;AAC9C,cAAY,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;AACjC,cAAY,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;AAChC,cAAY,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC;AACxC,cAAY,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;AACnC,cAAY,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC;AACtC,cAAY,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;AACjC,cAAY,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC;AAClC,cAAY,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;AACnC,iBAAe,CAAC,GAAG,CAAC,CAAC;CACtB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/cat.js",
      "sourcesContent": [
        "let _ = require(\"lodash\");\n\nfunction addSimpleCat(endpoint, api, params, patterns) {\n  var url_params = { \"help\": \"__flag__\", \"v\": \"__flag__\", \"bytes\": [\"b\"] };\n  _.each(params || [], function (p) {\n    if (_.isString(p)) {\n      url_params[p] = \"__flag__\";\n    }\n    else {\n      var k = Object.keys(p)[0];\n      url_params[k] = p[k];\n    }\n  });\n  api.addEndpointDescription(endpoint, {\n    match: endpoint,\n    url_params: url_params,\n    patterns: patterns || [endpoint]\n  });\n}\n\nfunction addNodeattrsCat(api) {\n  api.addEndpointDescription('_cat/nodeattrs', {\n    methods: ['GET'],\n    patterns: [\n      \"_cat/nodeattrs\"\n    ],\n    url_params: {\n      help: \"__flag__\",\n      v: \"__flag__\",\n      h: [\"node\", \"name\", \"id\", \"nodeId\", \"pid\", \"p\", \"host\", \"h\", \"ip\", \"i\", \"port\", \"po\", \"attr\", \"attr.name\", \"value\", \"attr.value\"]\n    }\n  });\n}\n\nmodule.exports = function (api) {\n  addSimpleCat('_cat/aliases', api);\n  addSimpleCat('_cat/allocation', api, null, ['_cat/allocation', '_cat/allocation/{nodes}']);\n  addSimpleCat('_cat/count', api);\n  addSimpleCat('_cat/health', api, [\n    { \"ts\": [\"false\", \"true\"] }\n  ]);\n  addSimpleCat('_cat/indices', api, [\n      { h: [] },\n      \"pri\",\n    ],\n    ['_cat/indices', '_cat/indices/{indices}']);\n  addSimpleCat('_cat/master', api);\n  addSimpleCat('_cat/nodes', api);\n  addSimpleCat('_cat/pending_tasks', api);\n  addSimpleCat('_cat/recovery', api);\n  addSimpleCat('_cat/thread_pool', api);\n  addSimpleCat('_cat/shards', api);\n  addSimpleCat('_cat/plugins', api);\n  addSimpleCat('_cat/segments', api);\n  addNodeattrsCat(api);\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/cluster.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_cluster/nodes/stats');\n  api.addEndpointDescription('_cluster/state', {\n    patterns: [\"_cluster/state\", \"_cluster/state/{metrics}\", \"_cluster/state/{metrics}/{indices}\"],\n    url_components: {\n      \"metrics\": [\"version\", \"master_node\", \"nodes\", \"routing_table\", \"routing_node\", \"metadata\", \"blocks\"]\n    }\n  });\n  api.addEndpointDescription('_cluster/health', {\n    url_params: {\n      \"local\": \"__flag__\",\n      \"level\": [\"indices\", \"shards\"],\n      \"master_timeout\": \"30s\",\n      \"timeout\": \"30s\",\n      \"wait_for_status\": [\"yellow\", \"green\"],\n      \"wait_for_relocating_shards\": 0,\n      \"wait_for_active_shards\": 0,\n      \"wait_for_nodes\": 0\n    }\n  });\n  api.addEndpointDescription('_cluster/pending_tasks');\n  api.addEndpointDescription('get_cluster/settings', {\n    patterns: ['_cluster/settings']\n  });\n\n  api.addEndpointDescription('put_cluster/settings', {\n    methods: ['PUT'],\n    patterns: ['_cluster/settings'],\n    data_autocomplete_rules: {\n      persistent: {\n        cluster: {\n          routing: {\n            'allocation.enable': { __one_of: [\"all\", \"primaries\", \"new_primaries\", \"none\"] },\n            'allocation.disk.threshold_enabled': { __one_of: [false, true] },\n            'allocation.disk.watermark.low': '85%',\n            'allocation.disk.watermark.high': '90%',\n            'allocation.disk.include_relocations': { __one_of: [true, false] },\n            'allocation.disk.reroute_interval': '60s',\n            'allocation.exclude': {\n              '_ip': \"\",\n              '_name': \"\",\n              '_host': \"\",\n              '_id': \"\"\n            },\n            'allocation.include': {\n              '_ip': \"\",\n              '_name': \"\",\n              '_host': \"\",\n              '_id': \"\"\n            },\n            'allocation.require': {\n              '_ip': \"\",\n              '_name': \"\",\n              '_host': \"\",\n              '_id': \"\"\n            },\n            'allocation.awareness.attributes': [],\n            'allocation.awareness.force': {\n              '*': {\n                'values': []\n              }\n            },\n            'allocation.allow_rebalance': { __one_of: ['always', 'indices_primaries_active', 'indices_all_active'] },\n            'allocation.cluster_concurrent_rebalance': 2,\n            'allocation.node_initial_primaries_recoveries': 4,\n            'allocation.node_concurrent_recoveries': 2,\n            'allocation.same_shard.host': { __one_of: [false, true] }\n          }\n        },\n        indices: {\n          breaker: {\n            \"total.limit\": \"70%\",\n            \"fielddata.limit\": \"60%\",\n            \"fielddata.overhead\": 1.03,\n            \"request.limit\": \"40%\",\n            \"request.overhead\": 1.0\n          }\n        }\n      },\n      transient: {\n        __scope_link: '.persistent'\n      }\n    }\n  });\n\n  api.addEndpointDescription('_cluster/reroute', {\n    methods: ['POST'],\n    url_params: {\n      explain: \"__flag__\",\n      dry_run: \"__flag__\"\n    },\n    data_autocomplete_rules: {\n      commands: [{\n        move: {\n          __template: {\n            index: \"\",\n            shard: 0,\n            from_node: \"\",\n            to_node: \"\"\n          },\n          index: \"{index}\",\n          shard: 0,\n          from_node: \"{node}\",\n          to_node: \"{node}\"\n        },\n        cancel: {\n          __template: {\n            index: \"\",\n            shard: 0,\n            node: \"\"\n          },\n          index: \"{index}\",\n          shard: 0,\n          node: \"{node}\",\n          allow_primary: { __one_of: [true, false] }\n        },\n        allocate: {\n          __template: {\n            index: \"\",\n            shard: 0,\n            node: \"\"\n          },\n          index: \"{index}\",\n          shard: 0,\n          node: \"{node}\",\n          allow_primary: { __one_of: [true, false] }\n        }\n      }],\n      dry_run: { __one_of: [true, false] }\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9jbHVzdGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLEdBQUcsRUFBRTtBQUM5QixLQUFHLENBQUMsc0JBQXNCLENBQUMsc0JBQXNCLENBQUMsQ0FBQztBQUNuRCxLQUFHLENBQUMsc0JBQXNCLENBQUMsZ0JBQWdCLEVBQUU7QUFDM0MsWUFBUSxFQUFFLENBQ1IsZ0JBQWdCLEVBQ2hCLDBCQUEwQixFQUMxQixvQ0FBb0MsQ0FDckM7QUFDRCxrQkFBYyxFQUFFO0FBQ2QsZUFBUyxFQUFFLENBQUMsU0FBUyxFQUFFLGFBQWEsRUFBRSxPQUFPLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxVQUFVLEVBQUUsUUFBUSxDQUFDO0tBQ3RHO0dBQ0YsQ0FBQyxDQUFDO0FBQ0gsS0FBRyxDQUFDLHNCQUFzQixDQUFDLGlCQUFpQixFQUFFO0FBQzVDLGNBQVUsRUFBRTtBQUNWLGFBQU8sRUFBRSxVQUFVO0FBQ25CLGFBQU8sRUFBRSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUM7QUFDOUIsc0JBQWdCLEVBQUUsS0FBSztBQUN2QixlQUFTLEVBQUUsS0FBSztBQUNoQix1QkFBaUIsRUFBRSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUM7QUFDdEMsa0NBQTRCLEVBQUUsQ0FBQztBQUMvQiw4QkFBd0IsRUFBRSxDQUFDO0FBQzNCLHNCQUFnQixFQUFFLENBQUM7S0FDcEI7R0FDRixDQUFDLENBQUM7QUFDSCxLQUFHLENBQUMsc0JBQXNCLENBQUMsd0JBQXdCLENBQUMsQ0FBQztBQUNyRCxLQUFHLENBQUMsc0JBQXNCLENBQUMsc0JBQXNCLEVBQUU7QUFDakQsWUFBUSxFQUFFLENBQ1IsbUJBQW1CLENBQ3BCO0dBQ0YsQ0FBQyxDQUFDOztBQUVILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxz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RUFBRSxRQUFRO0FBQ2QsdUJBQWEsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRTtTQUMzQztBQUNELGdCQUFRLEVBQUU7QUFDUixvQkFBVSxFQUFFO0FBQ1YsaUJBQUssRUFBRSxFQUFFO0FBQ1QsaUJBQUssRUFBRSxDQUFDO0FBQ1IsZ0JBQUksRUFBRSxFQUFFO1dBQ1Q7QUFDRCxlQUFLLEVBQUUsU0FBUztBQUNoQixlQUFLLEVBQUUsQ0FBQztBQUNSLGNBQUksRUFBRSxRQUFRO0FBQ2QsdUJBQWEsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRTtTQUMzQztPQUNGLENBQ0Y7QUFDRCxhQUFPLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUU7S0FDckM7R0FDRixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9jbHVzdGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpKSB7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfY2x1c3Rlci9ub2Rlcy9zdGF0cycpO1xuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX2NsdXN0ZXIvc3RhdGUnLCB7XG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwiX2NsdXN0ZXIvc3RhdGVcIixcbiAgICAgIFwiX2NsdXN0ZXIvc3RhdGUve21ldHJpY3N9XCIsXG4gICAgICBcIl9jbHVzdGVyL3N0YXRlL3ttZXRyaWNzfS97aW5kaWNlc31cIlxuICAgIF0sXG4gICAgdXJsX2NvbXBvbmVudHM6IHtcbiAgICAgIFwibWV0cmljc1wiOiBbXCJ2ZXJzaW9uXCIsIFwibWFzdGVyX25vZGVcIiwgXCJub2Rlc1wiLCBcInJvdXRpbmdfdGFibGVcIiwgXCJyb3V0aW5nX25vZGVcIiwgXCJtZXRhZGF0YVwiLCBcImJsb2Nrc1wiXVxuICAgIH1cbiAgfSk7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfY2x1c3Rlci9oZWFsdGgnLCB7XG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgXCJsb2NhbFwiOiBcIl9fZmxhZ19fXCIsXG4gICAgICBcImxldmVsXCI6IFtcImluZGljZXNcIiwgXCJzaGFyZHNcIl0sXG4gICAgICBcIm1hc3Rlcl90aW1lb3V0XCI6IFwiMzBzXCIsXG4gICAgICBcInRpbWVvdXRcIjogXCIzMHNcIixcbiAgICAgIFwid2FpdF9mb3Jfc3RhdHVzXCI6IFtcInllbGxvd1wiLCBcImdyZWVuXCJdLFxuICAgICAgXCJ3YWl0X2Zvcl9yZWxvY2F0aW5nX3NoYXJkc1wiOiAwLFxuICAgICAgXCJ3YWl0X2Zvcl9hY3RpdmVfc2hhcmRzXCI6IDAsXG4gICAgICBcIndhaXRfZm9yX25vZGVzXCI6IDBcbiAgICB9XG4gIH0pO1xuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX2NsdXN0ZXIvcGVuZGluZ190YXNrcycpO1xuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignZ2V0X2NsdXN0ZXIvc2V0dGluZ3MnLCB7XG4gICAgcGF0dGVybnM6IFtcbiAgICAgICdfY2x1c3Rlci9zZXR0aW5ncydcbiAgICBdXG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdwdXRfY2x1c3Rlci9zZXR0aW5ncycsIHtcbiAgICBtZXRob2RzOiBbJ1BVVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICAnX2NsdXN0ZXIvc2V0dGluZ3MnXG4gICAgXSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgcGVyc2lzdGVudDoge1xuICAgICAgICBjbHVzdGVyOiB7XG4gICAgICAgICAgcm91dGluZzoge1xuICAgICAgICAgICAgJ2FsbG9jYXRpb24uZW5hYmxlJzogeyBfX29uZV9vZjogW1wiYWxsXCIsIFwicHJpbWFyaWVzXCIsIFwibmV3X3ByaW1hcmllc1wiLCBcIm5vbmVcIl0gfSxcbiAgICAgICAgICAgICdhbGxvY2F0aW9uLmRpc2sudGhyZXNob2xkX2VuYWJsZWQnOiB7IF9fb25lX29mOiBbZmFsc2UsIHRydWVdIH0sXG4gICAgICAgICAgICAnYWxsb2NhdGlvbi5kaXNrLndhdGVybWFyay5sb3cnOiAnODUlJyxcbiAgICAgICAgICAgICdhbGxvY2F0aW9uLmRpc2sud2F0ZXJtYXJrLmhpZ2gnOiAnOTAlJyxcbiAgICAgICAgICAgICdhbGxvY2F0aW9uLmRpc2suaW5jbHVkZV9yZWxvY2F0aW9ucyc6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfSxcbiAgICAgICAgICAgICdhbGxvY2F0aW9uLmRpc2sucmVyb3V0ZV9pbnRlcnZhbCc6ICc2MHMnLFxuICAgICAgICAgICAgJ2FsbG9jYXRpb24uZXhjbHVkZSc6IHtcbiAgICAgICAgICAgICAgJ19pcCc6IFwiXCIsXG4gICAgICAgICAgICAgICdfbmFtZSc6IFwiXCIsXG4gICAgICAgICAgICAgICdfaG9zdCc6IFwiXCIsXG4gICAgICAgICAgICAgICdfaWQnOiBcIlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2FsbG9jYXRpb24uaW5jbHVkZSc6IHtcbiAgICAgICAgICAgICAgJ19pcCc6IFwiXCIsXG4gICAgICAgICAgICAgICdfbmFtZSc6IFwiXCIsXG4gICAgICAgICAgICAgICdfaG9zdCc6IFwiXCIsXG4gICAgICAgICAgICAgICdfaWQnOiBcIlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2FsbG9jYXRpb24ucmVxdWlyZSc6IHtcbiAgICAgICAgICAgICAgJ19pcCc6IFwiXCIsXG4gICAgICAgICAgICAgICdfbmFtZSc6IFwiXCIsXG4gICAgICAgICAgICAgICdfaG9zdCc6IFwiXCIsXG4gICAgICAgICAgICAgICdfaWQnOiBcIlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2FsbG9jYXRpb24uYXdhcmVuZXNzLmF0dHJpYnV0ZXMnOiBbXSxcbiAgICAgICAgICAgICdhbGxvY2F0aW9uLmF3YXJlbmVzcy5mb3JjZSc6IHtcbiAgICAgICAgICAgICAgJyonOiB7XG4gICAgICAgICAgICAgICAgJ3ZhbHVlcyc6IFtdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnYWxsb2NhdGlvbi5hbGxvd19yZWJhbGFuY2UnOiB7IF9fb25lX29mOiBbJ2Fsd2F5cycsICdpbmRpY2VzX3ByaW1hcmllc19hY3RpdmUnLCAnaW5kaWNlc19hbGxfYWN0aXZlJ10gfSxcbiAgICAgICAgICAgICdhbGxvY2F0aW9uLmNsdXN0ZXJfY29uY3VycmVudF9yZWJhbGFuY2UnOiAyLFxuICAgICAgICAgICAgJ2FsbG9jYXRpb24ubm9kZV9pbml0aWFsX3ByaW1hcmllc19yZWNvdmVyaWVzJzogNCxcbiAgICAgICAgICAgICdhbGxvY2F0aW9uLm5vZGVfY29uY3VycmVudF9yZWNvdmVyaWVzJzogMixcbiAgICAgICAgICAgICdhbGxvY2F0aW9uLnNhbWVfc2hhcmQuaG9zdCc6IHsgX19vbmVfb2Y6IFtmYWxzZSwgdHJ1ZV0gfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5kaWNlczoge1xuICAgICAgICAgIGJyZWFrZXI6IHtcbiAgICAgICAgICAgIFwidG90YWwubGltaXRcIjogXCI3MCVcIixcbiAgICAgICAgICAgIFwiZmllbGRkYXRhLmxpbWl0XCI6IFwiNjAlXCIsXG4gICAgICAgICAgICBcImZpZWxkZGF0YS5vdmVyaGVhZFwiOiAxLjAzLFxuICAgICAgICAgICAgXCJyZXF1ZXN0LmxpbWl0XCI6IFwiNDAlXCIsXG4gICAgICAgICAgICBcInJlcXVlc3Qub3ZlcmhlYWRcIjogMS4wXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdHJhbnNpZW50OiB7XG4gICAgICAgIF9fc2NvcGVfbGluazogJy5wZXJzaXN0ZW50J1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19jbHVzdGVyL3Jlcm91dGUnLCB7XG4gICAgbWV0aG9kczogWydQT1NUJ10sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgZXhwbGFpbjogXCJfX2ZsYWdfX1wiLFxuICAgICAgZHJ5X3J1bjogXCJfX2ZsYWdfX1wiXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgY29tbWFuZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG1vdmU6IHtcbiAgICAgICAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgICAgICAgaW5kZXg6IFwiXCIsXG4gICAgICAgICAgICAgIHNoYXJkOiAwLFxuICAgICAgICAgICAgICBmcm9tX25vZGU6IFwiXCIsXG4gICAgICAgICAgICAgIHRvX25vZGU6IFwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmRleDogXCJ7aW5kZXh9XCIsXG4gICAgICAgICAgICBzaGFyZDogMCxcbiAgICAgICAgICAgIGZyb21fbm9kZTogXCJ7bm9kZX1cIixcbiAgICAgICAgICAgIHRvX25vZGU6IFwie25vZGV9XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhbmNlbDoge1xuICAgICAgICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICAgICAgICBpbmRleDogXCJcIixcbiAgICAgICAgICAgICAgc2hhcmQ6IDAsXG4gICAgICAgICAgICAgIG5vZGU6IFwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmRleDogXCJ7aW5kZXh9XCIsXG4gICAgICAgICAgICBzaGFyZDogMCxcbiAgICAgICAgICAgIG5vZGU6IFwie25vZGV9XCIsXG4gICAgICAgICAgICBhbGxvd19wcmltYXJ5OiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGFsbG9jYXRlOiB7XG4gICAgICAgICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBcIlwiLFxuICAgICAgICAgICAgICBzaGFyZDogMCxcbiAgICAgICAgICAgICAgbm9kZTogXCJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZGV4OiBcIntpbmRleH1cIixcbiAgICAgICAgICAgIHNoYXJkOiAwLFxuICAgICAgICAgICAgbm9kZTogXCJ7bm9kZX1cIixcbiAgICAgICAgICAgIGFsbG93X3ByaW1hcnk6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIGRyeV9ydW46IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfVxuICAgIH1cbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/cluster.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/cluster.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('_cluster/nodes/stats');\n  api.addEndpointDescription('_cluster/state', {\n    patterns: [\n      \"_cluster/state\",\n      \"_cluster/state/{metrics}\",\n      \"_cluster/state/{metrics}/{indices}\"\n    ],\n    url_components: {\n      \"metrics\": [\"version\", \"master_node\", \"nodes\", \"routing_table\", \"routing_node\", \"metadata\", \"blocks\"]\n    }\n  });\n  api.addEndpointDescription('_cluster/health', {\n    url_params: {\n      \"local\": \"__flag__\",\n      \"level\": [\"indices\", \"shards\"],\n      \"master_timeout\": \"30s\",\n      \"timeout\": \"30s\",\n      \"wait_for_status\": [\"yellow\", \"green\"],\n      \"wait_for_relocating_shards\": 0,\n      \"wait_for_active_shards\": 0,\n      \"wait_for_nodes\": 0\n    }\n  });\n  api.addEndpointDescription('_cluster/pending_tasks');\n  api.addEndpointDescription('get_cluster/settings', {\n    patterns: [\n      '_cluster/settings'\n    ]\n  });\n\n  api.addEndpointDescription('put_cluster/settings', {\n    methods: ['PUT'],\n    patterns: [\n      '_cluster/settings'\n    ],\n    data_autocomplete_rules: {\n      persistent: {\n        cluster: {\n          routing: {\n            'allocation.enable': { __one_of: [\"all\", \"primaries\", \"new_primaries\", \"none\"] },\n            'allocation.disk.threshold_enabled': { __one_of: [false, true] },\n            'allocation.disk.watermark.low': '85%',\n            'allocation.disk.watermark.high': '90%',\n            'allocation.disk.include_relocations': { __one_of: [true, false] },\n            'allocation.disk.reroute_interval': '60s',\n            'allocation.exclude': {\n              '_ip': \"\",\n              '_name': \"\",\n              '_host': \"\",\n              '_id': \"\"\n            },\n            'allocation.include': {\n              '_ip': \"\",\n              '_name': \"\",\n              '_host': \"\",\n              '_id': \"\"\n            },\n            'allocation.require': {\n              '_ip': \"\",\n              '_name': \"\",\n              '_host': \"\",\n              '_id': \"\"\n            },\n            'allocation.awareness.attributes': [],\n            'allocation.awareness.force': {\n              '*': {\n                'values': []\n              }\n            },\n            'allocation.allow_rebalance': { __one_of: ['always', 'indices_primaries_active', 'indices_all_active'] },\n            'allocation.cluster_concurrent_rebalance': 2,\n            'allocation.node_initial_primaries_recoveries': 4,\n            'allocation.node_concurrent_recoveries': 2,\n            'allocation.same_shard.host': { __one_of: [false, true] }\n          }\n        },\n        indices: {\n          breaker: {\n            \"total.limit\": \"70%\",\n            \"fielddata.limit\": \"60%\",\n            \"fielddata.overhead\": 1.03,\n            \"request.limit\": \"40%\",\n            \"request.overhead\": 1.0\n          }\n        }\n      },\n      transient: {\n        __scope_link: '.persistent'\n      }\n    }\n  });\n\n  api.addEndpointDescription('_cluster/reroute', {\n    methods: ['POST'],\n    url_params: {\n      explain: \"__flag__\",\n      dry_run: \"__flag__\"\n    },\n    data_autocomplete_rules: {\n      commands: [\n        {\n          move: {\n            __template: {\n              index: \"\",\n              shard: 0,\n              from_node: \"\",\n              to_node: \"\"\n            },\n            index: \"{index}\",\n            shard: 0,\n            from_node: \"{node}\",\n            to_node: \"{node}\"\n          },\n          cancel: {\n            __template: {\n              index: \"\",\n              shard: 0,\n              node: \"\"\n            },\n            index: \"{index}\",\n            shard: 0,\n            node: \"{node}\",\n            allow_primary: { __one_of: [true, false] }\n          },\n          allocate: {\n            __template: {\n              index: \"\",\n              shard: 0,\n              node: \"\"\n            },\n            index: \"{index}\",\n            shard: 0,\n            node: \"{node}\",\n            allow_primary: { __one_of: [true, false] }\n          }\n        }\n      ],\n      dry_run: { __one_of: [true, false] }\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/count.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_count', {\n    methods: ['GET', 'POST'],\n    priority: 10, // collides with get doc by id\n    patterns: [\"{indices}/{types}/_count\", \"{indices}/_count\", \"_count\"],\n    url_params: {\n      preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      routing: \"\",\n      min_score: 1.0,\n      terminate_after: 10\n    },\n    data_autocomplete_rules: {\n      query: {\n        // populated by a global rule\n      }\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9jb3VudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLEVBQUU7QUFDOUIsS0FBRyxDQUFDLHNCQUFzQixDQUFDLFFBQVEsRUFBRTtBQUNqQyxXQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDO0FBQ3hCLFlBQVEsRUFBRSxFQUFFO0FBQ1osWUFBUSxFQUFFLENBQ1IsMEJBQTBCLEVBQzFCLGtCQUFrQixFQUNsQixRQUFRLENBQ1Q7QUFDRCxjQUFVLEVBQUU7QUFDVixnQkFBVSxFQUFFLENBQUMsVUFBVSxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxrQkFBa0IsRUFBRSxhQUFhLENBQUM7QUFDekcsYUFBTyxFQUFFLEVBQUU7QUFDWCxlQUFTLEVBQUUsR0FBRztBQUNkLHFCQUFlLEVBQUUsRUFBRTtLQUNwQjtBQUNELDJCQUF1QixFQUFFO0FBQ3ZCLFdBQUssRUFBRTs7T0FFTjtLQUNGO0dBQ0osQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvYXBpX3NlcnZlci9lc181XzAvY291bnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGkpIHtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19jb3VudCcsIHtcbiAgICAgIG1ldGhvZHM6IFsnR0VUJywgJ1BPU1QnXSxcbiAgICAgIHByaW9yaXR5OiAxMCwgLy8gY29sbGlkZXMgd2l0aCBnZXQgZG9jIGJ5IGlkXG4gICAgICBwYXR0ZXJuczogW1xuICAgICAgICBcIntpbmRpY2VzfS97dHlwZXN9L19jb3VudFwiLFxuICAgICAgICBcIntpbmRpY2VzfS9fY291bnRcIixcbiAgICAgICAgXCJfY291bnRcIlxuICAgICAgXSxcbiAgICAgIHVybF9wYXJhbXM6IHtcbiAgICAgICAgcHJlZmVyZW5jZTogW1wiX3ByaW1hcnlcIiwgXCJfcHJpbWFyeV9maXJzdFwiLCBcIl9sb2NhbFwiLCBcIl9vbmx5X25vZGU6eHl6XCIsIFwiX3ByZWZlcl9ub2RlOnh5elwiLCBcIl9zaGFyZHM6MiwzXCJdLFxuICAgICAgICByb3V0aW5nOiBcIlwiLFxuICAgICAgICBtaW5fc2NvcmU6IDEuMCxcbiAgICAgICAgdGVybWluYXRlX2FmdGVyOiAxMCxcbiAgICAgIH0sXG4gICAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgICBxdWVyeToge1xuICAgICAgICAgIC8vIHBvcHVsYXRlZCBieSBhIGdsb2JhbCBydWxlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/count.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE;AAC9B,KAAG,CAAC,sBAAsB,CAAC,QAAQ,EAAE;AACjC,WAAO,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC;AACxB,YAAQ,EAAE,EAAE;AACZ,YAAQ,EAAE,CACR,0BAA0B,EAC1B,kBAAkB,EAClB,QAAQ,CACT;AACD,cAAU,EAAE;AACV,gBAAU,EAAE,CAAC,UAAU,EAAE,gBAAgB,EAAE,QAAQ,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,aAAa,CAAC;AACzG,aAAO,EAAE,EAAE;AACX,eAAS,EAAE,GAAG;AACd,qBAAe,EAAE,EAAE;KACpB;AACD,2BAAuB,EAAE;AACvB,WAAK,EAAE;;OAEN;KACF;GACJ,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/count.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('_count', {\n      methods: ['GET', 'POST'],\n      priority: 10, // collides with get doc by id\n      patterns: [\n        \"{indices}/{types}/_count\",\n        \"{indices}/_count\",\n        \"_count\"\n      ],\n      url_params: {\n        preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n        routing: \"\",\n        min_score: 1.0,\n        terminate_after: 10,\n      },\n      data_autocomplete_rules: {\n        query: {\n          // populated by a global rule\n        }\n      }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/document.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_get_doc', {\n    methods: ['GET'],\n    patterns: [\"{index}/{type}/{id}\"],\n    url_params: {\n      \"version\": 1,\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"_source\": \"\",\n      \"_source_exclude\": \"\",\n      \"_source_include\": \"\"\n    }\n  });\n  api.addEndpointDescription('_get_doc_source', {\n    methods: ['GET'],\n    patterns: [\"{index}/{type}/{id}/_source\"],\n    url_params: {\n      \"version\": 1,\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"_source_exclude\": \"\",\n      \"_source_include\": \"\"\n    }\n  });\n  api.addEndpointDescription('_delete_doc', {\n    methods: ['DELETE'],\n    patterns: [\"{index}/{type}/{id}\"],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"external\", \"internal\"],\n      \"routing\": \"\",\n      \"parent\": \"\"\n    }\n  });\n  api.addEndpointDescription('index_doc', {\n    methods: ['PUT', 'POST'],\n    patterns: [\"{index}/{type}/{id}\"],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"external\", \"internal\"],\n      \"op_type\": [\"create\"],\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"timestamp\": \"\",\n      \"ttl\": \"5m\",\n      \"consistency\": [\"qurom\", \"one\", \"all\"],\n      \"refresh\": \"__flag__\",\n      \"timeout\": \"1m\"\n    }\n  });\n  api.addEndpointDescription('create_doc', {\n    methods: ['PUT', 'POST'],\n    patterns: [\"{index}/{type}/{id}/_create\"],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"external\", \"internal\"],\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"timestamp\": \"\",\n      \"ttl\": \"5m\",\n      \"consistency\": [\"qurom\", \"one\", \"all\"],\n      \"refresh\": \"__flag__\",\n      \"timeout\": \"1m\"\n    }\n  });\n  api.addEndpointDescription('index_doc_no_id', {\n    methods: ['POST'],\n    patterns: [\"{index}/{type}\"],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"external\", \"internal\"],\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"timestamp\": \"\",\n      \"ttl\": \"5m\",\n      \"consistency\": [\"qurom\", \"one\", \"all\"],\n      \"refresh\": \"__flag__\",\n      \"timeout\": \"1m\"\n    }\n  });\n\n  api.addEndpointDescription('_update', {\n    methods: ['POST'],\n    patterns: [\"{index}/{type}/{id}/_update\"],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"force\", \"internal\"],\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"timestamp\": \"\",\n      \"consistency\": [\"qurom\", \"one\", \"all\"],\n      \"refresh\": \"__flag__\",\n      \"timeout\": \"1m\",\n      \"retry_on_conflict\": 3,\n      \"fields\": \"\"\n    },\n    data_autocomplete_rules: {\n      \"script\": {\n        // populated by a global rule\n      },\n      \"doc\": {},\n      \"upsert\": {},\n      \"scripted_upsert\": { __one_of: [true, false] }\n    }\n\n  });\n\n  api.addEndpointDescription('_put_script', {\n    methods: ['POST', 'PUT'],\n    patterns: [\"_scripts/{lang}/{id}\", \"_scripts/{lang}/{id}/_create\"],\n    url_components: {\n      \"lang\": [\"groovy\", \"expressions\"]\n    },\n    data_autocomplete_rules: {\n      \"script\": \"\"\n    }\n  });\n\n  api.addEndpointDescription('_termvectors', {\n    methods: ['GET', 'POST'],\n    patterns: [\"{index}/{type}/_termvectors\"],\n    priority: 10, // collision with get doc\n    url_params: {\n      \"fields\": \"\",\n      \"offsets\": \"__flag__\",\n      \"payloads\": \"__flag__\",\n      \"positions\": \"__flag__\",\n      \"term_statistics\": \"__flag__\",\n      \"field_statistics\": \"__flag__\",\n      \"routing\": \"\",\n      \"version\": 1,\n      \"version_type\": [\"external\", \"external_gt\", \"external_gte\", \"force\", \"internal\"],\n      \"parent\": \"\",\n      \"preference\": \"\"\n    },\n    data_autocomplete_rules: {\n      fields: [\"{field}\"],\n      offsets: { __one_of: [false, true] },\n      payloads: { __one_of: [false, true] },\n      positions: { __one_of: [false, true] },\n      term_statistics: { __one_of: [true, false] },\n      field_statistics: { __one_of: [false, true] },\n      per_field_analyzer: {\n        __template: { \"FIELD\": \"\" },\n        \"{field}\": \"\"\n      },\n      routing: \"\",\n      version: 1,\n      version_type: [\"external\", \"external_gt\", \"external_gte\", \"force\", \"internal\"],\n      doc: {},\n      filter: { // TODO: Exclude from global filter rules\n        \"max_num_terms\": 1,\n        \"min_term_freq\": 1,\n        \"max_term_freq\": 1,\n        \"min_doc_freq\": 1,\n        \"max_doc_freq\": 1,\n        \"min_word_length\": 1,\n        \"max_word_length\": 1\n      }\n    }\n  });\n  api.addEndpointDescription('_termvectors_id', {\n    methods: ['GET', 'POST'],\n    patterns: [\"{index}/{type}/{id}/_termvectors\"],\n    url_params: {\n      \"fields\": \"\",\n      \"offsets\": \"__flag__\",\n      \"payloads\": \"__flag__\",\n      \"positions\": \"__flag__\",\n      \"term_statistics\": \"__flag__\",\n      \"field_statistics\": \"__flag__\",\n      \"routing\": \"\",\n      \"version\": 1,\n      \"version_type\": [\"external\", \"external_gt\", \"external_gte\", \"force\", \"internal\"],\n      \"parent\": \"\",\n      \"preference\": \"\",\n      \"dfs\": \"__flag__\"\n    },\n    data_autocomplete_rules: {\n      fields: [\"{field}\"],\n      offsets: { __one_of: [false, true] },\n      payloads: { __one_of: [false, true] },\n      positions: { __one_of: [false, true] },\n      term_statistics: { __one_of: [true, false] },\n      field_statistics: { __one_of: [false, true] },\n      dfs: { __one_of: [true, false] },\n      per_field_analyzer: {\n        __template: { \"FIELD\": \"\" },\n        \"{field}\": \"\"\n      },\n      routing: \"\",\n      version: 1,\n      version_type: [\"external\", \"external_gt\", \"external_gte\", \"force\", \"internal\"],\n      filter: { // TODO: Exclude from global filter rules\n        \"max_num_terms\": 1,\n        \"min_term_freq\": 1,\n        \"max_term_freq\": 1,\n        \"min_doc_freq\": 1,\n        \"max_doc_freq\": 1,\n        \"min_word_length\": 1,\n        \"max_word_length\": 1\n      }\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9kb2N1bWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLEVBQUU7QUFDOUIsS0FBRyxDQUFDLHNCQUFzQixDQUFDLFVBQVUsRUFBRTtBQUNyQyxXQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDaEIsWUFBUSxFQUFFLENBQ1IscUJBQXFCLENBQ3RCO0FBQ0QsY0FBVSxFQUFFO0FBQ1YsZUFBUyxFQUFFLENBQUM7QUFDWixlQUFTLEVBQUUsRUFBRTtBQUNiLGNBQVEsRUFBRSxFQUFFO0FBQ1osZUFBUyxFQUFFLEVBQUU7QUFDYix1QkFBaUIsRUFBRSxFQUFFO0FBQ3JCLHVCQUFpQixFQUFFLEVBQUU7S0FDdEI7R0FDRixDQUFDLENBQUM7QUFDSCxLQUFHLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLEVBQUU7QUFDNUMsV0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ2hCLFlBQVEsRUFBRSxDQUNSLDZCQUE2QixDQUM5QjtBQUNELGNBQVUsRUFBRTtBQUNWLGVBQVMsRUFBRSxDQUFDO0FBQ1osZUFBUyxFQUFFLEVBQUU7QUFDYixjQUFRLEVBQUUsRUFBRTtBQUNaLHVCQUFpQixFQUFFLEVBQUU7QUFDckIsdUJBQWlCLEVBQUUsRUFBRTtLQUN0QjtHQUNGLENBQUMsQ0FBQztBQUNILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxhQUFhLEVBQUU7QUFDeEMsV0FBTyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ25CLFlBQVEsRUFBRSxDQUNSLHFCQUFxQixDQUN0QjtBQUNELGNBQVUsRUFBRTtBQUNWLGVBQVMsRUFBRSxDQUFDO0FBQ1osb0JBQWMsRUFBRSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUM7QUFDeEMsZUFBUyxFQUFFLEVBQUU7QUFDYixjQUFRLEVBQUUsRUFB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X3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9kb2N1bWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSkge1xuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX2dldF9kb2MnLCB7XG4gICAgbWV0aG9kczogWydHRVQnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJ7aW5kZXh9L3t0eXBlfS97aWR9XCJcbiAgICBdLFxuICAgIHVybF9wYXJhbXM6IHtcbiAgICAgIFwidmVyc2lvblwiOiAxLFxuICAgICAgXCJyb3V0aW5nXCI6IFwiXCIsXG4gICAgICBcInBhcmVudFwiOiBcIlwiLFxuICAgICAgXCJfc291cmNlXCI6IFwiXCIsXG4gICAgICBcIl9zb3VyY2VfZXhjbHVkZVwiOiBcIlwiLFxuICAgICAgXCJfc291cmNlX2luY2x1ZGVcIjogXCJcIlxuICAgIH1cbiAgfSk7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfZ2V0X2RvY19zb3VyY2UnLCB7XG4gICAgbWV0aG9kczogWydHRVQnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJ7aW5kZXh9L3t0eXBlfS97aWR9L19zb3VyY2VcIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgXCJ2ZXJzaW9uXCI6IDEsXG4gICAgICBcInJvdXRpbmdcIjogXCJcIixcbiAgICAgIFwicGFyZW50XCI6IFwiXCIsXG4gICAgICBcIl9zb3VyY2VfZXhjbHVkZVwiOiBcIlwiLFxuICAgICAgXCJfc291cmNlX2luY2x1ZGVcIjogXCJcIlxuICAgIH1cbiAgfSk7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfZGVsZXRlX2RvYycsIHtcbiAgICBtZXRob2RzOiBbJ0RFTEVURSddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRleH0ve3R5cGV9L3tpZH1cIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgXCJ2ZXJzaW9uXCI6IDEsXG4gICAgICBcInZlcnNpb25fdHlwZVwiOiBbXCJleHRlcm5hbFwiLCBcImludGVybmFsXCJdLFxuICAgICAgXCJyb3V0aW5nXCI6IFwiXCIsXG4gICAgICBcInBhcmVudFwiOiBcIlwiXG4gICAgfVxuICB9KTtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ2luZGV4X2RvYycsIHtcbiAgICBtZXRob2RzOiBbJ1BVVCcsICdQT1NUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGV4fS97dHlwZX0ve2lkfVwiXG4gICAgXSxcbiAgICB1cmxfcGFyYW1zOiB7XG4gICAgICBcInZlcnNpb25cIjogMSxcbiAgICAgIFwidmVyc2lvbl90eXBlXCI6IFtcImV4dGVybmFsXCIsIFwiaW50ZXJuYWxcIl0sXG4gICAgICBcIm9wX3R5cGVcIjogW1wiY3JlYXRlXCJdLFxuICAgICAgXCJyb3V0aW5nXCI6IFwiXCIsXG4gICAgICBcInBhcmVudFwiOiBcIlwiLFxuICAgICAgXCJ0aW1lc3RhbXBcIjogXCJcIixcbiAgICAgIFwidHRsXCI6IFwiNW1cIixcbiAgICAgIFwiY29uc2lzdGVuY3lcIjogW1wicXVyb21cIiwgXCJvbmVcIiwgXCJhbGxcIl0sXG4gICAgICBcInJlZnJlc2hcIjogXCJfX2ZsYWdfX1wiLFxuICAgICAgXCJ0aW1lb3V0XCI6IFwiMW1cIlxuICAgIH1cbiAgfSk7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdjcmVhdGVfZG9jJywge1xuICAgIG1ldGhvZHM6IFsnUFVUJywgJ1BPU1QnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJ7aW5kZXh9L3t0eXBlfS97aWR9L19jcmVhdGVcIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgXCJ2ZXJzaW9uXCI6IDEsXG4gICAgICBcInZlcnNpb25fdHlwZVwiOiBbXCJleHRlcm5hbFwiLCBcImludGVybmFsXCJdLFxuICAgICAgXCJyb3V0aW5nXCI6IFwiXCIsXG4gICAgICBcInBhcmVudFwiOiBcIlwiLFxuICAgICAgXCJ0aW1lc3RhbXBcIjogXCJcIixcbiAgICAgIFwidHRsXCI6IFwiNW1cIixcbiAgICAgIFwiY29uc2lzdGVuY3lcIjogW1wicXVyb21cIiwgXCJvbmVcIiwgXCJhbGxcIl0sXG4gICAgICBcInJlZnJlc2hcIjogXCJfX2ZsYWdfX1wiLFxuICAgICAgXCJ0aW1lb3V0XCI6IFwiMW1cIlxuICAgIH1cbiAgfSk7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdpbmRleF9kb2Nfbm9faWQnLCB7XG4gICAgbWV0aG9kczogWydQT1NUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGV4fS97dHlwZX1cIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgXCJ2ZXJzaW9uXCI6IDEsXG4gICAgICBcInZlcnNpb25fdHlwZVwiOiBbXCJleHRlcm5hbFwiLCBcImludGVybmFsXCJdLFxuICAgICAgXCJyb3V0aW5nXCI6IFwiXCIsXG4gICAgICBcInBhcmVudFwiOiBcIlwiLFxuICAgICAgXCJ0aW1lc3RhbXBcIjogXCJcIixcbiAgICAgIFwidHRsXCI6IFwiNW1cIixcbiAgICAgIFwiY29uc2lzdGVuY3lcIjogW1wicXVyb21cIiwgXCJvbmVcIiwgXCJhbGxcIl0sXG4gICAgICBcInJlZnJlc2hcIjogXCJfX2ZsYWdfX1wiLFxuICAgICAgXCJ0aW1lb3V0XCI6IFwiMW1cIlxuICAgIH1cbiAgfSk7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ191cGRhdGUnLCB7XG4gICAgbWV0aG9kczogWydQT1NUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGV4fS97dHlwZX0ve2lkfS9fdXBkYXRlXCJcbiAgICBdLFxuICAgIHVybF9wYXJhbXM6IHtcbiAgICAgIFwidmVyc2lvblwiOiAxLFxuICAgICAgXCJ2ZXJzaW9uX3R5cGVcIjogW1wiZm9yY2VcIiwgXCJpbnRlcm5hbFwiXSxcbiAgICAgIFwicm91dGluZ1wiOiBcIlwiLFxuICAgICAgXCJwYXJlbnRcIjogXCJcIixcbiAgICAgIFwidGltZXN0YW1wXCI6IFwiXCIsXG4gICAgICBcImNvbnNpc3RlbmN5XCI6IFtcInF1cm9tXCIsIFwib25lXCIsIFwiYWxsXCJdLFxuICAgICAgXCJyZWZyZXNoXCI6IFwiX19mbGFnX19cIixcbiAgICAgIFwidGltZW91dFwiOiBcIjFtXCIsXG4gICAgICBcInJldHJ5X29uX2NvbmZsaWN0XCI6IDMsXG4gICAgICBcImZpZWxkc1wiOiBcIlwiXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgXCJzY3JpcHRcIjoge1xuICAgICAgICAvLyBwb3B1bGF0ZWQgYnkgYSBnbG9iYWwgcnVsZVxuICAgICAgfSxcbiAgICAgIFwiZG9jXCI6IHt9LFxuICAgICAgXCJ1cHNlcnRcIjoge30sXG4gICAgICBcInNjcmlwdGVkX3Vwc2VydFwiOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH1cbiAgICB9XG5cbiAgfSk7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19wdXRfc2NyaXB0Jywge1xuICAgIG1ldGhvZHM6IFsnUE9TVCcsICdQVVQnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJfc2NyaXB0cy97bGFuZ30ve2lkfVwiLFxuICAgICAgXCJfc2NyaXB0cy97bGFuZ30ve2lkfS9fY3JlYXRlXCJcbiAgICBdLFxuICAgIHVybF9jb21wb25lbnRzOiB7XG4gICAgICBcImxhbmdcIjogW1xuICAgICAgICBcImdyb292eVwiLFxuICAgICAgICBcImV4cHJlc3Npb25zXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIGRhdGFfYXV0b2NvbXBsZXRlX3J1bGVzOiB7XG4gICAgICBcInNjcmlwdFwiOiBcIlwiXG4gICAgfVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX3Rlcm12ZWN0b3JzJywge1xuICAgIG1ldGhvZHM6IFsnR0VUJywgJ1BPU1QnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJ7aW5kZXh9L3t0eXBlfS9fdGVybXZlY3RvcnNcIlxuICAgIF0sXG4gICAgcHJpb3JpdHk6IDEwLCAvLyBjb2xsaXNpb24gd2l0aCBnZXQgZG9jXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgXCJmaWVsZHNcIjogXCJcIixcbiAgICAgIFwib2Zmc2V0c1wiOiBcIl9fZmxhZ19fXCIsXG4gICAgICBcInBheWxvYWRzXCI6IFwiX19mbGFnX19cIixcbiAgICAgIFwicG9zaXRpb25zXCI6IFwiX19mbGFnX19cIixcbiAgICAgIFwidGVybV9zdGF0aXN0aWNzXCI6IFwiX19mbGFnX19cIixcbiAgICAgIFwiZmllbGRfc3RhdGlzdGljc1wiOiBcIl9fZmxhZ19fXCIsXG4gICAgICBcInJvdXRpbmdcIjogXCJcIixcbiAgICAgIFwidmVyc2lvblwiOiAxLFxuICAgICAgXCJ2ZXJzaW9uX3R5cGVcIjogW1wiZXh0ZXJuYWxcIiwgXCJleHRlcm5hbF9ndFwiLCBcImV4dGVybmFsX2d0ZVwiLCBcImZvcmNlXCIsIFwiaW50ZXJuYWxcIl0sXG4gICAgICBcInBhcmVudFwiOiBcIlwiLFxuICAgICAgXCJwcmVmZXJlbmNlXCI6IFwiXCJcbiAgICB9LFxuICAgIGRhdGFfYXV0b2NvbXBsZXRlX3J1bGVzOiB7XG4gICAgICBmaWVsZHM6IFtcbiAgICAgICAgXCJ7ZmllbGR9XCJcbiAgICAgIF0sXG4gICAgICBvZmZzZXRzOiB7IF9fb25lX29mOiBbZmFsc2UsIHRydWVdIH0sXG4gICAgICBwYXlsb2FkczogeyBfX29uZV9vZjogW2ZhbHNlLCB0cnVlXSB9LFxuICAgICAgcG9zaXRpb25zOiB7IF9fb25lX29mOiBbZmFsc2UsIHRydWVdIH0sXG4gICAgICB0ZXJtX3N0YXRpc3RpY3M6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfSxcbiAgICAgIGZpZWxkX3N0YXRpc3RpY3M6IHsgX19vbmVfb2Y6IFtmYWxzZSwgdHJ1ZV0gfSxcbiAgICAgIHBlcl9maWVsZF9hbmFseXplcjoge1xuICAgICAgICBfX3RlbXBsYXRlOiB7IFwiRklFTERcIjogXCJcIiB9LFxuICAgICAgICBcIntmaWVsZH1cIjogXCJcIlxuICAgICAgfSxcbiAgICAgIHJvdXRpbmc6IFwiXCIsXG4gICAgICB2ZXJzaW9uOiAxLFxuICAgICAgdmVyc2lvbl90eXBlOiBbXCJleHRlcm5hbFwiLCBcImV4dGVybmFsX2d0XCIsIFwiZXh0ZXJuYWxfZ3RlXCIsIFwiZm9yY2VcIiwgXCJpbnRlcm5hbFwiXSxcbiAgICAgIGRvYzoge30sXG4gICAgICBmaWx0ZXI6IHsgLy8gVE9ETzogRXhjbHVkZSBmcm9tIGdsb2JhbCBmaWx0ZXIgcnVsZXNcbiAgICAgICAgXCJtYXhfbnVtX3Rlcm1zXCI6IDEsXG4gICAgICAgIFwibWluX3Rlcm1fZnJlcVwiOiAxLFxuICAgICAgICBcIm1heF90ZXJtX2ZyZXFcIjogMSxcbiAgICAgICAgXCJtaW5fZG9jX2ZyZXFcIjogMSxcbiAgICAgICAgXCJtYXhfZG9jX2ZyZXFcIjogMSxcbiAgICAgICAgXCJtaW5fd29yZF9sZW5ndGhcIjogMSxcbiAgICAgICAgXCJtYXhfd29yZF9sZW5ndGhcIjogMVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfdGVybXZlY3RvcnNfaWQnLCB7XG4gICAgbWV0aG9kczogWydHRVQnLCAnUE9TVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRleH0ve3R5cGV9L3tpZH0vX3Rlcm12ZWN0b3JzXCJcbiAgICBdLFxuICAgIHVybF9wYXJhbXM6IHtcbiAgICAgIFwiZmllbGRzXCI6IFwiXCIsXG4gICAgICBcIm9mZnNldHNcIjogXCJfX2ZsYWdfX1wiLFxuICAgICAgXCJwYXlsb2Fkc1wiOiBcIl9fZmxhZ19fXCIsXG4gICAgICBcInBvc2l0aW9uc1wiOiBcIl9fZmxhZ19fXCIsXG4gICAgICBcInRlcm1fc3RhdGlzdGljc1wiOiBcIl9fZmxhZ19fXCIsXG4gICAgICBcImZpZWxkX3N0YXRpc3RpY3NcIjogXCJfX2ZsYWdfX1wiLFxuICAgICAgXCJyb3V0aW5nXCI6IFwiXCIsXG4gICAgICBcInZlcnNpb25cIjogMSxcbiAgICAgIFwidmVyc2lvbl90eXBlXCI6IFtcImV4dGVybmFsXCIsIFwiZXh0ZXJuYWxfZ3RcIiwgXCJleHRlcm5hbF9ndGVcIiwgXCJmb3JjZVwiLCBcImludGVybmFsXCJdLFxuICAgICAgXCJwYXJlbnRcIjogXCJcIixcbiAgICAgIFwicHJlZmVyZW5jZVwiOiBcIlwiLFxuICAgICAgXCJkZnNcIjogXCJfX2ZsYWdfX1wiXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgZmllbGRzOiBbXG4gICAgICAgIFwie2ZpZWxkfVwiXG4gICAgICBdLFxuICAgICAgb2Zmc2V0czogeyBfX29uZV9vZjogW2ZhbHNlLCB0cnVlXSB9LFxuICAgICAgcGF5bG9hZHM6IHsgX19vbmVfb2Y6IFtmYWxzZSwgdHJ1ZV0gfSxcbiAgICAgIHBvc2l0aW9uczogeyBfX29uZV9vZjogW2ZhbHNlLCB0cnVlXSB9LFxuICAgICAgdGVybV9zdGF0aXN0aWNzOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH0sXG4gICAgICBmaWVsZF9zdGF0aXN0aWNzOiB7IF9fb25lX29mOiBbZmFsc2UsIHRydWVdIH0sXG4gICAgICBkZnM6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfSxcbiAgICAgIHBlcl9maWVsZF9hbmFseXplcjoge1xuICAgICAgICBfX3RlbXBsYXRlOiB7IFwiRklFTERcIjogXCJcIiB9LFxuICAgICAgICBcIntmaWVsZH1cIjogXCJcIlxuICAgICAgfSxcbiAgICAgIHJvdXRpbmc6IFwiXCIsXG4gICAgICB2ZXJzaW9uOiAxLFxuICAgICAgdmVyc2lvbl90eXBlOiBbXCJleHRlcm5hbFwiLCBcImV4dGVybmFsX2d0XCIsIFwiZXh0ZXJuYWxfZ3RlXCIsIFwiZm9yY2VcIiwgXCJpbnRlcm5hbFwiXSxcbiAgICAgIGZpbHRlcjogeyAvLyBUT0RPOiBFeGNsdWRlIGZyb20gZ2xvYmFsIGZpbHRlciBydWxlc1xuICAgICAgICBcIm1heF9udW1fdGVybXNcIjogMSxcbiAgICAgICAgXCJtaW5fdGVybV9mcmVxXCI6IDEsXG4gICAgICAgIFwibWF4X3Rlcm1fZnJlcVwiOiAxLFxuICAgICAgICBcIm1pbl9kb2NfZnJlcVwiOiAxLFxuICAgICAgICBcIm1heF9kb2NfZnJlcVwiOiAxLFxuICAgICAgICBcIm1pbl93b3JkX2xlbmd0aFwiOiAxLFxuICAgICAgICBcIm1heF93b3JkX2xlbmd0aFwiOiAxXG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/document.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/document.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('_get_doc', {\n    methods: ['GET'],\n    patterns: [\n      \"{index}/{type}/{id}\"\n    ],\n    url_params: {\n      \"version\": 1,\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"_source\": \"\",\n      \"_source_exclude\": \"\",\n      \"_source_include\": \"\"\n    }\n  });\n  api.addEndpointDescription('_get_doc_source', {\n    methods: ['GET'],\n    patterns: [\n      \"{index}/{type}/{id}/_source\"\n    ],\n    url_params: {\n      \"version\": 1,\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"_source_exclude\": \"\",\n      \"_source_include\": \"\"\n    }\n  });\n  api.addEndpointDescription('_delete_doc', {\n    methods: ['DELETE'],\n    patterns: [\n      \"{index}/{type}/{id}\"\n    ],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"external\", \"internal\"],\n      \"routing\": \"\",\n      \"parent\": \"\"\n    }\n  });\n  api.addEndpointDescription('index_doc', {\n    methods: ['PUT', 'POST'],\n    patterns: [\n      \"{index}/{type}/{id}\"\n    ],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"external\", \"internal\"],\n      \"op_type\": [\"create\"],\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"timestamp\": \"\",\n      \"ttl\": \"5m\",\n      \"consistency\": [\"qurom\", \"one\", \"all\"],\n      \"refresh\": \"__flag__\",\n      \"timeout\": \"1m\"\n    }\n  });\n  api.addEndpointDescription('create_doc', {\n    methods: ['PUT', 'POST'],\n    patterns: [\n      \"{index}/{type}/{id}/_create\"\n    ],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"external\", \"internal\"],\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"timestamp\": \"\",\n      \"ttl\": \"5m\",\n      \"consistency\": [\"qurom\", \"one\", \"all\"],\n      \"refresh\": \"__flag__\",\n      \"timeout\": \"1m\"\n    }\n  });\n  api.addEndpointDescription('index_doc_no_id', {\n    methods: ['POST'],\n    patterns: [\n      \"{index}/{type}\"\n    ],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"external\", \"internal\"],\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"timestamp\": \"\",\n      \"ttl\": \"5m\",\n      \"consistency\": [\"qurom\", \"one\", \"all\"],\n      \"refresh\": \"__flag__\",\n      \"timeout\": \"1m\"\n    }\n  });\n\n  api.addEndpointDescription('_update', {\n    methods: ['POST'],\n    patterns: [\n      \"{index}/{type}/{id}/_update\"\n    ],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"force\", \"internal\"],\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"timestamp\": \"\",\n      \"consistency\": [\"qurom\", \"one\", \"all\"],\n      \"refresh\": \"__flag__\",\n      \"timeout\": \"1m\",\n      \"retry_on_conflict\": 3,\n      \"fields\": \"\"\n    },\n    data_autocomplete_rules: {\n      \"script\": {\n        // populated by a global rule\n      },\n      \"doc\": {},\n      \"upsert\": {},\n      \"scripted_upsert\": { __one_of: [true, false] }\n    }\n\n  });\n\n  api.addEndpointDescription('_put_script', {\n    methods: ['POST', 'PUT'],\n    patterns: [\n      \"_scripts/{lang}/{id}\",\n      \"_scripts/{lang}/{id}/_create\"\n    ],\n    url_components: {\n      \"lang\": [\n        \"groovy\",\n        \"expressions\"\n      ]\n    },\n    data_autocomplete_rules: {\n      \"script\": \"\"\n    }\n  });\n\n  api.addEndpointDescription('_termvectors', {\n    methods: ['GET', 'POST'],\n    patterns: [\n      \"{index}/{type}/_termvectors\"\n    ],\n    priority: 10, // collision with get doc\n    url_params: {\n      \"fields\": \"\",\n      \"offsets\": \"__flag__\",\n      \"payloads\": \"__flag__\",\n      \"positions\": \"__flag__\",\n      \"term_statistics\": \"__flag__\",\n      \"field_statistics\": \"__flag__\",\n      \"routing\": \"\",\n      \"version\": 1,\n      \"version_type\": [\"external\", \"external_gt\", \"external_gte\", \"force\", \"internal\"],\n      \"parent\": \"\",\n      \"preference\": \"\"\n    },\n    data_autocomplete_rules: {\n      fields: [\n        \"{field}\"\n      ],\n      offsets: { __one_of: [false, true] },\n      payloads: { __one_of: [false, true] },\n      positions: { __one_of: [false, true] },\n      term_statistics: { __one_of: [true, false] },\n      field_statistics: { __one_of: [false, true] },\n      per_field_analyzer: {\n        __template: { \"FIELD\": \"\" },\n        \"{field}\": \"\"\n      },\n      routing: \"\",\n      version: 1,\n      version_type: [\"external\", \"external_gt\", \"external_gte\", \"force\", \"internal\"],\n      doc: {},\n      filter: { // TODO: Exclude from global filter rules\n        \"max_num_terms\": 1,\n        \"min_term_freq\": 1,\n        \"max_term_freq\": 1,\n        \"min_doc_freq\": 1,\n        \"max_doc_freq\": 1,\n        \"min_word_length\": 1,\n        \"max_word_length\": 1\n      }\n    }\n  });\n  api.addEndpointDescription('_termvectors_id', {\n    methods: ['GET', 'POST'],\n    patterns: [\n      \"{index}/{type}/{id}/_termvectors\"\n    ],\n    url_params: {\n      \"fields\": \"\",\n      \"offsets\": \"__flag__\",\n      \"payloads\": \"__flag__\",\n      \"positions\": \"__flag__\",\n      \"term_statistics\": \"__flag__\",\n      \"field_statistics\": \"__flag__\",\n      \"routing\": \"\",\n      \"version\": 1,\n      \"version_type\": [\"external\", \"external_gt\", \"external_gte\", \"force\", \"internal\"],\n      \"parent\": \"\",\n      \"preference\": \"\",\n      \"dfs\": \"__flag__\"\n    },\n    data_autocomplete_rules: {\n      fields: [\n        \"{field}\"\n      ],\n      offsets: { __one_of: [false, true] },\n      payloads: { __one_of: [false, true] },\n      positions: { __one_of: [false, true] },\n      term_statistics: { __one_of: [true, false] },\n      field_statistics: { __one_of: [false, true] },\n      dfs: { __one_of: [true, false] },\n      per_field_analyzer: {\n        __template: { \"FIELD\": \"\" },\n        \"{field}\": \"\"\n      },\n      routing: \"\",\n      version: 1,\n      version_type: [\"external\", \"external_gt\", \"external_gte\", \"force\", \"internal\"],\n      filter: { // TODO: Exclude from global filter rules\n        \"max_num_terms\": 1,\n        \"min_term_freq\": 1,\n        \"max_term_freq\": 1,\n        \"min_doc_freq\": 1,\n        \"max_doc_freq\": 1,\n        \"min_word_length\": 1,\n        \"max_word_length\": 1\n      }\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/field_stats.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_field_stats', {\n    methods: ['GET', 'POST'],\n    patterns: [\"_field_stats\", \"{indices}/_field_stats\"],\n    url_params: {\n      fields: [],\n      level: [\"cluster\", \"indices\"],\n      ignore_unavailable: [\"true\", \"false\"],\n      allow_no_indices: [false, true],\n      expand_wildcards: [\"open\", \"closed\", \"none\", \"all\"]\n    },\n    data_autocomplete_rules: {\n      fields: [\"{field}\"],\n      index_constraints: {\n        \"{field}\": {\n          min_value: {\n            gt: \"MIN\",\n            gte: \"MAX\",\n            lt: \"MIN\",\n            lte: \"MAX\"\n          },\n          max_value: {\n            gt: \"MIN\",\n            gte: \"MAX\",\n            lt: \"MIN\",\n            lte: \"MAX\"\n          }\n        },\n        __template: {\n          \"FIELD\": {\n            min_value: {\n              gt: \"MIN\"\n            },\n            max_value: {\n              lt: \"MAX\"\n            }\n          }\n        }\n      }\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9maWVsZF9zdGF0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLEVBQUU7QUFDOUIsS0FBRyxDQUFDLHNCQUFzQixDQUFDLGNBQWMsRUFBRTtBQUN6QyxXQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDO0FBQ3hCLFlBQVEsRUFBRSxDQUNSLGNBQWMsRUFDZCx3QkFBd0IsQ0FDekI7QUFDRCxjQUFVLEVBQUU7QUFDVixZQUFNLEVBQUUsRUFBRTtBQUNWLFdBQUssRUFBRSxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUM7QUFDN0Isd0JBQWtCLEVBQUUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDO0FBQ3JDLHNCQUFnQixFQUFFLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQztBQUMvQixzQkFBZ0IsRUFBRSxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQztLQUNwRDtBQUNELDJCQUF1QixFQUFFO0FBQ3ZCLFlBQU0sRUFBRSxDQUNOLFNBQVMsQ0FDVjtBQUNELHVCQUFpQixFQUFFO0FBQ2pCLGlCQUFTLEVBQUU7QUFDVCxtQkFBUyxFQUFFO0FBQ1QsY0FBRSxFQUFFLEtBQUs7QUFDVCxlQUFHLEVBQUUsS0FBSztBQUNWLGNBQUUsRUFBRSxLQUFLO0FBQ1QsZUFBRyxFQUFFLEtBQUs7V0FDWDtBQUNELG1CQUFTLEVBQUU7QUFDVCxjQUFFLEVBQUUsS0FBSztBQUNULGVBQUcsRUFBRSxLQUFLO0FBQ1YsY0FBRSxFQUFFLEtBQUs7QUFDVCxlQUFHLEVBQUUsS0FBSztXQUNYO1NBQ0Y7QUFDRCxrQkFBVSxFQUFFO0FBQ1YsaUJBQU8sRUFBRTtBQUNQLHFCQUFTLEVBQUU7QUFDVCxnQkFBRSxFQUFFLEtBQUs7YUFDVjtBQUNELHFCQUFTLEVBQUU7QUFDVCxnQkFBRSxFQUFFLEtBQUs7YUFDVjtXQUNGO1NBQ0Y7T0FDRjtLQUNGO0dBQ0YsQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvYXBpX3NlcnZlci9lc181XzAvZmllbGRfc3RhdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGkpIHtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19maWVsZF9zdGF0cycsIHtcbiAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwiX2ZpZWxkX3N0YXRzXCIsXG4gICAgICBcIntpbmRpY2VzfS9fZmllbGRfc3RhdHNcIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgZmllbGRzOiBbXSxcbiAgICAgIGxldmVsOiBbXCJjbHVzdGVyXCIsIFwiaW5kaWNlc1wiXSxcbiAgICAgIGlnbm9yZV91bmF2YWlsYWJsZTogW1widHJ1ZVwiLCBcImZhbHNlXCJdLFxuICAgICAgYWxsb3dfbm9faW5kaWNlczogW2ZhbHNlLCB0cnVlXSxcbiAgICAgIGV4cGFuZF93aWxkY2FyZHM6IFtcIm9wZW5cIiwgXCJjbG9zZWRcIiwgXCJub25lXCIsIFwiYWxsXCJdXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgZmllbGRzOiBbXG4gICAgICAgIFwie2ZpZWxkfVwiLFxuICAgICAgXSxcbiAgICAgIGluZGV4X2NvbnN0cmFpbnRzOiB7XG4gICAgICAgIFwie2ZpZWxkfVwiOiB7XG4gICAgICAgICAgbWluX3ZhbHVlOiB7XG4gICAgICAgICAgICBndDogXCJNSU5cIixcbiAgICAgICAgICAgIGd0ZTogXCJNQVhcIixcbiAgICAgICAgICAgIGx0OiBcIk1JTlwiLFxuICAgICAgICAgICAgbHRlOiBcIk1BWFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtYXhfdmFsdWU6IHtcbiAgICAgICAgICAgIGd0OiBcIk1JTlwiLFxuICAgICAgICAgICAgZ3RlOiBcIk1BWFwiLFxuICAgICAgICAgICAgbHQ6IFwiTUlOXCIsXG4gICAgICAgICAgICBsdGU6IFwiTUFYXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgICBcIkZJRUxEXCI6IHtcbiAgICAgICAgICAgIG1pbl92YWx1ZToge1xuICAgICAgICAgICAgICBndDogXCJNSU5cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1heF92YWx1ZToge1xuICAgICAgICAgICAgICBsdDogXCJNQVhcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/field_stats.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE;AAC9B,KAAG,CAAC,sBAAsB,CAAC,cAAc,EAAE;AACzC,WAAO,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC;AACxB,YAAQ,EAAE,CACR,cAAc,EACd,wBAAwB,CACzB;AACD,cAAU,EAAE;AACV,YAAM,EAAE,EAAE;AACV,WAAK,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC;AAC7B,wBAAkB,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC;AACrC,sBAAgB,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC;AAC/B,sBAAgB,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,CAAC;KACpD;AACD,2BAAuB,EAAE;AACvB,YAAM,EAAE,CACN,SAAS,CACV;AACD,uBAAiB,EAAE;AACjB,iBAAS,EAAE;AACT,mBAAS,EAAE;AACT,cAAE,EAAE,KAAK;AACT,eAAG,EAAE,KAAK;AACV,cAAE,EAAE,KAAK;AACT,eAAG,EAAE,KAAK;WACX;AACD,mBAAS,EAAE;AACT,cAAE,EAAE,KAAK;AACT,eAAG,EAAE,KAAK;AACV,cAAE,EAAE,KAAK;AACT,eAAG,EAAE,KAAK;WACX;SACF;AACD,kBAAU,EAAE;AACV,iBAAO,EAAE;AACP,qBAAS,EAAE;AACT,gBAAE,EAAE,KAAK;aACV;AACD,qBAAS,EAAE;AACT,gBAAE,EAAE,KAAK;aACV;WACF;SACF;OACF;KACF;GACF,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/field_stats.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('_field_stats', {\n    methods: ['GET', 'POST'],\n    patterns: [\n      \"_field_stats\",\n      \"{indices}/_field_stats\"\n    ],\n    url_params: {\n      fields: [],\n      level: [\"cluster\", \"indices\"],\n      ignore_unavailable: [\"true\", \"false\"],\n      allow_no_indices: [false, true],\n      expand_wildcards: [\"open\", \"closed\", \"none\", \"all\"]\n    },\n    data_autocomplete_rules: {\n      fields: [\n        \"{field}\",\n      ],\n      index_constraints: {\n        \"{field}\": {\n          min_value: {\n            gt: \"MIN\",\n            gte: \"MAX\",\n            lt: \"MIN\",\n            lte: \"MAX\"\n          },\n          max_value: {\n            gt: \"MIN\",\n            gte: \"MAX\",\n            lt: \"MIN\",\n            lte: \"MAX\"\n          }\n        },\n        __template: {\n          \"FIELD\": {\n            min_value: {\n              gt: \"MIN\"\n            },\n            max_value: {\n              lt: \"MAX\"\n            }\n          }\n        }\n      }\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/filter.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar filters = {};\n\nfilters.and = {\n  __template: {\n    filters: [{}]\n  },\n  filters: [{\n    __scope_link: '.'\n  }]\n};\n\nfilters.bool = {\n  __scope_link: 'GLOBAL.query'\n};\n\nfilters.exists = {\n  __template: {\n    'field': 'FIELD_NAME'\n  },\n  'field': '{field}'\n};\n\nfilters.ids = {\n  __template: {\n    'values': ['ID']\n  },\n  'type': '{type}',\n  'values': ['']\n};\n\nfilters.limit = {\n  __template: {\n    value: 100\n  },\n  value: 100\n};\n\nfilters.type = {\n  __template: {\n    value: 'TYPE'\n  },\n  value: '{type}'\n};\n\nfilters.geo_bounding_box = {\n  __template: {\n    'FIELD': {\n      'top_left': {\n        'lat': 40.73,\n        'lon': -74.1\n      },\n      'bottom_right': {\n        'lat': 40.717,\n        'lon': -73.99\n      }\n    }\n  },\n\n  '{field}': {\n    top_left: {\n      lat: 40.73,\n      lon: -74.1\n    },\n    bottom_right: {\n      lat: 40.73,\n      lon: -74.1\n    }\n  },\n  type: {\n    __one_of: ['memory', 'indexed']\n  }\n};\n\nfilters.geo_distance = {\n  __template: {\n    distance: 100,\n    distance_unit: 'km',\n    'FIELD': {\n      lat: 40.73,\n      lon: -74.1\n    }\n  },\n  distance: 100,\n  distance_unit: {\n    __one_of: ['km', 'miles']\n  },\n  distance_type: {\n    __one_of: ['arc', 'plane']\n  },\n  optimize_bbox: {\n    __one_of: ['memory', 'indexed', 'none']\n  },\n  '{field}': {\n    lat: 40.73,\n    lon: -74.1\n  }\n};\n\nfilters.geo_distance_range = {\n  __template: {\n    from: 100,\n    to: 200,\n    distance_unit: 'km',\n    'FIELD': {\n      lat: 40.73,\n      lon: -74.1\n    }\n  },\n  from: 100,\n  to: 200,\n\n  distance_unit: {\n    __one_of: ['km', 'miles']\n  },\n  distance_type: {\n    __one_of: ['arc', 'plane']\n  },\n  include_lower: {\n    __one_of: [true, false]\n  },\n  include_upper: {\n    __one_of: [true, false]\n  },\n\n  '{field}': {\n    lat: 40.73,\n    lon: -74.1\n  }\n};\n\nfilters.geo_polygon = {\n  __template: {\n    'FIELD': {\n      'points': [{\n        lat: 40.73,\n        lon: -74.1\n      }, {\n        lat: 40.83,\n        lon: -75.1\n      }]\n    }\n  },\n  '{field}': {\n    points: [{\n      lat: 40.73,\n      lon: -74.1\n    }]\n  }\n};\n\nfilters.geo_shape = {\n  __template: {\n    'FIELD': {\n      shape: {\n        type: 'envelope',\n        coordinates: [[-45, 45], [45, -45]]\n      },\n      'relation': 'within'\n    }\n  },\n  '{field}': {\n    shape: {\n      type: '',\n      coordinates: []\n    },\n    indexed_shape: {\n      id: '',\n      index: '{index}',\n      type: '{type}',\n      shape_field_name: 'shape'\n    },\n    relation: {\n      __one_of: ['within', 'intersects', 'disjoint']\n    }\n  }\n};\n\nfilters.has_child = {\n  __template: {\n    type: 'TYPE',\n    filter: {}\n  },\n  type: '{type}',\n  query: {},\n  filter: {},\n  _scope: '',\n  min_children: 1,\n  max_children: 10\n};\n\nfilters.has_parent = {\n  __template: {\n    parent_type: 'TYPE',\n    filter: {}\n  },\n  parent_type: '{type}',\n  query: {},\n  filter: {},\n  _scope: ''\n};\n\nfilters.m = filters.missing = {\n  __template: {\n    field: 'FIELD'\n  },\n  existence: {\n    __one_of: [true, false]\n  },\n  null_value: {\n    __one_of: [true, false]\n  },\n  field: '{field}'\n};\n\nfilters.not = {\n  __template: {\n    filter: {}\n  },\n  filter: {}\n};\n\nfilters.range = {\n  __template: {\n    'FIELD': {\n      gte: 10,\n      lte: 20\n    }\n  },\n  \"{field}\": {\n    gte: 1,\n    gt: 1,\n    lte: 20,\n    lt: 20,\n    time_zone: \"+1:00\",\n    \"format\": \"dd/MM/yyyy||yyyy\",\n    execution: { __one_of: [\"index\", \"fielddata\"] }\n  }\n};\n\nfilters.or = {\n  __template: {\n    filters: [{}]\n  },\n  filters: [{\n    __scope_link: '.'\n  }]\n};\n\nfilters.prefix = {\n  __template: {\n    'FIELD': 'VALUE'\n  },\n  '{field}': ''\n};\n\nfilters.query = {\n  // global query\n};\n\nfilters.script = {\n  __template: {\n    script: {}\n  },\n  script: {\n    // populated by a global rule\n  }\n};\n\nfilters.term = {\n  __template: {\n    'FIELD': 'VALUE'\n  },\n  '{field}': ''\n};\n\nfilters.terms = {\n  __template: {\n    'FIELD': ['VALUE1', 'VALUE2']\n  },\n  field: ['{field}'],\n  execution: {\n    __one_of: ['plain', 'bool', 'and', 'or', 'bool_nocache', 'and_nocache', 'or_nocache']\n  }\n};\n\nfilters.nested = {\n  __template: {\n    path: 'path_to_nested_doc',\n    query: {}\n  },\n  query: {},\n  path: '',\n  _name: ''\n};\n\nmodule.exports = function (api) {\n  api.addGlobalAutocompleteRules('filter', filters);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9maWx0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7O0FBRWpCLE9BQU8sQ0FBQyxHQUFHLEdBQUc7QUFDWixZQUFVLEVBQUU7QUFDVixXQUFPLEVBQUUsQ0FDUCxFQUFFLENBQ0g7R0FDRjtBQUNELFNBQU8sRUFBRSxDQUNQO0FBQ0UsZ0JBQVksRUFBRSxHQUFHO0dBQ2xCLENBQ0Y7Q0FDRixDQUFDOztBQUdGLE9BQU8sQ0FBQyxJQUFJLEdBQUc7QUFDYixjQUFZLEVBQUUsY0FBYztDQUM3QixDQUFDOztBQUdGLE9BQU8sQ0FBQyxNQUFNLEdBQUc7QUFDZixZQUFVLEVBQUU7QUFDVixXQUFPLEVBQUUsWUFBWTtHQUN0QjtBQUNELFNBQU8sRUFBRSxTQUFTO0NBQ25CLENBQUM7O0FBR0YsT0FBTyxDQUFDLEdBQUcsR0FBRztBQUNaLFlBQVUsRUFBRTtBQUNWLFlBQVEsRUFBRSxDQUFDLElBQUksQ0FBQztHQUNqQjtBQUNELFFBQU0sRUFBRSxRQUFRO0FBQ2hCLFVBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQztDQUNmLENBQUM7O0FBR0YsT0FBTyxDQUFDLEtBQUssR0FBRztBQUNkLFlBQVUsRUFBRTtBQUNWLFNBQUssRUFBRSxHQUFHO0dBQ1g7QUFDRCxPQUFLLEVBQUUsR0FBRztDQUNYLENBQUM7O0FBR0YsT0FBTyxDQUFDLElBQUksR0FBRztBQUNiLFlBQVUsRUFBRTtBQUNWLFNBQUssRUFBRSxNQUFNO0dBQ2Q7QUFDRCxPQUFLLEVBQUUsUUFBUTtDQUNoQixDQUFDOztBQUdGLE9BQU8sQ0FBQyxnQkFBZ0IsR0FBRztBQUN6QixZQUFVLEVBQUU7QUFDVixXQUFPLEVBQUU7QUFDUCxnQkFBVSxFQUFFO0FBQ1YsYUFBSyxFQUFFLEtBQUs7QUFDWixhQUFLLEVBQUUsQ0FB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OztBQUdGLE9BQU8sQ0FBQyxLQUFLLEdBQUc7QUFDZCxZQUFVLEVBQUU7QUFDVixXQUFPLEVBQUUsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDO0dBQzlCO0FBQ0QsT0FBSyxFQUFFLENBQUMsU0FBUyxDQUFDO0FBQ2xCLFdBQVMsRUFBRTtBQUNULFlBQVEsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsYUFBYSxFQUFFLFlBQVksQ0FBQztHQUN0RjtDQUNGLENBQUM7O0FBR0YsT0FBTyxDQUFDLE1BQU0sR0FBRztBQUNmLFlBQVUsRUFBRTtBQUNWLFFBQUksRUFBRSxvQkFBb0I7QUFDMUIsU0FBSyxFQUFFLEVBQUU7R0FDVjtBQUNELE9BQUssRUFBRSxFQUFFO0FBQ1QsTUFBSSxFQUFFLEVBQUU7QUFDUixPQUFLLEVBQUUsRUFBRTtDQUNWLENBQUM7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLEdBQUcsRUFBRTtBQUM5QixLQUFHLENBQUMsMEJBQTBCLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0NBQ25ELENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9jb25zb2xlL2FwaV9zZXJ2ZXIvZXNfNV8wL2ZpbHRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBmaWx0ZXJzID0ge307XG5cbmZpbHRlcnMuYW5kID0ge1xuICBfX3RlbXBsYXRlOiB7XG4gICAgZmlsdGVyczogW1xuICAgICAge31cbiAgICBdXG4gIH0sXG4gIGZpbHRlcnM6IFtcbiAgICB7XG4gICAgICBfX3Njb3BlX2xpbms6ICcuJ1xuICAgIH1cbiAgXSxcbn07XG5cblxuZmlsdGVycy5ib29sID0ge1xuICBfX3Njb3BlX2xpbms6ICdHTE9CQUwucXVlcnknXG59O1xuXG5cbmZpbHRlcnMuZXhpc3RzID0ge1xuICBfX3RlbXBsYXRlOiB7XG4gICAgJ2ZpZWxkJzogJ0ZJRUxEX05BTUUnXG4gIH0sXG4gICdmaWVsZCc6ICd7ZmllbGR9J1xufTtcblxuXG5maWx0ZXJzLmlkcyA9IHtcbiAgX190ZW1wbGF0ZToge1xuICAgICd2YWx1ZXMnOiBbJ0lEJ11cbiAgfSxcbiAgJ3R5cGUnOiAne3R5cGV9JyxcbiAgJ3ZhbHVlcyc6IFsnJ11cbn07XG5cblxuZmlsdGVycy5saW1pdCA9IHtcbiAgX190ZW1wbGF0ZToge1xuICAgIHZhbHVlOiAxMDBcbiAgfSxcbiAgdmFsdWU6IDEwMFxufTtcblxuXG5maWx0ZXJzLnR5cGUgPSB7XG4gIF9fdGVtcGxhdGU6IHtcbiAgICB2YWx1ZTogJ1RZUEUnXG4gIH0sXG4gIHZhbHVlOiAne3R5cGV9J1xufTtcblxuXG5maWx0ZXJzLmdlb19ib3VuZGluZ19ib3ggPSB7XG4gIF9fdGVtcGxhdGU6IHtcbiAgICAnRklFTEQnOiB7XG4gICAgICAndG9wX2xlZnQnOiB7XG4gICAgICAgICdsYXQnOiA0MC43MyxcbiAgICAgICAgJ2xvbic6IC03NC4xXG4gICAgICB9LFxuICAgICAgJ2JvdHRvbV9yaWdodCc6IHtcbiAgICAgICAgJ2xhdCc6IDQwLjcxNyxcbiAgICAgICAgJ2xvbic6IC03My45OVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAne2ZpZWxkfSc6IHtcbiAgICB0b3BfbGVmdDoge1xuICAgICAgbGF0OiA0MC43MyxcbiAgICAgIGxvbjogLTc0LjFcbiAgICB9LFxuICAgIGJvdHRvbV9yaWdodDoge1xuICAgICAgbGF0OiA0MC43MyxcbiAgICAgIGxvbjogLTc0LjFcbiAgICB9XG4gIH0sXG4gIHR5cGU6IHtcbiAgICBfX29uZV9vZjogWydtZW1vcnknLCAnaW5kZXhlZCddXG4gIH0sXG59O1xuXG5cbmZpbHRlcnMuZ2VvX2Rpc3RhbmNlID0ge1xuICBfX3RlbXBsYXRlOiB7XG4gICAgZGlzdGFuY2U6IDEwMCxcbiAgICBkaXN0YW5jZV91bml0OiAna20nLFxuICAgICdGSUVMRCc6IHtcbiAgICAgIGxhdDogNDAuNzMsXG4gICAgICBsb246IC03NC4xXG4gICAgfVxuICB9LFxuICBkaXN0YW5jZTogMTAwLFxuICBkaXN0YW5jZV91bml0OiB7XG4gICAgX19vbmVfb2Y6IFsna20nLCAnbWlsZXMnXVxuICB9LFxuICBkaXN0YW5jZV90eXBlOiB7XG4gICAgX19vbmVfb2Y6IFsnYXJjJywgJ3BsYW5lJ11cbiAgfSxcbiAgb3B0aW1pemVfYmJveDoge1xuICAgIF9fb25lX29mOiBbJ21lbW9yeScsICdpbmRleGVkJywgJ25vbmUnXVxuICB9LFxuICAne2ZpZWxkfSc6IHtcbiAgICBsYXQ6IDQwLjczLFxuICAgIGxvbjogLTc0LjFcbiAgfSxcbn07XG5cblxuZmlsdGVycy5nZW9fZGlzdGFuY2VfcmFuZ2UgPSB7XG4gIF9fdGVtcGxhdGU6IHtcbiAgICBmcm9tOiAxMDAsXG4gICAgdG86IDIwMCxcbiAgICBkaXN0YW5jZV91bml0OiAna20nLFxuICAgICdGSUVMRCc6IHtcbiAgICAgIGxhdDogNDAuNzMsXG4gICAgICBsb246IC03NC4xXG4gICAgfVxuICB9LFxuICBmcm9tOiAxMDAsXG4gIHRvOiAyMDAsXG5cbiAgZGlzdGFuY2VfdW5pdDoge1xuICAgIF9fb25lX29mOiBbJ2ttJywgJ21pbGVzJ11cbiAgfSxcbiAgZGlzdGFuY2VfdHlwZToge1xuICAgIF9fb25lX29mOiBbJ2FyYycsICdwbGFuZSddXG4gIH0sXG4gIGluY2x1ZGVfbG93ZXI6IHtcbiAgICBfX29uZV9vZjogW3RydWUsIGZhbHNlXVxuICB9LFxuICBpbmNsdWRlX3VwcGVyOiB7XG4gICAgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV1cbiAgfSxcblxuICAne2ZpZWxkfSc6IHtcbiAgICBsYXQ6IDQwLjczLFxuICAgIGxvbjogLTc0LjFcbiAgfVxufTtcblxuXG5maWx0ZXJzLmdlb19wb2x5Z29uID0ge1xuICBfX3RlbXBsYXRlOiB7XG4gICAgJ0ZJRUxEJzoge1xuICAgICAgJ3BvaW50cyc6IFtcbiAgICAgICAge1xuICAgICAgICAgIGxhdDogNDAuNzMsXG4gICAgICAgICAgbG9uOiAtNzQuMVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbGF0OiA0MC44MyxcbiAgICAgICAgICBsb246IC03NS4xXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIH0sXG4gICd7ZmllbGR9Jzoge1xuICAgIHBvaW50czogW1xuICAgICAge1xuICAgICAgICBsYXQ6IDQwLjczLFxuICAgICAgICBsb246IC03NC4xXG4gICAgICB9XG4gICAgXVxuICB9XG59O1xuXG5cbmZpbHRlcnMuZ2VvX3NoYXBlID0ge1xuICBfX3RlbXBsYXRlOiB7XG4gICAgJ0ZJRUxEJzoge1xuICAgICAgc2hhcGU6IHtcbiAgICAgICAgdHlwZTogJ2VudmVsb3BlJyxcbiAgICAgICAgY29vcmRpbmF0ZXM6IFtcbiAgICAgICAgICBbLTQ1LCA0NV0sXG4gICAgICAgICAgWzQ1LCAtNDVdXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICAncmVsYXRpb24nOiAnd2l0aGluJ1xuICAgIH1cbiAgfSxcbiAgJ3tmaWVsZH0nOiB7XG4gICAgc2hhcGU6IHtcbiAgICAgIHR5cGU6ICcnLFxuICAgICAgY29vcmRpbmF0ZXM6IFtdXG4gICAgfSxcbiAgICBpbmRleGVkX3NoYXBlOiB7XG4gICAgICBpZDogJycsXG4gICAgICBpbmRleDogJ3tpbmRleH0nLFxuICAgICAgdHlwZTogJ3t0eXBlfScsXG4gICAgICBzaGFwZV9maWVsZF9uYW1lOiAnc2hhcGUnXG4gICAgfSxcbiAgICByZWxhdGlvbjoge1xuICAgICAgX19vbmVfb2Y6IFsnd2l0aGluJywgJ2ludGVyc2VjdHMnLCAnZGlzam9pbnQnXVxuICAgIH1cbiAgfVxufTtcblxuXG5maWx0ZXJzLmhhc19jaGlsZCA9IHtcbiAgX190ZW1wbGF0ZToge1xuICAgIHR5cGU6ICdUWVBFJyxcbiAgICBmaWx0ZXI6IHt9XG4gIH0sXG4gIHR5cGU6ICd7dHlwZX0nLFxuICBxdWVyeToge30sXG4gIGZpbHRlcjoge30sXG4gIF9zY29wZTogJycsXG4gIG1pbl9jaGlsZHJlbjogMSxcbiAgbWF4X2NoaWxkcmVuOiAxMFxufTtcblxuXG5maWx0ZXJzLmhhc19wYXJlbnQgPSB7XG4gIF9fdGVtcGxhdGU6IHtcbiAgICBwYXJlbnRfdHlwZTogJ1RZUEUnLFxuICAgIGZpbHRlcjoge31cbiAgfSxcbiAgcGFyZW50X3R5cGU6ICd7dHlwZX0nLFxuICBxdWVyeToge30sXG4gIGZpbHRlcjoge30sXG4gIF9zY29wZTogJydcbn07XG5cblxuZmlsdGVycy5tID0gZmlsdGVycy5taXNzaW5nID0ge1xuICBfX3RlbXBsYXRlOiB7XG4gICAgZmllbGQ6ICdGSUVMRCdcbiAgfSxcbiAgZXhpc3RlbmNlOiB7XG4gICAgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV1cbiAgfSxcbiAgbnVsbF92YWx1ZToge1xuICAgIF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdXG4gIH0sXG4gIGZpZWxkOiAne2ZpZWxkfSdcbn07XG5cblxuZmlsdGVycy5ub3QgPSB7XG4gIF9fdGVtcGxhdGU6IHtcbiAgICBmaWx0ZXI6IHt9XG4gIH0sXG4gIGZpbHRlcjoge31cbn07XG5cblxuZmlsdGVycy5yYW5nZSA9IHtcbiAgX190ZW1wbGF0ZToge1xuICAgICdGSUVMRCc6IHtcbiAgICAgIGd0ZTogMTAsXG4gICAgICBsdGU6IDIwXG4gICAgfVxuICB9LFxuICBcIntmaWVsZH1cIjoge1xuICAgIGd0ZTogMSxcbiAgICBndDogMSxcbiAgICBsdGU6IDIwLFxuICAgIGx0OiAyMCxcbiAgICB0aW1lX3pvbmU6IFwiKzE6MDBcIixcbiAgICBcImZvcm1hdFwiOiBcImRkL01NL3l5eXl8fHl5eXlcIixcbiAgICBleGVjdXRpb246IHsgX19vbmVfb2Y6IFtcImluZGV4XCIsIFwiZmllbGRkYXRhXCJdIH1cbiAgfVxufTtcblxuXG5maWx0ZXJzLm9yID0ge1xuICBfX3RlbXBsYXRlOiB7XG4gICAgZmlsdGVyczogW1xuICAgICAge31cbiAgICBdXG4gIH0sXG4gIGZpbHRlcnM6IFtcbiAgICB7XG4gICAgICBfX3Njb3BlX2xpbms6ICcuJ1xuICAgIH1cbiAgXVxufTtcblxuXG5maWx0ZXJzLnByZWZpeCA9IHtcbiAgX190ZW1wbGF0ZToge1xuICAgICdGSUVMRCc6ICdWQUxVRSdcbiAgfSxcbiAgJ3tmaWVsZH0nOiAnJ1xufTtcblxuXG5maWx0ZXJzLnF1ZXJ5ID0ge1xuICAvLyBnbG9iYWwgcXVlcnlcbn07XG5cbmZpbHRlcnMuc2NyaXB0ID0ge1xuICBfX3RlbXBsYXRlOiB7XG4gICAgc2NyaXB0OiB7fVxuICB9LFxuICBzY3JpcHQ6IHtcbiAgICAvLyBwb3B1bGF0ZWQgYnkgYSBnbG9iYWwgcnVsZVxuICB9XG59O1xuXG5cbmZpbHRlcnMudGVybSA9IHtcbiAgX190ZW1wbGF0ZToge1xuICAgICdGSUVMRCc6ICdWQUxVRSdcbiAgfSxcbiAgJ3tmaWVsZH0nOiAnJ1xufTtcblxuXG5maWx0ZXJzLnRlcm1zID0ge1xuICBfX3RlbXBsYXRlOiB7XG4gICAgJ0ZJRUxEJzogWydWQUxVRTEnLCAnVkFMVUUyJ11cbiAgfSxcbiAgZmllbGQ6IFsne2ZpZWxkfSddLFxuICBleGVjdXRpb246IHtcbiAgICBfX29uZV9vZjogWydwbGFpbicsICdib29sJywgJ2FuZCcsICdvcicsICdib29sX25vY2FjaGUnLCAnYW5kX25vY2FjaGUnLCAnb3Jfbm9jYWNoZSddXG4gIH1cbn07XG5cblxuZmlsdGVycy5uZXN0ZWQgPSB7XG4gIF9fdGVtcGxhdGU6IHtcbiAgICBwYXRoOiAncGF0aF90b19uZXN0ZWRfZG9jJyxcbiAgICBxdWVyeToge31cbiAgfSxcbiAgcXVlcnk6IHt9LFxuICBwYXRoOiAnJyxcbiAgX25hbWU6ICcnXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGkpIHtcbiAgYXBpLmFkZEdsb2JhbEF1dG9jb21wbGV0ZVJ1bGVzKCdmaWx0ZXInLCBmaWx0ZXJzKTtcbn07XG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/filter.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/filter.js",
      "sourcesContent": [
        "var filters = {};\n\nfilters.and = {\n  __template: {\n    filters: [\n      {}\n    ]\n  },\n  filters: [\n    {\n      __scope_link: '.'\n    }\n  ],\n};\n\n\nfilters.bool = {\n  __scope_link: 'GLOBAL.query'\n};\n\n\nfilters.exists = {\n  __template: {\n    'field': 'FIELD_NAME'\n  },\n  'field': '{field}'\n};\n\n\nfilters.ids = {\n  __template: {\n    'values': ['ID']\n  },\n  'type': '{type}',\n  'values': ['']\n};\n\n\nfilters.limit = {\n  __template: {\n    value: 100\n  },\n  value: 100\n};\n\n\nfilters.type = {\n  __template: {\n    value: 'TYPE'\n  },\n  value: '{type}'\n};\n\n\nfilters.geo_bounding_box = {\n  __template: {\n    'FIELD': {\n      'top_left': {\n        'lat': 40.73,\n        'lon': -74.1\n      },\n      'bottom_right': {\n        'lat': 40.717,\n        'lon': -73.99\n      }\n    }\n  },\n\n  '{field}': {\n    top_left: {\n      lat: 40.73,\n      lon: -74.1\n    },\n    bottom_right: {\n      lat: 40.73,\n      lon: -74.1\n    }\n  },\n  type: {\n    __one_of: ['memory', 'indexed']\n  },\n};\n\n\nfilters.geo_distance = {\n  __template: {\n    distance: 100,\n    distance_unit: 'km',\n    'FIELD': {\n      lat: 40.73,\n      lon: -74.1\n    }\n  },\n  distance: 100,\n  distance_unit: {\n    __one_of: ['km', 'miles']\n  },\n  distance_type: {\n    __one_of: ['arc', 'plane']\n  },\n  optimize_bbox: {\n    __one_of: ['memory', 'indexed', 'none']\n  },\n  '{field}': {\n    lat: 40.73,\n    lon: -74.1\n  },\n};\n\n\nfilters.geo_distance_range = {\n  __template: {\n    from: 100,\n    to: 200,\n    distance_unit: 'km',\n    'FIELD': {\n      lat: 40.73,\n      lon: -74.1\n    }\n  },\n  from: 100,\n  to: 200,\n\n  distance_unit: {\n    __one_of: ['km', 'miles']\n  },\n  distance_type: {\n    __one_of: ['arc', 'plane']\n  },\n  include_lower: {\n    __one_of: [true, false]\n  },\n  include_upper: {\n    __one_of: [true, false]\n  },\n\n  '{field}': {\n    lat: 40.73,\n    lon: -74.1\n  }\n};\n\n\nfilters.geo_polygon = {\n  __template: {\n    'FIELD': {\n      'points': [\n        {\n          lat: 40.73,\n          lon: -74.1\n        },\n        {\n          lat: 40.83,\n          lon: -75.1\n        }\n      ]\n    }\n  },\n  '{field}': {\n    points: [\n      {\n        lat: 40.73,\n        lon: -74.1\n      }\n    ]\n  }\n};\n\n\nfilters.geo_shape = {\n  __template: {\n    'FIELD': {\n      shape: {\n        type: 'envelope',\n        coordinates: [\n          [-45, 45],\n          [45, -45]\n        ]\n      },\n      'relation': 'within'\n    }\n  },\n  '{field}': {\n    shape: {\n      type: '',\n      coordinates: []\n    },\n    indexed_shape: {\n      id: '',\n      index: '{index}',\n      type: '{type}',\n      shape_field_name: 'shape'\n    },\n    relation: {\n      __one_of: ['within', 'intersects', 'disjoint']\n    }\n  }\n};\n\n\nfilters.has_child = {\n  __template: {\n    type: 'TYPE',\n    filter: {}\n  },\n  type: '{type}',\n  query: {},\n  filter: {},\n  _scope: '',\n  min_children: 1,\n  max_children: 10\n};\n\n\nfilters.has_parent = {\n  __template: {\n    parent_type: 'TYPE',\n    filter: {}\n  },\n  parent_type: '{type}',\n  query: {},\n  filter: {},\n  _scope: ''\n};\n\n\nfilters.m = filters.missing = {\n  __template: {\n    field: 'FIELD'\n  },\n  existence: {\n    __one_of: [true, false]\n  },\n  null_value: {\n    __one_of: [true, false]\n  },\n  field: '{field}'\n};\n\n\nfilters.not = {\n  __template: {\n    filter: {}\n  },\n  filter: {}\n};\n\n\nfilters.range = {\n  __template: {\n    'FIELD': {\n      gte: 10,\n      lte: 20\n    }\n  },\n  \"{field}\": {\n    gte: 1,\n    gt: 1,\n    lte: 20,\n    lt: 20,\n    time_zone: \"+1:00\",\n    \"format\": \"dd/MM/yyyy||yyyy\",\n    execution: { __one_of: [\"index\", \"fielddata\"] }\n  }\n};\n\n\nfilters.or = {\n  __template: {\n    filters: [\n      {}\n    ]\n  },\n  filters: [\n    {\n      __scope_link: '.'\n    }\n  ]\n};\n\n\nfilters.prefix = {\n  __template: {\n    'FIELD': 'VALUE'\n  },\n  '{field}': ''\n};\n\n\nfilters.query = {\n  // global query\n};\n\nfilters.script = {\n  __template: {\n    script: {}\n  },\n  script: {\n    // populated by a global rule\n  }\n};\n\n\nfilters.term = {\n  __template: {\n    'FIELD': 'VALUE'\n  },\n  '{field}': ''\n};\n\n\nfilters.terms = {\n  __template: {\n    'FIELD': ['VALUE1', 'VALUE2']\n  },\n  field: ['{field}'],\n  execution: {\n    __one_of: ['plain', 'bool', 'and', 'or', 'bool_nocache', 'and_nocache', 'or_nocache']\n  }\n};\n\n\nfilters.nested = {\n  __template: {\n    path: 'path_to_nested_doc',\n    query: {}\n  },\n  query: {},\n  path: '',\n  _name: ''\n};\n\nmodule.exports = function (api) {\n  api.addGlobalAutocompleteRules('filter', filters);\n};\n\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/nodes.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_nodes/hot_threads', {\n    methods: ['GET'],\n    patterns: [\"_nodes/hot_threads\", \"_nodes/{nodes}/hot_threads\"]\n  });\n  api.addEndpointDescription('_nodes/info', {\n    patterns: [\"_nodes\", \"_nodes/{metrics}\", \"_nodes/{nodes}\", \"_nodes/{nodes}/{metrics}\", \"_nodes/{nodes}/info/{metrics}\"],\n    url_components: {\n      \"metrics\": [\"settings\", \"os\", \"process\", \"jvm\", \"thread_pool\", \"network\", \"transport\", \"http\", \"plugins\", \"ingest\", \"_all\"]\n    }\n  });\n  api.addEndpointDescription('_nodes/stats', {\n    patterns: [\"_nodes/stats\", \"_nodes/stats/{metrics}\", \"_nodes/stats/{metrics}/{index_metric}\", \"_nodes/{nodes}/stats\", \"_nodes/{nodes}/stats/{metrics}\", \"_nodes/{nodes}/stats/{metrics}/{index_metric}\"],\n    url_components: {\n      \"metrics\": [\"os\", \"jvm\", \"thread_pool\", \"network\", \"fs\", \"transport\", \"http\", \"indices\", \"process\", \"breaker\", \"ingest\", \"_all\"],\n      \"index_metric\": [\"store\", \"indexing\", \"get\", \"search\", \"merge\", \"flush\", \"refresh\", \"filter_cache\", \"fielddata\", \"docs\", \"warmer\", \"percolate\", \"completion\", \"segments\", \"translog\", \"query_cache\", \"_all\"]\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9ub2Rlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLEVBQUU7QUFDOUIsS0FBRyxDQUFDLHNCQUFzQixDQUFDLG9CQUFvQixFQUFFO0FBQy9DLFdBQU8sRUFBRSxDQUFDLEtBQUssQ0FBQztBQUNoQixZQUFRLEVBQUUsQ0FDUixvQkFBb0IsRUFDcEIsNEJBQTRCLENBQzdCO0dBQ0YsQ0FBQyxDQUFDO0FBQ0gsS0FBRyxDQUFDLHNCQUFzQixDQUFDLGFBQWEsRUFBRTtBQUN4QyxZQUFRLEVBQUUsQ0FDUixRQUFRLEVBQ1Isa0JBQWtCLEVBQ2xCLGdCQUFnQixFQUNoQiwwQkFBMEIsRUFDMUIsK0JBQStCLENBQ2hDO0FBQ0Qsa0JBQWMsRUFBRTtBQUNkLGVBQVMsRUFBRSxDQUNULFVBQVUsRUFDVixJQUFJLEVBQ0osU0FBUyxFQUNULEtBQUssRUFDTCxhQUFhLEVBQ2IsU0FBUyxFQUNULFdBQVcsRUFDWCxNQUFNLEVBQ04sU0FBUyxFQUNULFFBQVEsRUFDUixNQUFNLENBQ1A7S0FDRjtHQUNGLENBQUMsQ0FBQztBQUNILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxjQUFjLEVBQUU7QUFDekMsWUFBUSxFQUFFLENBQ1IsY0FBYyxFQUNkLHdCQUF3QixFQUN4Qix1Q0FBdUMsRUFDdkMsc0JBQXNCLEVBQ3RCLGdDQUFnQyxFQUNoQywrQ0FBK0MsQ0FDaEQ7QUFDRCxrQkFBYyxFQUFFO0FBQ2QsZUFBUyxFQUFFLENBQ1QsSUFBSSxFQUNKLEtBQUssRUFDTCxhQUFhLEVBQ2IsU0FBUyxFQUNULElBQUksRUFDSixXQUFXLEVBQ1gsTUFBTSxFQUNOLFNBQVMsRUFDVCxTQUFTLEVBQ1QsU0FBUyxFQUNULFFBQVEsRUFDUixNQUFNLENBQ1A7QUFDRCxvQkFBYyxFQUFFLENBQ2QsT0FBTyxFQUNQLFVBQVUsRUFDVixLQUFLLEVBQ0wsUUFBUSxFQUNSLE9BQU8sRUFDUCxPQUFPLEVBQ1AsU0FBUyxFQUNULGNBQWMsRUFDZCxXQUFXLEVBQ1gsTUFBTSxFQUNOLFFBQVEsRUFDUixXQUFXLEVBQ1gsWUFBWSxFQUNaLFVBQVUsRUFDVixVQUFVLEVBQ1YsYUFBYSxFQUNiLE1BQU0sQ0FDUDtLQUNGO0dBQ0YsQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvYXBpX3NlcnZlci9lc181XzAvbm9kZXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGkpIHtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19ub2Rlcy9ob3RfdGhyZWFkcycsIHtcbiAgICBtZXRob2RzOiBbJ0dFVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIl9ub2Rlcy9ob3RfdGhyZWFkc1wiLFxuICAgICAgXCJfbm9kZXMve25vZGVzfS9ob3RfdGhyZWFkc1wiXG4gICAgXVxuICB9KTtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19ub2Rlcy9pbmZvJywge1xuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIl9ub2Rlc1wiLFxuICAgICAgXCJfbm9kZXMve21ldHJpY3N9XCIsXG4gICAgICBcIl9ub2Rlcy97bm9kZXN9XCIsXG4gICAgICBcIl9ub2Rlcy97bm9kZXN9L3ttZXRyaWNzfVwiLFxuICAgICAgXCJfbm9kZXMve25vZGVzfS9pbmZvL3ttZXRyaWNzfVwiXG4gICAgXSxcbiAgICB1cmxfY29tcG9uZW50czoge1xuICAgICAgXCJtZXRyaWNzXCI6IFtcbiAgICAgICAgXCJzZXR0aW5nc1wiLFxuICAgICAgICBcIm9zXCIsXG4gICAgICAgIFwicHJvY2Vzc1wiLFxuICAgICAgICBcImp2bVwiLFxuICAgICAgICBcInRocmVhZF9wb29sXCIsXG4gICAgICAgIFwibmV0d29ya1wiLFxuICAgICAgICBcInRyYW5zcG9ydFwiLFxuICAgICAgICBcImh0dHBcIixcbiAgICAgICAgXCJwbHVnaW5zXCIsXG4gICAgICAgIFwiaW5nZXN0XCIsXG4gICAgICAgIFwiX2FsbFwiXG4gICAgICBdXG4gICAgfVxuICB9KTtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19ub2Rlcy9zdGF0cycsIHtcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJfbm9kZXMvc3RhdHNcIixcbiAgICAgIFwiX25vZGVzL3N0YXRzL3ttZXRyaWNzfVwiLFxuICAgICAgXCJfbm9kZXMvc3RhdHMve21ldHJpY3N9L3tpbmRleF9tZXRyaWN9XCIsXG4gICAgICBcIl9ub2Rlcy97bm9kZXN9L3N0YXRzXCIsXG4gICAgICBcIl9ub2Rlcy97bm9kZXN9L3N0YXRzL3ttZXRyaWNzfVwiLFxuICAgICAgXCJfbm9kZXMve25vZGVzfS9zdGF0cy97bWV0cmljc30ve2luZGV4X21ldHJpY31cIlxuICAgIF0sXG4gICAgdXJsX2NvbXBvbmVudHM6IHtcbiAgICAgIFwibWV0cmljc1wiOiBbXG4gICAgICAgIFwib3NcIixcbiAgICAgICAgXCJqdm1cIixcbiAgICAgICAgXCJ0aHJlYWRfcG9vbFwiLFxuICAgICAgICBcIm5ldHdvcmtcIixcbiAgICAgICAgXCJmc1wiLFxuICAgICAgICBcInRyYW5zcG9ydFwiLFxuICAgICAgICBcImh0dHBcIixcbiAgICAgICAgXCJpbmRpY2VzXCIsXG4gICAgICAgIFwicHJvY2Vzc1wiLFxuICAgICAgICBcImJyZWFrZXJcIixcbiAgICAgICAgXCJpbmdlc3RcIixcbiAgICAgICAgXCJfYWxsXCJcbiAgICAgIF0sXG4gICAgICBcImluZGV4X21ldHJpY1wiOiBbXG4gICAgICAgIFwic3RvcmVcIixcbiAgICAgICAgXCJpbmRleGluZ1wiLFxuICAgICAgICBcImdldFwiLFxuICAgICAgICBcInNlYXJjaFwiLFxuICAgICAgICBcIm1lcmdlXCIsXG4gICAgICAgIFwiZmx1c2hcIixcbiAgICAgICAgXCJyZWZyZXNoXCIsXG4gICAgICAgIFwiZmlsdGVyX2NhY2hlXCIsXG4gICAgICAgIFwiZmllbGRkYXRhXCIsXG4gICAgICAgIFwiZG9jc1wiLFxuICAgICAgICBcIndhcm1lclwiLFxuICAgICAgICBcInBlcmNvbGF0ZVwiLFxuICAgICAgICBcImNvbXBsZXRpb25cIixcbiAgICAgICAgXCJzZWdtZW50c1wiLFxuICAgICAgICBcInRyYW5zbG9nXCIsXG4gICAgICAgIFwicXVlcnlfY2FjaGVcIixcbiAgICAgICAgXCJfYWxsXCJcbiAgICAgIF1cbiAgICB9XG4gIH0pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/nodes.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE;AAC9B,KAAG,CAAC,sBAAsB,CAAC,oBAAoB,EAAE;AAC/C,WAAO,EAAE,CAAC,KAAK,CAAC;AAChB,YAAQ,EAAE,CACR,oBAAoB,EACpB,4BAA4B,CAC7B;GACF,CAAC,CAAC;AACH,KAAG,CAAC,sBAAsB,CAAC,aAAa,EAAE;AACxC,YAAQ,EAAE,CACR,QAAQ,EACR,kBAAkB,EAClB,gBAAgB,EAChB,0BAA0B,EAC1B,+BAA+B,CAChC;AACD,kBAAc,EAAE;AACd,eAAS,EAAE,CACT,UAAU,EACV,IAAI,EACJ,SAAS,EACT,KAAK,EACL,aAAa,EACb,SAAS,EACT,WAAW,EACX,MAAM,EACN,SAAS,EACT,QAAQ,EACR,MAAM,CACP;KACF;GACF,CAAC,CAAC;AACH,KAAG,CAAC,sBAAsB,CAAC,cAAc,EAAE;AACzC,YAAQ,EAAE,CACR,cAAc,EACd,wBAAwB,EACxB,uCAAuC,EACvC,sBAAsB,EACtB,gCAAgC,EAChC,+CAA+C,CAChD;AACD,kBAAc,EAAE;AACd,eAAS,EAAE,CACT,IAAI,EACJ,KAAK,EACL,aAAa,EACb,SAAS,EACT,IAAI,EACJ,WAAW,EACX,MAAM,EACN,SAAS,EACT,SAAS,EACT,SAAS,EACT,QAAQ,EACR,MAAM,CACP;AACD,oBAAc,EAAE,CACd,OAAO,EACP,UAAU,EACV,KAAK,EACL,QAAQ,EACR,OAAO,EACP,OAAO,EACP,SAAS,EACT,cAAc,EACd,WAAW,EACX,MAAM,EACN,QAAQ,EACR,WAAW,EACX,YAAY,EACZ,UAAU,EACV,UAAU,EACV,aAAa,EACb,MAAM,CACP;KACF;GACF,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/nodes.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('_nodes/hot_threads', {\n    methods: ['GET'],\n    patterns: [\n      \"_nodes/hot_threads\",\n      \"_nodes/{nodes}/hot_threads\"\n    ]\n  });\n  api.addEndpointDescription('_nodes/info', {\n    patterns: [\n      \"_nodes\",\n      \"_nodes/{metrics}\",\n      \"_nodes/{nodes}\",\n      \"_nodes/{nodes}/{metrics}\",\n      \"_nodes/{nodes}/info/{metrics}\"\n    ],\n    url_components: {\n      \"metrics\": [\n        \"settings\",\n        \"os\",\n        \"process\",\n        \"jvm\",\n        \"thread_pool\",\n        \"network\",\n        \"transport\",\n        \"http\",\n        \"plugins\",\n        \"ingest\",\n        \"_all\"\n      ]\n    }\n  });\n  api.addEndpointDescription('_nodes/stats', {\n    patterns: [\n      \"_nodes/stats\",\n      \"_nodes/stats/{metrics}\",\n      \"_nodes/stats/{metrics}/{index_metric}\",\n      \"_nodes/{nodes}/stats\",\n      \"_nodes/{nodes}/stats/{metrics}\",\n      \"_nodes/{nodes}/stats/{metrics}/{index_metric}\"\n    ],\n    url_components: {\n      \"metrics\": [\n        \"os\",\n        \"jvm\",\n        \"thread_pool\",\n        \"network\",\n        \"fs\",\n        \"transport\",\n        \"http\",\n        \"indices\",\n        \"process\",\n        \"breaker\",\n        \"ingest\",\n        \"_all\"\n      ],\n      \"index_metric\": [\n        \"store\",\n        \"indexing\",\n        \"get\",\n        \"search\",\n        \"merge\",\n        \"flush\",\n        \"refresh\",\n        \"filter_cache\",\n        \"fielddata\",\n        \"docs\",\n        \"warmer\",\n        \"percolate\",\n        \"completion\",\n        \"segments\",\n        \"translog\",\n        \"query_cache\",\n        \"_all\"\n      ]\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/globals.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addGlobalAutocompleteRules('highlight', {\n    pre_tags: {},\n    post_tags: {},\n    tags_schema: {},\n    fields: {\n      '{field}': {\n        fragment_size: 20,\n        number_of_fragments: 3\n      }\n    }\n  });\n\n  api.addGlobalAutocompleteRules('script', {\n    __template: {\n      inline: \"SCRIPT\"\n    },\n    inline: \"SCRIPT\",\n    file: \"FILE_SCRIPT_NAME\",\n    id: \"SCRIPT_ID\",\n    lang: \"\",\n    params: {}\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9nbG9iYWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLEdBQUcsRUFBRTtBQUM5QixLQUFHLENBQUMsMEJBQTBCLENBQUMsV0FBVyxFQUFFO0FBQzFDLFlBQVEsRUFBRSxFQUFFO0FBQ1osYUFBUyxFQUFFLEVBQUU7QUFDYixlQUFXLEVBQUUsRUFBRTtBQUNmLFVBQU0sRUFBRTtBQUNOLGVBQVMsRUFBRTtBQUNULHFCQUFhLEVBQUUsRUFBRTtBQUNqQiwyQkFBbUIsRUFBRSxDQUFDO09BQ3ZCO0tBQ0Y7R0FDRixDQUFDLENBQUM7O0FBRUgsS0FBRyxDQUFDLDBCQUEwQixDQUFDLFFBQVEsRUFBRTtBQUN2QyxjQUFVLEVBQUU7QUFDVixZQUFNLEVBQUUsUUFBUTtLQUNqQjtBQUNELFVBQU0sRUFBRSxRQUFRO0FBQ2hCLFFBQUksRUFBRSxrQkFBa0I7QUFDeEIsTUFBRSxFQUFFLFdBQVc7QUFDZixRQUFJLEVBQUUsRUFBRTtBQUNSLFVBQU0sRUFBRSxFQUFFO0dBQ1gsQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvYXBpX3NlcnZlci9lc181XzAvZ2xvYmFscy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSkge1xuICBhcGkuYWRkR2xvYmFsQXV0b2NvbXBsZXRlUnVsZXMoJ2hpZ2hsaWdodCcsIHtcbiAgICBwcmVfdGFnczoge30sXG4gICAgcG9zdF90YWdzOiB7fSxcbiAgICB0YWdzX3NjaGVtYToge30sXG4gICAgZmllbGRzOiB7XG4gICAgICAne2ZpZWxkfSc6IHtcbiAgICAgICAgZnJhZ21lbnRfc2l6ZTogMjAsXG4gICAgICAgIG51bWJlcl9vZl9mcmFnbWVudHM6IDNcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGFwaS5hZGRHbG9iYWxBdXRvY29tcGxldGVSdWxlcygnc2NyaXB0Jywge1xuICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgIGlubGluZTogXCJTQ1JJUFRcIlxuICAgIH0sXG4gICAgaW5saW5lOiBcIlNDUklQVFwiLFxuICAgIGZpbGU6IFwiRklMRV9TQ1JJUFRfTkFNRVwiLFxuICAgIGlkOiBcIlNDUklQVF9JRFwiLFxuICAgIGxhbmc6IFwiXCIsXG4gICAgcGFyYW1zOiB7fVxuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/globals.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE;AAC9B,KAAG,CAAC,0BAA0B,CAAC,WAAW,EAAE;AAC1C,YAAQ,EAAE,EAAE;AACZ,aAAS,EAAE,EAAE;AACb,eAAW,EAAE,EAAE;AACf,UAAM,EAAE;AACN,eAAS,EAAE;AACT,qBAAa,EAAE,EAAE;AACjB,2BAAmB,EAAE,CAAC;OACvB;KACF;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,0BAA0B,CAAC,QAAQ,EAAE;AACvC,cAAU,EAAE;AACV,YAAM,EAAE,QAAQ;KACjB;AACD,UAAM,EAAE,QAAQ;AAChB,QAAI,EAAE,kBAAkB;AACxB,MAAE,EAAE,WAAW;AACf,QAAI,EAAE,EAAE;AACR,UAAM,EAAE,EAAE;GACX,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/globals.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addGlobalAutocompleteRules('highlight', {\n    pre_tags: {},\n    post_tags: {},\n    tags_schema: {},\n    fields: {\n      '{field}': {\n        fragment_size: 20,\n        number_of_fragments: 3\n      }\n    }\n  });\n\n  api.addGlobalAutocompleteRules('script', {\n    __template: {\n      inline: \"SCRIPT\"\n    },\n    inline: \"SCRIPT\",\n    file: \"FILE_SCRIPT_NAME\",\n    id: \"SCRIPT_ID\",\n    lang: \"\",\n    params: {}\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/indices.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_refresh', {\n    methods: ['POST'],\n    patterns: [\"_refresh\", \"{indices}/_refresh\"]\n  });\n\n  api.addEndpointDescription('_flush', {\n    methods: ['POST'],\n    patterns: [\"_flush\", \"{indices}/_flush\"],\n    url_params: {\n      wait_if_ongoing: [true, false],\n      force: [true, false]\n    }\n  });\n\n  api.addEndpointDescription('_flush_synced', {\n    methods: ['POST'],\n    patterns: [\"_flush/synced\", \"{indices}/_flush/synced\"]\n  });\n\n  api.addEndpointDescription('_stats', {\n    patterns: [\"_stats\", \"_stats/{metrics}\", \"{indices}/_stats\", \"{indices}/_stats/{metrics}\"],\n    url_components: {\n      \"metrics\": [\"docs\", \"store\", \"indexing\", \"search\", \"get\", \"merge\", \"refresh\", \"flush\", \"warmer\", \"filter_cache\", \"percolate\", \"segments\", \"fielddata\", \"completion\", \"translog\", \"query_cache\", \"commit\", \"_all\"]\n    },\n    url_params: {\n      \"fields\": [],\n      \"types\": [],\n      \"completion_fields\": [],\n      \"docvalue_fields\": [],\n      \"level\": [\"cluster\", \"indices\", \"shards\"]\n    }\n\n  });\n\n  api.addEndpointDescription('_segments', {\n    patterns: [\"{indices}/_segments\", \"_segments\"]\n  });\n\n  api.addEndpointDescription('_recovery', {\n    patterns: [\"{indices}/_recovery\", \"_recovery\"],\n    url_params: {\n      detailed: \"__flag__\",\n      active_only: \"__flag__\",\n      human: \"__flag__\"\n    }\n  });\n\n  api.addEndpointDescription('_analyze', {\n    methods: ['GET', 'POST'],\n    patterns: [\"{indices}/_analyze\", \"_analyze\"],\n    url_params: {\n      \"analyzer\": \"\",\n      \"char_filter\": [],\n      \"field\": \"\",\n      \"filter\": [],\n      \"text\": \"\",\n      \"tokenizer\": \"\",\n      \"explain\": \"__flag__\",\n      \"attributes\": []\n    },\n    data_autocomplete_rules: {\n      text: [],\n      field: \"{field}\",\n      analyzer: \"\",\n      tokenizer: \"\",\n      char_filter: [],\n      filter: [],\n      explain: { __one_of: [false, true] },\n      attributes: []\n    }\n  });\n\n  api.addEndpointDescription('_validate_query', {\n    methods: ['GET', 'POST'],\n    patterns: [\"{indices}/_validate/query\", \"_validate/query\"],\n    url_params: {\n      explain: \"__flag__\",\n      rewrite: \"__flag__\"\n    },\n    data_autocomplete_rules: {\n      query: {\n        // populated by a global rule\n      }\n    }\n  });\n\n  api.addEndpointDescription('_shard_stores', {\n    methods: ['GET'],\n    patterns: [\"{indices}/_shard_stores\", \"_shard_stores\"],\n    url_params: {\n      status: [\"green\", \"yellow\", \"red\", \"all\"]\n    }\n  });\n\n  api.addEndpointDescription('__create_index__', {\n    methods: ['PUT'],\n    patterns: [\"{index}\"],\n    data_autocomplete_rules: {\n      mappings: {\n        __scope_link: '_put_mapping'\n      },\n      settings: {\n        __scope_link: '_put_settings'\n      },\n      aliases: {\n        __template: {\n          \"NAME\": {}\n        }\n      }\n    }\n  });\n\n  api.addEndpointDescription('__delete_indices__', {\n    methods: ['DELETE'],\n    patterns: [\"{indices}\"]\n  });\n\n  api.addEndpointDescription('_get_index_settings', {\n    methods: ['GET'],\n    patterns: [\"{indices}/_settings\"],\n    url_params: {\n      flat_settings: \"__flag__\"\n    }\n  });\n\n  api.addEndpointDescription('_get_index', {\n    methods: ['GET'],\n    patterns: [\"{indices}\", \"{indices}/{feature}\"],\n    url_components: {\n      \"feature\": [\"_mappings\", \"_aliases\"]\n    }\n  });\n\n  api.addEndpointDescription('_cache/clear', {\n    patterns: [\"_cache/clear\", \"{indices}/_cache/clear\"]\n  });\n\n  api.addEndpointDescription('_upgrade', {\n    methods: [\"POST\"],\n    patterns: [\"_upgrade\", \"{indices}/_upgrade\"],\n    url_params: {\n      wait_for_completion: \"__flag__\"\n    }\n  });\n\n  api.addEndpointDescription('_upgrade_status', {\n    methods: [\"GET\"],\n    patterns: [\"_upgrade\", \"{indices}/_upgrade\"]\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9pbmRpY2VzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLEdBQUcsRUFBRTtBQUM5QixLQUFHLENBQUMsc0JBQXNCLENBQUMsVUFBVSxFQUFFO0FBQ3JDLFdBQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQztBQUNqQixZQUFRLEVBQUUsQ0FDUixVQUFVLEVBQ1Ysb0JBQW9CLENBQ3JCO0dBQ0YsQ0FBQyxDQUFDOztBQUVILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLEVBQUU7QUFDbkMsV0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDO0FBQ2pCLFlBQVEsRUFBRSxDQUNSLFFBQVEsRUFDUixrQkFBa0IsQ0FDbkI7QUFDRCxjQUFVLEVBQUU7QUFDVixxQkFBZSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztBQUM5QixXQUFLLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDO0tBQ3JCO0dBQ0YsQ0FBQyxDQUFDOztBQUVILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxlQUFlLEVBQUU7QUFDMUMsV0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDO0FBQ2pCLFlBQVEsRUFBRSxDQUNSLGVBQWUsRUFDZix5QkFBeUIsQ0FDMUI7R0FDRixDQUFDLENBQUM7O0FBRUgsS0FBRyxDQUFDLHNCQUFzQixDQUFDLFFBQVEsRUFBRTtBQUNuQyxZQUFRLEVBQUUsQ0FDUixRQUFRLEVBQ1Isa0JBQWtCLEVBQ2xCLGtCQUFrQixFQUNsQiw0QkFBNEIsQ0FDN0I7QUFDRCxrQkFBYyxFQUFFO0FBQ2QsZUFBUyxFQUFFLENBQ1QsTUFBTSxFQUNOLE9BQU8sRUFDUCxVQUFVLEVBQ1YsUUFBUSxFQUNSLEtBQUssRUFDTCxPQUFPLEVBQ1AsU0FBUyxFQUNULE9BQU8sRUFDUCxRQUFRLEVBQ1IsY0FBYyxF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QUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9pbmRpY2VzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpKSB7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfcmVmcmVzaCcsIHtcbiAgICBtZXRob2RzOiBbJ1BPU1QnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJfcmVmcmVzaFwiLFxuICAgICAgXCJ7aW5kaWNlc30vX3JlZnJlc2hcIlxuICAgIF0sXG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfZmx1c2gnLCB7XG4gICAgbWV0aG9kczogWydQT1NUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwiX2ZsdXNoXCIsXG4gICAgICBcIntpbmRpY2VzfS9fZmx1c2hcIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgd2FpdF9pZl9vbmdvaW5nOiBbdHJ1ZSwgZmFsc2VdLFxuICAgICAgZm9yY2U6IFt0cnVlLCBmYWxzZV1cbiAgICB9XG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfZmx1c2hfc3luY2VkJywge1xuICAgIG1ldGhvZHM6IFsnUE9TVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIl9mbHVzaC9zeW5jZWRcIixcbiAgICAgIFwie2luZGljZXN9L19mbHVzaC9zeW5jZWRcIlxuICAgIF1cbiAgfSk7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19zdGF0cycsIHtcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJfc3RhdHNcIixcbiAgICAgIFwiX3N0YXRzL3ttZXRyaWNzfVwiLFxuICAgICAgXCJ7aW5kaWNlc30vX3N0YXRzXCIsXG4gICAgICBcIntpbmRpY2VzfS9fc3RhdHMve21ldHJpY3N9XCIsXG4gICAgXSxcbiAgICB1cmxfY29tcG9uZW50czoge1xuICAgICAgXCJtZXRyaWNzXCI6IFtcbiAgICAgICAgXCJkb2NzXCIsXG4gICAgICAgIFwic3RvcmVcIixcbiAgICAgICAgXCJpbmRleGluZ1wiLFxuICAgICAgICBcInNlYXJjaFwiLFxuICAgICAgICBcImdldFwiLFxuICAgICAgICBcIm1lcmdlXCIsXG4gICAgICAgIFwicmVmcmVzaFwiLFxuICAgICAgICBcImZsdXNoXCIsXG4gICAgICAgIFwid2FybWVyXCIsXG4gICAgICAgIFwiZmlsdGVyX2NhY2hlXCIsXG4gICAgICAgIFwicGVyY29sYXRlXCIsXG4gICAgICAgIFwic2VnbWVudHNcIixcbiAgICAgICAgXCJmaWVsZGRhdGFcIixcbiAgICAgICAgXCJjb21wbGV0aW9uXCIsXG4gICAgICAgIFwidHJhbnNsb2dcIixcbiAgICAgICAgXCJxdWVyeV9jYWNoZVwiLFxuICAgICAgICBcImNvbW1pdFwiLFxuICAgICAgICBcIl9hbGxcIlxuICAgICAgXVxuICAgIH0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgXCJmaWVsZHNcIjogW10sXG4gICAgICBcInR5cGVzXCI6IFtdLFxuICAgICAgXCJjb21wbGV0aW9uX2ZpZWxkc1wiOiBbXSxcbiAgICAgIFwiZG9jdmFsdWVfZmllbGRzXCI6IFtdLFxuICAgICAgXCJsZXZlbFwiOiBbXCJjbHVzdGVyXCIsIFwiaW5kaWNlc1wiLCBcInNoYXJkc1wiXVxuICAgIH1cblxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX3NlZ21lbnRzJywge1xuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRpY2VzfS9fc2VnbWVudHNcIixcbiAgICAgIFwiX3NlZ21lbnRzXCJcbiAgICBdXG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfcmVjb3ZlcnknLCB7XG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGljZXN9L19yZWNvdmVyeVwiLFxuICAgICAgXCJfcmVjb3ZlcnlcIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgZGV0YWlsZWQ6IFwiX19mbGFnX19cIixcbiAgICAgIGFjdGl2ZV9vbmx5OiBcIl9fZmxhZ19fXCIsXG4gICAgICBodW1hbjogXCJfX2ZsYWdfX1wiXG4gICAgfVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX2FuYWx5emUnLCB7XG4gICAgbWV0aG9kczogWydHRVQnLCAnUE9TVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRpY2VzfS9fYW5hbHl6ZVwiLFxuICAgICAgXCJfYW5hbHl6ZVwiXG4gICAgXSxcbiAgICB1cmxfcGFyYW1zOiB7XG4gICAgICBcImFuYWx5emVyXCI6IFwiXCIsXG4gICAgICBcImNoYXJfZmlsdGVyXCI6IFtdLFxuICAgICAgXCJmaWVsZFwiOiBcIlwiLFxuICAgICAgXCJmaWx0ZXJcIjogW10sXG4gICAgICBcInRleHRcIjogXCJcIixcbiAgICAgIFwidG9rZW5pemVyXCI6IFwiXCIsXG4gICAgICBcImV4cGxhaW5cIjogXCJfX2ZsYWdfX1wiLFxuICAgICAgXCJhdHRyaWJ1dGVzXCI6IFtdXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgdGV4dDogW10sXG4gICAgICBmaWVsZDogXCJ7ZmllbGR9XCIsXG4gICAgICBhbmFseXplcjogXCJcIixcbiAgICAgIHRva2VuaXplcjogXCJcIixcbiAgICAgIGNoYXJfZmlsdGVyOiBbXSxcbiAgICAgIGZpbHRlcjogW10sXG4gICAgICBleHBsYWluOiB7IF9fb25lX29mOiBbZmFsc2UsIHRydWVdIH0sXG4gICAgICBhdHRyaWJ1dGVzOiBbXVxuICAgIH1cbiAgfSk7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ192YWxpZGF0ZV9xdWVyeScsIHtcbiAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGljZXN9L192YWxpZGF0ZS9xdWVyeVwiLFxuICAgICAgXCJfdmFsaWRhdGUvcXVlcnlcIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgZXhwbGFpbjogXCJfX2ZsYWdfX1wiLFxuICAgICAgcmV3cml0ZTogXCJfX2ZsYWdfX1wiXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgcXVlcnk6IHtcbiAgICAgICAgLy8gcG9wdWxhdGVkIGJ5IGEgZ2xvYmFsIHJ1bGVcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfc2hhcmRfc3RvcmVzJywge1xuICAgIG1ldGhvZHM6IFsnR0VUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGljZXN9L19zaGFyZF9zdG9yZXNcIixcbiAgICAgIFwiX3NoYXJkX3N0b3Jlc1wiXG4gICAgXSxcbiAgICB1cmxfcGFyYW1zOiB7XG4gICAgICBzdGF0dXM6IFtcImdyZWVuXCIsIFwieWVsbG93XCIsIFwicmVkXCIsIFwiYWxsXCJdXG4gICAgfVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX19jcmVhdGVfaW5kZXhfXycsIHtcbiAgICBtZXRob2RzOiBbJ1BVVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRleH1cIlxuICAgIF0sXG4gICAgZGF0YV9hdXRvY29tcGxldGVfcnVsZXM6IHtcbiAgICAgIG1hcHBpbmdzOiB7XG4gICAgICAgIF9fc2NvcGVfbGluazogJ19wdXRfbWFwcGluZydcbiAgICAgIH0sXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBfX3Njb3BlX2xpbms6ICdfcHV0X3NldHRpbmdzJ1xuICAgICAgfSxcbiAgICAgIGFsaWFzZXM6IHtcbiAgICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICAgIFwiTkFNRVwiOiB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX19kZWxldGVfaW5kaWNlc19fJywge1xuICAgIG1ldGhvZHM6IFsnREVMRVRFJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGljZXN9XCJcbiAgICBdXG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfZ2V0X2luZGV4X3NldHRpbmdzJywge1xuICAgIG1ldGhvZHM6IFsnR0VUJyxdLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRpY2VzfS9fc2V0dGluZ3NcIixcbiAgICBdLFxuICAgIHVybF9wYXJhbXM6IHtcbiAgICAgIGZsYXRfc2V0dGluZ3M6IFwiX19mbGFnX19cIlxuICAgIH1cbiAgfSk7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19nZXRfaW5kZXgnLCB7XG4gICAgbWV0aG9kczogWydHRVQnLF0sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGljZXN9XCIsXG4gICAgICBcIntpbmRpY2VzfS97ZmVhdHVyZX1cIlxuICAgIF0sXG4gICAgdXJsX2NvbXBvbmVudHM6IHtcbiAgICAgIFwiZmVhdHVyZVwiOiBbXG4gICAgICAgIFwiX21hcHBpbmdzXCIsXG4gICAgICAgIFwiX2FsaWFzZXNcIlxuICAgICAgXVxuICAgIH1cbiAgfSk7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19jYWNoZS9jbGVhcicsIHtcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJfY2FjaGUvY2xlYXJcIixcbiAgICAgIFwie2luZGljZXN9L19jYWNoZS9jbGVhclwiXG4gICAgXVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX3VwZ3JhZGUnLCB7XG4gICAgbWV0aG9kczogW1wiUE9TVFwiXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJfdXBncmFkZVwiLFxuICAgICAgXCJ7aW5kaWNlc30vX3VwZ3JhZGVcIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgd2FpdF9mb3JfY29tcGxldGlvbjogXCJfX2ZsYWdfX1wiXG4gICAgfVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX3VwZ3JhZGVfc3RhdHVzJywge1xuICAgIG1ldGhvZHM6IFtcIkdFVFwiXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJfdXBncmFkZVwiLFxuICAgICAgXCJ7aW5kaWNlc30vX3VwZ3JhZGVcIlxuICAgIF1cbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/indices.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE;AAC9B,KAAG,CAAC,sBAAsB,CAAC,UAAU,EAAE;AACrC,WAAO,EAAE,CAAC,MAAM,CAAC;AACjB,YAAQ,EAAE,CACR,UAAU,EACV,oBAAoB,CACrB;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,QAAQ,EAAE;AACnC,WAAO,EAAE,CAAC,MAAM,CAAC;AACjB,YAAQ,EAAE,CACR,QAAQ,EACR,kBAAkB,CACnB;AACD,cAAU,EAAE;AACV,qBAAe,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;AAC9B,WAAK,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;KACrB;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,eAAe,EAAE;AAC1C,WAAO,EAAE,CAAC,MAAM,CAAC;AACjB,YAAQ,EAAE,CACR,eAAe,EACf,yBAAyB,CAC1B;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,QAAQ,EAAE;AACnC,YAAQ,EAAE,CACR,QAAQ,EACR,kBAAkB,EAClB,kBAAkB,EAClB,4BAA4B,CAC7B;AACD,kBAAc,EAAE;AACd,eAAS,EAAE,CACT,MAAM,EACN,OAAO,EACP,UAAU,EACV,QAAQ,EACR,KAAK,EACL,OAAO,EACP,SAAS,EACT,OAAO,EACP,QAAQ,EACR,cAAc,EACd,WAAW,EACX,UAAU,EACV,WAAW,EACX,YAAY,EACZ,UAAU,EACV,aAAa,EACb,QAAQ,EACR,MAAM,CACP;KACF;AACD,cAAU,EAAE;AACV,cAAQ,EAAE,EAAE;AACZ,aAAO,EAAE,EAAE;AACX,yBAAmB,EAAE,EAAE;AACvB,uBAAiB,EAAE,EAAE;AACrB,aAAO,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,QAAQ,CAAC;KAC1C;;GAEF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,WAAW,EAAE;AACtC,YAAQ,EAAE,CACR,qBAAqB,EACrB,WAAW,CACZ;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,WAAW,EAAE;AACtC,YAAQ,EAAE,CACR,qBAAqB,EACrB,WAAW,CACZ;AACD,cAAU,EAAE;AACV,cAAQ,EAAE,UAAU;AACpB,iBAAW,EAAE,UAAU;AACvB,WAAK,EAAE,UAAU;KAClB;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,UAAU,EAAE;AACrC,WAAO,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC;AACxB,YAAQ,EAAE,CACR,oBAAoB,EACpB,UAAU,CACX;AACD,cAAU,EAAE;AACV,gBAAU,EAAE,EAAE;AACd,mBAAa,EAAE,EAAE;AACjB,aAAO,EAAE,EAAE;AACX,cAAQ,EAAE,EAAE;AACZ,YAAM,EAAE,EAAE;AACV,iBAAW,EAAE,EAAE;AACf,eAAS,EAAE,UAAU;AACrB,kBAAY,EAAE,EAAE;KACjB;AACD,2BAAuB,EAAE;AACvB,UAAI,EAAE,EAAE;AACR,WAAK,EAAE,SAAS;AAChB,cAAQ,EAAE,EAAE;AACZ,eAAS,EAAE,EAAE;AACb,iBAAW,EAAE,EAAE;AACf,YAAM,EAAE,EAAE;AACV,aAAO,EAAE,EAAE,QAAQ,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE;AACpC,gBAAU,EAAE,EAAE;KACf;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,iBAAiB,EAAE;AAC5C,WAAO,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC;AACxB,YAAQ,EAAE,CACR,2BAA2B,EAC3B,iBAAiB,CAClB;AACD,cAAU,EAAE;AACV,aAAO,EAAE,UAAU;AACnB,aAAO,EAAE,UAAU;KACpB;AACD,2BAAuB,EAAE;AACvB,WAAK,EAAE;;OAEN;KACF;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,eAAe,EAAE;AAC1C,WAAO,EAAE,CAAC,KAAK,CAAC;AAChB,YAAQ,EAAE,CACR,yBAAyB,EACzB,eAAe,CAChB;AACD,cAAU,EAAE;AACV,YAAM,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,CAAC;KAC1C;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,kBAAkB,EAAE;AAC7C,WAAO,EAAE,CAAC,KAAK,CAAC;AAChB,YAAQ,EAAE,CACR,SAAS,CACV;AACD,2BAAuB,EAAE;AACvB,cAAQ,EAAE;AACR,oBAAY,EAAE,cAAc;OAC7B;AACD,cAAQ,EAAE;AACR,oBAAY,EAAE,eAAe;OAC9B;AACD,aAAO,EAAE;AACP,kBAAU,EAAE;AACV,gBAAM,EAAE,EAAE;SACX;OACF;KACF;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,oBAAoB,EAAE;AAC/C,WAAO,EAAE,CAAC,QAAQ,CAAC;AACnB,YAAQ,EAAE,CACR,WAAW,CACZ;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,qBAAqB,EAAE;AAChD,WAAO,EAAE,CAAC,KAAK,CAAE;AACjB,YAAQ,EAAE,CACR,qBAAqB,CACtB;AACD,cAAU,EAAE;AACV,mBAAa,EAAE,UAAU;KAC1B;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,YAAY,EAAE;AACvC,WAAO,EAAE,CAAC,KAAK,CAAE;AACjB,YAAQ,EAAE,CACR,WAAW,EACX,qBAAqB,CACtB;AACD,kBAAc,EAAE;AACd,eAAS,EAAE,CACT,WAAW,EACX,UAAU,CACX;KACF;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,cAAc,EAAE;AACzC,YAAQ,EAAE,CACR,cAAc,EACd,wBAAwB,CACzB;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,UAAU,EAAE;AACrC,WAAO,EAAE,CAAC,MAAM,CAAC;AACjB,YAAQ,EAAE,CACR,UAAU,EACV,oBAAoB,CACrB;AACD,cAAU,EAAE;AACV,yBAAmB,EAAE,UAAU;KAChC;GACF,CAAC,CAAC;;AAEH,KAAG,CAAC,sBAAsB,CAAC,iBAAiB,EAAE;AAC5C,WAAO,EAAE,CAAC,KAAK,CAAC;AAChB,YAAQ,EAAE,CACR,UAAU,EACV,oBAAoB,CACrB;GACF,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/indices.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('_refresh', {\n    methods: ['POST'],\n    patterns: [\n      \"_refresh\",\n      \"{indices}/_refresh\"\n    ],\n  });\n\n  api.addEndpointDescription('_flush', {\n    methods: ['POST'],\n    patterns: [\n      \"_flush\",\n      \"{indices}/_flush\"\n    ],\n    url_params: {\n      wait_if_ongoing: [true, false],\n      force: [true, false]\n    }\n  });\n\n  api.addEndpointDescription('_flush_synced', {\n    methods: ['POST'],\n    patterns: [\n      \"_flush/synced\",\n      \"{indices}/_flush/synced\"\n    ]\n  });\n\n  api.addEndpointDescription('_stats', {\n    patterns: [\n      \"_stats\",\n      \"_stats/{metrics}\",\n      \"{indices}/_stats\",\n      \"{indices}/_stats/{metrics}\",\n    ],\n    url_components: {\n      \"metrics\": [\n        \"docs\",\n        \"store\",\n        \"indexing\",\n        \"search\",\n        \"get\",\n        \"merge\",\n        \"refresh\",\n        \"flush\",\n        \"warmer\",\n        \"filter_cache\",\n        \"percolate\",\n        \"segments\",\n        \"fielddata\",\n        \"completion\",\n        \"translog\",\n        \"query_cache\",\n        \"commit\",\n        \"_all\"\n      ]\n    },\n    url_params: {\n      \"fields\": [],\n      \"types\": [],\n      \"completion_fields\": [],\n      \"docvalue_fields\": [],\n      \"level\": [\"cluster\", \"indices\", \"shards\"]\n    }\n\n  });\n\n  api.addEndpointDescription('_segments', {\n    patterns: [\n      \"{indices}/_segments\",\n      \"_segments\"\n    ]\n  });\n\n  api.addEndpointDescription('_recovery', {\n    patterns: [\n      \"{indices}/_recovery\",\n      \"_recovery\"\n    ],\n    url_params: {\n      detailed: \"__flag__\",\n      active_only: \"__flag__\",\n      human: \"__flag__\"\n    }\n  });\n\n  api.addEndpointDescription('_analyze', {\n    methods: ['GET', 'POST'],\n    patterns: [\n      \"{indices}/_analyze\",\n      \"_analyze\"\n    ],\n    url_params: {\n      \"analyzer\": \"\",\n      \"char_filter\": [],\n      \"field\": \"\",\n      \"filter\": [],\n      \"text\": \"\",\n      \"tokenizer\": \"\",\n      \"explain\": \"__flag__\",\n      \"attributes\": []\n    },\n    data_autocomplete_rules: {\n      text: [],\n      field: \"{field}\",\n      analyzer: \"\",\n      tokenizer: \"\",\n      char_filter: [],\n      filter: [],\n      explain: { __one_of: [false, true] },\n      attributes: []\n    }\n  });\n\n  api.addEndpointDescription('_validate_query', {\n    methods: ['GET', 'POST'],\n    patterns: [\n      \"{indices}/_validate/query\",\n      \"_validate/query\"\n    ],\n    url_params: {\n      explain: \"__flag__\",\n      rewrite: \"__flag__\"\n    },\n    data_autocomplete_rules: {\n      query: {\n        // populated by a global rule\n      }\n    }\n  });\n\n  api.addEndpointDescription('_shard_stores', {\n    methods: ['GET'],\n    patterns: [\n      \"{indices}/_shard_stores\",\n      \"_shard_stores\"\n    ],\n    url_params: {\n      status: [\"green\", \"yellow\", \"red\", \"all\"]\n    }\n  });\n\n  api.addEndpointDescription('__create_index__', {\n    methods: ['PUT'],\n    patterns: [\n      \"{index}\"\n    ],\n    data_autocomplete_rules: {\n      mappings: {\n        __scope_link: '_put_mapping'\n      },\n      settings: {\n        __scope_link: '_put_settings'\n      },\n      aliases: {\n        __template: {\n          \"NAME\": {}\n        }\n      }\n    }\n  });\n\n  api.addEndpointDescription('__delete_indices__', {\n    methods: ['DELETE'],\n    patterns: [\n      \"{indices}\"\n    ]\n  });\n\n  api.addEndpointDescription('_get_index_settings', {\n    methods: ['GET',],\n    patterns: [\n      \"{indices}/_settings\",\n    ],\n    url_params: {\n      flat_settings: \"__flag__\"\n    }\n  });\n\n  api.addEndpointDescription('_get_index', {\n    methods: ['GET',],\n    patterns: [\n      \"{indices}\",\n      \"{indices}/{feature}\"\n    ],\n    url_components: {\n      \"feature\": [\n        \"_mappings\",\n        \"_aliases\"\n      ]\n    }\n  });\n\n  api.addEndpointDescription('_cache/clear', {\n    patterns: [\n      \"_cache/clear\",\n      \"{indices}/_cache/clear\"\n    ]\n  });\n\n  api.addEndpointDescription('_upgrade', {\n    methods: [\"POST\"],\n    patterns: [\n      \"_upgrade\",\n      \"{indices}/_upgrade\"\n    ],\n    url_params: {\n      wait_for_completion: \"__flag__\"\n    }\n  });\n\n  api.addEndpointDescription('_upgrade_status', {\n    methods: [\"GET\"],\n    patterns: [\n      \"_upgrade\",\n      \"{indices}/_upgrade\"\n    ]\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/ingest.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/append-processor.html\n'use strict';\n\nvar appendProcessorDefinition = {\n  append: {\n    __template: {\n      field: '',\n      value: []\n    },\n    field: '',\n    value: []\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/convert-processor.html\nvar convertProcessorDefinition = {\n  convert: {\n    __template: {\n      field: '',\n      type: ''\n    },\n    field: '',\n    type: {\n      __one_of: ['integer', 'float', 'string', 'boolean', 'auto']\n    },\n    target_field: '',\n    ignore_missing: {\n      __one_of: [false, true]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/date-processor.html\nvar dateProcessorDefinition = {\n  date: {\n    __template: {\n      field: '',\n      formats: []\n    },\n    field: '',\n    target_field: '@timestamp',\n    formats: [],\n    timezone: 'UTC',\n    locale: 'ENGLISH'\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/date-index-name-processor.html\nvar dateIndexNameProcessorDefinition = {\n  date_index_name: {\n    __template: {\n      field: '',\n      date_rounding: ''\n    },\n    field: '',\n    date_rounding: {\n      __one_of: ['y', 'M', 'w', 'd', 'h', 'm', 's']\n    },\n    date_formats: [],\n    timezone: 'UTC',\n    locale: 'ENGLISH',\n    index_name_format: 'yyyy-MM-dd'\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/fail-processor.html\nvar failProcessorDefinition = {\n  fail: {\n    __template: {\n      message: ''\n    },\n    message: ''\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/foreach-processor.html\nvar foreachProcessorDefinition = {\n  foreach: {\n    __template: {\n      field: '',\n      processor: {}\n    },\n    field: '',\n    processor: {\n      __scope_link: '_processor'\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/grok-processor.html\nvar grokProcessorDefinition = {\n  grok: {\n    __template: {\n      field: '',\n      patterns: []\n    },\n    field: '',\n    patterns: [],\n    pattern_definitions: {},\n    trace_match: {\n      __one_of: [false, true]\n    },\n    ignore_missing: {\n      __one_of: [false, true]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/gsub-processor.html\nvar gsubProcessorDefinition = {\n  gsub: {\n    __template: {\n      field: '',\n      pattern: '',\n      replacement: ''\n    },\n    field: '',\n    pattern: '',\n    replacement: ''\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/join-processor.html\nvar joinProcessorDefinition = {\n  join: {\n    __template: {\n      field: '',\n      separator: ''\n    },\n    field: '',\n    separator: ''\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/json-processor.html\nvar jsonProcessorDefinition = {\n  json: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    target_field: '',\n    add_to_root: {\n      __one_of: [false, true]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/kv-processor.html\nvar kvProcessorDefinition = {\n  kv: {\n    __template: {\n      field: '',\n      field_split: '',\n      value_split: ''\n    },\n    field: '',\n    field_split: '',\n    value_split: '',\n    target_field: '',\n    include_keys: [],\n    ignore_missing: {\n      __one_of: [false, true]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/lowercase-processor.html\nvar lowercaseProcessorDefinition = {\n  lowercase: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    ignore_missing: {\n      __one_of: [false, true]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/remove-processor.html\nvar removeProcessorDefinition = {\n  remove: {\n    __template: {\n      field: ''\n    },\n    field: ''\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/rename-processor.html\nvar renameProcessorDefinition = {\n  rename: {\n    __template: {\n      field: '',\n      target_field: ''\n    },\n    field: '',\n    target_field: '',\n    ignore_missing: {\n      __one_of: [false, true]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/script-processor.html\nvar scriptProcessorDefinition = {\n  script: {\n    __template: {},\n    lang: 'painless',\n    file: '',\n    id: '',\n    inline: '',\n    params: {}\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/set-processor.html\nvar setProcessorDefinition = {\n  set: {\n    __template: {\n      field: '',\n      value: ''\n    },\n    field: '',\n    value: '',\n    override: {\n      __one_of: [true, false]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/split-processor.html\nvar splitProcessorDefinition = {\n  split: {\n    __template: {\n      field: '',\n      separator: ''\n    },\n    field: '',\n    separator: '',\n    ignore_missing: {\n      __one_of: [false, true]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/sort-processor.html\nvar sortProcessorDefinition = {\n  sort: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    order: 'asc'\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/trim-processor.html\nvar trimProcessorDefinition = {\n  trim: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    ignore_missing: {\n      __one_of: [false, true]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/uppercase-processor.html\nvar uppercaseProcessorDefinition = {\n  uppercase: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    ignore_missing: {\n      __one_of: [false, true]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/dot-expand-processor.html\nvar dotExpanderProcessorDefinition = {\n  dot_expander: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    path: ''\n  }\n};\n\nvar processorDefinition = {\n  __one_of: [appendProcessorDefinition, convertProcessorDefinition, dateProcessorDefinition, dateIndexNameProcessorDefinition, failProcessorDefinition, foreachProcessorDefinition, grokProcessorDefinition, gsubProcessorDefinition, joinProcessorDefinition, jsonProcessorDefinition, kvProcessorDefinition, lowercaseProcessorDefinition, removeProcessorDefinition, renameProcessorDefinition, scriptProcessorDefinition, setProcessorDefinition, splitProcessorDefinition, sortProcessorDefinition, trimProcessorDefinition, uppercaseProcessorDefinition, dotExpanderProcessorDefinition]\n};\n\nvar pipelineDefinition = {\n  description: '',\n  processors: [processorDefinition],\n  version: 123\n};\n\nvar simulateUrlParamsDefinition = {\n  \"verbose\": \"__flag__\"\n};\n\nmodule.exports = function (api) {\n\n  // Note: this isn't an actual API endpoint. It exists so the forEach processor's \"processor\" field\n  // may recursively use the autocomplete rules for any processor.\n  api.addEndpointDescription('_processor', {\n    data_autocomplete_rules: processorDefinition\n  });\n\n  api.addEndpointDescription('_put_ingest_pipeline', {\n    methods: ['PUT'],\n    patterns: ['_ingest/pipeline/{name}'],\n    data_autocomplete_rules: pipelineDefinition\n  });\n\n  api.addEndpointDescription('_get_ingest_pipeline', {\n    methods: ['GET'],\n    patterns: ['_ingest/pipeline/{id}']\n  });\n\n  api.addEndpointDescription('_delete_ingest_pipeline', {\n    methods: ['DELETE'],\n    patterns: ['_ingest/pipeline/{id}']\n  });\n\n  api.addEndpointDescription('_simulate_new_ingest_pipeline', {\n    methods: ['POST'],\n    patterns: ['_ingest/pipeline/_simulate'],\n    url_params: simulateUrlParamsDefinition,\n    data_autocomplete_rules: {\n      pipeline: pipelineDefinition,\n      docs: []\n    }\n  });\n\n  api.addEndpointDescription('_simulate_existing_ingest_pipeline', {\n    methods: ['POST'],\n    patterns: ['_ingest/pipeline/{name}/_simulate'],\n    url_params: simulateUrlParamsDefinition,\n    data_autocomplete_rules: {\n      docs: []\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9pbmdlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsSUFBTSx5QkFBeUIsR0FBRztBQUNoQyxRQUFNLEVBQUU7QUFDTixjQUFVLEVBQUU7QUFDVixXQUFLLEVBQUUsRUFBRTtBQUNULFdBQUssRUFBRSxFQUFFO0tBQ1Y7QUFDRCxTQUFLLEVBQUUsRUFBRTtBQUNULFNBQUssRUFBRSxFQUFFO0dBQ1Y7Q0FDRixDQUFDOzs7QUFHRixJQUFNLDBCQUEwQixHQUFHO0FBQ2pDLFNBQU8sRUFBRTtBQUNQLGNBQVUsRUFBRTtBQUNWLFdBQUssRUFBRSxFQUFFO0FBQ1QsVUFBSSxFQUFFLEVBQUU7S0FDVDtBQUNELFNBQUssRUFBRSxFQUFFO0FBQ1QsUUFBSSxFQUFFO0FBQ0osY0FBUSxFQUFFLENBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBRTtLQUM5RDtBQUNELGdCQUFZLEVBQUUsRUFBRTtBQUNoQixrQkFBYyxFQUFFO0FBQ2QsY0FBUSxFQUFFLENBQUUsS0FBSyxFQUFFLElBQUksQ0FBRTtLQUMxQjtHQUNGO0NBQ0YsQ0FBQzs7O0FBR0YsSUFBTSx1QkFBdUIsR0FBRztBQUM5QixNQUFJLEVBQUU7QUFDSixjQUFVLEVBQUU7QUFDVixXQUFLLEVBQUUsRUFBRTtBQUNULGFBQU8sRUFBRSxFQUFFO0tBQ1o7QUFDRCxTQUFLLEVBQUUsRUFBRTtBQUNULGdCQUFZLEVBQUUsWUFBWTtBQUMxQixXQUFPLEVBQUUsRUFBRTtBQUNYLFlBQVEsRUFBRSxLQUFLO0FBQ2YsVUFBTSxFQUFFLFNBQVM7R0FDbEI7Q0FDRixDQUFDOzs7QUFHRixJQUFNLGdDQUFnQyxHQUFHO0FBQ3ZDLGlCQUFlLEVBQUU7QUFDZixjQUFVLEVBQUU7QUFDVixXQUFLLEVBQUUsRUFBRTtBQUNULG1CQUFh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QyxNQUFNLENBQUM7QUFDakIsWUFBUSxFQUFFLENBQ1IsNEJBQTRCLENBQzdCO0FBQ0QsY0FBVSxFQUFFLDJCQUEyQjtBQUN2QywyQkFBdUIsRUFBRTtBQUN2QixjQUFRLEVBQUUsa0JBQWtCO0FBQzVCLFVBQUksRUFBRSxFQUNMO0tBQ0Y7R0FDRixDQUFDLENBQUM7O0FBRUgsS0FBRyxDQUFDLHNCQUFzQixDQUFDLG9DQUFvQyxFQUFFO0FBQy9ELFdBQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQztBQUNqQixZQUFRLEVBQUUsQ0FDUixtQ0FBbUMsQ0FDcEM7QUFDRCxjQUFVLEVBQUUsMkJBQTJCO0FBQ3ZDLDJCQUF1QixFQUFFO0FBQ3ZCLFVBQUksRUFBRSxFQUNMO0tBQ0Y7R0FDRixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9pbmdlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCYXNlZCBvbiBodHRwczovL3d3dy5lbGFzdGljLmNvL2d1aWRlL2VuL2VsYXN0aWNzZWFyY2gvcmVmZXJlbmNlL21hc3Rlci9hcHBlbmQtcHJvY2Vzc29yLmh0bWxcbmNvbnN0IGFwcGVuZFByb2Nlc3NvckRlZmluaXRpb24gPSB7XG4gIGFwcGVuZDoge1xuICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgIGZpZWxkOiAnJyxcbiAgICAgIHZhbHVlOiBbXVxuICAgIH0sXG4gICAgZmllbGQ6ICcnLFxuICAgIHZhbHVlOiBbXVxuICB9XG59O1xuXG4vLyBCYXNlZCBvbiBodHRwczovL3d3dy5lbGFzdGljLmNvL2d1aWRlL2VuL2VsYXN0aWNzZWFyY2gvcmVmZXJlbmNlL21hc3Rlci9jb252ZXJ0LXByb2Nlc3Nvci5odG1sXG5jb25zdCBjb252ZXJ0UHJvY2Vzc29yRGVmaW5pdGlvbiA9IHtcbiAgY29udmVydDoge1xuICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgIGZpZWxkOiAnJyxcbiAgICAgIHR5cGU6ICcnXG4gICAgfSxcbiAgICBmaWVsZDogJycsXG4gICAgdHlwZToge1xuICAgICAgX19vbmVfb2Y6IFsgJ2ludGVnZXInLCAnZmxvYXQnLCAnc3RyaW5nJywgJ2Jvb2xlYW4nLCAnYXV0bycgXVxuICAgIH0sXG4gICAgdGFyZ2V0X2ZpZWxkOiAnJyxcbiAgICBpZ25vcmVfbWlzc2luZzoge1xuICAgICAgX19vbmVfb2Y6IFsgZmFsc2UsIHRydWUgXVxuICAgIH1cbiAgfVxufTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9tYXN0ZXIvZGF0ZS1wcm9jZXNzb3IuaHRtbFxuY29uc3QgZGF0ZVByb2Nlc3NvckRlZmluaXRpb24gPSB7XG4gIGRhdGU6IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJycsXG4gICAgICBmb3JtYXRzOiBbXVxuICAgIH0sXG4gICAgZmllbGQ6ICcnLFxuICAgIHRhcmdldF9maWVsZDogJ0B0aW1lc3RhbXAnLFxuICAgIGZvcm1hdHM6IFtdLFxuICAgIHRpbWV6b25lOiAnVVRDJyxcbiAgICBsb2NhbGU6ICdFTkdMSVNIJ1xuICB9XG59O1xuXG4vLyBCYXNlZCBvbiBodHRwczovL3d3dy5lbGFzdGljLmNvL2d1aWRlL2VuL2VsYXN0aWNzZWFyY2gvcmVmZXJlbmNlL21hc3Rlci9kYXRlLWluZGV4LW5hbWUtcHJvY2Vzc29yLmh0bWxcbmNvbnN0IGRhdGVJbmRleE5hbWVQcm9jZXNzb3JEZWZpbml0aW9uID0ge1xuICBkYXRlX2luZGV4X25hbWU6IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJycsXG4gICAgICBkYXRlX3JvdW5kaW5nOiAnJ1xuICAgIH0sXG4gICAgZmllbGQ6ICcnLFxuICAgIGRhdGVfcm91bmRpbmc6IHtcbiAgICAgIF9fb25lX29mOiBbICd5JywgJ00nLCAndycsICdkJywgJ2gnLCAnbScsICdzJyBdXG4gICAgfSxcbiAgICBkYXRlX2Zvcm1hdHM6IFtdLFxuICAgIHRpbWV6b25lOiAnVVRDJyxcbiAgICBsb2NhbGU6ICdFTkdMSVNIJyxcbiAgICBpbmRleF9uYW1lX2Zvcm1hdDogJ3l5eXktTU0tZGQnXG4gIH1cbn07XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vd3d3LmVsYXN0aWMuY28vZ3VpZGUvZW4vZWxhc3RpY3NlYXJjaC9yZWZlcmVuY2UvbWFzdGVyL2ZhaWwtcHJvY2Vzc29yLmh0bWxcbmNvbnN0IGZhaWxQcm9jZXNzb3JEZWZpbml0aW9uID0ge1xuICBmYWlsOiB7XG4gICAgX190ZW1wbGF0ZToge1xuICAgICAgbWVzc2FnZTogJydcbiAgICB9LFxuICAgIG1lc3NhZ2U6ICcnXG4gIH1cbn07XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vd3d3LmVsYXN0aWMuY28vZ3VpZGUvZW4vZWxhc3RpY3NlYXJjaC9yZWZlcmVuY2UvbWFzdGVyL2ZvcmVhY2gtcHJvY2Vzc29yLmh0bWxcbmNvbnN0IGZvcmVhY2hQcm9jZXNzb3JEZWZpbml0aW9uID0ge1xuICBmb3JlYWNoOiB7XG4gICAgX190ZW1wbGF0ZToge1xuICAgICAgZmllbGQ6ICcnLFxuICAgICAgcHJvY2Vzc29yOiB7fVxuICAgIH0sXG4gICAgZmllbGQ6ICcnLFxuICAgIHByb2Nlc3Nvcjoge1xuICAgICAgX19zY29wZV9saW5rOiAnX3Byb2Nlc3NvcidcbiAgICB9XG4gIH1cbn07XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vd3d3LmVsYXN0aWMuY28vZ3VpZGUvZW4vZWxhc3RpY3NlYXJjaC9yZWZlcmVuY2UvbWFzdGVyL2dyb2stcHJvY2Vzc29yLmh0bWxcbmNvbnN0IGdyb2tQcm9jZXNzb3JEZWZpbml0aW9uID0ge1xuICBncm9rOiB7XG4gICAgX190ZW1wbGF0ZToge1xuICAgICAgZmllbGQ6ICcnLFxuICAgICAgcGF0dGVybnM6IFtdXG4gICAgfSxcbiAgICBmaWVsZDogJycsXG4gICAgcGF0dGVybnM6IFtdLFxuICAgIHBhdHRlcm5fZGVmaW5pdGlvbnM6IHt9LFxuICAgIHRyYWNlX21hdGNoOiB7XG4gICAgICBfX29uZV9vZjogWyBmYWxzZSwgdHJ1ZSBdXG4gICAgfSxcbiAgICBpZ25vcmVfbWlzc2luZzoge1xuICAgICAgX19vbmVfb2Y6IFsgZmFsc2UsIHRydWUgXVxuICAgIH1cbiAgfVxufTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9tYXN0ZXIvZ3N1Yi1wcm9jZXNzb3IuaHRtbFxuY29uc3QgZ3N1YlByb2Nlc3NvckRlZmluaXRpb24gPSB7XG4gIGdzdWI6IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJycsXG4gICAgICBwYXR0ZXJuOiAnJyxcbiAgICAgIHJlcGxhY2VtZW50OiAnJ1xuICAgIH0sXG4gICAgZmllbGQ6ICcnLFxuICAgIHBhdHRlcm46ICcnLFxuICAgIHJlcGxhY2VtZW50OiAnJ1xuICB9XG59O1xuXG4vLyBCYXNlZCBvbiBodHRwczovL3d3dy5lbGFzdGljLmNvL2d1aWRlL2VuL2VsYXN0aWNzZWFyY2gvcmVmZXJlbmNlL21hc3Rlci9qb2luLXByb2Nlc3Nvci5odG1sXG5jb25zdCBqb2luUHJvY2Vzc29yRGVmaW5pdGlvbiA9IHtcbiAgam9pbjoge1xuICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgIGZpZWxkOiAnJyxcbiAgICAgIHNlcGFyYXRvcjogJydcbiAgICB9LFxuICAgIGZpZWxkOiAnJyxcbiAgICBzZXBhcmF0b3I6ICcnXG4gIH1cbn07XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vd3d3LmVsYXN0aWMuY28vZ3VpZGUvZW4vZWxhc3RpY3NlYXJjaC9yZWZlcmVuY2UvbWFzdGVyL2pzb24tcHJvY2Vzc29yLmh0bWxcbmNvbnN0IGpzb25Qcm9jZXNzb3JEZWZpbml0aW9uID0ge1xuICBqc29uOiB7XG4gICAgX190ZW1wbGF0ZToge1xuICAgICAgZmllbGQ6ICcnXG4gICAgfSxcbiAgICBmaWVsZDogJycsXG4gICAgdGFyZ2V0X2ZpZWxkOiAnJyxcbiAgICBhZGRfdG9fcm9vdDoge1xuICAgICAgX19vbmVfb2Y6IFsgZmFsc2UsIHRydWUgXVxuICAgIH1cbiAgfVxufTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9tYXN0ZXIva3YtcHJvY2Vzc29yLmh0bWxcbmNvbnN0IGt2UHJvY2Vzc29yRGVmaW5pdGlvbiA9IHtcbiAga3Y6IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJycsXG4gICAgICBmaWVsZF9zcGxpdDogJycsXG4gICAgICB2YWx1ZV9zcGxpdDogJydcbiAgICB9LFxuICAgIGZpZWxkOiAnJyxcbiAgICBmaWVsZF9zcGxpdDogJycsXG4gICAgdmFsdWVfc3BsaXQ6ICcnLFxuICAgIHRhcmdldF9maWVsZDogJycsXG4gICAgaW5jbHVkZV9rZXlzOiBbXSxcbiAgICBpZ25vcmVfbWlzc2luZzoge1xuICAgICAgX19vbmVfb2Y6IFsgZmFsc2UsIHRydWUgXVxuICAgIH1cbiAgfVxufTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9tYXN0ZXIvbG93ZXJjYXNlLXByb2Nlc3Nvci5odG1sXG5jb25zdCBsb3dlcmNhc2VQcm9jZXNzb3JEZWZpbml0aW9uID0ge1xuICBsb3dlcmNhc2U6IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJydcbiAgICB9LFxuICAgIGZpZWxkOiAnJyxcbiAgICBpZ25vcmVfbWlzc2luZzoge1xuICAgICAgX19vbmVfb2Y6IFsgZmFsc2UsIHRydWUgXVxuICAgIH1cbiAgfVxufTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9tYXN0ZXIvcmVtb3ZlLXByb2Nlc3Nvci5odG1sXG5jb25zdCByZW1vdmVQcm9jZXNzb3JEZWZpbml0aW9uID0ge1xuICByZW1vdmU6IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJydcbiAgICB9LFxuICAgIGZpZWxkOiAnJ1xuICB9XG59O1xuXG4vLyBCYXNlZCBvbiBodHRwczovL3d3dy5lbGFzdGljLmNvL2d1aWRlL2VuL2VsYXN0aWNzZWFyY2gvcmVmZXJlbmNlL21hc3Rlci9yZW5hbWUtcHJvY2Vzc29yLmh0bWxcbmNvbnN0IHJlbmFtZVByb2Nlc3NvckRlZmluaXRpb24gPSB7XG4gIHJlbmFtZToge1xuICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgIGZpZWxkOiAnJyxcbiAgICAgIHRhcmdldF9maWVsZDogJydcbiAgICB9LFxuICAgIGZpZWxkOiAnJyxcbiAgICB0YXJnZXRfZmllbGQ6ICcnLFxuICAgIGlnbm9yZV9taXNzaW5nOiB7XG4gICAgICBfX29uZV9vZjogWyBmYWxzZSwgdHJ1ZSBdXG4gICAgfVxuICB9XG59O1xuXG4vLyBCYXNlZCBvbiBodHRwczovL3d3dy5lbGFzdGljLmNvL2d1aWRlL2VuL2VsYXN0aWNzZWFyY2gvcmVmZXJlbmNlL21hc3Rlci9zY3JpcHQtcHJvY2Vzc29yLmh0bWxcbmNvbnN0IHNjcmlwdFByb2Nlc3NvckRlZmluaXRpb24gPSB7XG4gIHNjcmlwdDoge1xuICAgIF9fdGVtcGxhdGU6IHt9LFxuICAgIGxhbmc6ICdwYWlubGVzcycsXG4gICAgZmlsZTogJycsXG4gICAgaWQ6ICcnLFxuICAgIGlubGluZTogJycsXG4gICAgcGFyYW1zOiB7fVxuICB9XG59O1xuXG4vLyBCYXNlZCBvbiBodHRwczovL3d3dy5lbGFzdGljLmNvL2d1aWRlL2VuL2VsYXN0aWNzZWFyY2gvcmVmZXJlbmNlL21hc3Rlci9zZXQtcHJvY2Vzc29yLmh0bWxcbmNvbnN0IHNldFByb2Nlc3NvckRlZmluaXRpb24gPSB7XG4gIHNldDoge1xuICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgIGZpZWxkOiAnJyxcbiAgICAgIHZhbHVlOiAnJ1xuICAgIH0sXG4gICAgZmllbGQ6ICcnLFxuICAgIHZhbHVlOiAnJyxcbiAgICBvdmVycmlkZToge1xuICAgICAgX19vbmVfb2Y6IFsgdHJ1ZSwgZmFsc2UgXVxuICAgIH1cbiAgfVxufTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9tYXN0ZXIvc3BsaXQtcHJvY2Vzc29yLmh0bWxcbmNvbnN0IHNwbGl0UHJvY2Vzc29yRGVmaW5pdGlvbiA9IHtcbiAgc3BsaXQ6IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJycsXG4gICAgICBzZXBhcmF0b3I6ICcnXG4gICAgfSxcbiAgICBmaWVsZDogJycsXG4gICAgc2VwYXJhdG9yOiAnJyxcbiAgICBpZ25vcmVfbWlzc2luZzoge1xuICAgICAgX19vbmVfb2Y6IFsgZmFsc2UsIHRydWUgXVxuICAgIH1cbiAgfVxufTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9tYXN0ZXIvc29ydC1wcm9jZXNzb3IuaHRtbFxuY29uc3Qgc29ydFByb2Nlc3NvckRlZmluaXRpb24gPSB7XG4gIHNvcnQ6IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJydcbiAgICB9LFxuICAgIGZpZWxkOiAnJyxcbiAgICBvcmRlcjogJ2FzYydcbiAgfVxufTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9tYXN0ZXIvdHJpbS1wcm9jZXNzb3IuaHRtbFxuY29uc3QgdHJpbVByb2Nlc3NvckRlZmluaXRpb24gPSB7XG4gIHRyaW06IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJydcbiAgICB9LFxuICAgIGZpZWxkOiAnJyxcbiAgICBpZ25vcmVfbWlzc2luZzoge1xuICAgICAgX19vbmVfb2Y6IFsgZmFsc2UsIHRydWUgXVxuICAgIH1cbiAgfVxufTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9tYXN0ZXIvdXBwZXJjYXNlLXByb2Nlc3Nvci5odG1sXG5jb25zdCB1cHBlcmNhc2VQcm9jZXNzb3JEZWZpbml0aW9uID0ge1xuICB1cHBlcmNhc2U6IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJydcbiAgICB9LFxuICAgIGZpZWxkOiAnJyxcbiAgICBpZ25vcmVfbWlzc2luZzoge1xuICAgICAgX19vbmVfb2Y6IFsgZmFsc2UsIHRydWUgXVxuICAgIH1cbiAgfVxufTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9tYXN0ZXIvZG90LWV4cGFuZC1wcm9jZXNzb3IuaHRtbFxuY29uc3QgZG90RXhwYW5kZXJQcm9jZXNzb3JEZWZpbml0aW9uID0ge1xuICBkb3RfZXhwYW5kZXI6IHtcbiAgICBfX3RlbXBsYXRlOiB7XG4gICAgICBmaWVsZDogJydcbiAgICB9LFxuICAgIGZpZWxkOiAnJyxcbiAgICBwYXRoOiAnJ1xuICB9XG59O1xuXG5jb25zdCBwcm9jZXNzb3JEZWZpbml0aW9uID0ge1xuICBfX29uZV9vZjogW1xuICAgIGFwcGVuZFByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgY29udmVydFByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgZGF0ZVByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgZGF0ZUluZGV4TmFtZVByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgZmFpbFByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgZm9yZWFjaFByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgZ3Jva1Byb2Nlc3NvckRlZmluaXRpb24sXG4gICAgZ3N1YlByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgam9pblByb2Nlc3NvckRlZmluaXRpb24sXG4gICAganNvblByb2Nlc3NvckRlZmluaXRpb24sXG4gICAga3ZQcm9jZXNzb3JEZWZpbml0aW9uLFxuICAgIGxvd2VyY2FzZVByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgcmVtb3ZlUHJvY2Vzc29yRGVmaW5pdGlvbixcbiAgICByZW5hbWVQcm9jZXNzb3JEZWZpbml0aW9uLFxuICAgIHNjcmlwdFByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgc2V0UHJvY2Vzc29yRGVmaW5pdGlvbixcbiAgICBzcGxpdFByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgc29ydFByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgdHJpbVByb2Nlc3NvckRlZmluaXRpb24sXG4gICAgdXBwZXJjYXNlUHJvY2Vzc29yRGVmaW5pdGlvbixcbiAgICBkb3RFeHBhbmRlclByb2Nlc3NvckRlZmluaXRpb25cbiAgXVxufTtcblxuY29uc3QgcGlwZWxpbmVEZWZpbml0aW9uID0ge1xuICBkZXNjcmlwdGlvbjogJycsXG4gIHByb2Nlc3NvcnM6IFtcbiAgICBwcm9jZXNzb3JEZWZpbml0aW9uXG4gIF0sXG4gIHZlcnNpb246IDEyMyxcbn07XG5cbmNvbnN0IHNpbXVsYXRlVXJsUGFyYW1zRGVmaW5pdGlvbiA9IHtcbiAgXCJ2ZXJib3NlXCI6IFwiX19mbGFnX19cIlxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpKSB7XG5cbiAgLy8gTm90ZTogdGhpcyBpc24ndCBhbiBhY3R1YWwgQVBJIGVuZHBvaW50LiBJdCBleGlzdHMgc28gdGhlIGZvckVhY2ggcHJvY2Vzc29yJ3MgXCJwcm9jZXNzb3JcIiBmaWVsZFxuICAvLyBtYXkgcmVjdXJzaXZlbHkgdXNlIHRoZSBhdXRvY29tcGxldGUgcnVsZXMgZm9yIGFueSBwcm9jZXNzb3IuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfcHJvY2Vzc29yJywge1xuICAgIGRhdGFfYXV0b2NvbXBsZXRlX3J1bGVzOiBwcm9jZXNzb3JEZWZpbml0aW9uXG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfcHV0X2luZ2VzdF9waXBlbGluZScsIHtcbiAgICBtZXRob2RzOiBbJ1BVVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICAnX2luZ2VzdC9waXBlbGluZS97bmFtZX0nXG4gICAgXSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczogcGlwZWxpbmVEZWZpbml0aW9uXG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfZ2V0X2luZ2VzdF9waXBlbGluZScsIHtcbiAgICBtZXRob2RzOiBbJ0dFVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICAnX2luZ2VzdC9waXBlbGluZS97aWR9J1xuICAgIF1cbiAgfSk7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19kZWxldGVfaW5nZXN0X3BpcGVsaW5lJywge1xuICAgIG1ldGhvZHM6IFsnREVMRVRFJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgICdfaW5nZXN0L3BpcGVsaW5lL3tpZH0nXG4gICAgXVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX3NpbXVsYXRlX25ld19pbmdlc3RfcGlwZWxpbmUnLCB7XG4gICAgbWV0aG9kczogWydQT1NUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgICdfaW5nZXN0L3BpcGVsaW5lL19zaW11bGF0ZSdcbiAgICBdLFxuICAgIHVybF9wYXJhbXM6IHNpbXVsYXRlVXJsUGFyYW1zRGVmaW5pdGlvbixcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgcGlwZWxpbmU6IHBpcGVsaW5lRGVmaW5pdGlvbixcbiAgICAgIGRvY3M6IFtcbiAgICAgIF1cbiAgICB9XG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfc2ltdWxhdGVfZXhpc3RpbmdfaW5nZXN0X3BpcGVsaW5lJywge1xuICAgIG1ldGhvZHM6IFsnUE9TVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICAnX2luZ2VzdC9waXBlbGluZS97bmFtZX0vX3NpbXVsYXRlJ1xuICAgIF0sXG4gICAgdXJsX3BhcmFtczogc2ltdWxhdGVVcmxQYXJhbXNEZWZpbml0aW9uLFxuICAgIGRhdGFfYXV0b2NvbXBsZXRlX3J1bGVzOiB7XG4gICAgICBkb2NzOiBbXG4gICAgICBdXG4gICAgfVxuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/ingest.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/ingest.js",
      "sourcesContent": [
        "// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/append-processor.html\nconst appendProcessorDefinition = {\n  append: {\n    __template: {\n      field: '',\n      value: []\n    },\n    field: '',\n    value: []\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/convert-processor.html\nconst convertProcessorDefinition = {\n  convert: {\n    __template: {\n      field: '',\n      type: ''\n    },\n    field: '',\n    type: {\n      __one_of: [ 'integer', 'float', 'string', 'boolean', 'auto' ]\n    },\n    target_field: '',\n    ignore_missing: {\n      __one_of: [ false, true ]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/date-processor.html\nconst dateProcessorDefinition = {\n  date: {\n    __template: {\n      field: '',\n      formats: []\n    },\n    field: '',\n    target_field: '@timestamp',\n    formats: [],\n    timezone: 'UTC',\n    locale: 'ENGLISH'\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/date-index-name-processor.html\nconst dateIndexNameProcessorDefinition = {\n  date_index_name: {\n    __template: {\n      field: '',\n      date_rounding: ''\n    },\n    field: '',\n    date_rounding: {\n      __one_of: [ 'y', 'M', 'w', 'd', 'h', 'm', 's' ]\n    },\n    date_formats: [],\n    timezone: 'UTC',\n    locale: 'ENGLISH',\n    index_name_format: 'yyyy-MM-dd'\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/fail-processor.html\nconst failProcessorDefinition = {\n  fail: {\n    __template: {\n      message: ''\n    },\n    message: ''\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/foreach-processor.html\nconst foreachProcessorDefinition = {\n  foreach: {\n    __template: {\n      field: '',\n      processor: {}\n    },\n    field: '',\n    processor: {\n      __scope_link: '_processor'\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/grok-processor.html\nconst grokProcessorDefinition = {\n  grok: {\n    __template: {\n      field: '',\n      patterns: []\n    },\n    field: '',\n    patterns: [],\n    pattern_definitions: {},\n    trace_match: {\n      __one_of: [ false, true ]\n    },\n    ignore_missing: {\n      __one_of: [ false, true ]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/gsub-processor.html\nconst gsubProcessorDefinition = {\n  gsub: {\n    __template: {\n      field: '',\n      pattern: '',\n      replacement: ''\n    },\n    field: '',\n    pattern: '',\n    replacement: ''\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/join-processor.html\nconst joinProcessorDefinition = {\n  join: {\n    __template: {\n      field: '',\n      separator: ''\n    },\n    field: '',\n    separator: ''\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/json-processor.html\nconst jsonProcessorDefinition = {\n  json: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    target_field: '',\n    add_to_root: {\n      __one_of: [ false, true ]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/kv-processor.html\nconst kvProcessorDefinition = {\n  kv: {\n    __template: {\n      field: '',\n      field_split: '',\n      value_split: ''\n    },\n    field: '',\n    field_split: '',\n    value_split: '',\n    target_field: '',\n    include_keys: [],\n    ignore_missing: {\n      __one_of: [ false, true ]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/lowercase-processor.html\nconst lowercaseProcessorDefinition = {\n  lowercase: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    ignore_missing: {\n      __one_of: [ false, true ]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/remove-processor.html\nconst removeProcessorDefinition = {\n  remove: {\n    __template: {\n      field: ''\n    },\n    field: ''\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/rename-processor.html\nconst renameProcessorDefinition = {\n  rename: {\n    __template: {\n      field: '',\n      target_field: ''\n    },\n    field: '',\n    target_field: '',\n    ignore_missing: {\n      __one_of: [ false, true ]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/script-processor.html\nconst scriptProcessorDefinition = {\n  script: {\n    __template: {},\n    lang: 'painless',\n    file: '',\n    id: '',\n    inline: '',\n    params: {}\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/set-processor.html\nconst setProcessorDefinition = {\n  set: {\n    __template: {\n      field: '',\n      value: ''\n    },\n    field: '',\n    value: '',\n    override: {\n      __one_of: [ true, false ]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/split-processor.html\nconst splitProcessorDefinition = {\n  split: {\n    __template: {\n      field: '',\n      separator: ''\n    },\n    field: '',\n    separator: '',\n    ignore_missing: {\n      __one_of: [ false, true ]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/sort-processor.html\nconst sortProcessorDefinition = {\n  sort: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    order: 'asc'\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/trim-processor.html\nconst trimProcessorDefinition = {\n  trim: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    ignore_missing: {\n      __one_of: [ false, true ]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/uppercase-processor.html\nconst uppercaseProcessorDefinition = {\n  uppercase: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    ignore_missing: {\n      __one_of: [ false, true ]\n    }\n  }\n};\n\n// Based on https://www.elastic.co/guide/en/elasticsearch/reference/master/dot-expand-processor.html\nconst dotExpanderProcessorDefinition = {\n  dot_expander: {\n    __template: {\n      field: ''\n    },\n    field: '',\n    path: ''\n  }\n};\n\nconst processorDefinition = {\n  __one_of: [\n    appendProcessorDefinition,\n    convertProcessorDefinition,\n    dateProcessorDefinition,\n    dateIndexNameProcessorDefinition,\n    failProcessorDefinition,\n    foreachProcessorDefinition,\n    grokProcessorDefinition,\n    gsubProcessorDefinition,\n    joinProcessorDefinition,\n    jsonProcessorDefinition,\n    kvProcessorDefinition,\n    lowercaseProcessorDefinition,\n    removeProcessorDefinition,\n    renameProcessorDefinition,\n    scriptProcessorDefinition,\n    setProcessorDefinition,\n    splitProcessorDefinition,\n    sortProcessorDefinition,\n    trimProcessorDefinition,\n    uppercaseProcessorDefinition,\n    dotExpanderProcessorDefinition\n  ]\n};\n\nconst pipelineDefinition = {\n  description: '',\n  processors: [\n    processorDefinition\n  ],\n  version: 123,\n};\n\nconst simulateUrlParamsDefinition = {\n  \"verbose\": \"__flag__\"\n};\n\nmodule.exports = function (api) {\n\n  // Note: this isn't an actual API endpoint. It exists so the forEach processor's \"processor\" field\n  // may recursively use the autocomplete rules for any processor.\n  api.addEndpointDescription('_processor', {\n    data_autocomplete_rules: processorDefinition\n  });\n\n  api.addEndpointDescription('_put_ingest_pipeline', {\n    methods: ['PUT'],\n    patterns: [\n      '_ingest/pipeline/{name}'\n    ],\n    data_autocomplete_rules: pipelineDefinition\n  });\n\n  api.addEndpointDescription('_get_ingest_pipeline', {\n    methods: ['GET'],\n    patterns: [\n      '_ingest/pipeline/{id}'\n    ]\n  });\n\n  api.addEndpointDescription('_delete_ingest_pipeline', {\n    methods: ['DELETE'],\n    patterns: [\n      '_ingest/pipeline/{id}'\n    ]\n  });\n\n  api.addEndpointDescription('_simulate_new_ingest_pipeline', {\n    methods: ['POST'],\n    patterns: [\n      '_ingest/pipeline/_simulate'\n    ],\n    url_params: simulateUrlParamsDefinition,\n    data_autocomplete_rules: {\n      pipeline: pipelineDefinition,\n      docs: [\n      ]\n    }\n  });\n\n  api.addEndpointDescription('_simulate_existing_ingest_pipeline', {\n    methods: ['POST'],\n    patterns: [\n      '_ingest/pipeline/{name}/_simulate'\n    ],\n    url_params: simulateUrlParamsDefinition,\n    data_autocomplete_rules: {\n      docs: [\n      ]\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/mappings.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require(\"lodash\");\n\nvar BOOLEAN = {\n  __one_of: [true, false]\n};\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_get_mapping', {\n    methods: ['GET'],\n    priority: 10, // collides with get doc by id\n    patterns: [\"{indices}/_mapping\", \"{indices}/_mapping/{types}\", \"{indices}/{types}/_mapping\", \"_mapping\"]\n  });\n  api.addEndpointDescription('_get_field_mapping', {\n    methods: ['GET'],\n    priority: 10, // collides with get doc by id\n    patterns: [\"{indices}/_mapping/field/{fields}\", \"{indices}/_mapping/{type}/field/{fields}\"],\n    url_params: {\n      \"include_defaults\": \"__flag__\"\n    }\n  });\n  api.addEndpointDescription('_delete_mapping', {\n    methods: ['DELETE'],\n    priority: 10, // collides with get doc by id\n    patterns: [\"{indices}/_mapping\", \"{indices}/_mapping/{types}\", \"{indices}/{types}/_mapping\", \"_mapping\"]\n  });\n  api.addEndpointDescription('_put_type_mapping', {\n    methods: ['PUT', 'POST'],\n    patterns: [\"{indices}/{type}/_mapping\", \"{indices}/_mapping/{type}\"],\n    priority: 10, // collides with put doc by id\n    data_autocomplete_rules: {\n      __template: {\n        properties: {\n          'FIELD': {}\n        }\n      },\n      '_source': {\n        'enabled': BOOLEAN\n      },\n      '_all': {\n        'enabled': BOOLEAN\n      },\n      '_field_names': {\n        'index': BOOLEAN\n      },\n      '_routing': {\n        'required': BOOLEAN\n      },\n      '_index': {\n        'enabled': BOOLEAN\n      },\n      '_parent': {\n        __template: {\n          'type': ''\n        },\n        'type': '{type}'\n      },\n      '_timestamp': {\n        'enabled': BOOLEAN,\n        'format': 'YYYY-MM-dd',\n        'default': \"\"\n      },\n      'dynamic_date_formats': ['yyyy-MM-dd'],\n      'date_detection': BOOLEAN,\n      'numeric_detection': BOOLEAN,\n      'properties': {\n        '*': {\n          type: {\n            __one_of: ['text', 'keyword', 'float', 'half_float', 'scaled_float', 'double', 'byte', 'short', 'integer', 'long', 'date', 'boolean', 'binary', 'object', 'nested', \"geo_point\", \"geo_shape\"]\n          },\n\n          // strings\n          store: BOOLEAN,\n          index: BOOLEAN,\n          term_vector: {\n            __one_of: ['no', 'yes', 'with_offsets', 'with_positions', 'with_positions_offsets']\n          },\n          boost: 1.0,\n          null_value: '',\n\n          norms: BOOLEAN,\n\n          index_options: {\n            __one_of: ['docs', 'freqs', 'positions']\n          },\n          analyzer: 'standard',\n          search_analyzer: 'standard',\n          include_in_all: {\n            __one_of: [false, true]\n          },\n          ignore_above: 10,\n          position_increment_gap: 0,\n\n          // numeric\n          precision_step: 4,\n          ignore_malformed: BOOLEAN,\n          scaling_factor: 100,\n\n          // geo_point\n          lat_lon: {\n            __one_of: [true, false]\n          },\n          geohash: {\n            __one_of: [true, false]\n          },\n          geohash_precision: '1m',\n          geohash_prefix: {\n            __one_of: [true, false]\n          },\n          validate: {\n            __one_of: [true, false]\n          },\n          validate_lat: {\n            __one_of: [true, false]\n          },\n          validate_lon: {\n            __one_of: [true, false]\n          },\n          normalize: {\n            __one_of: [true, false]\n          },\n          normalize_lat: {\n            __one_of: [true, false]\n          },\n          normalize_lon: {\n            __one_of: [true, false]\n          },\n\n          // geo_shape\n          tree: {\n            __one_of: ['geohash', 'quadtree']\n          },\n          precision: '5km',\n          tree_levels: 12,\n          distance_error_pct: 0.025,\n          orientation: 'ccw',\n\n          // dates\n          format: {\n            __one_of: _.flatten([_.map(['date', 'date_time', 'date_time_no_millis', 'ordinal_date', 'ordinal_date_time', 'ordinal_date_time_no_millis', 'time', 'time_no_millis', 't_time', 't_time_no_millis', 'week_date', 'week_date_time', 'week_date_time_no_millis'], function (s) {\n              return ['basic_' + s, 'strict_' + s];\n            }), ['date', 'date_hour', 'date_hour_minute', 'date_hour_minute_second', 'date_hour_minute_second_fraction', 'date_hour_minute_second_millis', 'date_optional_time', 'date_time', 'date_time_no_millis', 'hour', 'hour_minute', 'hour_minute_second', 'hour_minute_second_fraction', 'hour_minute_second_millis', 'ordinal_date', 'ordinal_date_time', 'ordinal_date_time_no_millis', 'time', 'time_no_millis', 't_time', 't_time_no_millis', 'week_date', 'week_date_time', 'weekDateTimeNoMillis', 'week_year', 'weekyearWeek', 'weekyearWeekDay', 'year', 'year_month', 'year_month_day', 'epoch_millis', 'epoch_second']])\n          },\n\n          fielddata: {\n            filter: {\n              regex: '',\n              frequency: {\n                min: 0.001,\n                max: 0.1,\n                min_segment_size: 500\n              }\n            }\n          },\n          similarity: {\n            __one_of: ['default', 'BM25']\n          },\n\n          // objects\n          properties: {\n            __scope_link: '_put_mapping.{type}.properties'\n          },\n\n          // multi_field\n          fields: {\n            '*': {\n              __scope_link: '_put_mapping.type.properties.field'\n            }\n          },\n          copy_to: { __one_of: ['{field}', ['{field}']] },\n\n          // nested\n          include_in_parent: BOOLEAN,\n          include_in_root: BOOLEAN\n        }\n      }\n    }\n\n  });\n  api.addEndpointDescription('_put_mapping', {\n    methods: ['PUT'],\n    patterns: [\"{indices}/_mapping\"],\n    data_autocomplete_rules: {\n      '{type}': {\n        __scope_link: '_put_type_mapping'\n      }\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9tYXBwaW5ncy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFMUIsSUFBSSxPQUFPLEdBQUc7QUFDWixVQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDO0NBQ3hCLENBQUM7O0FBRUYsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLEdBQUcsRUFBRTtBQUM5QixLQUFHLENBQUMsc0JBQXNCLENBQUMsY0FBYyxFQUFFO0FBQ3pDLFdBQU8sRUFBRSxDQUFDLEtBQUssQ0FBQztBQUNoQixZQUFRLEVBQUUsRUFBRTtBQUNaLFlBQVEsRUFBRSxDQUNSLG9CQUFvQixFQUNwQiw0QkFBNEIsRUFDNUIsNEJBQTRCLEVBQzVCLFVBQVUsQ0FDWDtHQUNGLENBQUMsQ0FBQztBQUNILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxvQkFBb0IsRUFBRTtBQUMvQyxXQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDaEIsWUFBUSxFQUFFLEVBQUU7QUFDWixZQUFRLEVBQUUsQ0FDUixtQ0FBbUMsRUFDbkMsMENBQTBDLENBQzNDO0FBQ0QsY0FBVSxFQUFFO0FBQ1Ysd0JBQWtCLEVBQUUsVUFBVTtLQUMvQjtHQUNGLENBQUMsQ0FBQztBQUNILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxpQkFBaUIsRUFBRTtBQUM1QyxXQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUM7QUFDbkIsWUFBUSxFQUFFLEVBQUU7QUFDWixZQUFRLEVBQUUsQ0FDUixvQkFBb0IsRUFDcEIsNEJBQTRCLEVBQzVCLDRCQUE0QixFQUM1QixVQUFVLENBQ1g7R0FDRixDQUFDLENBQUM7QUFDSCxLQUFHLENBQUMsc0JBQXNCLENBQUMsbUJBQW1CLEVBQUU7QUFDOUMsV0FBTyxFQUFFLENBQUMsS0FB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QUFFLHNCQUFzQixFQUFFLFdBQVcsRUFDaEcsY0FBYyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLGNBQWMsQ0FDMUcsQ0FBQyxDQUFDO1dBQ047O0FBRUQsbUJBQVMsRUFBRTtBQUNULGtCQUFNLEVBQUU7QUFDTixtQkFBSyxFQUFFLEVBQUU7QUFDVCx1QkFBUyxFQUFFO0FBQ1QsbUJBQUcsRUFBRSxLQUFLO0FBQ1YsbUJBQUcsRUFBRSxHQUFHO0FBQ1IsZ0NBQWdCLEVBQUUsR0FBRztlQUN0QjthQUNGO1dBQ0Y7QUFDRCxvQkFBVSxFQUFFO0FBQ1Ysb0JBQVEsRUFBRSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUM7V0FDOUI7OztBQUdELG9CQUFVLEVBQUU7QUFDVix3QkFBWSxFQUFFLGdDQUFnQztXQUMvQzs7O0FBR0QsZ0JBQU0sRUFBRTtBQUNOLGVBQUcsRUFBRTtBQUNILDBCQUFZLEVBQUUsb0NBQW9DO2FBQ25EO1dBQ0Y7QUFDRCxpQkFBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRTs7O0FBRy9DLDJCQUFpQixFQUFFLE9BQU87QUFDMUIseUJBQWUsRUFBRSxPQUFPO1NBQ3pCO09BQ0Y7S0FDRjs7R0FFRixDQUFDLENBQUM7QUFDSCxLQUFHLENBQUMsc0JBQXNCLENBQUMsY0FBYyxFQUFFO0FBQ3pDLFdBQU8sRUFBRSxDQUFDLEtBQUssQ0FBQztBQUNoQixZQUFRLEVBQUUsQ0FDUixvQkFBb0IsQ0FDckI7QUFDRCwyQkFBdUIsRUFBRTtBQUN2QixjQUFRLEVBQUU7QUFDUixvQkFBWSxFQUFFLG1CQUFtQjtPQUNsQztLQUNGO0dBQ0YsQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvYXBpX3NlcnZlci9lc181XzAvbWFwcGluZ3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG5cbnZhciBCT09MRUFOID0ge1xuICBfX29uZV9vZjogW3RydWUsIGZhbHNlXVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpKSB7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfZ2V0X21hcHBpbmcnLCB7XG4gICAgbWV0aG9kczogWydHRVQnXSxcbiAgICBwcmlvcml0eTogMTAsIC8vIGNvbGxpZGVzIHdpdGggZ2V0IGRvYyBieSBpZFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRpY2VzfS9fbWFwcGluZ1wiLFxuICAgICAgXCJ7aW5kaWNlc30vX21hcHBpbmcve3R5cGVzfVwiLFxuICAgICAgXCJ7aW5kaWNlc30ve3R5cGVzfS9fbWFwcGluZ1wiLFxuICAgICAgXCJfbWFwcGluZ1wiXG4gICAgXVxuICB9KTtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19nZXRfZmllbGRfbWFwcGluZycsIHtcbiAgICBtZXRob2RzOiBbJ0dFVCddLFxuICAgIHByaW9yaXR5OiAxMCwgLy8gY29sbGlkZXMgd2l0aCBnZXQgZG9jIGJ5IGlkXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGljZXN9L19tYXBwaW5nL2ZpZWxkL3tmaWVsZHN9XCIsXG4gICAgICBcIntpbmRpY2VzfS9fbWFwcGluZy97dHlwZX0vZmllbGQve2ZpZWxkc31cIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgXCJpbmNsdWRlX2RlZmF1bHRzXCI6IFwiX19mbGFnX19cIlxuICAgIH1cbiAgfSk7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfZGVsZXRlX21hcHBpbmcnLCB7XG4gICAgbWV0aG9kczogWydERUxFVEUnXSxcbiAgICBwcmlvcml0eTogMTAsIC8vIGNvbGxpZGVzIHdpdGggZ2V0IGRvYyBieSBpZFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRpY2VzfS9fbWFwcGluZ1wiLFxuICAgICAgXCJ7aW5kaWNlc30vX21hcHBpbmcve3R5cGVzfVwiLFxuICAgICAgXCJ7aW5kaWNlc30ve3R5cGVzfS9fbWFwcGluZ1wiLFxuICAgICAgXCJfbWFwcGluZ1wiXG4gICAgXVxuICB9KTtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19wdXRfdHlwZV9tYXBwaW5nJywge1xuICAgIG1ldGhvZHM6IFsnUFVUJywgJ1BPU1QnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJ7aW5kaWNlc30ve3R5cGV9L19tYXBwaW5nXCIsXG4gICAgICBcIntpbmRpY2VzfS9fbWFwcGluZy97dHlwZX1cIlxuICAgIF0sXG4gICAgcHJpb3JpdHk6IDEwLCAvLyBjb2xsaWRlcyB3aXRoIHB1dCBkb2MgYnkgaWRcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgJ0ZJRUxEJzoge31cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICdfc291cmNlJzoge1xuICAgICAgICAnZW5hYmxlZCc6IEJPT0xFQU5cbiAgICAgIH0sXG4gICAgICAnX2FsbCc6IHtcbiAgICAgICAgJ2VuYWJsZWQnOiBCT09MRUFOXG4gICAgICB9LFxuICAgICAgJ19maWVsZF9uYW1lcyc6IHtcbiAgICAgICAgJ2luZGV4JzogQk9PTEVBTlxuICAgICAgfSxcbiAgICAgICdfcm91dGluZyc6IHtcbiAgICAgICAgJ3JlcXVpcmVkJzogQk9PTEVBTixcbiAgICAgIH0sXG4gICAgICAnX2luZGV4Jzoge1xuICAgICAgICAnZW5hYmxlZCc6IEJPT0xFQU5cbiAgICAgIH0sXG4gICAgICAnX3BhcmVudCc6IHtcbiAgICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICAgICd0eXBlJzogJydcbiAgICAgICAgfSxcbiAgICAgICAgJ3R5cGUnOiAne3R5cGV9J1xuICAgICAgfSxcbiAgICAgICdfdGltZXN0YW1wJzoge1xuICAgICAgICAnZW5hYmxlZCc6IEJPT0xFQU4sXG4gICAgICAgICdmb3JtYXQnOiAnWVlZWS1NTS1kZCcsXG4gICAgICAgICdkZWZhdWx0JzogXCJcIlxuICAgICAgfSxcbiAgICAgICdkeW5hbWljX2RhdGVfZm9ybWF0cyc6IFsneXl5eS1NTS1kZCddLFxuICAgICAgJ2RhdGVfZGV0ZWN0aW9uJzogQk9PTEVBTixcbiAgICAgICdudW1lcmljX2RldGVjdGlvbic6IEJPT0xFQU4sXG4gICAgICAncHJvcGVydGllcyc6IHtcbiAgICAgICAgJyonOiB7XG4gICAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgX19vbmVfb2Y6IFsndGV4dCcsICdrZXl3b3JkJywgJ2Zsb2F0JywgJ2hhbGZfZmxvYXQnLCAnc2NhbGVkX2Zsb2F0JywgJ2RvdWJsZScsICdieXRlJywgJ3Nob3J0JywgJ2ludGVnZXInLCAnbG9uZycsICdkYXRlJywgJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgICAnYmluYXJ5JywgJ29iamVjdCcsICduZXN0ZWQnLCBcImdlb19wb2ludFwiLCBcImdlb19zaGFwZVwiXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIC8vIHN0cmluZ3NcbiAgICAgICAgICBzdG9yZTogQk9PTEVBTixcbiAgICAgICAgICBpbmRleDogQk9PTEVBTixcbiAgICAgICAgICB0ZXJtX3ZlY3Rvcjoge1xuICAgICAgICAgICAgX19vbmVfb2Y6IFsnbm8nLCAneWVzJywgJ3dpdGhfb2Zmc2V0cycsICd3aXRoX3Bvc2l0aW9ucycsICd3aXRoX3Bvc2l0aW9uc19vZmZzZXRzJ11cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvb3N0OiAxLjAsXG4gICAgICAgICAgbnVsbF92YWx1ZTogJycsXG5cbiAgICAgICAgICBub3JtczogQk9PTEVBTixcblxuICAgICAgICAgIGluZGV4X29wdGlvbnM6IHtcbiAgICAgICAgICAgIF9fb25lX29mOiBbJ2RvY3MnLCAnZnJlcXMnLCAncG9zaXRpb25zJ11cbiAgICAgICAgICB9LFxuICAgICAgICAgIGFuYWx5emVyOiAnc3RhbmRhcmQnLFxuICAgICAgICAgIHNlYXJjaF9hbmFseXplcjogJ3N0YW5kYXJkJyxcbiAgICAgICAgICBpbmNsdWRlX2luX2FsbDoge1xuICAgICAgICAgICAgX19vbmVfb2Y6IFtmYWxzZSwgdHJ1ZV1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGlnbm9yZV9hYm92ZTogMTAsXG4gICAgICAgICAgcG9zaXRpb25faW5jcmVtZW50X2dhcDogMCxcblxuICAgICAgICAgIC8vIG51bWVyaWNcbiAgICAgICAgICBwcmVjaXNpb25fc3RlcDogNCxcbiAgICAgICAgICBpZ25vcmVfbWFsZm9ybWVkOiBCT09MRUFOLFxuICAgICAgICAgIHNjYWxpbmdfZmFjdG9yOiAxMDAsXG5cbiAgICAgICAgICAvLyBnZW9fcG9pbnRcbiAgICAgICAgICBsYXRfbG9uOiB7XG4gICAgICAgICAgICBfX29uZV9vZjogW3RydWUsIGZhbHNlXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2VvaGFzaDoge1xuICAgICAgICAgICAgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGdlb2hhc2hfcHJlY2lzaW9uOiAnMW0nLFxuICAgICAgICAgIGdlb2hhc2hfcHJlZml4OiB7XG4gICAgICAgICAgICBfX29uZV9vZjogW3RydWUsIGZhbHNlXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgIF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB2YWxpZGF0ZV9sYXQ6IHtcbiAgICAgICAgICAgIF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB2YWxpZGF0ZV9sb246IHtcbiAgICAgICAgICAgIF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBub3JtYWxpemU6IHtcbiAgICAgICAgICAgIF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBub3JtYWxpemVfbGF0OiB7XG4gICAgICAgICAgICBfX29uZV9vZjogW3RydWUsIGZhbHNlXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbm9ybWFsaXplX2xvbjoge1xuICAgICAgICAgICAgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV1cbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLy8gZ2VvX3NoYXBlXG4gICAgICAgICAgdHJlZToge1xuICAgICAgICAgICAgX19vbmVfb2Y6IFsnZ2VvaGFzaCcsICdxdWFkdHJlZSddXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcmVjaXNpb246ICc1a20nLFxuICAgICAgICAgIHRyZWVfbGV2ZWxzOiAxMixcbiAgICAgICAgICBkaXN0YW5jZV9lcnJvcl9wY3Q6IDAuMDI1LFxuICAgICAgICAgIG9yaWVudGF0aW9uOiAnY2N3JyxcblxuICAgICAgICAgIC8vIGRhdGVzXG4gICAgICAgICAgZm9ybWF0OiB7XG4gICAgICAgICAgICBfX29uZV9vZjogXy5mbGF0dGVuKFtfLm1hcChbJ2RhdGUnLCAnZGF0ZV90aW1lJywgJ2RhdGVfdGltZV9ub19taWxsaXMnLFxuICAgICAgICAgICAgICAnb3JkaW5hbF9kYXRlJywgJ29yZGluYWxfZGF0ZV90aW1lJywgJ29yZGluYWxfZGF0ZV90aW1lX25vX21pbGxpcycsXG4gICAgICAgICAgICAgICd0aW1lJywgJ3RpbWVfbm9fbWlsbGlzJywgJ3RfdGltZScsICd0X3RpbWVfbm9fbWlsbGlzJyxcbiAgICAgICAgICAgICAgJ3dlZWtfZGF0ZScsICd3ZWVrX2RhdGVfdGltZScsICd3ZWVrX2RhdGVfdGltZV9ub19taWxsaXMnXSwgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFsnYmFzaWNfJyArIHMsICdzdHJpY3RfJyArIHNdO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAnZGF0ZScsICdkYXRlX2hvdXInLCAnZGF0ZV9ob3VyX21pbnV0ZScsICdkYXRlX2hvdXJfbWludXRlX3NlY29uZCcsICdkYXRlX2hvdXJfbWludXRlX3NlY29uZF9mcmFjdGlvbicsXG4gICAgICAgICAgICAgICAgJ2RhdGVfaG91cl9taW51dGVfc2Vjb25kX21pbGxpcycsICdkYXRlX29wdGlvbmFsX3RpbWUnLCAnZGF0ZV90aW1lJywgJ2RhdGVfdGltZV9ub19taWxsaXMnLFxuICAgICAgICAgICAgICAgICdob3VyJywgJ2hvdXJfbWludXRlJywgJ2hvdXJfbWludXRlX3NlY29uZCcsICdob3VyX21pbnV0ZV9zZWNvbmRfZnJhY3Rpb24nLCAnaG91cl9taW51dGVfc2Vjb25kX21pbGxpcycsXG4gICAgICAgICAgICAgICAgJ29yZGluYWxfZGF0ZScsICdvcmRpbmFsX2RhdGVfdGltZScsICdvcmRpbmFsX2RhdGVfdGltZV9ub19taWxsaXMnLCAndGltZScsICd0aW1lX25vX21pbGxpcycsXG4gICAgICAgICAgICAgICAgJ3RfdGltZScsICd0X3RpbWVfbm9fbWlsbGlzJywgJ3dlZWtfZGF0ZScsICd3ZWVrX2RhdGVfdGltZScsICd3ZWVrRGF0ZVRpbWVOb01pbGxpcycsICd3ZWVrX3llYXInLFxuICAgICAgICAgICAgICAgICd3ZWVreWVhcldlZWsnLCAnd2Vla3llYXJXZWVrRGF5JywgJ3llYXInLCAneWVhcl9tb250aCcsICd5ZWFyX21vbnRoX2RheScsICdlcG9jaF9taWxsaXMnLCAnZXBvY2hfc2Vjb25kJ1xuICAgICAgICAgICAgICBdXSlcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZmllbGRkYXRhOiB7XG4gICAgICAgICAgICBmaWx0ZXI6IHtcbiAgICAgICAgICAgICAgcmVnZXg6ICcnLFxuICAgICAgICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICAgICAgICBtaW46IDAuMDAxLFxuICAgICAgICAgICAgICAgIG1heDogMC4xLFxuICAgICAgICAgICAgICAgIG1pbl9zZWdtZW50X3NpemU6IDUwMFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzaW1pbGFyaXR5OiB7XG4gICAgICAgICAgICBfX29uZV9vZjogWydkZWZhdWx0JywgJ0JNMjUnXVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvLyBvYmplY3RzXG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgX19zY29wZV9saW5rOiAnX3B1dF9tYXBwaW5nLnt0eXBlfS5wcm9wZXJ0aWVzJ1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvLyBtdWx0aV9maWVsZFxuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgJyonOiB7XG4gICAgICAgICAgICAgIF9fc2NvcGVfbGluazogJ19wdXRfbWFwcGluZy50eXBlLnByb3BlcnRpZXMuZmllbGQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb3B5X3RvOiB7IF9fb25lX29mOiBbJ3tmaWVsZH0nLCBbJ3tmaWVsZH0nXV0gfSxcblxuICAgICAgICAgIC8vIG5lc3RlZFxuICAgICAgICAgIGluY2x1ZGVfaW5fcGFyZW50OiBCT09MRUFOLFxuICAgICAgICAgIGluY2x1ZGVfaW5fcm9vdDogQk9PTEVBTlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gIH0pO1xuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX3B1dF9tYXBwaW5nJywge1xuICAgIG1ldGhvZHM6IFsnUFVUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGljZXN9L19tYXBwaW5nXCJcbiAgICBdLFxuICAgIGRhdGFfYXV0b2NvbXBsZXRlX3J1bGVzOiB7XG4gICAgICAne3R5cGV9Jzoge1xuICAgICAgICBfX3Njb3BlX2xpbms6ICdfcHV0X3R5cGVfbWFwcGluZydcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/mappings.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/mappings.js",
      "sourcesContent": [
        "let _ = require(\"lodash\");\n\nvar BOOLEAN = {\n  __one_of: [true, false]\n};\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_get_mapping', {\n    methods: ['GET'],\n    priority: 10, // collides with get doc by id\n    patterns: [\n      \"{indices}/_mapping\",\n      \"{indices}/_mapping/{types}\",\n      \"{indices}/{types}/_mapping\",\n      \"_mapping\"\n    ]\n  });\n  api.addEndpointDescription('_get_field_mapping', {\n    methods: ['GET'],\n    priority: 10, // collides with get doc by id\n    patterns: [\n      \"{indices}/_mapping/field/{fields}\",\n      \"{indices}/_mapping/{type}/field/{fields}\"\n    ],\n    url_params: {\n      \"include_defaults\": \"__flag__\"\n    }\n  });\n  api.addEndpointDescription('_delete_mapping', {\n    methods: ['DELETE'],\n    priority: 10, // collides with get doc by id\n    patterns: [\n      \"{indices}/_mapping\",\n      \"{indices}/_mapping/{types}\",\n      \"{indices}/{types}/_mapping\",\n      \"_mapping\"\n    ]\n  });\n  api.addEndpointDescription('_put_type_mapping', {\n    methods: ['PUT', 'POST'],\n    patterns: [\n      \"{indices}/{type}/_mapping\",\n      \"{indices}/_mapping/{type}\"\n    ],\n    priority: 10, // collides with put doc by id\n    data_autocomplete_rules: {\n      __template: {\n        properties: {\n          'FIELD': {}\n        }\n      },\n      '_source': {\n        'enabled': BOOLEAN\n      },\n      '_all': {\n        'enabled': BOOLEAN\n      },\n      '_field_names': {\n        'index': BOOLEAN\n      },\n      '_routing': {\n        'required': BOOLEAN,\n      },\n      '_index': {\n        'enabled': BOOLEAN\n      },\n      '_parent': {\n        __template: {\n          'type': ''\n        },\n        'type': '{type}'\n      },\n      '_timestamp': {\n        'enabled': BOOLEAN,\n        'format': 'YYYY-MM-dd',\n        'default': \"\"\n      },\n      'dynamic_date_formats': ['yyyy-MM-dd'],\n      'date_detection': BOOLEAN,\n      'numeric_detection': BOOLEAN,\n      'properties': {\n        '*': {\n          type: {\n            __one_of: ['text', 'keyword', 'float', 'half_float', 'scaled_float', 'double', 'byte', 'short', 'integer', 'long', 'date', 'boolean',\n              'binary', 'object', 'nested', \"geo_point\", \"geo_shape\"\n            ]\n          },\n\n          // strings\n          store: BOOLEAN,\n          index: BOOLEAN,\n          term_vector: {\n            __one_of: ['no', 'yes', 'with_offsets', 'with_positions', 'with_positions_offsets']\n          },\n          boost: 1.0,\n          null_value: '',\n\n          norms: BOOLEAN,\n\n          index_options: {\n            __one_of: ['docs', 'freqs', 'positions']\n          },\n          analyzer: 'standard',\n          search_analyzer: 'standard',\n          include_in_all: {\n            __one_of: [false, true]\n          },\n          ignore_above: 10,\n          position_increment_gap: 0,\n\n          // numeric\n          precision_step: 4,\n          ignore_malformed: BOOLEAN,\n          scaling_factor: 100,\n\n          // geo_point\n          lat_lon: {\n            __one_of: [true, false]\n          },\n          geohash: {\n            __one_of: [true, false]\n          },\n          geohash_precision: '1m',\n          geohash_prefix: {\n            __one_of: [true, false]\n          },\n          validate: {\n            __one_of: [true, false]\n          },\n          validate_lat: {\n            __one_of: [true, false]\n          },\n          validate_lon: {\n            __one_of: [true, false]\n          },\n          normalize: {\n            __one_of: [true, false]\n          },\n          normalize_lat: {\n            __one_of: [true, false]\n          },\n          normalize_lon: {\n            __one_of: [true, false]\n          },\n\n          // geo_shape\n          tree: {\n            __one_of: ['geohash', 'quadtree']\n          },\n          precision: '5km',\n          tree_levels: 12,\n          distance_error_pct: 0.025,\n          orientation: 'ccw',\n\n          // dates\n          format: {\n            __one_of: _.flatten([_.map(['date', 'date_time', 'date_time_no_millis',\n              'ordinal_date', 'ordinal_date_time', 'ordinal_date_time_no_millis',\n              'time', 'time_no_millis', 't_time', 't_time_no_millis',\n              'week_date', 'week_date_time', 'week_date_time_no_millis'], function (s) {\n              return ['basic_' + s, 'strict_' + s];\n            }),\n              [\n                'date', 'date_hour', 'date_hour_minute', 'date_hour_minute_second', 'date_hour_minute_second_fraction',\n                'date_hour_minute_second_millis', 'date_optional_time', 'date_time', 'date_time_no_millis',\n                'hour', 'hour_minute', 'hour_minute_second', 'hour_minute_second_fraction', 'hour_minute_second_millis',\n                'ordinal_date', 'ordinal_date_time', 'ordinal_date_time_no_millis', 'time', 'time_no_millis',\n                't_time', 't_time_no_millis', 'week_date', 'week_date_time', 'weekDateTimeNoMillis', 'week_year',\n                'weekyearWeek', 'weekyearWeekDay', 'year', 'year_month', 'year_month_day', 'epoch_millis', 'epoch_second'\n              ]])\n          },\n\n          fielddata: {\n            filter: {\n              regex: '',\n              frequency: {\n                min: 0.001,\n                max: 0.1,\n                min_segment_size: 500\n              }\n            }\n          },\n          similarity: {\n            __one_of: ['default', 'BM25']\n          },\n\n          // objects\n          properties: {\n            __scope_link: '_put_mapping.{type}.properties'\n          },\n\n          // multi_field\n          fields: {\n            '*': {\n              __scope_link: '_put_mapping.type.properties.field'\n            }\n          },\n          copy_to: { __one_of: ['{field}', ['{field}']] },\n\n          // nested\n          include_in_parent: BOOLEAN,\n          include_in_root: BOOLEAN\n        }\n      }\n    }\n\n  });\n  api.addEndpointDescription('_put_mapping', {\n    methods: ['PUT'],\n    patterns: [\n      \"{indices}/_mapping\"\n    ],\n    data_autocomplete_rules: {\n      '{type}': {\n        __scope_link: '_put_type_mapping'\n      }\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/percolator.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_put_percolator', {\n    priority: 10, // to override doc\n    methods: ['PUT', 'POST'],\n    patterns: [\"{index}/.percolator/{id}\"],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"external\", \"internal\"],\n      \"op_type\": [\"create\"],\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"timestamp\": \"\",\n      \"ttl\": \"5m\",\n      \"consistency\": [\"qurom\", \"one\", \"all\"],\n      \"refresh\": \"__flag__\",\n      \"timeout\": \"1m\"\n    },\n    data_autocomplete_rules: {\n      query: {}\n    }\n  });\n  api.addEndpointDescription('_percolate', {\n    methods: ['GET', 'POST'],\n    priority: 10, // to override doc\n    patterns: [\"{indices}/{type}/_percolate\"],\n    url_params: {\n      preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      routing: \"\",\n      ignore_unavailable: [\"true\", \"false\"],\n      percolate_format: [\"ids\"]\n    },\n    data_autocomplete_rules: {\n      doc: {},\n      query: {},\n      filter: {},\n      size: 10,\n      track_scores: { __one_of: [true, false] },\n      sort: \"_score\",\n      aggs: {},\n      highlight: {}\n    }\n  });\n  api.addEndpointDescription('_percolate_id', {\n    methods: ['GET', 'POST'],\n    patterns: [\"{indices}/{type}/{id}/_percolate\"],\n    url_params: {\n      routing: \"\",\n      ignore_unavailable: [\"true\", \"false\"],\n      percolate_format: [\"ids\"],\n      percolate_index: \"{index}\",\n      percolate_type: \"{type}\",\n      percolate_routing: \"\",\n      percolate_preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      version: 1,\n      version_type: [\"external\", \"internal\"]\n    },\n    data_autocomplete_rules: {\n      query: {},\n      filter: {},\n      size: 10,\n      track_scores: { __one_of: [true, false] },\n      sort: \"_score\",\n      aggs: {},\n      highlight: {}\n    }\n  });\n  api.addEndpointDescription('_percolate_count', {\n    methods: ['GET', 'POST'],\n    patterns: [\"{indices}/{type}/_percolate/count\"],\n    url_params: {\n      preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      routing: \"\",\n      ignore_unavailable: [\"true\", \"false\"],\n      percolate_format: [\"ids\"]\n    },\n    data_autocomplete_rules: {\n      doc: {},\n      query: {},\n      filter: {}\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9wZXJjb2xhdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFVLEdBQUcsRUFBRTtBQUM5QixLQUFHLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLEVBQUU7QUFDNUMsWUFBUSxFQUFFLEVBQUU7QUFDWixXQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDO0FBQ3hCLFlBQVEsRUFBRSxDQUNSLDBCQUEwQixDQUMzQjtBQUNELGNBQVUsRUFBRTtBQUNWLGVBQVMsRUFBRSxDQUFDO0FBQ1osb0JBQWMsRUFBRSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUM7QUFDeEMsZUFBUyxFQUFFLENBQUMsUUFBUSxDQUFDO0FBQ3JCLGVBQVMsRUFBRSxFQUFFO0FBQ2IsY0FBUSxFQUFFLEVBQUU7QUFDWixpQkFBVyxFQUFFLEVBQUU7QUFDZixXQUFLLEVBQUUsSUFBSTtBQUNYLG1CQUFhLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQztBQUN0QyxlQUFTLEVBQUUsVUFBVTtBQUNyQixlQUFTLEVBQUUsSUFBSTtLQUNoQjtBQUNELDJCQUF1QixFQUFFO0FBQ3ZCLFdBQUssRUFBRSxFQUFFO0tBQ1Y7R0FDRixDQUFDLENBQUM7QUFDSCxLQUFHLENBQUMsc0JBQXNCLENBQUMsWUFBWSxFQUFFO0FBQ3ZDLFdBQU8sRUFBRSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUM7QUFDeEIsWUFBUSxFQUFFLEVBQUU7QUFDWixZQUFRLEVBQUUsQ0FDUiw2QkFBNkIsQ0FDOUI7QUFDRCxjQUFVLEVBQUU7QUFDVixnQkFBVSxFQUFFLENBQUMsVUFBVSxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxrQkFBa0IsRUFBRSxhQUFhLENBQUM7QUFDekcsYUFBTyxFQUFFLEVBQUU7QUFDWCx3QkFBa0IsRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUM7QUFDckMsc0JBQWdCLEVBQUUsQ0FBQyxLQUFLLENBQUM7S0FDMUI7QUFDRCwyQkFBdUIsRUFBRTtBQUN2QixTQUFHLEVBQUUsRUFBRTtBQUNQLFdBQUssRUFBRSxFQUFFO0FBQ1QsWUFBTSxFQUFFLEVBQUU7QUFDVixVQUFJLEVBQUUsRUFBRTtBQUNSLGtCQUFZLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUU7QUFDekMsVUFBSSxFQUFFLFFBQVE7QUFDZCxVQUFJLEVBQUUsRUFBRTtBQUNSLGVBQVMsRUFBRSxFQUFFO0tBQ2Q7R0FDRixDQUFDLENBQUM7QUFDSCxLQUFHLENBQUMsc0JBQXNCLENBQUMsZUFBZSxFQUFFO0FBQzFDLFdBQU8sRUFBRSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUM7QUFDeEIsWUFBUSxFQUFFLENBQ1Isa0NBQWtDLENBQ25DO0FBQ0QsY0FBVSxFQUFFO0FBQ1YsYUFBTyxFQUFFLEVBQUU7QUFDWCx3QkFBa0IsRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUM7QUFDckMsc0JBQWdCLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDekIscUJBQWUsRUFBRSxTQUFTO0FBQzFCLG9CQUFjLEVBQUUsUUFBUTtBQUN4Qix1QkFBaUIsRUFBRSxFQUFFO0FBQ3JCLDBCQUFvQixFQUFFLENBQUMsVUFBVSxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxrQkFBa0IsRUFBRSxhQUFhLENBQUM7QUFDbkgsYUFBTyxFQUFFLENBQUM7QUFDVixrQkFBWSxFQUFFLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQztLQUN2QztBQUNELDJCQUF1QixFQUFFO0FBQ3ZCLFdBQUssRUFBRSxFQUFFO0FBQ1QsWUFBTSxFQUFFLEVBQUU7QUFDVixVQUFJLEVBQUUsRUFBRTtBQUNSLGtCQUFZLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUU7QUFDekMsVUFBSSxFQUFFLFFBQVE7QUFDZCxVQUFJLEVBQUUsRUFBRTtBQUNSLGVBQVMsRUFBRSxFQUFFO0tBQ2Q7R0FDRixDQUFDLENBQUM7QUFDSCxLQUFHLENBQUMsc0JBQXNCLENBQUMsa0JBQWtCLEVBQUU7QUFDN0MsV0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQztBQUN4QixZQUFRLEVBQUUsQ0FDUixtQ0FBbUMsQ0FDcEM7QUFDRCxjQUFVLEVBQUU7QUFDVixnQkFBVSxFQUFFLENBQUMsVUFBVSxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxrQkFBa0IsRUFBRSxhQUFhLENBQUM7QUFDekcsYUFBTyxFQUFFLEVBQUU7QUFDWCx3QkFBa0IsRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUM7QUFDckMsc0JBQWdCLEVBQUUsQ0FBQyxLQUFLLENBQUM7S0FDMUI7QUFDRCwyQkFBdUIsRUFBRTtBQUN2QixTQUFHLEVBQUUsRUFBRTtBQUNQLFdBQUssRUFBRSxFQUFFO0FBQ1QsWUFBTSxFQUFFLEVBQUU7S0FDWDtHQUNGLENBQUMsQ0FBQztDQUNKLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9jb25zb2xlL2FwaV9zZXJ2ZXIvZXNfNV8wL3BlcmNvbGF0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGkpIHtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19wdXRfcGVyY29sYXRvcicsIHtcbiAgICBwcmlvcml0eTogMTAsIC8vIHRvIG92ZXJyaWRlIGRvY1xuICAgIG1ldGhvZHM6IFsnUFVUJywgJ1BPU1QnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJ7aW5kZXh9Ly5wZXJjb2xhdG9yL3tpZH1cIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgXCJ2ZXJzaW9uXCI6IDEsXG4gICAgICBcInZlcnNpb25fdHlwZVwiOiBbXCJleHRlcm5hbFwiLCBcImludGVybmFsXCJdLFxuICAgICAgXCJvcF90eXBlXCI6IFtcImNyZWF0ZVwiXSxcbiAgICAgIFwicm91dGluZ1wiOiBcIlwiLFxuICAgICAgXCJwYXJlbnRcIjogXCJcIixcbiAgICAgIFwidGltZXN0YW1wXCI6IFwiXCIsXG4gICAgICBcInR0bFwiOiBcIjVtXCIsXG4gICAgICBcImNvbnNpc3RlbmN5XCI6IFtcInF1cm9tXCIsIFwib25lXCIsIFwiYWxsXCJdLFxuICAgICAgXCJyZWZyZXNoXCI6IFwiX19mbGFnX19cIixcbiAgICAgIFwidGltZW91dFwiOiBcIjFtXCJcbiAgICB9LFxuICAgIGRhdGFfYXV0b2NvbXBsZXRlX3J1bGVzOiB7XG4gICAgICBxdWVyeToge31cbiAgICB9XG4gIH0pO1xuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX3BlcmNvbGF0ZScsIHtcbiAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJ10sXG4gICAgcHJpb3JpdHk6IDEwLCAvLyB0byBvdmVycmlkZSBkb2NcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJ7aW5kaWNlc30ve3R5cGV9L19wZXJjb2xhdGVcIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgcHJlZmVyZW5jZTogW1wiX3ByaW1hcnlcIiwgXCJfcHJpbWFyeV9maXJzdFwiLCBcIl9sb2NhbFwiLCBcIl9vbmx5X25vZGU6eHl6XCIsIFwiX3ByZWZlcl9ub2RlOnh5elwiLCBcIl9zaGFyZHM6MiwzXCJdLFxuICAgICAgcm91dGluZzogXCJcIixcbiAgICAgIGlnbm9yZV91bmF2YWlsYWJsZTogW1widHJ1ZVwiLCBcImZhbHNlXCJdLFxuICAgICAgcGVyY29sYXRlX2Zvcm1hdDogW1wiaWRzXCJdXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgZG9jOiB7fSxcbiAgICAgIHF1ZXJ5OiB7fSxcbiAgICAgIGZpbHRlcjoge30sXG4gICAgICBzaXplOiAxMCxcbiAgICAgIHRyYWNrX3Njb3JlczogeyBfX29uZV9vZjogW3RydWUsIGZhbHNlXSB9LFxuICAgICAgc29ydDogXCJfc2NvcmVcIixcbiAgICAgIGFnZ3M6IHt9LFxuICAgICAgaGlnaGxpZ2h0OiB7fVxuICAgIH1cbiAgfSk7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfcGVyY29sYXRlX2lkJywge1xuICAgIG1ldGhvZHM6IFsnR0VUJywgJ1BPU1QnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJ7aW5kaWNlc30ve3R5cGV9L3tpZH0vX3BlcmNvbGF0ZVwiXG4gICAgXSxcbiAgICB1cmxfcGFyYW1zOiB7XG4gICAgICByb3V0aW5nOiBcIlwiLFxuICAgICAgaWdub3JlX3VuYXZhaWxhYmxlOiBbXCJ0cnVlXCIsIFwiZmFsc2VcIl0sXG4gICAgICBwZXJjb2xhdGVfZm9ybWF0OiBbXCJpZHNcIl0sXG4gICAgICBwZXJjb2xhdGVfaW5kZXg6IFwie2luZGV4fVwiLFxuICAgICAgcGVyY29sYXRlX3R5cGU6IFwie3R5cGV9XCIsXG4gICAgICBwZXJjb2xhdGVfcm91dGluZzogXCJcIixcbiAgICAgIHBlcmNvbGF0ZV9wcmVmZXJlbmNlOiBbXCJfcHJpbWFyeVwiLCBcIl9wcmltYXJ5X2ZpcnN0XCIsIFwiX2xvY2FsXCIsIFwiX29ubHlfbm9kZTp4eXpcIiwgXCJfcHJlZmVyX25vZGU6eHl6XCIsIFwiX3NoYXJkczoyLDNcIl0sXG4gICAgICB2ZXJzaW9uOiAxLFxuICAgICAgdmVyc2lvbl90eXBlOiBbXCJleHRlcm5hbFwiLCBcImludGVybmFsXCJdXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgcXVlcnk6IHt9LFxuICAgICAgZmlsdGVyOiB7fSxcbiAgICAgIHNpemU6IDEwLFxuICAgICAgdHJhY2tfc2NvcmVzOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH0sXG4gICAgICBzb3J0OiBcIl9zY29yZVwiLFxuICAgICAgYWdnczoge30sXG4gICAgICBoaWdobGlnaHQ6IHt9XG4gICAgfVxuICB9KTtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19wZXJjb2xhdGVfY291bnQnLCB7XG4gICAgbWV0aG9kczogWydHRVQnLCAnUE9TVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRpY2VzfS97dHlwZX0vX3BlcmNvbGF0ZS9jb3VudFwiXG4gICAgXSxcbiAgICB1cmxfcGFyYW1zOiB7XG4gICAgICBwcmVmZXJlbmNlOiBbXCJfcHJpbWFyeVwiLCBcIl9wcmltYXJ5X2ZpcnN0XCIsIFwiX2xvY2FsXCIsIFwiX29ubHlfbm9kZTp4eXpcIiwgXCJfcHJlZmVyX25vZGU6eHl6XCIsIFwiX3NoYXJkczoyLDNcIl0sXG4gICAgICByb3V0aW5nOiBcIlwiLFxuICAgICAgaWdub3JlX3VuYXZhaWxhYmxlOiBbXCJ0cnVlXCIsIFwiZmFsc2VcIl0sXG4gICAgICBwZXJjb2xhdGVfZm9ybWF0OiBbXCJpZHNcIl1cbiAgICB9LFxuICAgIGRhdGFfYXV0b2NvbXBsZXRlX3J1bGVzOiB7XG4gICAgICBkb2M6IHt9LFxuICAgICAgcXVlcnk6IHt9LFxuICAgICAgZmlsdGVyOiB7fVxuICAgIH1cbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/percolator.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/percolator.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('_put_percolator', {\n    priority: 10, // to override doc\n    methods: ['PUT', 'POST'],\n    patterns: [\n      \"{index}/.percolator/{id}\"\n    ],\n    url_params: {\n      \"version\": 1,\n      \"version_type\": [\"external\", \"internal\"],\n      \"op_type\": [\"create\"],\n      \"routing\": \"\",\n      \"parent\": \"\",\n      \"timestamp\": \"\",\n      \"ttl\": \"5m\",\n      \"consistency\": [\"qurom\", \"one\", \"all\"],\n      \"refresh\": \"__flag__\",\n      \"timeout\": \"1m\"\n    },\n    data_autocomplete_rules: {\n      query: {}\n    }\n  });\n  api.addEndpointDescription('_percolate', {\n    methods: ['GET', 'POST'],\n    priority: 10, // to override doc\n    patterns: [\n      \"{indices}/{type}/_percolate\"\n    ],\n    url_params: {\n      preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      routing: \"\",\n      ignore_unavailable: [\"true\", \"false\"],\n      percolate_format: [\"ids\"]\n    },\n    data_autocomplete_rules: {\n      doc: {},\n      query: {},\n      filter: {},\n      size: 10,\n      track_scores: { __one_of: [true, false] },\n      sort: \"_score\",\n      aggs: {},\n      highlight: {}\n    }\n  });\n  api.addEndpointDescription('_percolate_id', {\n    methods: ['GET', 'POST'],\n    patterns: [\n      \"{indices}/{type}/{id}/_percolate\"\n    ],\n    url_params: {\n      routing: \"\",\n      ignore_unavailable: [\"true\", \"false\"],\n      percolate_format: [\"ids\"],\n      percolate_index: \"{index}\",\n      percolate_type: \"{type}\",\n      percolate_routing: \"\",\n      percolate_preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      version: 1,\n      version_type: [\"external\", \"internal\"]\n    },\n    data_autocomplete_rules: {\n      query: {},\n      filter: {},\n      size: 10,\n      track_scores: { __one_of: [true, false] },\n      sort: \"_score\",\n      aggs: {},\n      highlight: {}\n    }\n  });\n  api.addEndpointDescription('_percolate_count', {\n    methods: ['GET', 'POST'],\n    patterns: [\n      \"{indices}/{type}/_percolate/count\"\n    ],\n    url_params: {\n      preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      routing: \"\",\n      ignore_unavailable: [\"true\", \"false\"],\n      percolate_format: [\"ids\"]\n    },\n    data_autocomplete_rules: {\n      doc: {},\n      query: {},\n      filter: {}\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/query.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require(\"lodash\");\n\nvar SPAN_QUERIES = {\n  // TODO add one_of for objects\n  span_first: {\n    __scope_link: '.span_first'\n  },\n  span_near: {\n    __scope_link: '.span_near'\n  },\n  span_or: {\n    __scope_link: '.span_or'\n  },\n  span_not: {\n    __scope_link: '.span_not'\n  },\n  span_term: {\n    __scope_link: '.span_term'\n  },\n  span_containing: {\n    __scope_link: '.span_containing'\n  },\n  span_within: {\n    __scope_link: '.span_within'\n  }\n};\n\nvar DECAY_FUNC_DESC = {\n  __template: {\n    \"FIELD\": {\n      \"origin\": \"\",\n      \"scale\": \"\"\n    }\n  },\n  \"{field}\": {\n    \"origin\": \"\",\n    \"scale\": \"\",\n    \"offset\": \"\",\n    \"decay\": 0.5\n  }\n},\n    SCORING_FUNCS = {\n  \"script_score\": {\n    __template: {\n      \"script\": \"_score * doc['f'].value\"\n    },\n    \"script\": {\n      //populated by a global rule\n    }\n  },\n  \"boost_factor\": 2.0,\n  \"random_score\": {\n    \"seed\": 314159265359\n  },\n  \"linear\": DECAY_FUNC_DESC,\n  \"exp\": DECAY_FUNC_DESC,\n  \"gauss\": DECAY_FUNC_DESC,\n  \"field_value_factor\": {\n    __template: {\n      \"field\": \"\"\n    },\n    \"field\": \"{field}\",\n    \"factor\": 1.2,\n    \"modifier\": {\n      __one_of: [\"none\", \"log\", \"log1p\", \"log2p\", \"ln\", \"ln1p\", \"ln2p\", \"square\", \"sqrt\", \"reciprocal\"]\n    }\n  }\n};\n\nmodule.exports = function (api) {\n  api.addGlobalAutocompleteRules('query', {\n    match: {\n      __template: {\n        'FIELD': 'TEXT'\n      },\n      '{field}': {\n        'query': '',\n        'operator': {\n          __one_of: ['and', 'or']\n        },\n        'type': {\n          __one_of: ['phrase', 'phrase_prefix', 'boolean']\n        },\n        'max_expansions': 10,\n        'analyzer': '',\n        'fuzziness': 1.0,\n        'prefix_length': 1\n      }\n    },\n    match_phrase: {\n      __template: {\n        'FIELD': 'PHRASE'\n      },\n      '{field}': {\n        query: '',\n        analyzer: ''\n      }\n    },\n    match_phrase_prefix: {\n      __template: {\n        'FIELD': 'PREFIX'\n      },\n      '{field}': {\n        query: '',\n        analyzer: '',\n        max_expansions: 10,\n        prefix_length: 1,\n        fuzziness: 0.1\n      }\n    },\n    multi_match: {\n      __template: {\n        'query': '',\n        'fields': []\n      },\n      query: '',\n      fields: ['{field}'],\n      use_dis_max: {\n        __template: true,\n        __one_of: [true, false]\n      },\n      tie_breaker: 0.0,\n      type: { __one_of: ['best_fields', 'most_fields', 'cross_fields', 'phrase', 'phrase_prefix'] }\n    },\n    bool: {\n      must: [{\n        __scope_link: '.'\n      }],\n      must_not: [{\n        __scope_link: '.'\n      }],\n      should: [{\n        __scope_link: '.'\n      }],\n      filter: {\n        __scope_link: 'GLOBAL.filter'\n      },\n      minimum_number_should_match: 1,\n      boost: 1.0\n    },\n    boosting: {\n      positive: {\n        __scope_link: '.'\n      },\n      negative: {\n        __scope_link: '.'\n      },\n      negative_boost: 0.2\n    },\n    ids: {\n      type: '',\n      values: []\n    },\n    constant_score: {\n      __template: {\n        filter: {},\n        boost: 1.2\n      },\n      query: {},\n      filter: {},\n      boost: 1.2\n    },\n    dis_max: {\n      __template: {\n        tie_breaker: 0.7,\n        boost: 1.2,\n        queries: []\n      },\n      tie_breaker: 0.7,\n      boost: 1.2,\n      queries: [{\n        __scope_link: '.'\n      }]\n    },\n    field: {\n      '{field}': {\n        query: '',\n        boost: 2.0,\n        enable_position_increments: {\n          __template: false,\n          __one_of: [true, false]\n        }\n      }\n    },\n    fuzzy: {\n      '{field}': {\n        'value': '',\n        'boost': 1.0,\n        'fuzziness': 0.5,\n        'prefix_length': 0\n      }\n    },\n    has_child: {\n      __template: {\n        type: 'TYPE',\n        query: {}\n      },\n      'type': '{type}',\n      'score_mode': {\n        __one_of: ['none', 'max', 'sum', 'avg']\n      },\n      '_scope': '',\n      'query': {},\n      'min_children': 1,\n      'max_children': 10\n    },\n    has_parent: {\n      __template: {\n        parent_type: 'TYPE',\n        query: {}\n      },\n      'parent_type': '{type}',\n      'score_mode': {\n        __one_of: ['none', 'score']\n      },\n      '_scope': '',\n      'query': {}\n    },\n    match_all: {},\n    more_like_this: {\n      __template: {\n        'fields': ['FIELD'],\n        'like_text': 'text like this one',\n        'min_term_freq': 1,\n        'max_query_terms': 12\n      },\n      fields: ['{field}'],\n      like_text: '',\n      percent_terms_to_match: 0.3,\n      min_term_freq: 2,\n      max_query_terms: 25,\n      stop_words: [''],\n      min_doc_freq: 5,\n      max_doc_freq: 100,\n      min_word_len: 0,\n      max_word_len: 0,\n      boost_terms: 1,\n      boost: 1.0,\n      analyzer: '',\n      docs: [{\n        _index: \"{index}\",\n        _type: \"{type}\",\n        _id: \"\"\n      }],\n      ids: [\"\"]\n    },\n    mlt: {\n      __template: {\n        'fields': ['FIELD'],\n        'like_text': 'text like this one',\n        'min_term_freq': 1,\n        'max_query_terms': 12\n      },\n      __scope_link: \".more_like_this\"\n    },\n    prefix: {\n      __template: {\n        'FIELD': {\n          'value': ''\n        }\n      },\n      '{field}': {\n        value: '',\n        boost: 1.0\n      }\n    },\n    query_string: {\n      __template: {\n        'default_field': 'FIELD',\n        'query': 'this AND that OR thus'\n      },\n      query: '',\n      default_field: '{field}',\n      fields: ['{field}'],\n      default_operator: {\n        __one_of: ['OR', 'AND']\n      },\n      analyzer: '',\n      allow_leading_wildcard: {\n        __one_of: [true, false]\n      },\n      lowercase_expanded_terms: {\n        __one_of: [true, false]\n      },\n      enable_position_increments: {\n        __one_of: [true, false]\n      },\n      fuzzy_max_expansions: 50,\n      fuzziness: 0.5,\n      fuzzy_prefix_length: 0,\n      phrase_slop: 0,\n      boost: 1.0,\n      analyze_wildcard: {\n        __one_of: [false, true]\n      },\n      auto_generate_phrase_queries: {\n        __one_of: [false, true]\n      },\n      minimum_should_match: '20%',\n      lenient: {\n        __one_of: [false, true]\n      },\n      use_dis_max: {\n        __one_of: [true, false]\n      },\n      tie_breaker: 0,\n      time_zone: \"+1:00\"\n    },\n    simple_query_string: {\n      __template: {\n        query: \"\",\n        fields: []\n      },\n      query: \"\",\n      fields: [\"{field}\"],\n      default_operator: { __one_of: [\"OR\", \"AND\"] },\n      analyzer: \"\",\n      flags: \"OR|AND|PREFIX\",\n      lowercase_expanded_terms: { __one_of: [true, false] },\n      locale: \"ROOT\",\n      lenient: { __one_of: [true, false] }\n    },\n    range: {\n      __template: {\n        'FIELD': {\n          gte: 10,\n          lte: 20\n        }\n      },\n      '{field}': {\n        __template: {\n          gte: 10,\n          lte: 20\n        },\n        gte: 10,\n        gt: 10,\n        lte: 20,\n        lt: 20,\n        time_zone: \"+1:00\",\n        boost: 1.0,\n        \"format\": \"dd/MM/yyyy||yyyy\"\n\n      }\n    },\n    span_first: {\n      __template: {\n        'match': {\n          'span_term': {\n            'FIELD': 'VALUE'\n          }\n        },\n        'end': 3\n      },\n      match: SPAN_QUERIES\n    },\n    span_near: {\n      __template: {\n        'clauses': [{\n          span_term: {\n            'FIELD': {\n              'value': 'VALUE'\n            }\n          }\n        }],\n        slop: 12,\n        in_order: false\n      },\n      clauses: [SPAN_QUERIES],\n      slop: 12,\n      in_order: {\n        __one_of: [false, true]\n      },\n      collect_payloads: {\n        __one_of: [false, true]\n      }\n    },\n    span_term: {\n      __template: {\n        'FIELD': {\n          'value': 'VALUE'\n        }\n      },\n      '{field}': {\n        value: '',\n        boost: 2.0\n      }\n    },\n    span_not: {\n      __template: {\n        include: {\n          span_term: {\n            'FIELD': {\n              'value': 'VALUE'\n            }\n          }\n        },\n        exclude: {\n          span_term: {\n            'FIELD': {\n              'value': 'VALUE'\n            }\n          }\n        }\n      },\n      include: SPAN_QUERIES,\n      exclude: SPAN_QUERIES\n    },\n    span_or: {\n      __template: {\n        clauses: [{\n          span_term: {\n            'FIELD': {\n              'value': 'VALUE'\n            }\n          }\n        }]\n      },\n      clauses: [SPAN_QUERIES]\n    },\n    span_containing: {\n      __template: {\n        little: {\n          span_term: {\n            'FIELD': {\n              'value': 'VALUE'\n            }\n          }\n        },\n        big: {\n          span_near: {\n            'clauses': [{\n              span_term: {\n                'FIELD': {\n                  'value': 'VALUE'\n                }\n              }\n            }, {\n              span_term: {\n                'FIELD': {\n                  'value': 'VALUE'\n                }\n              }\n            }],\n            \"slop\": 5,\n            \"in_order\": false\n          }\n        }\n      },\n      little: SPAN_QUERIES,\n      big: SPAN_QUERIES\n    },\n    span_within: {\n      __template: {\n        little: {\n          span_term: {\n            'FIELD': {\n              'value': 'VALUE'\n            }\n          }\n        },\n        big: {\n          span_near: {\n            'clauses': [{\n              span_term: {\n                'FIELD': {\n                  'value': 'VALUE'\n                }\n              }\n            }, {\n              span_term: {\n                'FIELD': {\n                  'value': 'VALUE'\n                }\n              }\n            }],\n            \"slop\": 5,\n            \"in_order\": false\n          }\n        }\n      },\n      little: SPAN_QUERIES,\n      big: SPAN_QUERIES\n    },\n    term: {\n      __template: {\n        'FIELD': {\n          value: 'VALUE'\n        }\n      },\n      '{field}': {\n        value: '',\n        boost: 2.0\n      }\n    },\n    terms: {\n      __template: {\n        'FIELD': ['VALUE1', 'VALUE2']\n      },\n      '{field}': ['']\n    },\n    wildcard: {\n      __template: {\n        'FIELD': {\n          value: 'VALUE'\n        }\n      },\n      '{field}': {\n        value: '',\n        boost: 2.0\n      }\n    },\n    nested: {\n      __template: {\n        path: 'path_to_nested_doc',\n        query: {}\n      },\n      path: '',\n      query: {},\n      score_mode: {\n        __one_of: ['avg', 'total', 'max', 'none']\n      }\n    },\n    custom_filters_score: {\n      __template: {\n        query: {},\n        filters: [{\n          filter: {}\n        }]\n      },\n      query: {},\n      filters: [{\n        filter: {},\n        boost: 2.0,\n        script: {\n          //populated by a global rule\n        }\n      }],\n      score_mode: {\n        __one_of: ['first', 'min', 'max', 'total', 'avg', 'multiply']\n      },\n      max_boost: 2.0,\n      params: {},\n      lang: ''\n    },\n    indices: {\n      __template: {\n        indices: ['INDEX1', 'INDEX2'],\n        query: {}\n      },\n      indices: ['{index}'],\n      query: {},\n      no_match_query: {\n        __scope_link: '.'\n      }\n    },\n    geo_shape: {\n      __template: {\n        location: {},\n        relation: 'within'\n      },\n      __scope_link: '.filter.geo_shape'\n    },\n    // js hint gets confused here\n    /* jshint -W015 */\n    function_score: _.defaults({\n      __template: {\n        query: {},\n        functions: [{}]\n      },\n      query: {},\n      functions: [_.defaults({\n        filter: {},\n        weight: 1.0\n      }, SCORING_FUNCS)],\n      boost: 1.0,\n      boost_mode: { __one_of: [\"multiply\", \"replace\", \"sum\", \"avg\", \"max\", \"min\"] },\n      score_mode: { __one_of: [\"multiply\", \"sum\", \"first\", \"avg\", \"max\", \"min\"] },\n      max_boost: 10,\n      min_score: 1.0\n    }, SCORING_FUNCS),\n    script: {\n      __template: {\n        \"script\": \"_score * doc['f'].value\"\n      },\n      script: {\n        //populated by a global rule\n      }\n    }\n\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9xdWVyeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFMUIsSUFBSSxZQUFZLEdBQUc7O0FBRWpCLFlBQVUsRUFBRTtBQUNWLGdCQUFZLEVBQUUsYUFBYTtHQUM1QjtBQUNELFdBQVMsRUFBRTtBQUNULGdCQUFZLEVBQUUsWUFBWTtHQUMzQjtBQUNELFNBQU8sRUFBRTtBQUNQLGdCQUFZLEVBQUUsVUFBVTtHQUN6QjtBQUNELFVBQVEsRUFBRTtBQUNSLGdCQUFZLEVBQUUsV0FBVztHQUMxQjtBQUNELFdBQVMsRUFBRTtBQUNULGdCQUFZLEVBQUUsWUFBWTtHQUMzQjtBQUNELGlCQUFlLEVBQUU7QUFDZixnQkFBWSxFQUFFLGtCQUFrQjtHQUNqQztBQUNELGFBQVcsRUFBRTtBQUNYLGdCQUFZLEVBQUUsY0FBYztHQUM3QjtDQUNGLENBQUM7O0FBRUYsSUFBSSxlQUFlLEdBQUc7QUFDbEIsWUFBVSxFQUFFO0FBQ1YsV0FBTyxFQUFFO0FBQ1AsY0FBUSxFQUFFLEVBQUU7QUFDWixhQUFPLEVBQUUsRUFBRTtLQUNaO0dBQ0Y7QUFDRCxXQUFTLEVBQUU7QUFDVCxZQUFRLEVBQUUsRUFBRTtBQUNaLFdBQU8sRUFBRSxFQUFFO0FBQ1gsWUFBUSxFQUFFLEVBQUU7QUFDWixXQUFPLEVBQUUsR0FBRztHQUNiO0NBQ0Y7SUFDRCxhQUFhLEdBQUc7QUFDZCxnQkFBYyxFQUFFO0FBQ2QsY0FBVSxFQUFFO0FBQ1YsY0FBUSxFQUFFLHlCQUF5QjtLQUNwQztBQUNELFlBQVEsRUFBRTs7S0FFVDtHQUNGO0FBQ0QsZ0JBQWMsRUFBRSxHQUFHO0FBQ25CLGdCQUFjLEVBQUU7QUFDZCxVQUFNLEVBQUUsWUFBWTtHQUNyQjtBQUNELFVBQVEsRUFBRSxlQUFlO0FB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LEtBQUssRUFBRSxLQUFLLENBQUMsRUFBRTtBQUMzRSxlQUFTLEVBQUUsRUFBRTtBQUNiLGVBQVMsRUFBRSxHQUFHO0tBQ2YsRUFDRCxhQUFhLENBQ2Q7QUFDRCxVQUFNLEVBQUU7QUFDTixnQkFBVSxFQUFFO0FBQ1YsZ0JBQVEsRUFBRSx5QkFBeUI7T0FDcEM7QUFDRCxZQUFNLEVBQUU7O09BRVA7S0FDRjs7R0FHRixDQUFDLENBQUM7Q0FDSixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9xdWVyeS5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcblxudmFyIFNQQU5fUVVFUklFUyA9IHtcbiAgLy8gVE9ETyBhZGQgb25lX29mIGZvciBvYmplY3RzXG4gIHNwYW5fZmlyc3Q6IHtcbiAgICBfX3Njb3BlX2xpbms6ICcuc3Bhbl9maXJzdCdcbiAgfSxcbiAgc3Bhbl9uZWFyOiB7XG4gICAgX19zY29wZV9saW5rOiAnLnNwYW5fbmVhcidcbiAgfSxcbiAgc3Bhbl9vcjoge1xuICAgIF9fc2NvcGVfbGluazogJy5zcGFuX29yJ1xuICB9LFxuICBzcGFuX25vdDoge1xuICAgIF9fc2NvcGVfbGluazogJy5zcGFuX25vdCdcbiAgfSxcbiAgc3Bhbl90ZXJtOiB7XG4gICAgX19zY29wZV9saW5rOiAnLnNwYW5fdGVybSdcbiAgfSxcbiAgc3Bhbl9jb250YWluaW5nOiB7XG4gICAgX19zY29wZV9saW5rOiAnLnNwYW5fY29udGFpbmluZydcbiAgfSxcbiAgc3Bhbl93aXRoaW46IHtcbiAgICBfX3Njb3BlX2xpbms6ICcuc3Bhbl93aXRoaW4nXG4gIH1cbn07XG5cbnZhciBERUNBWV9GVU5DX0RFU0MgPSB7XG4gICAgX190ZW1wbGF0ZToge1xuICAgICAgXCJGSUVMRFwiOiB7XG4gICAgICAgIFwib3JpZ2luXCI6IFwiXCIsXG4gICAgICAgIFwic2NhbGVcIjogXCJcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJ7ZmllbGR9XCI6IHtcbiAgICAgIFwib3JpZ2luXCI6IFwiXCIsXG4gICAgICBcInNjYWxlXCI6IFwiXCIsXG4gICAgICBcIm9mZnNldFwiOiBcIlwiLFxuICAgICAgXCJkZWNheVwiOiAwLjVcbiAgICB9XG4gIH0sXG4gIFNDT1JJTkdfRlVOQ1MgPSB7XG4gICAgXCJzY3JpcHRfc2NvcmVcIjoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBcInNjcmlwdFwiOiBcIl9zY29yZSAqIGRvY1snZiddLnZhbHVlXCJcbiAgICAgIH0sXG4gICAgICBcInNjcmlwdFwiOiB7XG4gICAgICAgIC8vcG9wdWxhdGVkIGJ5IGEgZ2xvYmFsIHJ1bGVcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiYm9vc3RfZmFjdG9yXCI6IDIuMCxcbiAgICBcInJhbmRvbV9zY29yZVwiOiB7XG4gICAgICBcInNlZWRcIjogMzE0MTU5MjY1MzU5XG4gICAgfSxcbiAgICBcImxpbmVhclwiOiBERUNBWV9GVU5DX0RFU0MsXG4gICAgXCJleHBcIjogREVDQVlfRlVOQ19ERVNDLFxuICAgIFwiZ2F1c3NcIjogREVDQVlfRlVOQ19ERVNDLFxuICAgIFwiZmllbGRfdmFsdWVfZmFjdG9yXCI6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgXCJmaWVsZFwiOiBcIlwiXG4gICAgICB9LFxuICAgICAgXCJmaWVsZFwiOiBcIntmaWVsZH1cIixcbiAgICAgIFwiZmFjdG9yXCI6IDEuMixcbiAgICAgIFwibW9kaWZpZXJcIjoge1xuICAgICAgICBfX29uZV9vZjogW1wibm9uZVwiLCBcImxvZ1wiLCBcImxvZzFwXCIsIFwibG9nMnBcIiwgXCJsblwiLCBcImxuMXBcIiwgXCJsbjJwXCIsIFwic3F1YXJlXCIsIFwic3FydFwiLCBcInJlY2lwcm9jYWxcIl1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSkge1xuICBhcGkuYWRkR2xvYmFsQXV0b2NvbXBsZXRlUnVsZXMoJ3F1ZXJ5Jywge1xuICAgIG1hdGNoOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICdGSUVMRCc6ICdURVhUJ1xuICAgICAgfSxcbiAgICAgICd7ZmllbGR9Jzoge1xuICAgICAgICAncXVlcnknOiAnJyxcbiAgICAgICAgJ29wZXJhdG9yJzoge1xuICAgICAgICAgIF9fb25lX29mOiBbJ2FuZCcsICdvciddXG4gICAgICAgIH0sXG4gICAgICAgICd0eXBlJzoge1xuICAgICAgICAgIF9fb25lX29mOiBbJ3BocmFzZScsICdwaHJhc2VfcHJlZml4JywgJ2Jvb2xlYW4nXVxuICAgICAgICB9LFxuICAgICAgICAnbWF4X2V4cGFuc2lvbnMnOiAxMCxcbiAgICAgICAgJ2FuYWx5emVyJzogJycsXG4gICAgICAgICdmdXp6aW5lc3MnOiAxLjAsXG4gICAgICAgICdwcmVmaXhfbGVuZ3RoJzogMVxuICAgICAgfVxuICAgIH0sXG4gICAgbWF0Y2hfcGhyYXNlOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICdGSUVMRCc6ICdQSFJBU0UnXG4gICAgICB9LFxuICAgICAgJ3tmaWVsZH0nOiB7XG4gICAgICAgIHF1ZXJ5OiAnJyxcbiAgICAgICAgYW5hbHl6ZXI6ICcnXG4gICAgICB9XG4gICAgfSxcbiAgICBtYXRjaF9waHJhc2VfcHJlZml4OiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICdGSUVMRCc6ICdQUkVGSVgnXG4gICAgICB9LFxuICAgICAgJ3tmaWVsZH0nOiB7XG4gICAgICAgIHF1ZXJ5OiAnJyxcbiAgICAgICAgYW5hbHl6ZXI6ICcnLFxuICAgICAgICBtYXhfZXhwYW5zaW9uczogMTAsXG4gICAgICAgIHByZWZpeF9sZW5ndGg6IDEsXG4gICAgICAgIGZ1enppbmVzczogMC4xXG4gICAgICB9XG4gICAgfSxcbiAgICBtdWx0aV9tYXRjaDoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICAncXVlcnknOiAnJyxcbiAgICAgICAgJ2ZpZWxkcyc6IFtdXG4gICAgICB9LFxuICAgICAgcXVlcnk6ICcnLFxuICAgICAgZmllbGRzOiBbJ3tmaWVsZH0nXSxcbiAgICAgIHVzZV9kaXNfbWF4OiB7XG4gICAgICAgIF9fdGVtcGxhdGU6IHRydWUsXG4gICAgICAgIF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdXG4gICAgICB9LFxuICAgICAgdGllX2JyZWFrZXI6IDAuMCxcbiAgICAgIHR5cGU6IHsgX19vbmVfb2Y6IFsnYmVzdF9maWVsZHMnLCAnbW9zdF9maWVsZHMnLCAnY3Jvc3NfZmllbGRzJywgJ3BocmFzZScsICdwaHJhc2VfcHJlZml4J10gfVxuICAgIH0sXG4gICAgYm9vbDoge1xuICAgICAgbXVzdDogW1xuICAgICAgICB7XG4gICAgICAgICAgX19zY29wZV9saW5rOiAnLidcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIG11c3Rfbm90OiBbXG4gICAgICAgIHtcbiAgICAgICAgICBfX3Njb3BlX2xpbms6ICcuJ1xuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgc2hvdWxkOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBfX3Njb3BlX2xpbms6ICcuJ1xuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgZmlsdGVyOiB7XG4gICAgICAgIF9fc2NvcGVfbGluazogJ0dMT0JBTC5maWx0ZXInXG4gICAgICB9LFxuICAgICAgbWluaW11bV9udW1iZXJfc2hvdWxkX21hdGNoOiAxLFxuICAgICAgYm9vc3Q6IDEuMFxuICAgIH0sXG4gICAgYm9vc3Rpbmc6IHtcbiAgICAgIHBvc2l0aXZlOiB7XG4gICAgICAgIF9fc2NvcGVfbGluazogJy4nXG4gICAgICB9LFxuICAgICAgbmVnYXRpdmU6IHtcbiAgICAgICAgX19zY29wZV9saW5rOiAnLidcbiAgICAgIH0sXG4gICAgICBuZWdhdGl2ZV9ib29zdDogMC4yXG4gICAgfSxcbiAgICBpZHM6IHtcbiAgICAgIHR5cGU6ICcnLFxuICAgICAgdmFsdWVzOiBbXVxuICAgIH0sXG4gICAgY29uc3RhbnRfc2NvcmU6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgZmlsdGVyOiB7fSxcbiAgICAgICAgYm9vc3Q6IDEuMlxuICAgICAgfSxcbiAgICAgIHF1ZXJ5OiB7fSxcbiAgICAgIGZpbHRlcjoge30sXG4gICAgICBib29zdDogMS4yXG4gICAgfSxcbiAgICBkaXNfbWF4OiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIHRpZV9icmVha2VyOiAwLjcsXG4gICAgICAgIGJvb3N0OiAxLjIsXG4gICAgICAgIHF1ZXJpZXM6IFtdXG4gICAgICB9LFxuICAgICAgdGllX2JyZWFrZXI6IDAuNyxcbiAgICAgIGJvb3N0OiAxLjIsXG4gICAgICBxdWVyaWVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBfX3Njb3BlX2xpbms6ICcuJ1xuICAgICAgICB9XG4gICAgICBdXG4gICAgfSxcbiAgICBmaWVsZDoge1xuICAgICAgJ3tmaWVsZH0nOiB7XG4gICAgICAgIHF1ZXJ5OiAnJyxcbiAgICAgICAgYm9vc3Q6IDIuMCxcbiAgICAgICAgZW5hYmxlX3Bvc2l0aW9uX2luY3JlbWVudHM6IHtcbiAgICAgICAgICBfX3RlbXBsYXRlOiBmYWxzZSxcbiAgICAgICAgICBfX29uZV9vZjogW3RydWUsIGZhbHNlXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBmdXp6eToge1xuICAgICAgJ3tmaWVsZH0nOiB7XG4gICAgICAgICd2YWx1ZSc6ICcnLFxuICAgICAgICAnYm9vc3QnOiAxLjAsXG4gICAgICAgICdmdXp6aW5lc3MnOiAwLjUsXG4gICAgICAgICdwcmVmaXhfbGVuZ3RoJzogMFxuICAgICAgfVxuICAgIH0sXG4gICAgaGFzX2NoaWxkOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIHR5cGU6ICdUWVBFJyxcbiAgICAgICAgcXVlcnk6IHt9XG4gICAgICB9LFxuICAgICAgJ3R5cGUnOiAne3R5cGV9JyxcbiAgICAgICdzY29yZV9tb2RlJzoge1xuICAgICAgICBfX29uZV9vZjogWydub25lJywgJ21heCcsICdzdW0nLCAnYXZnJ11cbiAgICAgIH0sXG4gICAgICAnX3Njb3BlJzogJycsXG4gICAgICAncXVlcnknOiB7fSxcbiAgICAgICdtaW5fY2hpbGRyZW4nOiAxLFxuICAgICAgJ21heF9jaGlsZHJlbic6IDEwXG4gICAgfSxcbiAgICBoYXNfcGFyZW50OiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIHBhcmVudF90eXBlOiAnVFlQRScsXG4gICAgICAgIHF1ZXJ5OiB7fVxuICAgICAgfSxcbiAgICAgICdwYXJlbnRfdHlwZSc6ICd7dHlwZX0nLFxuICAgICAgJ3Njb3JlX21vZGUnOiB7XG4gICAgICAgIF9fb25lX29mOiBbJ25vbmUnLCAnc2NvcmUnXVxuICAgICAgfSxcbiAgICAgICdfc2NvcGUnOiAnJyxcbiAgICAgICdxdWVyeSc6IHt9XG4gICAgfSxcbiAgICBtYXRjaF9hbGw6IHt9LFxuICAgIG1vcmVfbGlrZV90aGlzOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICdmaWVsZHMnOiBbJ0ZJRUxEJ10sXG4gICAgICAgICdsaWtlX3RleHQnOiAndGV4dCBsaWtlIHRoaXMgb25lJyxcbiAgICAgICAgJ21pbl90ZXJtX2ZyZXEnOiAxLFxuICAgICAgICAnbWF4X3F1ZXJ5X3Rlcm1zJzogMTJcbiAgICAgIH0sXG4gICAgICBmaWVsZHM6IFsne2ZpZWxkfSddLFxuICAgICAgbGlrZV90ZXh0OiAnJyxcbiAgICAgIHBlcmNlbnRfdGVybXNfdG9fbWF0Y2g6IDAuMyxcbiAgICAgIG1pbl90ZXJtX2ZyZXE6IDIsXG4gICAgICBtYXhfcXVlcnlfdGVybXM6IDI1LFxuICAgICAgc3RvcF93b3JkczogWycnXSxcbiAgICAgIG1pbl9kb2NfZnJlcTogNSxcbiAgICAgIG1heF9kb2NfZnJlcTogMTAwLFxuICAgICAgbWluX3dvcmRfbGVuOiAwLFxuICAgICAgbWF4X3dvcmRfbGVuOiAwLFxuICAgICAgYm9vc3RfdGVybXM6IDEsXG4gICAgICBib29zdDogMS4wLFxuICAgICAgYW5hbHl6ZXI6ICcnLFxuICAgICAgZG9jczogW3tcbiAgICAgICAgX2luZGV4OiBcIntpbmRleH1cIixcbiAgICAgICAgX3R5cGU6IFwie3R5cGV9XCIsXG4gICAgICAgIF9pZDogXCJcIlxuICAgICAgfV0sXG4gICAgICBpZHM6IFtcIlwiXVxuICAgIH0sXG4gICAgbWx0OiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICdmaWVsZHMnOiBbJ0ZJRUxEJ10sXG4gICAgICAgICdsaWtlX3RleHQnOiAndGV4dCBsaWtlIHRoaXMgb25lJyxcbiAgICAgICAgJ21pbl90ZXJtX2ZyZXEnOiAxLFxuICAgICAgICAnbWF4X3F1ZXJ5X3Rlcm1zJzogMTJcbiAgICAgIH0sXG4gICAgICBfX3Njb3BlX2xpbms6IFwiLm1vcmVfbGlrZV90aGlzXCJcbiAgICB9LFxuICAgIHByZWZpeDoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICAnRklFTEQnOiB7XG4gICAgICAgICAgJ3ZhbHVlJzogJydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICd7ZmllbGR9Jzoge1xuICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgIGJvb3N0OiAxLjBcbiAgICAgIH1cbiAgICB9LFxuICAgIHF1ZXJ5X3N0cmluZzoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICAnZGVmYXVsdF9maWVsZCc6ICdGSUVMRCcsXG4gICAgICAgICdxdWVyeSc6ICd0aGlzIEFORCB0aGF0IE9SIHRodXMnXG4gICAgICB9LFxuICAgICAgcXVlcnk6ICcnLFxuICAgICAgZGVmYXVsdF9maWVsZDogJ3tmaWVsZH0nLFxuICAgICAgZmllbGRzOiBbJ3tmaWVsZH0nXSxcbiAgICAgIGRlZmF1bHRfb3BlcmF0b3I6IHtcbiAgICAgICAgX19vbmVfb2Y6IFsnT1InLCAnQU5EJ11cbiAgICAgIH0sXG4gICAgICBhbmFseXplcjogJycsXG4gICAgICBhbGxvd19sZWFkaW5nX3dpbGRjYXJkOiB7XG4gICAgICAgIF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdXG4gICAgICB9LFxuICAgICAgbG93ZXJjYXNlX2V4cGFuZGVkX3Rlcm1zOiB7XG4gICAgICAgIF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdXG4gICAgICB9LFxuICAgICAgZW5hYmxlX3Bvc2l0aW9uX2luY3JlbWVudHM6IHtcbiAgICAgICAgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV1cbiAgICAgIH0sXG4gICAgICBmdXp6eV9tYXhfZXhwYW5zaW9uczogNTAsXG4gICAgICBmdXp6aW5lc3M6IDAuNSxcbiAgICAgIGZ1enp5X3ByZWZpeF9sZW5ndGg6IDAsXG4gICAgICBwaHJhc2Vfc2xvcDogMCxcbiAgICAgIGJvb3N0OiAxLjAsXG4gICAgICBhbmFseXplX3dpbGRjYXJkOiB7XG4gICAgICAgIF9fb25lX29mOiBbZmFsc2UsIHRydWVdXG4gICAgICB9LFxuICAgICAgYXV0b19nZW5lcmF0ZV9waHJhc2VfcXVlcmllczoge1xuICAgICAgICBfX29uZV9vZjogW2ZhbHNlLCB0cnVlXVxuICAgICAgfSxcbiAgICAgIG1pbmltdW1fc2hvdWxkX21hdGNoOiAnMjAlJyxcbiAgICAgIGxlbmllbnQ6IHtcbiAgICAgICAgX19vbmVfb2Y6IFtmYWxzZSwgdHJ1ZV1cbiAgICAgIH0sXG4gICAgICB1c2VfZGlzX21heDoge1xuICAgICAgICBfX29uZV9vZjogW3RydWUsIGZhbHNlXVxuICAgICAgfSxcbiAgICAgIHRpZV9icmVha2VyOiAwLFxuICAgICAgdGltZV96b25lOiBcIisxOjAwXCJcbiAgICB9LFxuICAgIHNpbXBsZV9xdWVyeV9zdHJpbmc6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgcXVlcnk6IFwiXCIsXG4gICAgICAgIGZpZWxkczogW11cbiAgICAgIH0sXG4gICAgICBxdWVyeTogXCJcIixcbiAgICAgIGZpZWxkczogW1wie2ZpZWxkfVwiXSxcbiAgICAgIGRlZmF1bHRfb3BlcmF0b3I6IHsgX19vbmVfb2Y6IFtcIk9SXCIsIFwiQU5EXCJdIH0sXG4gICAgICBhbmFseXplcjogXCJcIixcbiAgICAgIGZsYWdzOiBcIk9SfEFORHxQUkVGSVhcIixcbiAgICAgIGxvd2VyY2FzZV9leHBhbmRlZF90ZXJtczogeyBfX29uZV9vZjogW3RydWUsIGZhbHNlXSB9LFxuICAgICAgbG9jYWxlOiBcIlJPT1RcIixcbiAgICAgIGxlbmllbnQ6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfVxuICAgIH0sXG4gICAgcmFuZ2U6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgJ0ZJRUxEJzoge1xuICAgICAgICAgIGd0ZTogMTAsXG4gICAgICAgICAgbHRlOiAyMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgJ3tmaWVsZH0nOiB7XG4gICAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgICBndGU6IDEwLFxuICAgICAgICAgIGx0ZTogMjBcbiAgICAgICAgfSxcbiAgICAgICAgZ3RlOiAxMCxcbiAgICAgICAgZ3Q6IDEwLFxuICAgICAgICBsdGU6IDIwLFxuICAgICAgICBsdDogMjAsXG4gICAgICAgIHRpbWVfem9uZTogXCIrMTowMFwiLFxuICAgICAgICBib29zdDogMS4wLFxuICAgICAgICBcImZvcm1hdFwiOiBcImRkL01NL3l5eXl8fHl5eXlcIlxuXG4gICAgICB9XG4gICAgfSxcbiAgICBzcGFuX2ZpcnN0OiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICdtYXRjaCc6IHtcbiAgICAgICAgICAnc3Bhbl90ZXJtJzoge1xuICAgICAgICAgICAgJ0ZJRUxEJzogJ1ZBTFVFJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2VuZCc6IDNcbiAgICAgIH0sXG4gICAgICBtYXRjaDogU1BBTl9RVUVSSUVTXG4gICAgfSxcbiAgICBzcGFuX25lYXI6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgJ2NsYXVzZXMnOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3Bhbl90ZXJtOiB7XG4gICAgICAgICAgICAgICdGSUVMRCc6IHtcbiAgICAgICAgICAgICAgICAndmFsdWUnOiAnVkFMVUUnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHNsb3A6IDEyLFxuICAgICAgICBpbl9vcmRlcjogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjbGF1c2VzOiBbXG4gICAgICAgIFNQQU5fUVVFUklFU1xuICAgICAgXSxcbiAgICAgIHNsb3A6IDEyLFxuICAgICAgaW5fb3JkZXI6IHtcbiAgICAgICAgX19vbmVfb2Y6IFtmYWxzZSwgdHJ1ZV1cbiAgICAgIH0sXG4gICAgICBjb2xsZWN0X3BheWxvYWRzOiB7XG4gICAgICAgIF9fb25lX29mOiBbZmFsc2UsIHRydWVdXG4gICAgICB9XG4gICAgfSxcbiAgICBzcGFuX3Rlcm06IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgJ0ZJRUxEJzoge1xuICAgICAgICAgICd2YWx1ZSc6ICdWQUxVRSdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICd7ZmllbGR9Jzoge1xuICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgIGJvb3N0OiAyLjBcbiAgICAgIH1cbiAgICB9LFxuICAgIHNwYW5fbm90OiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBzcGFuX3Rlcm06IHtcbiAgICAgICAgICAgICdGSUVMRCc6IHtcbiAgICAgICAgICAgICAgJ3ZhbHVlJzogJ1ZBTFVFJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXhjbHVkZToge1xuICAgICAgICAgIHNwYW5fdGVybToge1xuICAgICAgICAgICAgJ0ZJRUxEJzoge1xuICAgICAgICAgICAgICAndmFsdWUnOiAnVkFMVUUnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaW5jbHVkZTogU1BBTl9RVUVSSUVTLFxuICAgICAgZXhjbHVkZTogU1BBTl9RVUVSSUVTXG4gICAgfSxcbiAgICBzcGFuX29yOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIGNsYXVzZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzcGFuX3Rlcm06IHtcbiAgICAgICAgICAgICAgJ0ZJRUxEJzoge1xuICAgICAgICAgICAgICAgICd2YWx1ZSc6ICdWQUxVRSdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIGNsYXVzZXM6IFtcbiAgICAgICAgU1BBTl9RVUVSSUVTXG4gICAgICBdXG4gICAgfSxcbiAgICBzcGFuX2NvbnRhaW5pbmc6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgbGl0dGxlOiB7XG4gICAgICAgICAgc3Bhbl90ZXJtOiB7XG4gICAgICAgICAgICAnRklFTEQnOiB7XG4gICAgICAgICAgICAgICd2YWx1ZSc6ICdWQUxVRSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJpZzoge1xuICAgICAgICAgIHNwYW5fbmVhcjoge1xuICAgICAgICAgICAgJ2NsYXVzZXMnOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcGFuX3Rlcm06IHtcbiAgICAgICAgICAgICAgICAgICdGSUVMRCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJzogJ1ZBTFVFJ1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNwYW5fdGVybToge1xuICAgICAgICAgICAgICAgICAgJ0ZJRUxEJzoge1xuICAgICAgICAgICAgICAgICAgICAndmFsdWUnOiAnVkFMVUUnXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJzbG9wXCI6IDUsXG4gICAgICAgICAgICBcImluX29yZGVyXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbGl0dGxlOiBTUEFOX1FVRVJJRVMsXG4gICAgICBiaWc6IFNQQU5fUVVFUklFU1xuICAgIH0sXG4gICAgc3Bhbl93aXRoaW46IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgbGl0dGxlOiB7XG4gICAgICAgICAgc3Bhbl90ZXJtOiB7XG4gICAgICAgICAgICAnRklFTEQnOiB7XG4gICAgICAgICAgICAgICd2YWx1ZSc6ICdWQUxVRSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJpZzoge1xuICAgICAgICAgIHNwYW5fbmVhcjoge1xuICAgICAgICAgICAgJ2NsYXVzZXMnOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcGFuX3Rlcm06IHtcbiAgICAgICAgICAgICAgICAgICdGSUVMRCc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJzogJ1ZBTFVFJ1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNwYW5fdGVybToge1xuICAgICAgICAgICAgICAgICAgJ0ZJRUxEJzoge1xuICAgICAgICAgICAgICAgICAgICAndmFsdWUnOiAnVkFMVUUnXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJzbG9wXCI6IDUsXG4gICAgICAgICAgICBcImluX29yZGVyXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbGl0dGxlOiBTUEFOX1FVRVJJRVMsXG4gICAgICBiaWc6IFNQQU5fUVVFUklFU1xuICAgIH0sXG4gICAgdGVybToge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICAnRklFTEQnOiB7XG4gICAgICAgICAgdmFsdWU6ICdWQUxVRSdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICd7ZmllbGR9Jzoge1xuICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgIGJvb3N0OiAyLjBcbiAgICAgIH1cbiAgICB9LFxuICAgIHRlcm1zOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICdGSUVMRCc6IFsnVkFMVUUxJywgJ1ZBTFVFMiddXG4gICAgICB9LFxuICAgICAgJ3tmaWVsZH0nOiBbJyddXG4gICAgfSxcbiAgICB3aWxkY2FyZDoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICAnRklFTEQnOiB7XG4gICAgICAgICAgdmFsdWU6ICdWQUxVRSdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICd7ZmllbGR9Jzoge1xuICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgIGJvb3N0OiAyLjBcbiAgICAgIH1cbiAgICB9LFxuICAgIG5lc3RlZDoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBwYXRoOiAncGF0aF90b19uZXN0ZWRfZG9jJyxcbiAgICAgICAgcXVlcnk6IHt9XG4gICAgICB9LFxuICAgICAgcGF0aDogJycsXG4gICAgICBxdWVyeToge30sXG4gICAgICBzY29yZV9tb2RlOiB7XG4gICAgICAgIF9fb25lX29mOiBbJ2F2ZycsICd0b3RhbCcsICdtYXgnLCAnbm9uZSddXG4gICAgICB9XG4gICAgfSxcbiAgICBjdXN0b21fZmlsdGVyc19zY29yZToge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBxdWVyeToge30sXG4gICAgICAgIGZpbHRlcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmaWx0ZXI6IHt9XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgcXVlcnk6IHt9LFxuICAgICAgZmlsdGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgZmlsdGVyOiB7fSxcbiAgICAgICAgICBib29zdDogMi4wLFxuICAgICAgICAgIHNjcmlwdDoge1xuICAgICAgICAgICAgLy9wb3B1bGF0ZWQgYnkgYSBnbG9iYWwgcnVsZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIHNjb3JlX21vZGU6IHtcbiAgICAgICAgX19vbmVfb2Y6IFsnZmlyc3QnLCAnbWluJywgJ21heCcsICd0b3RhbCcsICdhdmcnLCAnbXVsdGlwbHknXVxuICAgICAgfSxcbiAgICAgIG1heF9ib29zdDogMi4wLFxuICAgICAgcGFyYW1zOiB7fSxcbiAgICAgIGxhbmc6ICcnXG4gICAgfSxcbiAgICBpbmRpY2VzOiB7XG4gICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgIGluZGljZXM6IFsnSU5ERVgxJywgJ0lOREVYMiddLFxuICAgICAgICBxdWVyeToge31cbiAgICAgIH0sXG4gICAgICBpbmRpY2VzOiBbJ3tpbmRleH0nXSxcbiAgICAgIHF1ZXJ5OiB7fSxcbiAgICAgIG5vX21hdGNoX3F1ZXJ5OiB7XG4gICAgICAgIF9fc2NvcGVfbGluazogJy4nXG4gICAgICB9XG4gICAgfSxcbiAgICBnZW9fc2hhcGU6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgbG9jYXRpb246IHt9LFxuICAgICAgICByZWxhdGlvbjogJ3dpdGhpbidcbiAgICAgIH0sXG4gICAgICBfX3Njb3BlX2xpbms6ICcuZmlsdGVyLmdlb19zaGFwZSdcbiAgICB9LFxuICAgIC8vIGpzIGhpbnQgZ2V0cyBjb25mdXNlZCBoZXJlXG4gICAgLyoganNoaW50IC1XMDE1ICovXG4gICAgZnVuY3Rpb25fc2NvcmU6IF8uZGVmYXVsdHMoe1xuICAgICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICAgcXVlcnk6IHt9LFxuICAgICAgICAgIGZ1bmN0aW9uczogW1xuICAgICAgICAgICAge31cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHF1ZXJ5OiB7fSxcbiAgICAgICAgZnVuY3Rpb25zOiBbXG4gICAgICAgICAgXy5kZWZhdWx0cyhcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZmlsdGVyOiB7fSxcbiAgICAgICAgICAgICAgd2VpZ2h0OiAxLjBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBTQ09SSU5HX0ZVTkNTXG4gICAgICAgICAgKVxuICAgICAgICBdLFxuICAgICAgICBib29zdDogMS4wLFxuICAgICAgICBib29zdF9tb2RlOiB7IF9fb25lX29mOiBbXCJtdWx0aXBseVwiLCBcInJlcGxhY2VcIiwgXCJzdW1cIiwgXCJhdmdcIiwgXCJtYXhcIiwgXCJtaW5cIl0gfSxcbiAgICAgICAgc2NvcmVfbW9kZTogeyBfX29uZV9vZjogW1wibXVsdGlwbHlcIiwgXCJzdW1cIiwgXCJmaXJzdFwiLCBcImF2Z1wiLCBcIm1heFwiLCBcIm1pblwiXSB9LFxuICAgICAgICBtYXhfYm9vc3Q6IDEwLFxuICAgICAgICBtaW5fc2NvcmU6IDEuMFxuICAgICAgfSxcbiAgICAgIFNDT1JJTkdfRlVOQ1NcbiAgICApLFxuICAgIHNjcmlwdDoge1xuICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICBcInNjcmlwdFwiOiBcIl9zY29yZSAqIGRvY1snZiddLnZhbHVlXCJcbiAgICAgIH0sXG4gICAgICBzY3JpcHQ6IHtcbiAgICAgICAgLy9wb3B1bGF0ZWQgYnkgYSBnbG9iYWwgcnVsZVxuICAgICAgfVxuICAgIH0sXG5cblxuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/query.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/query.js",
      "sourcesContent": [
        "let _ = require(\"lodash\");\n\nvar SPAN_QUERIES = {\n  // TODO add one_of for objects\n  span_first: {\n    __scope_link: '.span_first'\n  },\n  span_near: {\n    __scope_link: '.span_near'\n  },\n  span_or: {\n    __scope_link: '.span_or'\n  },\n  span_not: {\n    __scope_link: '.span_not'\n  },\n  span_term: {\n    __scope_link: '.span_term'\n  },\n  span_containing: {\n    __scope_link: '.span_containing'\n  },\n  span_within: {\n    __scope_link: '.span_within'\n  }\n};\n\nvar DECAY_FUNC_DESC = {\n    __template: {\n      \"FIELD\": {\n        \"origin\": \"\",\n        \"scale\": \"\"\n      }\n    },\n    \"{field}\": {\n      \"origin\": \"\",\n      \"scale\": \"\",\n      \"offset\": \"\",\n      \"decay\": 0.5\n    }\n  },\n  SCORING_FUNCS = {\n    \"script_score\": {\n      __template: {\n        \"script\": \"_score * doc['f'].value\"\n      },\n      \"script\": {\n        //populated by a global rule\n      }\n    },\n    \"boost_factor\": 2.0,\n    \"random_score\": {\n      \"seed\": 314159265359\n    },\n    \"linear\": DECAY_FUNC_DESC,\n    \"exp\": DECAY_FUNC_DESC,\n    \"gauss\": DECAY_FUNC_DESC,\n    \"field_value_factor\": {\n      __template: {\n        \"field\": \"\"\n      },\n      \"field\": \"{field}\",\n      \"factor\": 1.2,\n      \"modifier\": {\n        __one_of: [\"none\", \"log\", \"log1p\", \"log2p\", \"ln\", \"ln1p\", \"ln2p\", \"square\", \"sqrt\", \"reciprocal\"]\n      }\n    }\n  };\n\nmodule.exports = function (api) {\n  api.addGlobalAutocompleteRules('query', {\n    match: {\n      __template: {\n        'FIELD': 'TEXT'\n      },\n      '{field}': {\n        'query': '',\n        'operator': {\n          __one_of: ['and', 'or']\n        },\n        'type': {\n          __one_of: ['phrase', 'phrase_prefix', 'boolean']\n        },\n        'max_expansions': 10,\n        'analyzer': '',\n        'fuzziness': 1.0,\n        'prefix_length': 1\n      }\n    },\n    match_phrase: {\n      __template: {\n        'FIELD': 'PHRASE'\n      },\n      '{field}': {\n        query: '',\n        analyzer: ''\n      }\n    },\n    match_phrase_prefix: {\n      __template: {\n        'FIELD': 'PREFIX'\n      },\n      '{field}': {\n        query: '',\n        analyzer: '',\n        max_expansions: 10,\n        prefix_length: 1,\n        fuzziness: 0.1\n      }\n    },\n    multi_match: {\n      __template: {\n        'query': '',\n        'fields': []\n      },\n      query: '',\n      fields: ['{field}'],\n      use_dis_max: {\n        __template: true,\n        __one_of: [true, false]\n      },\n      tie_breaker: 0.0,\n      type: { __one_of: ['best_fields', 'most_fields', 'cross_fields', 'phrase', 'phrase_prefix'] }\n    },\n    bool: {\n      must: [\n        {\n          __scope_link: '.'\n        }\n      ],\n      must_not: [\n        {\n          __scope_link: '.'\n        }\n      ],\n      should: [\n        {\n          __scope_link: '.'\n        }\n      ],\n      filter: {\n        __scope_link: 'GLOBAL.filter'\n      },\n      minimum_number_should_match: 1,\n      boost: 1.0\n    },\n    boosting: {\n      positive: {\n        __scope_link: '.'\n      },\n      negative: {\n        __scope_link: '.'\n      },\n      negative_boost: 0.2\n    },\n    ids: {\n      type: '',\n      values: []\n    },\n    constant_score: {\n      __template: {\n        filter: {},\n        boost: 1.2\n      },\n      query: {},\n      filter: {},\n      boost: 1.2\n    },\n    dis_max: {\n      __template: {\n        tie_breaker: 0.7,\n        boost: 1.2,\n        queries: []\n      },\n      tie_breaker: 0.7,\n      boost: 1.2,\n      queries: [\n        {\n          __scope_link: '.'\n        }\n      ]\n    },\n    field: {\n      '{field}': {\n        query: '',\n        boost: 2.0,\n        enable_position_increments: {\n          __template: false,\n          __one_of: [true, false]\n        }\n      }\n    },\n    fuzzy: {\n      '{field}': {\n        'value': '',\n        'boost': 1.0,\n        'fuzziness': 0.5,\n        'prefix_length': 0\n      }\n    },\n    has_child: {\n      __template: {\n        type: 'TYPE',\n        query: {}\n      },\n      'type': '{type}',\n      'score_mode': {\n        __one_of: ['none', 'max', 'sum', 'avg']\n      },\n      '_scope': '',\n      'query': {},\n      'min_children': 1,\n      'max_children': 10\n    },\n    has_parent: {\n      __template: {\n        parent_type: 'TYPE',\n        query: {}\n      },\n      'parent_type': '{type}',\n      'score_mode': {\n        __one_of: ['none', 'score']\n      },\n      '_scope': '',\n      'query': {}\n    },\n    match_all: {},\n    more_like_this: {\n      __template: {\n        'fields': ['FIELD'],\n        'like_text': 'text like this one',\n        'min_term_freq': 1,\n        'max_query_terms': 12\n      },\n      fields: ['{field}'],\n      like_text: '',\n      percent_terms_to_match: 0.3,\n      min_term_freq: 2,\n      max_query_terms: 25,\n      stop_words: [''],\n      min_doc_freq: 5,\n      max_doc_freq: 100,\n      min_word_len: 0,\n      max_word_len: 0,\n      boost_terms: 1,\n      boost: 1.0,\n      analyzer: '',\n      docs: [{\n        _index: \"{index}\",\n        _type: \"{type}\",\n        _id: \"\"\n      }],\n      ids: [\"\"]\n    },\n    mlt: {\n      __template: {\n        'fields': ['FIELD'],\n        'like_text': 'text like this one',\n        'min_term_freq': 1,\n        'max_query_terms': 12\n      },\n      __scope_link: \".more_like_this\"\n    },\n    prefix: {\n      __template: {\n        'FIELD': {\n          'value': ''\n        }\n      },\n      '{field}': {\n        value: '',\n        boost: 1.0\n      }\n    },\n    query_string: {\n      __template: {\n        'default_field': 'FIELD',\n        'query': 'this AND that OR thus'\n      },\n      query: '',\n      default_field: '{field}',\n      fields: ['{field}'],\n      default_operator: {\n        __one_of: ['OR', 'AND']\n      },\n      analyzer: '',\n      allow_leading_wildcard: {\n        __one_of: [true, false]\n      },\n      lowercase_expanded_terms: {\n        __one_of: [true, false]\n      },\n      enable_position_increments: {\n        __one_of: [true, false]\n      },\n      fuzzy_max_expansions: 50,\n      fuzziness: 0.5,\n      fuzzy_prefix_length: 0,\n      phrase_slop: 0,\n      boost: 1.0,\n      analyze_wildcard: {\n        __one_of: [false, true]\n      },\n      auto_generate_phrase_queries: {\n        __one_of: [false, true]\n      },\n      minimum_should_match: '20%',\n      lenient: {\n        __one_of: [false, true]\n      },\n      use_dis_max: {\n        __one_of: [true, false]\n      },\n      tie_breaker: 0,\n      time_zone: \"+1:00\"\n    },\n    simple_query_string: {\n      __template: {\n        query: \"\",\n        fields: []\n      },\n      query: \"\",\n      fields: [\"{field}\"],\n      default_operator: { __one_of: [\"OR\", \"AND\"] },\n      analyzer: \"\",\n      flags: \"OR|AND|PREFIX\",\n      lowercase_expanded_terms: { __one_of: [true, false] },\n      locale: \"ROOT\",\n      lenient: { __one_of: [true, false] }\n    },\n    range: {\n      __template: {\n        'FIELD': {\n          gte: 10,\n          lte: 20\n        }\n      },\n      '{field}': {\n        __template: {\n          gte: 10,\n          lte: 20\n        },\n        gte: 10,\n        gt: 10,\n        lte: 20,\n        lt: 20,\n        time_zone: \"+1:00\",\n        boost: 1.0,\n        \"format\": \"dd/MM/yyyy||yyyy\"\n\n      }\n    },\n    span_first: {\n      __template: {\n        'match': {\n          'span_term': {\n            'FIELD': 'VALUE'\n          }\n        },\n        'end': 3\n      },\n      match: SPAN_QUERIES\n    },\n    span_near: {\n      __template: {\n        'clauses': [\n          {\n            span_term: {\n              'FIELD': {\n                'value': 'VALUE'\n              }\n            }\n          }\n        ],\n        slop: 12,\n        in_order: false\n      },\n      clauses: [\n        SPAN_QUERIES\n      ],\n      slop: 12,\n      in_order: {\n        __one_of: [false, true]\n      },\n      collect_payloads: {\n        __one_of: [false, true]\n      }\n    },\n    span_term: {\n      __template: {\n        'FIELD': {\n          'value': 'VALUE'\n        }\n      },\n      '{field}': {\n        value: '',\n        boost: 2.0\n      }\n    },\n    span_not: {\n      __template: {\n        include: {\n          span_term: {\n            'FIELD': {\n              'value': 'VALUE'\n            }\n          }\n        },\n        exclude: {\n          span_term: {\n            'FIELD': {\n              'value': 'VALUE'\n            }\n          }\n        }\n      },\n      include: SPAN_QUERIES,\n      exclude: SPAN_QUERIES\n    },\n    span_or: {\n      __template: {\n        clauses: [\n          {\n            span_term: {\n              'FIELD': {\n                'value': 'VALUE'\n              }\n            }\n          }\n        ]\n      },\n      clauses: [\n        SPAN_QUERIES\n      ]\n    },\n    span_containing: {\n      __template: {\n        little: {\n          span_term: {\n            'FIELD': {\n              'value': 'VALUE'\n            }\n          }\n        },\n        big: {\n          span_near: {\n            'clauses': [\n              {\n                span_term: {\n                  'FIELD': {\n                    'value': 'VALUE'\n                  }\n                }\n              },\n              {\n                span_term: {\n                  'FIELD': {\n                    'value': 'VALUE'\n                  }\n                }\n              }\n            ],\n            \"slop\": 5,\n            \"in_order\": false\n          }\n        }\n      },\n      little: SPAN_QUERIES,\n      big: SPAN_QUERIES\n    },\n    span_within: {\n      __template: {\n        little: {\n          span_term: {\n            'FIELD': {\n              'value': 'VALUE'\n            }\n          }\n        },\n        big: {\n          span_near: {\n            'clauses': [\n              {\n                span_term: {\n                  'FIELD': {\n                    'value': 'VALUE'\n                  }\n                }\n              },\n              {\n                span_term: {\n                  'FIELD': {\n                    'value': 'VALUE'\n                  }\n                }\n              }\n            ],\n            \"slop\": 5,\n            \"in_order\": false\n          }\n        }\n      },\n      little: SPAN_QUERIES,\n      big: SPAN_QUERIES\n    },\n    term: {\n      __template: {\n        'FIELD': {\n          value: 'VALUE'\n        }\n      },\n      '{field}': {\n        value: '',\n        boost: 2.0\n      }\n    },\n    terms: {\n      __template: {\n        'FIELD': ['VALUE1', 'VALUE2']\n      },\n      '{field}': ['']\n    },\n    wildcard: {\n      __template: {\n        'FIELD': {\n          value: 'VALUE'\n        }\n      },\n      '{field}': {\n        value: '',\n        boost: 2.0\n      }\n    },\n    nested: {\n      __template: {\n        path: 'path_to_nested_doc',\n        query: {}\n      },\n      path: '',\n      query: {},\n      score_mode: {\n        __one_of: ['avg', 'total', 'max', 'none']\n      }\n    },\n    custom_filters_score: {\n      __template: {\n        query: {},\n        filters: [\n          {\n            filter: {}\n          }\n        ]\n      },\n      query: {},\n      filters: [\n        {\n          filter: {},\n          boost: 2.0,\n          script: {\n            //populated by a global rule\n          }\n        }\n      ],\n      score_mode: {\n        __one_of: ['first', 'min', 'max', 'total', 'avg', 'multiply']\n      },\n      max_boost: 2.0,\n      params: {},\n      lang: ''\n    },\n    indices: {\n      __template: {\n        indices: ['INDEX1', 'INDEX2'],\n        query: {}\n      },\n      indices: ['{index}'],\n      query: {},\n      no_match_query: {\n        __scope_link: '.'\n      }\n    },\n    geo_shape: {\n      __template: {\n        location: {},\n        relation: 'within'\n      },\n      __scope_link: '.filter.geo_shape'\n    },\n    // js hint gets confused here\n    /* jshint -W015 */\n    function_score: _.defaults({\n        __template: {\n          query: {},\n          functions: [\n            {}\n          ]\n        },\n        query: {},\n        functions: [\n          _.defaults(\n            {\n              filter: {},\n              weight: 1.0\n            },\n            SCORING_FUNCS\n          )\n        ],\n        boost: 1.0,\n        boost_mode: { __one_of: [\"multiply\", \"replace\", \"sum\", \"avg\", \"max\", \"min\"] },\n        score_mode: { __one_of: [\"multiply\", \"sum\", \"first\", \"avg\", \"max\", \"min\"] },\n        max_boost: 10,\n        min_score: 1.0\n      },\n      SCORING_FUNCS\n    ),\n    script: {\n      __template: {\n        \"script\": \"_score * doc['f'].value\"\n      },\n      script: {\n        //populated by a global rule\n      }\n    },\n\n\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/snapshot_restore.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": [
        "tagged-template-literal"
      ]
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _templateObject = _taggedTemplateLiteral(['type[\"\\']s*:s*[\"\\']fs'], ['type[\"\\']\\\\s*:\\\\s*[\"\\']fs']),\n    _templateObject2 = _taggedTemplateLiteral(['type[\"\\']s*:s*[\"\\']url'], ['type[\"\\']\\\\s*:\\\\s*[\"\\']url']),\n    _templateObject3 = _taggedTemplateLiteral(['type[\"\\']s*:s*[\"\\']s3'], ['type[\"\\']\\\\s*:\\\\s*[\"\\']s3']),\n    _templateObject4 = _taggedTemplateLiteral(['type[\"\\']s*:s*[\"\\']hdfs'], ['type[\"\\']\\\\s*:\\\\s*[\"\\']hdfs']);\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('restore_snapshot', {\n    methods: ['POST'],\n    patterns: ['_snapshot/{id}/{id}/_restore'],\n    url_params: {\n      wait_for_completion: \"__flag__\"\n    },\n    data_autocomplete_rules: {\n      indices: \"*\",\n      ignore_unavailable: { __one_of: [true, false] },\n      include_global_state: false,\n      rename_pattern: \"index_(.+)\",\n      rename_replacement: \"restored_index_$1\"\n    }\n  });\n\n  api.addEndpointDescription('single_snapshot', {\n    methods: ['GET', 'DELETE'],\n    patterns: ['_snapshot/{id}/{id}']\n  });\n\n  api.addEndpointDescription('all_snapshots', {\n    methods: ['GET'],\n    patterns: ['_snapshot/{id}/_all']\n  });\n\n  api.addEndpointDescription('put_snapshot', {\n    methods: ['PUT'],\n    patterns: ['_snapshot/{id}/{id}'],\n    url_params: {\n      wait_for_completion: \"__flag__\"\n    },\n    data_autocomplete_rules: {\n      indices: \"*\",\n      ignore_unavailable: { __one_of: [true, false] },\n      include_global_state: { __one_of: [true, false] },\n      partial: { __one_of: [true, false] }\n    }\n  });\n\n  api.addEndpointDescription('_snapshot_status', {\n    methods: ['GET'],\n    patterns: ['_snapshot/_status', '_snapshot/{id}/_status', '_snapshot/{id}/{ids}/_status']\n  });\n\n  function getRepositoryType(context, editor) {\n    var iter = editor.iterForCurrentLoc();\n    // for now just iterate back to the first \"type\" key\n    var t = iter.getCurrentToken();\n    var type;\n    while (t && t.type.indexOf(\"url\") < 0) {\n      if (t.type === 'variable' && t.value === '\"type\"') {\n        t = editor.parser.nextNonEmptyToken(iter);\n        if (!t || t.type !== \"punctuation.colon\") {\n          // weird place to be in, but safe choice..\n          break;\n        }\n        t = editor.parser.nextNonEmptyToken(iter);\n        if (t && t.type === \"string\") {\n          type = t.value.replace(/\"/g, '');\n        }\n        break;\n      }\n      t = editor.parser.prevNonEmptyToken(iter);\n    }\n    return type;\n  }\n\n  api.addEndpointDescription('put_repository', {\n    methods: ['PUT'],\n    patterns: ['_snapshot/{id}'],\n    data_autocomplete_rules: {\n      __template: { \"type\": \"\" },\n\n      \"type\": {\n        __one_of: [\"fs\", \"url\", \"s3\", \"hdfs\"]\n      },\n      \"settings\": {\n        __one_of: [{\n          //fs\n          __condition: {\n            lines_regex: String.raw(_templateObject)\n          },\n          __template: {\n            location: \"path\"\n          },\n          location: \"path\",\n          compress: { __one_of: [true, false] },\n          concurrent_streams: 5,\n          chunk_size: \"10m\",\n          max_restore_bytes_per_sec: \"20mb\",\n          max_snapshot_bytes_per_sec: \"20mb\"\n        }, { // url\n          __condition: {\n            lines_regex: String.raw(_templateObject2)\n          },\n          __template: {\n            url: \"\"\n          },\n          url: \"\",\n          concurrent_streams: 5\n        }, { //s3\n          __condition: {\n            lines_regex: String.raw(_templateObject3)\n          },\n          __template: {\n            bucket: \"\"\n          },\n          bucket: \"\",\n          region: \"\",\n          base_path: \"\",\n          concurrent_streams: 5,\n          chunk_size: \"10m\",\n          compress: { __one_of: [true, false] }\n        }, { // hdfs\n          __condition: {\n            lines_regex: String.raw(_templateObject4)\n          },\n          __template: {\n            path: \"\"\n          },\n          uri: \"\",\n          path: \"some/path\",\n          load_defaults: { __one_of: [true, false] },\n          conf_location: \"cfg.xml\",\n          concurrent_streams: 5,\n          compress: { __one_of: [true, false] },\n          chunk_size: \"10m\"\n        }]\n      }\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9zbmFwc2hvdF9yZXN0b3JlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLEVBQUU7QUFDOUIsS0FBRyxDQUFDLHNCQUFzQixDQUFDLGtCQUFrQixFQUFFO0FBQzdDLFdBQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQztBQUNqQixZQUFRLEVBQUUsQ0FDUiw4QkFBOEIsQ0FDL0I7QUFDRCxjQUFVLEVBQUU7QUFDVix5QkFBbUIsRUFBRSxVQUFVO0tBQ2hDO0FBQ0QsMkJBQXVCLEVBQUU7QUFDdkIsYUFBTyxFQUFFLEdBQUc7QUFDWix3QkFBa0IsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRTtBQUMvQywwQkFBb0IsRUFBRSxLQUFLO0FBQzNCLG9CQUFjLEVBQUUsWUFBWTtBQUM1Qix3QkFBa0IsRUFBRSxtQkFBbUI7S0FDeEM7R0FDRixDQUFDLENBQUM7O0FBR0gsS0FBRyxDQUFDLHNCQUFzQixDQUFDLGlCQUFpQixFQUFFO0FBQzVDLFdBQU8sRUFBRSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUM7QUFDMUIsWUFBUSxFQUFFLENBQ1IscUJBQXFCLENBQ3RCO0dBQ0YsQ0FBQyxDQUFDOztBQUVILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxlQUFlLEVBQUU7QUFDMUMsV0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ2hCLFlBQVEsRUFBRSxDQUNSLHFCQUFxQixDQUN0QjtHQUNGLENBQUMsQ0FBQzs7QUFFSCxLQUFHLENBQUMsc0JBQXNCLENBQUMsY0FBYyxFQUFFO0FBQ3pDLFdBQU8sRUFBRSxDQUFDLEtBQUssQ0FBQztBQUNoQixZQUFRLEVBQUUsQ0FDUixxQkFBcUIsQ0FDdEI7QUFDRCxjQUFVLEVBQUU7QUFDVix5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RUFBRTtBQUNWLGVBQUcsRUFBRSxFQUFFO1dBQ1I7QUFDRCxhQUFHLEVBQUUsRUFBRTtBQUNQLDRCQUFrQixFQUFFLENBQUM7U0FDdEIsRUFDRDtBQUNFLHFCQUFXLEVBQUU7QUFDWCx1QkFBVyxFQUFFLE1BQU0sQ0FBQyxHQUFHLGtCQUF1QjtXQUMvQztBQUNELG9CQUFVLEVBQUU7QUFDVixrQkFBTSxFQUFFLEVBQUU7V0FDWDtBQUNELGdCQUFNLEVBQUUsRUFBRTtBQUNWLGdCQUFNLEVBQUUsRUFBRTtBQUNWLG1CQUFTLEVBQUUsRUFBRTtBQUNiLDRCQUFrQixFQUFFLENBQUM7QUFDckIsb0JBQVUsRUFBRSxLQUFLO0FBQ2pCLGtCQUFRLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUU7U0FDdEMsRUFDRDtBQUNFLHFCQUFXLEVBQUU7QUFDWCx1QkFBVyxFQUFFLE1BQU0sQ0FBQyxHQUFHLGtCQUF5QjtXQUNqRDtBQUNELG9CQUFVLEVBQUU7QUFDVixnQkFBSSxFQUFFLEVBQUU7V0FDVDtBQUNELGFBQUcsRUFBRSxFQUFFO0FBQ1AsY0FBSSxFQUFFLFdBQVc7QUFDakIsdUJBQWEsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRTtBQUMxQyx1QkFBYSxFQUFFLFNBQVM7QUFDeEIsNEJBQWtCLEVBQUUsQ0FBQztBQUNyQixrQkFBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO0FBQ3JDLG9CQUFVLEVBQUUsS0FBSztTQUNsQixDQUNGO09BQ0Y7S0FDRjtHQUNGLENBQUMsQ0FBQztDQUNKLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9jb25zb2xlL2FwaV9zZXJ2ZXIvZXNfNV8wL3NuYXBzaG90X3Jlc3RvcmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGkpIHtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ3Jlc3RvcmVfc25hcHNob3QnLCB7XG4gICAgbWV0aG9kczogWydQT1NUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgICdfc25hcHNob3Qve2lkfS97aWR9L19yZXN0b3JlJ1xuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgd2FpdF9mb3JfY29tcGxldGlvbjogXCJfX2ZsYWdfX1wiXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgaW5kaWNlczogXCIqXCIsXG4gICAgICBpZ25vcmVfdW5hdmFpbGFibGU6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfSxcbiAgICAgIGluY2x1ZGVfZ2xvYmFsX3N0YXRlOiBmYWxzZSxcbiAgICAgIHJlbmFtZV9wYXR0ZXJuOiBcImluZGV4XyguKylcIixcbiAgICAgIHJlbmFtZV9yZXBsYWNlbWVudDogXCJyZXN0b3JlZF9pbmRleF8kMVwiXG4gICAgfVxuICB9KTtcblxuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdzaW5nbGVfc25hcHNob3QnLCB7XG4gICAgbWV0aG9kczogWydHRVQnLCAnREVMRVRFJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgICdfc25hcHNob3Qve2lkfS97aWR9J1xuICAgIF1cbiAgfSk7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ2FsbF9zbmFwc2hvdHMnLCB7XG4gICAgbWV0aG9kczogWydHRVQnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgJ19zbmFwc2hvdC97aWR9L19hbGwnXG4gICAgXVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbigncHV0X3NuYXBzaG90Jywge1xuICAgIG1ldGhvZHM6IFsnUFVUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgICdfc25hcHNob3Qve2lkfS97aWR9J1xuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgd2FpdF9mb3JfY29tcGxldGlvbjogXCJfX2ZsYWdfX1wiXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgaW5kaWNlczogXCIqXCIsXG4gICAgICBpZ25vcmVfdW5hdmFpbGFibGU6IHsgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV0gfSxcbiAgICAgIGluY2x1ZGVfZ2xvYmFsX3N0YXRlOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH0sXG4gICAgICBwYXJ0aWFsOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH1cbiAgICB9XG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfc25hcHNob3Rfc3RhdHVzJywge1xuICAgIG1ldGhvZHM6IFsnR0VUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgICdfc25hcHNob3QvX3N0YXR1cycsXG4gICAgICAnX3NuYXBzaG90L3tpZH0vX3N0YXR1cycsXG4gICAgICAnX3NuYXBzaG90L3tpZH0ve2lkc30vX3N0YXR1cydcbiAgICBdXG4gIH0pO1xuXG5cbiAgZnVuY3Rpb24gZ2V0UmVwb3NpdG9yeVR5cGUoY29udGV4dCwgZWRpdG9yKSB7XG4gICAgdmFyIGl0ZXIgPSBlZGl0b3IuaXRlckZvckN1cnJlbnRMb2MoKTtcbiAgICAvLyBmb3Igbm93IGp1c3QgaXRlcmF0ZSBiYWNrIHRvIHRoZSBmaXJzdCBcInR5cGVcIiBrZXlcbiAgICB2YXIgdCA9IGl0ZXIuZ2V0Q3VycmVudFRva2VuKCk7XG4gICAgdmFyIHR5cGU7XG4gICAgd2hpbGUgKHQgJiYgdC50eXBlLmluZGV4T2YoXCJ1cmxcIikgPCAwKSB7XG4gICAgICBpZiAodC50eXBlID09PSAndmFyaWFibGUnICYmIHQudmFsdWUgPT09ICdcInR5cGVcIicpIHtcbiAgICAgICAgdCA9IGVkaXRvci5wYXJzZXIubmV4dE5vbkVtcHR5VG9rZW4oaXRlcik7XG4gICAgICAgIGlmICghdCB8fCB0LnR5cGUgIT09IFwicHVuY3R1YXRpb24uY29sb25cIikge1xuICAgICAgICAgIC8vIHdlaXJkIHBsYWNlIHRvIGJlIGluLCBidXQgc2FmZSBjaG9pY2UuLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHQgPSBlZGl0b3IucGFyc2VyLm5leHROb25FbXB0eVRva2VuKGl0ZXIpO1xuICAgICAgICBpZiAodCAmJiB0LnR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICB0eXBlID0gdC52YWx1ZS5yZXBsYWNlKC9cIi9nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0ID0gZWRpdG9yLnBhcnNlci5wcmV2Tm9uRW1wdHlUb2tlbihpdGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbigncHV0X3JlcG9zaXRvcnknLCB7XG4gICAgbWV0aG9kczogWydQVVQnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgJ19zbmFwc2hvdC97aWR9J1xuICAgIF0sXG4gICAgZGF0YV9hdXRvY29tcGxldGVfcnVsZXM6IHtcbiAgICAgIF9fdGVtcGxhdGU6IHsgXCJ0eXBlXCI6IFwiXCIgfSxcblxuICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgX19vbmVfb2Y6IFtcImZzXCIsIFwidXJsXCIsIFwiczNcIiwgXCJoZGZzXCJdXG4gICAgICB9LFxuICAgICAgXCJzZXR0aW5nc1wiOiB7XG4gICAgICAgIF9fb25lX29mOiBbe1xuICAgICAgICAgIC8vZnNcbiAgICAgICAgICBfX2NvbmRpdGlvbjoge1xuICAgICAgICAgICAgbGluZXNfcmVnZXg6IFN0cmluZy5yYXdgdHlwZVtcIiddXFxzKjpcXHMqW1wiJ11mc2BcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgICAgIGxvY2F0aW9uOiBcInBhdGhcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgbG9jYXRpb246IFwicGF0aFwiLFxuICAgICAgICAgIGNvbXByZXNzOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH0sXG4gICAgICAgICAgY29uY3VycmVudF9zdHJlYW1zOiA1LFxuICAgICAgICAgIGNodW5rX3NpemU6IFwiMTBtXCIsXG4gICAgICAgICAgbWF4X3Jlc3RvcmVfYnl0ZXNfcGVyX3NlYzogXCIyMG1iXCIsXG4gICAgICAgICAgbWF4X3NuYXBzaG90X2J5dGVzX3Blcl9zZWM6IFwiMjBtYlwiXG4gICAgICAgIH0sXG4gICAgICAgICAgey8vIHVybFxuICAgICAgICAgICAgX19jb25kaXRpb246IHtcbiAgICAgICAgICAgICAgbGluZXNfcmVnZXg6IFN0cmluZy5yYXdgdHlwZVtcIiddXFxzKjpcXHMqW1wiJ111cmxgXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX190ZW1wbGF0ZToge1xuICAgICAgICAgICAgICB1cmw6IFwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cmw6IFwiXCIsXG4gICAgICAgICAgICBjb25jdXJyZW50X3N0cmVhbXM6IDVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgLy9zM1xuICAgICAgICAgICAgX19jb25kaXRpb246IHtcbiAgICAgICAgICAgICAgbGluZXNfcmVnZXg6IFN0cmluZy5yYXdgdHlwZVtcIiddXFxzKjpcXHMqW1wiJ11zM2BcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICAgICAgIGJ1Y2tldDogXCJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJ1Y2tldDogXCJcIixcbiAgICAgICAgICAgIHJlZ2lvbjogXCJcIixcbiAgICAgICAgICAgIGJhc2VfcGF0aDogXCJcIixcbiAgICAgICAgICAgIGNvbmN1cnJlbnRfc3RyZWFtczogNSxcbiAgICAgICAgICAgIGNodW5rX3NpemU6IFwiMTBtXCIsXG4gICAgICAgICAgICBjb21wcmVzczogeyBfX29uZV9vZjogW3RydWUsIGZhbHNlXSB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7Ly8gaGRmc1xuICAgICAgICAgICAgX19jb25kaXRpb246IHtcbiAgICAgICAgICAgICAgbGluZXNfcmVnZXg6IFN0cmluZy5yYXdgdHlwZVtcIiddXFxzKjpcXHMqW1wiJ11oZGZzYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgICAgICAgcGF0aDogXCJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVyaTogXCJcIixcbiAgICAgICAgICAgIHBhdGg6IFwic29tZS9wYXRoXCIsXG4gICAgICAgICAgICBsb2FkX2RlZmF1bHRzOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH0sXG4gICAgICAgICAgICBjb25mX2xvY2F0aW9uOiBcImNmZy54bWxcIixcbiAgICAgICAgICAgIGNvbmN1cnJlbnRfc3RyZWFtczogNSxcbiAgICAgICAgICAgIGNvbXByZXNzOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH0sXG4gICAgICAgICAgICBjaHVua19zaXplOiBcIjEwbVwiXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/snapshot_restore.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/snapshot_restore.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('restore_snapshot', {\n    methods: ['POST'],\n    patterns: [\n      '_snapshot/{id}/{id}/_restore'\n    ],\n    url_params: {\n      wait_for_completion: \"__flag__\"\n    },\n    data_autocomplete_rules: {\n      indices: \"*\",\n      ignore_unavailable: { __one_of: [true, false] },\n      include_global_state: false,\n      rename_pattern: \"index_(.+)\",\n      rename_replacement: \"restored_index_$1\"\n    }\n  });\n\n\n  api.addEndpointDescription('single_snapshot', {\n    methods: ['GET', 'DELETE'],\n    patterns: [\n      '_snapshot/{id}/{id}'\n    ]\n  });\n\n  api.addEndpointDescription('all_snapshots', {\n    methods: ['GET'],\n    patterns: [\n      '_snapshot/{id}/_all'\n    ]\n  });\n\n  api.addEndpointDescription('put_snapshot', {\n    methods: ['PUT'],\n    patterns: [\n      '_snapshot/{id}/{id}'\n    ],\n    url_params: {\n      wait_for_completion: \"__flag__\"\n    },\n    data_autocomplete_rules: {\n      indices: \"*\",\n      ignore_unavailable: { __one_of: [true, false] },\n      include_global_state: { __one_of: [true, false] },\n      partial: { __one_of: [true, false] }\n    }\n  });\n\n  api.addEndpointDescription('_snapshot_status', {\n    methods: ['GET'],\n    patterns: [\n      '_snapshot/_status',\n      '_snapshot/{id}/_status',\n      '_snapshot/{id}/{ids}/_status'\n    ]\n  });\n\n\n  function getRepositoryType(context, editor) {\n    var iter = editor.iterForCurrentLoc();\n    // for now just iterate back to the first \"type\" key\n    var t = iter.getCurrentToken();\n    var type;\n    while (t && t.type.indexOf(\"url\") < 0) {\n      if (t.type === 'variable' && t.value === '\"type\"') {\n        t = editor.parser.nextNonEmptyToken(iter);\n        if (!t || t.type !== \"punctuation.colon\") {\n          // weird place to be in, but safe choice..\n          break;\n        }\n        t = editor.parser.nextNonEmptyToken(iter);\n        if (t && t.type === \"string\") {\n          type = t.value.replace(/\"/g, '');\n        }\n        break;\n      }\n      t = editor.parser.prevNonEmptyToken(iter);\n    }\n    return type;\n  }\n\n  api.addEndpointDescription('put_repository', {\n    methods: ['PUT'],\n    patterns: [\n      '_snapshot/{id}'\n    ],\n    data_autocomplete_rules: {\n      __template: { \"type\": \"\" },\n\n      \"type\": {\n        __one_of: [\"fs\", \"url\", \"s3\", \"hdfs\"]\n      },\n      \"settings\": {\n        __one_of: [{\n          //fs\n          __condition: {\n            lines_regex: String.raw`type[\"']\\s*:\\s*[\"']fs`\n          },\n          __template: {\n            location: \"path\"\n          },\n          location: \"path\",\n          compress: { __one_of: [true, false] },\n          concurrent_streams: 5,\n          chunk_size: \"10m\",\n          max_restore_bytes_per_sec: \"20mb\",\n          max_snapshot_bytes_per_sec: \"20mb\"\n        },\n          {// url\n            __condition: {\n              lines_regex: String.raw`type[\"']\\s*:\\s*[\"']url`\n            },\n            __template: {\n              url: \"\"\n            },\n            url: \"\",\n            concurrent_streams: 5\n          },\n          { //s3\n            __condition: {\n              lines_regex: String.raw`type[\"']\\s*:\\s*[\"']s3`\n            },\n            __template: {\n              bucket: \"\"\n            },\n            bucket: \"\",\n            region: \"\",\n            base_path: \"\",\n            concurrent_streams: 5,\n            chunk_size: \"10m\",\n            compress: { __one_of: [true, false] }\n          },\n          {// hdfs\n            __condition: {\n              lines_regex: String.raw`type[\"']\\s*:\\s*[\"']hdfs`\n            },\n            __template: {\n              path: \"\"\n            },\n            uri: \"\",\n            path: \"some/path\",\n            load_defaults: { __one_of: [true, false] },\n            conf_location: \"cfg.xml\",\n            concurrent_streams: 5,\n            compress: { __one_of: [true, false] },\n            chunk_size: \"10m\"\n          }\n        ]\n      }\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/search.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_search', {\n    methods: ['GET', 'POST'],\n    priority: 10, // collides with get doc by id\n    patterns: [\"{indices}/{types}/_search\", \"{indices}/_search\", \"_search\"],\n    url_params: {\n      q: \"\",\n      df: \"\",\n      analyzer: \"\",\n      default_operator: [\"AND\", \"OR\"],\n      explain: \"__flag__\",\n      _source: \"\",\n      _source_include: \"\",\n      _source_exclude: \"\",\n      stored_fields: [],\n      sort: \"\",\n      track_scores: \"__flag__\",\n      timeout: 1,\n      from: 0,\n      size: 10,\n      search_type: [\"dfs_query_then_fetch\", \"dfs_query_and_fetch\", \"query_then_fetch\", \"query_and_fetch\"],\n      terminate_after: 10,\n      lowercase_expanded_terms: [\"true\", \"false\"],\n      analyze_wildcard: \"__flag__\",\n      preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      scroll: \"5m\",\n      scroll_id: \"\",\n      routing: \"\",\n      request_cache: [\"true\", \"false\"]\n    },\n    data_autocomplete_rules: {\n      query: {\n        // populated by a global rule\n      },\n      aggs: {\n        __template: {\n          \"NAME\": {\n            \"AGG_TYPE\": {}\n          }\n        }\n      },\n\n      post_filter: {\n        __scope_link: 'GLOBAL.filter'\n      },\n      size: {\n        __template: 20\n      },\n      from: 0,\n      sort: {\n        __template: [{\n          'FIELD': {\n            'order': 'desc'\n          }\n        }],\n        __any_of: [{\n          '{field}': {\n            'order': {\n              __one_of: ['desc', 'asc']\n            },\n            missing: {\n              __one_of: ['_last', '_first']\n            },\n            mode: {\n              __one_of: ['min', 'max', 'avg', 'sum']\n            },\n            nested_path: \"\",\n            nested_filter: {\n              __scope_link: \"GLOBAL.filter\"\n            }\n          }\n        }, '{field}', '_score', {\n          '_geo_distance': {\n            __template: {\n              \"FIELD\": {\n                lat: 40,\n                lon: -70\n              },\n              order: \"asc\"\n            },\n            \"{field}\": {\n              __one_of: [{\n                __template: {\n                  lat: 40,\n                  lon: -70\n                },\n                lat: 40,\n                lon: -70\n              }, [{\n                __template: {\n                  lat: 40,\n                  lon: -70\n                },\n                lat: 40,\n                lon: -70\n              }], [\"\"], \"\"]\n            },\n            distance_type: { __one_of: [\"sloppy_arc\", \"arc\", \"plane\"] },\n            sort_mode: { __one_of: [\"min\", \"max\", \"avg\"] },\n            order: { __one_of: [\"asc\", \"desc\"] },\n            unit: \"km\"\n          }\n        }]\n      },\n      stored_fields: ['{field}'],\n      docvalue_fields: [\"{field}\"],\n      script_fields: {\n        __template: {\n          'FIELD': {\n            'script': {\n              // populated by a global rule\n            }\n          }\n        },\n        '*': {\n          __scope_link: 'GLOBAL.script'\n        }\n      },\n      partial_fields: {\n        __template: {\n          'NAME': {\n            include: []\n          }\n        },\n        '*': {\n          include: [],\n          exclude: []\n        }\n      },\n      highlight: {\n        // populated by a global rule\n      },\n      _source: {\n        __one_of: [\"{field}\", [\"{field}\"], {\n          \"include\": {\n            __one_of: [\"{field}\", [\"{field}\"]]\n          },\n          \"exclude\": {\n            __one_of: [\"{field}\", [\"{field}\"]]\n          }\n        }]\n      },\n      explain: {\n        __one_of: [true, false]\n      },\n      stats: [''],\n      timeout: \"1s\",\n      version: { __one_of: [true, false] }\n    }\n  });\n\n  api.addEndpointDescription('_search_template', {\n    methods: ['GET'],\n    patterns: [\"{indices}/{types}/_search/template\", \"{indices}/_search/template\", \"_search/template\"],\n    data_autocomplete_rules: {\n      \"template\": {\n        __one_of: [{ __scope_link: \"_search\" }, { __scope_link: \"GLOBAL.script\" }]\n      },\n      \"params\": {}\n    }\n  });\n\n  api.addEndpointDescription('_render_search_template', {\n    methods: ['GET'],\n    patterns: [\"_render/template\"],\n    data_autocomplete_rules: {\n      __one_of: [{ \"inline\": { __scope_link: \"_search\" } }, { __scope_link: \"GLOBAL.script\" }],\n      \"params\": {}\n    }\n  });\n\n  api.addEndpointDescription('_render_search_template_with_id', {\n    methods: ['GET'],\n    patterns: [\"_render/template/{id}\"],\n    data_autocomplete_rules: {\n      \"params\": {}\n    }\n  });\n\n  api.addEndpointDescription('_get_delete_search_template', {\n    methods: ['GET', 'DELETE'],\n    patterns: [\"_search/template/{id}\"]\n  });\n\n  api.addEndpointDescription('_put_search_template', {\n    methods: ['PUT'],\n    patterns: [\"_search/template/{id}\"],\n    data_autocomplete_rules: {\n      \"template\": {\n        __scope_link: \"_search\"\n      }\n    }\n  });\n\n  api.addEndpointDescription('_search_shards', {\n    methods: ['GET'],\n    priority: 10, // collides with get doc by id\n    patterns: [\"{indices}/{types}/_search_shards\", \"{indices}/_search_shards\", \"_search_shards\"],\n    url_params: {\n      preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      routing: \"\",\n      local: \"__flag__\"\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9zZWFyY2guanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsR0FBRyxFQUFFO0FBQzlCLEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxTQUFTLEVBQUU7QUFDcEMsV0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQztBQUN4QixZQUFRLEVBQUUsRUFBRTtBQUNaLFlBQVEsRUFBRSxDQUNSLDJCQUEyQixFQUMzQixtQkFBbUIsRUFDbkIsU0FBUyxDQUNWO0FBQ0QsY0FBVSxFQUFFO0FBQ1YsT0FBQyxFQUFFLEVBQUU7QUFDTCxRQUFFLEVBQUUsRUFBRTtBQUNOLGNBQVEsRUFBRSxFQUFFO0FBQ1osc0JBQWdCLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDO0FBQy9CLGFBQU8sRUFBRSxVQUFVO0FBQ25CLGFBQU8sRUFBRSxFQUFFO0FBQ1gscUJBQWUsRUFBRSxFQUFFO0FBQ25CLHFCQUFlLEVBQUUsRUFBRTtBQUNuQixtQkFBYSxFQUFFLEVBQUU7QUFDakIsVUFBSSxFQUFFLEVBQUU7QUFDUixrQkFBWSxFQUFFLFVBQVU7QUFDeEIsYUFBTyxFQUFFLENBQUM7QUFDVixVQUFJLEVBQUUsQ0FBQztBQUNQLFVBQUksRUFBRSxFQUFFO0FBQ1IsaUJBQVcsRUFBRSxDQUFDLHNCQUFzQixFQUFFLHFCQUFxQixFQUFFLGtCQUFrQixFQUFFLGlCQUFpQixDQUFDO0FBQ25HLHFCQUFlLEVBQUUsRUFBRTtBQUNuQiw4QkFBd0IsRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUM7QUFDM0Msc0JBQWdCLEVBQUUsVUFBVTtBQUM1QixnQkFBVSxFQUFFLENBQUMsVUFBVSxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxrQkFBa0IsRUFBRSxhQUFhLENBQUM7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QUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvYXBpX3NlcnZlci9lc181XzAvc2VhcmNoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpKSB7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfc2VhcmNoJywge1xuICAgIG1ldGhvZHM6IFsnR0VUJywgJ1BPU1QnXSxcbiAgICBwcmlvcml0eTogMTAsIC8vIGNvbGxpZGVzIHdpdGggZ2V0IGRvYyBieSBpZFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRpY2VzfS97dHlwZXN9L19zZWFyY2hcIixcbiAgICAgIFwie2luZGljZXN9L19zZWFyY2hcIixcbiAgICAgIFwiX3NlYXJjaFwiXG4gICAgXSxcbiAgICB1cmxfcGFyYW1zOiB7XG4gICAgICBxOiBcIlwiLFxuICAgICAgZGY6IFwiXCIsXG4gICAgICBhbmFseXplcjogXCJcIixcbiAgICAgIGRlZmF1bHRfb3BlcmF0b3I6IFtcIkFORFwiLCBcIk9SXCJdLFxuICAgICAgZXhwbGFpbjogXCJfX2ZsYWdfX1wiLFxuICAgICAgX3NvdXJjZTogXCJcIixcbiAgICAgIF9zb3VyY2VfaW5jbHVkZTogXCJcIixcbiAgICAgIF9zb3VyY2VfZXhjbHVkZTogXCJcIixcbiAgICAgIHN0b3JlZF9maWVsZHM6IFtdLFxuICAgICAgc29ydDogXCJcIixcbiAgICAgIHRyYWNrX3Njb3JlczogXCJfX2ZsYWdfX1wiLFxuICAgICAgdGltZW91dDogMSxcbiAgICAgIGZyb206IDAsXG4gICAgICBzaXplOiAxMCxcbiAgICAgIHNlYXJjaF90eXBlOiBbXCJkZnNfcXVlcnlfdGhlbl9mZXRjaFwiLCBcImRmc19xdWVyeV9hbmRfZmV0Y2hcIiwgXCJxdWVyeV90aGVuX2ZldGNoXCIsIFwicXVlcnlfYW5kX2ZldGNoXCJdLFxuICAgICAgdGVybWluYXRlX2FmdGVyOiAxMCxcbiAgICAgIGxvd2VyY2FzZV9leHBhbmRlZF90ZXJtczogW1widHJ1ZVwiLCBcImZhbHNlXCJdLFxuICAgICAgYW5hbHl6ZV93aWxkY2FyZDogXCJfX2ZsYWdfX1wiLFxuICAgICAgcHJlZmVyZW5jZTogW1wiX3ByaW1hcnlcIiwgXCJfcHJpbWFyeV9maXJzdFwiLCBcIl9sb2NhbFwiLCBcIl9vbmx5X25vZGU6eHl6XCIsIFwiX3ByZWZlcl9ub2RlOnh5elwiLCBcIl9zaGFyZHM6MiwzXCJdLFxuICAgICAgc2Nyb2xsOiBcIjVtXCIsXG4gICAgICBzY3JvbGxfaWQ6IFwiXCIsXG4gICAgICByb3V0aW5nOiBcIlwiLFxuICAgICAgcmVxdWVzdF9jYWNoZTogW1widHJ1ZVwiLCBcImZhbHNlXCJdXG4gICAgfSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgcXVlcnk6IHtcbiAgICAgICAgLy8gcG9wdWxhdGVkIGJ5IGEgZ2xvYmFsIHJ1bGVcbiAgICAgIH0sXG4gICAgICBhZ2dzOiB7XG4gICAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgICBcIk5BTUVcIjoge1xuICAgICAgICAgICAgXCJBR0dfVFlQRVwiOiB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgcG9zdF9maWx0ZXI6IHtcbiAgICAgICAgX19zY29wZV9saW5rOiAnR0xPQkFMLmZpbHRlcidcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIF9fdGVtcGxhdGU6IDIwXG4gICAgICB9LFxuICAgICAgZnJvbTogMCxcbiAgICAgIHNvcnQ6IHtcbiAgICAgICAgX190ZW1wbGF0ZTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgICdGSUVMRCc6IHtcbiAgICAgICAgICAgICAgJ29yZGVyJzogJ2Rlc2MnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBfX2FueV9vZjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgICd7ZmllbGR9Jzoge1xuICAgICAgICAgICAgICAnb3JkZXInOiB7XG4gICAgICAgICAgICAgICAgX19vbmVfb2Y6IFsnZGVzYycsICdhc2MnXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBtaXNzaW5nOiB7XG4gICAgICAgICAgICAgICAgX19vbmVfb2Y6IFsnX2xhc3QnLCAnX2ZpcnN0J11cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbW9kZToge1xuICAgICAgICAgICAgICAgIF9fb25lX29mOiBbJ21pbicsICdtYXgnLCAnYXZnJywgJ3N1bSddXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG5lc3RlZF9wYXRoOiBcIlwiLFxuICAgICAgICAgICAgICBuZXN0ZWRfZmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgX19zY29wZV9saW5rOiBcIkdMT0JBTC5maWx0ZXJcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAne2ZpZWxkfScsXG4gICAgICAgICAgJ19zY29yZScsXG4gICAgICAgICAge1xuICAgICAgICAgICAgJ19nZW9fZGlzdGFuY2UnOiB7XG4gICAgICAgICAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgICAgICAgICBcIkZJRUxEXCI6IHtcbiAgICAgICAgICAgICAgICAgIGxhdDogNDAsXG4gICAgICAgICAgICAgICAgICBsb246IC03MFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXI6IFwiYXNjXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXCJ7ZmllbGR9XCI6IHtcbiAgICAgICAgICAgICAgICBfX29uZV9vZjogW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgbGF0OiA0MCxcbiAgICAgICAgICAgICAgICAgICAgICBsb246IC03MFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsYXQ6IDQwLFxuICAgICAgICAgICAgICAgICAgICBsb246IC03MFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIF9fdGVtcGxhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogNDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb246IC03MFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgbGF0OiA0MCxcbiAgICAgICAgICAgICAgICAgICAgICBsb246IC03MFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgW1wiXCJdLFxuICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGlzdGFuY2VfdHlwZTogeyBfX29uZV9vZjogW1wic2xvcHB5X2FyY1wiLCBcImFyY1wiLCBcInBsYW5lXCJdIH0sXG4gICAgICAgICAgICAgIHNvcnRfbW9kZTogeyBfX29uZV9vZjogW1wibWluXCIsIFwibWF4XCIsIFwiYXZnXCJdIH0sXG4gICAgICAgICAgICAgIG9yZGVyOiB7IF9fb25lX29mOiBbXCJhc2NcIiwgXCJkZXNjXCJdIH0sXG4gICAgICAgICAgICAgIHVuaXQ6IFwia21cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIHN0b3JlZF9maWVsZHM6IFsne2ZpZWxkfSddLFxuICAgICAgZG9jdmFsdWVfZmllbGRzOiBbXCJ7ZmllbGR9XCJdLFxuICAgICAgc2NyaXB0X2ZpZWxkczoge1xuICAgICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICAgJ0ZJRUxEJzoge1xuICAgICAgICAgICAgJ3NjcmlwdCc6IHtcbiAgICAgICAgICAgICAgLy8gcG9wdWxhdGVkIGJ5IGEgZ2xvYmFsIHJ1bGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICcqJzoge1xuICAgICAgICAgIF9fc2NvcGVfbGluazogJ0dMT0JBTC5zY3JpcHQnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwYXJ0aWFsX2ZpZWxkczoge1xuICAgICAgICBfX3RlbXBsYXRlOiB7XG4gICAgICAgICAgJ05BTUUnOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiBbXVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJyonOiB7XG4gICAgICAgICAgaW5jbHVkZTogW10sXG4gICAgICAgICAgZXhjbHVkZTogW11cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhpZ2hsaWdodDoge1xuICAgICAgICAvLyBwb3B1bGF0ZWQgYnkgYSBnbG9iYWwgcnVsZVxuICAgICAgfSxcbiAgICAgIF9zb3VyY2U6IHtcbiAgICAgICAgX19vbmVfb2Y6IFtcbiAgICAgICAgICBcIntmaWVsZH1cIixcbiAgICAgICAgICBbXCJ7ZmllbGR9XCJdLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiaW5jbHVkZVwiOiB7XG4gICAgICAgICAgICAgIF9fb25lX29mOiBbXG4gICAgICAgICAgICAgICAgXCJ7ZmllbGR9XCIsXG4gICAgICAgICAgICAgICAgW1wie2ZpZWxkfVwiXVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJleGNsdWRlXCI6IHtcbiAgICAgICAgICAgICAgX19vbmVfb2Y6IFtcbiAgICAgICAgICAgICAgICBcIntmaWVsZH1cIixcbiAgICAgICAgICAgICAgICBbXCJ7ZmllbGR9XCJdXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBleHBsYWluOiB7XG4gICAgICAgIF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdXG4gICAgICB9LFxuICAgICAgc3RhdHM6IFsnJ10sXG4gICAgICB0aW1lb3V0OiBcIjFzXCIsXG4gICAgICB2ZXJzaW9uOiB7IF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdIH1cbiAgICB9XG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfc2VhcmNoX3RlbXBsYXRlJywge1xuICAgIG1ldGhvZHM6IFsnR0VUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGljZXN9L3t0eXBlc30vX3NlYXJjaC90ZW1wbGF0ZVwiLFxuICAgICAgXCJ7aW5kaWNlc30vX3NlYXJjaC90ZW1wbGF0ZVwiLFxuICAgICAgXCJfc2VhcmNoL3RlbXBsYXRlXCJcbiAgICBdLFxuICAgIGRhdGFfYXV0b2NvbXBsZXRlX3J1bGVzOiB7XG4gICAgICBcInRlbXBsYXRlXCI6IHtcbiAgICAgICAgX19vbmVfb2Y6IFtcbiAgICAgICAgICB7IF9fc2NvcGVfbGluazogXCJfc2VhcmNoXCIgfSxcbiAgICAgICAgICB7IF9fc2NvcGVfbGluazogXCJHTE9CQUwuc2NyaXB0XCIgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgXCJwYXJhbXNcIjoge31cbiAgICB9XG4gIH0pO1xuXG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfcmVuZGVyX3NlYXJjaF90ZW1wbGF0ZScsIHtcbiAgICBtZXRob2RzOiBbJ0dFVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIl9yZW5kZXIvdGVtcGxhdGVcIlxuICAgIF0sXG4gICAgZGF0YV9hdXRvY29tcGxldGVfcnVsZXM6IHtcbiAgICAgIF9fb25lX29mOiBbXG4gICAgICAgIHsgXCJpbmxpbmVcIjogeyBfX3Njb3BlX2xpbms6IFwiX3NlYXJjaFwiIH0gfSxcbiAgICAgICAgeyBfX3Njb3BlX2xpbms6IFwiR0xPQkFMLnNjcmlwdFwiIH1cbiAgICAgIF0sXG4gICAgICBcInBhcmFtc1wiOiB7fVxuICAgIH1cbiAgfSk7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19yZW5kZXJfc2VhcmNoX3RlbXBsYXRlX3dpdGhfaWQnLCB7XG4gICAgbWV0aG9kczogWydHRVQnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJfcmVuZGVyL3RlbXBsYXRlL3tpZH1cIlxuICAgIF0sXG4gICAgZGF0YV9hdXRvY29tcGxldGVfcnVsZXM6IHtcbiAgICAgIFwicGFyYW1zXCI6IHt9XG4gICAgfVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX2dldF9kZWxldGVfc2VhcmNoX3RlbXBsYXRlJywge1xuICAgIG1ldGhvZHM6IFsnR0VUJywgJ0RFTEVURSddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIl9zZWFyY2gvdGVtcGxhdGUve2lkfVwiXG4gICAgXVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX3B1dF9zZWFyY2hfdGVtcGxhdGUnLCB7XG4gICAgbWV0aG9kczogWydQVVQnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJfc2VhcmNoL3RlbXBsYXRlL3tpZH1cIlxuICAgIF0sXG4gICAgZGF0YV9hdXRvY29tcGxldGVfcnVsZXM6IHtcbiAgICAgIFwidGVtcGxhdGVcIjoge1xuICAgICAgICBfX3Njb3BlX2xpbms6IFwiX3NlYXJjaFwiXG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX3NlYXJjaF9zaGFyZHMnLCB7XG4gICAgbWV0aG9kczogWydHRVQnXSxcbiAgICBwcmlvcml0eTogMTAsIC8vIGNvbGxpZGVzIHdpdGggZ2V0IGRvYyBieSBpZFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIntpbmRpY2VzfS97dHlwZXN9L19zZWFyY2hfc2hhcmRzXCIsXG4gICAgICBcIntpbmRpY2VzfS9fc2VhcmNoX3NoYXJkc1wiLFxuICAgICAgXCJfc2VhcmNoX3NoYXJkc1wiXG4gICAgXSxcbiAgICB1cmxfcGFyYW1zOiB7XG4gICAgICBwcmVmZXJlbmNlOiBbXCJfcHJpbWFyeVwiLCBcIl9wcmltYXJ5X2ZpcnN0XCIsIFwiX2xvY2FsXCIsIFwiX29ubHlfbm9kZTp4eXpcIiwgXCJfcHJlZmVyX25vZGU6eHl6XCIsIFwiX3NoYXJkczoyLDNcIl0sXG4gICAgICByb3V0aW5nOiBcIlwiLFxuICAgICAgbG9jYWw6IFwiX19mbGFnX19cIlxuICAgIH1cbiAgfSk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/search.js"
      ],
      "names": [],
      "mappings": "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",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/search.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('_search', {\n    methods: ['GET', 'POST'],\n    priority: 10, // collides with get doc by id\n    patterns: [\n      \"{indices}/{types}/_search\",\n      \"{indices}/_search\",\n      \"_search\"\n    ],\n    url_params: {\n      q: \"\",\n      df: \"\",\n      analyzer: \"\",\n      default_operator: [\"AND\", \"OR\"],\n      explain: \"__flag__\",\n      _source: \"\",\n      _source_include: \"\",\n      _source_exclude: \"\",\n      stored_fields: [],\n      sort: \"\",\n      track_scores: \"__flag__\",\n      timeout: 1,\n      from: 0,\n      size: 10,\n      search_type: [\"dfs_query_then_fetch\", \"dfs_query_and_fetch\", \"query_then_fetch\", \"query_and_fetch\"],\n      terminate_after: 10,\n      lowercase_expanded_terms: [\"true\", \"false\"],\n      analyze_wildcard: \"__flag__\",\n      preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      scroll: \"5m\",\n      scroll_id: \"\",\n      routing: \"\",\n      request_cache: [\"true\", \"false\"]\n    },\n    data_autocomplete_rules: {\n      query: {\n        // populated by a global rule\n      },\n      aggs: {\n        __template: {\n          \"NAME\": {\n            \"AGG_TYPE\": {}\n          }\n        }\n      },\n\n      post_filter: {\n        __scope_link: 'GLOBAL.filter'\n      },\n      size: {\n        __template: 20\n      },\n      from: 0,\n      sort: {\n        __template: [\n          {\n            'FIELD': {\n              'order': 'desc'\n            }\n          }\n        ],\n        __any_of: [\n          {\n            '{field}': {\n              'order': {\n                __one_of: ['desc', 'asc']\n              },\n              missing: {\n                __one_of: ['_last', '_first']\n              },\n              mode: {\n                __one_of: ['min', 'max', 'avg', 'sum']\n              },\n              nested_path: \"\",\n              nested_filter: {\n                __scope_link: \"GLOBAL.filter\"\n              }\n            }\n          },\n          '{field}',\n          '_score',\n          {\n            '_geo_distance': {\n              __template: {\n                \"FIELD\": {\n                  lat: 40,\n                  lon: -70\n                },\n                order: \"asc\"\n              },\n              \"{field}\": {\n                __one_of: [\n                  {\n                    __template: {\n                      lat: 40,\n                      lon: -70\n                    },\n                    lat: 40,\n                    lon: -70\n                  },\n                  [\n                    {\n                      __template: {\n                        lat: 40,\n                        lon: -70\n                      },\n                      lat: 40,\n                      lon: -70\n                    }\n                  ],\n                  [\"\"],\n                  \"\"\n                ]\n              },\n              distance_type: { __one_of: [\"sloppy_arc\", \"arc\", \"plane\"] },\n              sort_mode: { __one_of: [\"min\", \"max\", \"avg\"] },\n              order: { __one_of: [\"asc\", \"desc\"] },\n              unit: \"km\"\n            }\n          }\n        ]\n      },\n      stored_fields: ['{field}'],\n      docvalue_fields: [\"{field}\"],\n      script_fields: {\n        __template: {\n          'FIELD': {\n            'script': {\n              // populated by a global rule\n            }\n          }\n        },\n        '*': {\n          __scope_link: 'GLOBAL.script'\n        }\n      },\n      partial_fields: {\n        __template: {\n          'NAME': {\n            include: []\n          }\n        },\n        '*': {\n          include: [],\n          exclude: []\n        }\n      },\n      highlight: {\n        // populated by a global rule\n      },\n      _source: {\n        __one_of: [\n          \"{field}\",\n          [\"{field}\"],\n          {\n            \"include\": {\n              __one_of: [\n                \"{field}\",\n                [\"{field}\"]\n              ]\n            },\n            \"exclude\": {\n              __one_of: [\n                \"{field}\",\n                [\"{field}\"]\n              ]\n            }\n          }\n        ]\n      },\n      explain: {\n        __one_of: [true, false]\n      },\n      stats: [''],\n      timeout: \"1s\",\n      version: { __one_of: [true, false] }\n    }\n  });\n\n  api.addEndpointDescription('_search_template', {\n    methods: ['GET'],\n    patterns: [\n      \"{indices}/{types}/_search/template\",\n      \"{indices}/_search/template\",\n      \"_search/template\"\n    ],\n    data_autocomplete_rules: {\n      \"template\": {\n        __one_of: [\n          { __scope_link: \"_search\" },\n          { __scope_link: \"GLOBAL.script\" }\n        ]\n      },\n      \"params\": {}\n    }\n  });\n\n  api.addEndpointDescription('_render_search_template', {\n    methods: ['GET'],\n    patterns: [\n      \"_render/template\"\n    ],\n    data_autocomplete_rules: {\n      __one_of: [\n        { \"inline\": { __scope_link: \"_search\" } },\n        { __scope_link: \"GLOBAL.script\" }\n      ],\n      \"params\": {}\n    }\n  });\n\n  api.addEndpointDescription('_render_search_template_with_id', {\n    methods: ['GET'],\n    patterns: [\n      \"_render/template/{id}\"\n    ],\n    data_autocomplete_rules: {\n      \"params\": {}\n    }\n  });\n\n  api.addEndpointDescription('_get_delete_search_template', {\n    methods: ['GET', 'DELETE'],\n    patterns: [\n      \"_search/template/{id}\"\n    ]\n  });\n\n  api.addEndpointDescription('_put_search_template', {\n    methods: ['PUT'],\n    patterns: [\n      \"_search/template/{id}\"\n    ],\n    data_autocomplete_rules: {\n      \"template\": {\n        __scope_link: \"_search\"\n      }\n    }\n  });\n\n  api.addEndpointDescription('_search_shards', {\n    methods: ['GET'],\n    priority: 10, // collides with get doc by id\n    patterns: [\n      \"{indices}/{types}/_search_shards\",\n      \"{indices}/_search_shards\",\n      \"_search_shards\"\n    ],\n    url_params: {\n      preference: [\"_primary\", \"_primary_first\", \"_local\", \"_only_node:xyz\", \"_prefer_node:xyz\", \"_shards:2,3\"],\n      routing: \"\",\n      local: \"__flag__\"\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/settings.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "\"use strict\";\n\nmodule.exports = function (api) {\n\n  api.addEndpointDescription('_get_settings', {\n    patterns: [\"{indices}/_settings\", \"_settings\"],\n    url_params: {\n      flat_settings: \"__flag__\"\n    }\n  });\n  api.addEndpointDescription('_put_settings', {\n    methods: ['PUT'],\n    patterns: [\"{indices}/_settings\", \"_settings\"],\n    data_autocomplete_rules: {\n      refresh_interval: '1s',\n      number_of_shards: 5,\n      number_of_replicas: 1,\n      'blocks.read_only': {\n        __one_of: [false, true]\n      },\n      'blocks.read': {\n        __one_of: [true, false]\n      },\n      'blocks.write': {\n        __one_of: [true, false]\n      },\n      'blocks.metadata': {\n        __one_of: [true, false]\n      },\n      term_index_interval: 32,\n      term_index_divisor: 1,\n      'translog.flush_threshold_ops': 5000,\n      'translog.flush_threshold_size': '200mb',\n      'translog.flush_threshold_period': '30m',\n      'translog.disable_flush': {\n        __one_of: [true, false]\n      },\n      'cache.filter.max_size': '2gb',\n      'cache.filter.expire': '2h',\n      'gateway.snapshot_interval': '10s',\n      routing: {\n        allocation: {\n          include: {\n            tag: ''\n          },\n          exclude: {\n            tag: ''\n          },\n          require: {\n            tag: ''\n          },\n          total_shards_per_node: -1\n        }\n      },\n      'recovery.initial_shards': {\n        __one_of: ['quorum', 'quorum-1', 'half', 'full', 'full-1']\n      },\n      'ttl.disable_purge': {\n        __one_of: [true, false]\n      },\n      analysis: {\n        analyzer: {},\n        tokenizer: {},\n        filter: {},\n        char_filter: {}\n      },\n      'cache.query.enable': {\n        __one_of: [true, false]\n      },\n      shadow_replicas: {\n        __one_of: [true, false]\n      },\n      shared_filesystem: {\n        __one_of: [true, false]\n      },\n      data_path: 'path',\n      codec: {\n        __one_of: ['default', 'best_compression', 'lucene_default']\n      }\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC9zZXR0aW5ncy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBVSxHQUFHLEVBQUU7O0FBRTlCLEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxlQUFlLEVBQUU7QUFDMUMsWUFBUSxFQUFFLENBQ1IscUJBQXFCLEVBQ3JCLFdBQVcsQ0FDWjtBQUNELGNBQVUsRUFBRTtBQUNWLG1CQUFhLEVBQUUsVUFBVTtLQUMxQjtHQUNGLENBQUMsQ0FBQztBQUNILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxlQUFlLEVBQUU7QUFDMUMsV0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ2hCLFlBQVEsRUFBRSxDQUNSLHFCQUFxQixFQUNyQixXQUFXLENBQ1o7QUFDRCwyQkFBdUIsRUFBRTtBQUN2QixzQkFBZ0IsRUFBRSxJQUFJO0FBQ3RCLHNCQUFnQixFQUFFLENBQUM7QUFDbkIsd0JBQWtCLEVBQUUsQ0FBQztBQUNyQix3QkFBa0IsRUFBRTtBQUNsQixnQkFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQztPQUN4QjtBQUNELG1CQUFhLEVBQUU7QUFDYixnQkFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztPQUN4QjtBQUNELG9CQUFjLEVBQUU7QUFDZCxnQkFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztPQUN4QjtBQUNELHVCQUFpQixFQUFFO0FBQ2pCLGdCQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDO09BQ3hCO0FBQ0QseUJBQW1CLEVBQUUsRUFBRTtBQUN2Qix3QkFBa0IsRUFBRSxDQUFDO0FBQ3JCLG9DQUE4QixFQUFFLElBQUk7QUFDcEMscUNBQStCLEVBQUUsT0FBTztBQUN4Qyx1Q0FBaUMsRUFBRSxLQUFLO0FBQ3hDLDhCQUF3QixFQUFFO0FBQ3hCLGdCQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDO09BQ3hCO0FBQ0QsNkJBQXVCLEVBQUUsS0FBSztBQUM5QiwyQkFBcUIsRUFBRSxJQUFJO0FBQzNCLGlDQUEyQixFQUFFLEtBQUs7QUFDbEMsYUFBTyxFQUFFO0FBQ1Asa0JBQVUsRUFBRTtBQUNWLGlCQUFPLEVBQUU7QUFDUCxlQUFHLEVBQUUsRUFBRTtXQUNSO0FBQ0QsaUJBQU8sRUFBRTtBQUNQLGVBQUcsRUFBRSxFQUFFO1dBQ1I7QUFDRCxpQkFBTyxFQUFFO0FBQ1AsZUFBRyxFQUFFLEVBQUU7V0FDUjtBQUNELCtCQUFxQixFQUFFLENBQUMsQ0FBQztTQUMxQjtPQUNGO0FBQ0QsK0JBQXlCLEVBQUU7QUFDekIsZ0JBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUM7T0FDM0Q7QUFDRCx5QkFBbUIsRUFBRTtBQUNuQixnQkFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztPQUN4QjtBQUNELGNBQVEsRUFBRTtBQUNSLGdCQUFRLEVBQUUsRUFBRTtBQUNaLGlCQUFTLEVBQUUsRUFBRTtBQUNiLGNBQU0sRUFBRSxFQUFFO0FBQ1YsbUJBQVcsRUFBRSxFQUFFO09BQ2hCO0FBQ0QsMEJBQW9CLEVBQUU7QUFDcEIsZ0JBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7T0FDeEI7QUFDRCxxQkFBZSxFQUFFO0FBQ2YsZ0JBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7T0FDeEI7QUFDRCx1QkFBaUIsRUFBRTtBQUNqQixnQkFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztPQUN4QjtBQUNELGVBQVMsRUFBRSxNQUFNO0FBQ2pCLFdBQUssRUFBRTtBQUNMLGdCQUFRLEVBQUUsQ0FBQyxTQUFTLEVBQUUsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUM7T0FDNUQ7S0FDRjtHQUNGLENBQUMsQ0FBQztDQUNKLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy9jb25zb2xlL2FwaV9zZXJ2ZXIvZXNfNV8wL3NldHRpbmdzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpKSB7XG5cbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19nZXRfc2V0dGluZ3MnLCB7XG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwie2luZGljZXN9L19zZXR0aW5nc1wiLFxuICAgICAgXCJfc2V0dGluZ3NcIlxuICAgIF0sXG4gICAgdXJsX3BhcmFtczoge1xuICAgICAgZmxhdF9zZXR0aW5nczogXCJfX2ZsYWdfX1wiXG4gICAgfVxuICB9KTtcbiAgYXBpLmFkZEVuZHBvaW50RGVzY3JpcHRpb24oJ19wdXRfc2V0dGluZ3MnLCB7XG4gICAgbWV0aG9kczogWydQVVQnXSxcbiAgICBwYXR0ZXJuczogW1xuICAgICAgXCJ7aW5kaWNlc30vX3NldHRpbmdzXCIsXG4gICAgICBcIl9zZXR0aW5nc1wiXG4gICAgXSxcbiAgICBkYXRhX2F1dG9jb21wbGV0ZV9ydWxlczoge1xuICAgICAgcmVmcmVzaF9pbnRlcnZhbDogJzFzJyxcbiAgICAgIG51bWJlcl9vZl9zaGFyZHM6IDUsXG4gICAgICBudW1iZXJfb2ZfcmVwbGljYXM6IDEsXG4gICAgICAnYmxvY2tzLnJlYWRfb25seSc6IHtcbiAgICAgICAgX19vbmVfb2Y6IFtmYWxzZSwgdHJ1ZV1cbiAgICAgIH0sXG4gICAgICAnYmxvY2tzLnJlYWQnOiB7XG4gICAgICAgIF9fb25lX29mOiBbdHJ1ZSwgZmFsc2VdXG4gICAgICB9LFxuICAgICAgJ2Jsb2Nrcy53cml0ZSc6IHtcbiAgICAgICAgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV1cbiAgICAgIH0sXG4gICAgICAnYmxvY2tzLm1ldGFkYXRhJzoge1xuICAgICAgICBfX29uZV9vZjogW3RydWUsIGZhbHNlXVxuICAgICAgfSxcbiAgICAgIHRlcm1faW5kZXhfaW50ZXJ2YWw6IDMyLFxuICAgICAgdGVybV9pbmRleF9kaXZpc29yOiAxLFxuICAgICAgJ3RyYW5zbG9nLmZsdXNoX3RocmVzaG9sZF9vcHMnOiA1MDAwLFxuICAgICAgJ3RyYW5zbG9nLmZsdXNoX3RocmVzaG9sZF9zaXplJzogJzIwMG1iJyxcbiAgICAgICd0cmFuc2xvZy5mbHVzaF90aHJlc2hvbGRfcGVyaW9kJzogJzMwbScsXG4gICAgICAndHJhbnNsb2cuZGlzYWJsZV9mbHVzaCc6IHtcbiAgICAgICAgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV1cbiAgICAgIH0sXG4gICAgICAnY2FjaGUuZmlsdGVyLm1heF9zaXplJzogJzJnYicsXG4gICAgICAnY2FjaGUuZmlsdGVyLmV4cGlyZSc6ICcyaCcsXG4gICAgICAnZ2F0ZXdheS5zbmFwc2hvdF9pbnRlcnZhbCc6ICcxMHMnLFxuICAgICAgcm91dGluZzoge1xuICAgICAgICBhbGxvY2F0aW9uOiB7XG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgdGFnOiAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXhjbHVkZToge1xuICAgICAgICAgICAgdGFnOiAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVxdWlyZToge1xuICAgICAgICAgICAgdGFnOiAnJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG90YWxfc2hhcmRzX3Blcl9ub2RlOiAtMVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgJ3JlY292ZXJ5LmluaXRpYWxfc2hhcmRzJzoge1xuICAgICAgICBfX29uZV9vZjogWydxdW9ydW0nLCAncXVvcnVtLTEnLCAnaGFsZicsICdmdWxsJywgJ2Z1bGwtMSddXG4gICAgICB9LFxuICAgICAgJ3R0bC5kaXNhYmxlX3B1cmdlJzoge1xuICAgICAgICBfX29uZV9vZjogW3RydWUsIGZhbHNlXVxuICAgICAgfSxcbiAgICAgIGFuYWx5c2lzOiB7XG4gICAgICAgIGFuYWx5emVyOiB7fSxcbiAgICAgICAgdG9rZW5pemVyOiB7fSxcbiAgICAgICAgZmlsdGVyOiB7fSxcbiAgICAgICAgY2hhcl9maWx0ZXI6IHt9XG4gICAgICB9LFxuICAgICAgJ2NhY2hlLnF1ZXJ5LmVuYWJsZSc6IHtcbiAgICAgICAgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV1cbiAgICAgIH0sXG4gICAgICBzaGFkb3dfcmVwbGljYXM6IHtcbiAgICAgICAgX19vbmVfb2Y6IFt0cnVlLCBmYWxzZV1cbiAgICAgIH0sXG4gICAgICBzaGFyZWRfZmlsZXN5c3RlbToge1xuICAgICAgICBfX29uZV9vZjogW3RydWUsIGZhbHNlXVxuICAgICAgfSxcbiAgICAgIGRhdGFfcGF0aDogJ3BhdGgnLFxuICAgICAgY29kZWM6IHtcbiAgICAgICAgX19vbmVfb2Y6IFsnZGVmYXVsdCcsICdiZXN0X2NvbXByZXNzaW9uJywgJ2x1Y2VuZV9kZWZhdWx0J11cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/settings.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE;;AAE9B,KAAG,CAAC,sBAAsB,CAAC,eAAe,EAAE;AAC1C,YAAQ,EAAE,CACR,qBAAqB,EACrB,WAAW,CACZ;AACD,cAAU,EAAE;AACV,mBAAa,EAAE,UAAU;KAC1B;GACF,CAAC,CAAC;AACH,KAAG,CAAC,sBAAsB,CAAC,eAAe,EAAE;AAC1C,WAAO,EAAE,CAAC,KAAK,CAAC;AAChB,YAAQ,EAAE,CACR,qBAAqB,EACrB,WAAW,CACZ;AACD,2BAAuB,EAAE;AACvB,sBAAgB,EAAE,IAAI;AACtB,sBAAgB,EAAE,CAAC;AACnB,wBAAkB,EAAE,CAAC;AACrB,wBAAkB,EAAE;AAClB,gBAAQ,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC;OACxB;AACD,mBAAa,EAAE;AACb,gBAAQ,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;OACxB;AACD,oBAAc,EAAE;AACd,gBAAQ,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;OACxB;AACD,uBAAiB,EAAE;AACjB,gBAAQ,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;OACxB;AACD,yBAAmB,EAAE,EAAE;AACvB,wBAAkB,EAAE,CAAC;AACrB,oCAA8B,EAAE,IAAI;AACpC,qCAA+B,EAAE,OAAO;AACxC,uCAAiC,EAAE,KAAK;AACxC,8BAAwB,EAAE;AACxB,gBAAQ,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;OACxB;AACD,6BAAuB,EAAE,KAAK;AAC9B,2BAAqB,EAAE,IAAI;AAC3B,iCAA2B,EAAE,KAAK;AAClC,aAAO,EAAE;AACP,kBAAU,EAAE;AACV,iBAAO,EAAE;AACP,eAAG,EAAE,EAAE;WACR;AACD,iBAAO,EAAE;AACP,eAAG,EAAE,EAAE;WACR;AACD,iBAAO,EAAE;AACP,eAAG,EAAE,EAAE;WACR;AACD,+BAAqB,EAAE,CAAC,CAAC;SAC1B;OACF;AACD,+BAAyB,EAAE;AACzB,gBAAQ,EAAE,CAAC,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,CAAC;OAC3D;AACD,yBAAmB,EAAE;AACnB,gBAAQ,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;OACxB;AACD,cAAQ,EAAE;AACR,gBAAQ,EAAE,EAAE;AACZ,iBAAS,EAAE,EAAE;AACb,cAAM,EAAE,EAAE;AACV,mBAAW,EAAE,EAAE;OAChB;AACD,0BAAoB,EAAE;AACpB,gBAAQ,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;OACxB;AACD,qBAAe,EAAE;AACf,gBAAQ,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;OACxB;AACD,uBAAiB,EAAE;AACjB,gBAAQ,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC;OACxB;AACD,eAAS,EAAE,MAAM;AACjB,WAAK,EAAE;AACL,gBAAQ,EAAE,CAAC,SAAS,EAAE,kBAAkB,EAAE,gBAAgB,CAAC;OAC5D;KACF;GACF,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/settings.js",
      "sourcesContent": [
        "module.exports = function (api) {\n\n  api.addEndpointDescription('_get_settings', {\n    patterns: [\n      \"{indices}/_settings\",\n      \"_settings\"\n    ],\n    url_params: {\n      flat_settings: \"__flag__\"\n    }\n  });\n  api.addEndpointDescription('_put_settings', {\n    methods: ['PUT'],\n    patterns: [\n      \"{indices}/_settings\",\n      \"_settings\"\n    ],\n    data_autocomplete_rules: {\n      refresh_interval: '1s',\n      number_of_shards: 5,\n      number_of_replicas: 1,\n      'blocks.read_only': {\n        __one_of: [false, true]\n      },\n      'blocks.read': {\n        __one_of: [true, false]\n      },\n      'blocks.write': {\n        __one_of: [true, false]\n      },\n      'blocks.metadata': {\n        __one_of: [true, false]\n      },\n      term_index_interval: 32,\n      term_index_divisor: 1,\n      'translog.flush_threshold_ops': 5000,\n      'translog.flush_threshold_size': '200mb',\n      'translog.flush_threshold_period': '30m',\n      'translog.disable_flush': {\n        __one_of: [true, false]\n      },\n      'cache.filter.max_size': '2gb',\n      'cache.filter.expire': '2h',\n      'gateway.snapshot_interval': '10s',\n      routing: {\n        allocation: {\n          include: {\n            tag: ''\n          },\n          exclude: {\n            tag: ''\n          },\n          require: {\n            tag: ''\n          },\n          total_shards_per_node: -1\n        }\n      },\n      'recovery.initial_shards': {\n        __one_of: ['quorum', 'quorum-1', 'half', 'full', 'full-1']\n      },\n      'ttl.disable_purge': {\n        __one_of: [true, false]\n      },\n      analysis: {\n        analyzer: {},\n        tokenizer: {},\n        filter: {},\n        char_filter: {}\n      },\n      'cache.query.enable': {\n        __one_of: [true, false]\n      },\n      shadow_replicas: {\n        __one_of: [true, false]\n      },\n      shared_filesystem: {\n        __one_of: [true, false]\n      },\n      data_path: 'path',\n      codec: {\n        __one_of: ['default', 'best_compression', 'lucene_default']\n      }\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/templates.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function (api) {\n  api.addEndpointDescription('_delete_template', {\n    methods: ['DELETE'],\n    patterns: [\"_template/{id}\"]\n  });\n  api.addEndpointDescription('_get_template', {\n    methods: ['GET'],\n    patterns: [\"_template/{id}\", \"_template\"]\n  });\n  api.addEndpointDescription('_put_template', {\n    methods: ['PUT'],\n    patterns: [\"_template/{id}\"],\n    data_autocomplete_rules: {\n      template: 'index*',\n      warmers: { __scope_link: '_warmer' },\n      mappings: { __scope_link: '_put_mapping' },\n      settings: { __scope_link: '_put_settings' }\n    }\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvY29uc29sZS9hcGlfc2VydmVyL2VzXzVfMC90ZW1wbGF0ZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsR0FBRyxFQUFFO0FBQzlCLEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxrQkFBa0IsRUFBRTtBQUM3QyxXQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUM7QUFDbkIsWUFBUSxFQUFFLENBQ1IsZ0JBQWdCLENBQ2pCO0dBQ0YsQ0FBQyxDQUFDO0FBQ0gsS0FBRyxDQUFDLHNCQUFzQixDQUFDLGVBQWUsRUFBRTtBQUMxQyxXQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDaEIsWUFBUSxFQUFFLENBQ1IsZ0JBQWdCLEVBQ2hCLFdBQVcsQ0FDWjtHQUNGLENBQUMsQ0FBQztBQUNILEtBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxlQUFlLEVBQUU7QUFDMUMsV0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDO0FBQ2hCLFlBQVEsRUFBRSxDQUNSLGdCQUFnQixDQUNqQjtBQUNELDJCQUF1QixFQUFFO0FBQ3ZCLGNBQVEsRUFBRSxRQUFRO0FBQ2xCLGFBQU8sRUFBRSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUU7QUFDcEMsY0FBUSxFQUFFLEVBQUUsWUFBWSxFQUFFLGNBQWMsRUFBRTtBQUMxQyxjQUFRLEVBQUUsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFO0tBQzVDO0dBQ0YsQ0FBQyxDQUFDO0NBQ0osQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL2NvbnNvbGUvYXBpX3NlcnZlci9lc181XzAvdGVtcGxhdGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpKSB7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfZGVsZXRlX3RlbXBsYXRlJywge1xuICAgIG1ldGhvZHM6IFsnREVMRVRFJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwiX3RlbXBsYXRlL3tpZH1cIixcbiAgICBdXG4gIH0pO1xuICBhcGkuYWRkRW5kcG9pbnREZXNjcmlwdGlvbignX2dldF90ZW1wbGF0ZScsIHtcbiAgICBtZXRob2RzOiBbJ0dFVCddLFxuICAgIHBhdHRlcm5zOiBbXG4gICAgICBcIl90ZW1wbGF0ZS97aWR9XCIsXG4gICAgICBcIl90ZW1wbGF0ZVwiLFxuICAgIF1cbiAgfSk7XG4gIGFwaS5hZGRFbmRwb2ludERlc2NyaXB0aW9uKCdfcHV0X3RlbXBsYXRlJywge1xuICAgIG1ldGhvZHM6IFsnUFVUJ10sXG4gICAgcGF0dGVybnM6IFtcbiAgICAgIFwiX3RlbXBsYXRlL3tpZH1cIixcbiAgICBdLFxuICAgIGRhdGFfYXV0b2NvbXBsZXRlX3J1bGVzOiB7XG4gICAgICB0ZW1wbGF0ZTogJ2luZGV4KicsXG4gICAgICB3YXJtZXJzOiB7IF9fc2NvcGVfbGluazogJ193YXJtZXInIH0sXG4gICAgICBtYXBwaW5nczogeyBfX3Njb3BlX2xpbms6ICdfcHV0X21hcHBpbmcnIH0sXG4gICAgICBzZXR0aW5nczogeyBfX3Njb3BlX2xpbms6ICdfcHV0X3NldHRpbmdzJyB9XG4gICAgfVxuICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/templates.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,UAAU,GAAG,EAAE;AAC9B,KAAG,CAAC,sBAAsB,CAAC,kBAAkB,EAAE;AAC7C,WAAO,EAAE,CAAC,QAAQ,CAAC;AACnB,YAAQ,EAAE,CACR,gBAAgB,CACjB;GACF,CAAC,CAAC;AACH,KAAG,CAAC,sBAAsB,CAAC,eAAe,EAAE;AAC1C,WAAO,EAAE,CAAC,KAAK,CAAC;AAChB,YAAQ,EAAE,CACR,gBAAgB,EAChB,WAAW,CACZ;GACF,CAAC,CAAC;AACH,KAAG,CAAC,sBAAsB,CAAC,eAAe,EAAE;AAC1C,WAAO,EAAE,CAAC,KAAK,CAAC;AAChB,YAAQ,EAAE,CACR,gBAAgB,CACjB;AACD,2BAAuB,EAAE;AACvB,cAAQ,EAAE,QAAQ;AAClB,aAAO,EAAE,EAAE,YAAY,EAAE,SAAS,EAAE;AACpC,cAAQ,EAAE,EAAE,YAAY,EAAE,cAAc,EAAE;AAC1C,cAAQ,EAAE,EAAE,YAAY,EAAE,eAAe,EAAE;KAC5C;GACF,CAAC,CAAC;CACJ,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/console/api_server/es_5_0/templates.js",
      "sourcesContent": [
        "module.exports = function (api) {\n  api.addEndpointDescription('_delete_template', {\n    methods: ['DELETE'],\n    patterns: [\n      \"_template/{id}\",\n    ]\n  });\n  api.addEndpointDescription('_get_template', {\n    methods: ['GET'],\n    patterns: [\n      \"_template/{id}\",\n      \"_template\",\n    ]\n  });\n  api.addEndpointDescription('_put_template', {\n    methods: ['PUT'],\n    patterns: [\n      \"_template/{id}\",\n    ],\n    data_autocomplete_rules: {\n      template: 'index*',\n      warmers: { __scope_link: '_warmer' },\n      mappings: { __scope_link: '_put_mapping' },\n      settings: { __scope_link: '_put_settings' }\n    }\n  });\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/tl_config.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\nvar buildTarget = require('../../lib/build_target.js');\n\nmodule.exports = function (setup) {\n  var targetSeries = undefined;\n\n  var tlConfig = {\n    getTargetSeries: function getTargetSeries() {\n      return _.map(targetSeries, function (bucket) {\n        // eslint-disable-line no-use-before-define\n        return [bucket, null];\n      });\n    },\n    setTargetSeries: function setTargetSeries() {\n      targetSeries = buildTarget(this);\n    },\n    writeTargetSeries: function writeTargetSeries(series) {\n      targetSeries = _.map(series, function (p) {\n        return p[0];\n      });\n    }\n  };\n\n  tlConfig = _.extend(tlConfig, setup);\n  return tlConfig;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi90bF9jb25maWcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRTVCLElBQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDOztBQUV6RCxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsS0FBSyxFQUFFO0FBQ2hDLE1BQUksWUFBWSxZQUFBLENBQUM7O0FBRWpCLE1BQUksUUFBUSxHQUFHO0FBQ2IsbUJBQWUsRUFBRSwyQkFBWTtBQUMzQixhQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFLFVBQVUsTUFBTSxFQUFFOztBQUMzQyxlQUFPLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO09BQ3ZCLENBQUMsQ0FBQztLQUNKO0FBQ0QsbUJBQWUsRUFBRSwyQkFBWTtBQUMzQixrQkFBWSxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNsQztBQUNELHFCQUFpQixFQUFFLDJCQUFVLE1BQU0sRUFBRTtBQUNuQyxrQkFBWSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxFQUFFO0FBQUMsZUFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7T0FBQyxDQUFDLENBQUM7S0FDM0Q7R0FDRixDQUFDOztBQUVGLFVBQVEsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNyQyxTQUFPLFFBQVEsQ0FBQztDQUNqQixDQUFDIiwiZmlsZSI6Ii9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi90bF9jb25maWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbmNvbnN0IGJ1aWxkVGFyZ2V0ID0gcmVxdWlyZSgnLi4vLi4vbGliL2J1aWxkX3RhcmdldC5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzZXR1cCkge1xuICBsZXQgdGFyZ2V0U2VyaWVzO1xuXG4gIGxldCB0bENvbmZpZyA9IHtcbiAgICBnZXRUYXJnZXRTZXJpZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfLm1hcCh0YXJnZXRTZXJpZXMsIGZ1bmN0aW9uIChidWNrZXQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICByZXR1cm4gW2J1Y2tldCwgbnVsbF07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNldFRhcmdldFNlcmllczogZnVuY3Rpb24gKCkge1xuICAgICAgdGFyZ2V0U2VyaWVzID0gYnVpbGRUYXJnZXQodGhpcyk7XG4gICAgfSxcbiAgICB3cml0ZVRhcmdldFNlcmllczogZnVuY3Rpb24gKHNlcmllcykge1xuICAgICAgdGFyZ2V0U2VyaWVzID0gXy5tYXAoc2VyaWVzLCBmdW5jdGlvbiAocCkge3JldHVybiBwWzBdO30pO1xuICAgIH1cbiAgfTtcblxuICB0bENvbmZpZyA9IF8uZXh0ZW5kKHRsQ29uZmlnLCBzZXR1cCk7XG4gIHJldHVybiB0bENvbmZpZztcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/tl_config.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,IAAM,WAAW,GAAG,OAAO,CAAC,2BAA2B,CAAC,CAAC;;AAEzD,MAAM,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;AAChC,MAAI,YAAY,YAAA,CAAC;;AAEjB,MAAI,QAAQ,GAAG;AACb,mBAAe,EAAE,2BAAY;AAC3B,aAAO,CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,MAAM,EAAE;;AAC3C,eAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;OACvB,CAAC,CAAC;KACJ;AACD,mBAAe,EAAE,2BAAY;AAC3B,kBAAY,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;KAClC;AACD,qBAAiB,EAAE,2BAAU,MAAM,EAAE;AACnC,kBAAY,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,EAAE;AAAC,eAAO,CAAC,CAAC,CAAC,CAAC,CAAC;OAAC,CAAC,CAAC;KAC3D;GACF,CAAC;;AAEF,UAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;AACrC,SAAO,QAAQ,CAAC;CACjB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/tl_config.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\nconst buildTarget = require('../../lib/build_target.js');\n\nmodule.exports = function (setup) {\n  let targetSeries;\n\n  let tlConfig = {\n    getTargetSeries: function () {\n      return _.map(targetSeries, function (bucket) { // eslint-disable-line no-use-before-define\n        return [bucket, null];\n      });\n    },\n    setTargetSeries: function () {\n      targetSeries = buildTarget(this);\n    },\n    writeTargetSeries: function (series) {\n      targetSeries = _.map(series, function (p) {return p[0];});\n    }\n  };\n\n  tlConfig = _.extend(tlConfig, setup);\n  return tlConfig;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/build_target.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar moment = require('moment');\n\nvar splitInterval = require('./split_interval.js');\n\nmodule.exports = function (tlConfig) {\n  var min = moment(tlConfig.time.from);\n  var max = moment(tlConfig.time.to);\n\n  var intervalParts = splitInterval(tlConfig.time.interval);\n\n  var current = min.startOf(intervalParts.unit);\n\n  var targetSeries = [];\n\n  while (current.valueOf() < max.valueOf()) {\n    targetSeries.push(current.valueOf());\n    current = current.add(intervalParts.count, intervalParts.unit);\n  }\n\n  return targetSeries;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9idWlsZF90YXJnZXQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRWpDLElBQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDOztBQUVyRCxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsUUFBUSxFQUFFO0FBQ25DLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3ZDLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDOztBQUVyQyxNQUFNLGFBQWEsR0FBRyxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFNUQsTUFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRTlDLE1BQU0sWUFBWSxHQUFHLEVBQUUsQ0FBQzs7QUFFeEIsU0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLEdBQUcsR0FBRyxDQUFDLE9BQU8sRUFBRSxFQUFFO0FBQ3hDLGdCQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO0FBQ3JDLFdBQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQ2hFOztBQUVELFNBQU8sWUFBWSxDQUFDO0NBQ3JCLENBQUMiLCJmaWxlIjoiL1VzZXJzL29zYWdpZWZvL2tpYmFuYS1hd3Mvc3JjL2NvcmVfcGx1Z2lucy90aW1lbGlvbi9zZXJ2ZXIvbGliL2J1aWxkX3RhcmdldC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG5jb25zdCBzcGxpdEludGVydmFsID0gcmVxdWlyZSgnLi9zcGxpdF9pbnRlcnZhbC5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0bENvbmZpZykge1xuICBjb25zdCBtaW4gPSBtb21lbnQodGxDb25maWcudGltZS5mcm9tKTtcbiAgY29uc3QgbWF4ID0gbW9tZW50KHRsQ29uZmlnLnRpbWUudG8pO1xuXG4gIGNvbnN0IGludGVydmFsUGFydHMgPSBzcGxpdEludGVydmFsKHRsQ29uZmlnLnRpbWUuaW50ZXJ2YWwpO1xuXG4gIGxldCBjdXJyZW50ID0gbWluLnN0YXJ0T2YoaW50ZXJ2YWxQYXJ0cy51bml0KTtcblxuICBjb25zdCB0YXJnZXRTZXJpZXMgPSBbXTtcblxuICB3aGlsZSAoY3VycmVudC52YWx1ZU9mKCkgPCBtYXgudmFsdWVPZigpKSB7XG4gICAgdGFyZ2V0U2VyaWVzLnB1c2goY3VycmVudC52YWx1ZU9mKCkpO1xuICAgIGN1cnJlbnQgPSBjdXJyZW50LmFkZChpbnRlcnZhbFBhcnRzLmNvdW50LCBpbnRlcnZhbFBhcnRzLnVuaXQpO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldFNlcmllcztcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/build_target.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEjC,IAAM,aAAa,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;;AAErD,MAAM,CAAC,OAAO,GAAG,UAAU,QAAQ,EAAE;AACnC,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACvC,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;;AAErC,MAAM,aAAa,GAAG,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;AAE5D,MAAI,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;;AAE9C,MAAM,YAAY,GAAG,EAAE,CAAC;;AAExB,SAAO,OAAO,CAAC,OAAO,EAAE,GAAG,GAAG,CAAC,OAAO,EAAE,EAAE;AACxC,gBAAY,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC;AACrC,WAAO,GAAG,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,KAAK,EAAE,aAAa,CAAC,IAAI,CAAC,CAAC;GAChE;;AAED,SAAO,YAAY,CAAC;CACrB,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/build_target.js",
      "sourcesContent": [
        "const moment = require('moment');\n\nconst splitInterval = require('./split_interval.js');\n\nmodule.exports = function (tlConfig) {\n  const min = moment(tlConfig.time.from);\n  const max = moment(tlConfig.time.to);\n\n  const intervalParts = splitInterval(tlConfig.time.interval);\n\n  let current = min.startOf(intervalParts.unit);\n\n  const targetSeries = [];\n\n  while (current.valueOf() < max.valueOf()) {\n    targetSeries.push(current.valueOf());\n    current = current.add(intervalParts.count, intervalParts.unit);\n  }\n\n  return targetSeries;\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/split_interval.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = function splitInterval(interval) {\n  if (!interval.match(/[0-9]+[mshdwMy]+/g)) {\n    throw new Error('Malformed `interval`: ' + interval);\n  }\n  var parts = interval.match(/[0-9]+|[mshdwMy]+/g);\n\n  return {\n    count: parts[0],\n    unit: parts[1]\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2xpYi9zcGxpdF9pbnRlcnZhbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsU0FBUyxhQUFhLENBQUMsUUFBUSxFQUFFO0FBQ2hELE1BQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLEVBQUU7QUFDeEMsVUFBTSxJQUFJLEtBQUssQ0FBRSx3QkFBd0IsR0FBRyxRQUFRLENBQUMsQ0FBQztHQUN2RDtBQUNELE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQzs7QUFFbkQsU0FBTztBQUNMLFNBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ2YsUUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7R0FDZixDQUFDO0NBQ0gsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9saWIvc3BsaXRfaW50ZXJ2YWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwbGl0SW50ZXJ2YWwoaW50ZXJ2YWwpIHtcbiAgaWYgKCFpbnRlcnZhbC5tYXRjaCgvWzAtOV0rW21zaGR3TXldKy9nKSkge1xuICAgIHRocm93IG5ldyBFcnJvciAoJ01hbGZvcm1lZCBgaW50ZXJ2YWxgOiAnICsgaW50ZXJ2YWwpO1xuICB9XG4gIGNvbnN0IHBhcnRzID0gaW50ZXJ2YWwubWF0Y2goL1swLTldK3xbbXNoZHdNeV0rL2cpO1xuXG4gIHJldHVybiB7XG4gICAgY291bnQ6IHBhcnRzWzBdLFxuICAgIHVuaXQ6IHBhcnRzWzFdXG4gIH07XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/split_interval.js"
      ],
      "names": [],
      "mappings": ";;AAAA,MAAM,CAAC,OAAO,GAAG,SAAS,aAAa,CAAC,QAAQ,EAAE;AAChD,MAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,mBAAmB,CAAC,EAAE;AACxC,UAAM,IAAI,KAAK,CAAE,wBAAwB,GAAG,QAAQ,CAAC,CAAC;GACvD;AACD,MAAM,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;;AAEnD,SAAO;AACL,SAAK,EAAE,KAAK,CAAC,CAAC,CAAC;AACf,QAAI,EAAE,KAAK,CAAC,CAAC,CAAC;GACf,CAAC;CACH,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/lib/split_interval.js",
      "sourcesContent": [
        "module.exports = function splitInterval(interval) {\n  if (!interval.match(/[0-9]+[mshdwMy]+/g)) {\n    throw new Error ('Malformed `interval`: ' + interval);\n  }\n  const parts = interval.match(/[0-9]+|[mshdwMy]+/g);\n\n  return {\n    count: parts[0],\n    unit: parts[1]\n  };\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/preprocess_chain.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _ = require('lodash');\n\nmodule.exports = function preProcessChainFn(tlConfig) {\n  return function preProcessChain(chain, queries) {\n    queries = queries || {};\n    function validateAndStore(item) {\n      if (_.isObject(item) && item.type === 'function') {\n        var functionDef = tlConfig.server.plugins.timelion.getFunction(item['function']);\n\n        if (functionDef.datasource) {\n          queries[functionDef.cacheKey(item)] = item;\n          return true;\n        }\n        return false;\n      }\n    }\n\n    // Is this thing a function?\n    if (validateAndStore(chain)) {\n      return;\n    }\n\n    if (!_.isArray(chain)) return;\n\n    _.each(chain, function (operator) {\n      if (!_.isObject(operator)) {\n        return;\n      }\n      switch (operator.type) {\n        case 'chain':\n          preProcessChain(operator.chain, queries);\n          break;\n        case 'chainList':\n          preProcessChain(operator.list, queries);\n          break;\n        case 'function':\n          if (validateAndStore(operator)) {\n            break;\n          } else {\n            preProcessChain(operator.arguments, queries);\n          }\n          break;\n      }\n    });\n\n    return queries;\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi9wcmVwcm9jZXNzX2NoYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUU1QixNQUFNLENBQUMsT0FBTyxHQUFHLFNBQVMsaUJBQWlCLENBQUMsUUFBUSxFQUFFO0FBQ3BELFNBQU8sU0FBUyxlQUFlLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUM5QyxXQUFPLEdBQUcsT0FBTyxJQUFJLEVBQUUsQ0FBQztBQUN4QixhQUFTLGdCQUFnQixDQUFDLElBQUksRUFBRTtBQUM5QixVQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7QUFDaEQsWUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLFlBQVMsQ0FBQyxDQUFDOztBQUVoRixZQUFJLFdBQVcsQ0FBQyxVQUFVLEVBQUU7QUFDMUIsaUJBQU8sQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQzNDLGlCQUFPLElBQUksQ0FBQztTQUNiO0FBQ0QsZUFBTyxLQUFLLENBQUM7T0FDZDtLQUNGOzs7QUFHRCxRQUFJLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzNCLGFBQU87S0FDUjs7QUFFRCxRQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxPQUFPOztBQUU5QixLQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxVQUFVLFFBQVEsRUFBRTtBQUNoQyxVQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtBQUN6QixlQUFPO09BQ1I7QUFDRCxjQUFRLFFBQVEsQ0FBQyxJQUFJO0FBQ25CLGFBQUssT0FBTztBQUNWLHlCQUFlLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN6QyxnQkFBTTtBQUFBLEFBQ1IsYUFBSyxXQUFXO0FBQ2QseUJBQWUsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3hDLGdCQUFNO0FBQUEsQUFDUixhQUFLLFVBQVU7QUFDYixjQUFJLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxFQUFFO0FBQzlCLGtCQUFNO1dBQ1AsTUFBTTtBQUNMLDJCQUFlLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztXQUM5QztBQUNELGdCQUFNO0FBQUEsT0FDVDtLQUNGLENBQUMsQ0FBQzs7QUFFSCxXQUFPLE9BQU8sQ0FBQztHQUNoQixDQUFDO0NBQ0gsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9oYW5kbGVycy9saWIvcHJlcHJvY2Vzc19jaGFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwcmVQcm9jZXNzQ2hhaW5Gbih0bENvbmZpZykge1xuICByZXR1cm4gZnVuY3Rpb24gcHJlUHJvY2Vzc0NoYWluKGNoYWluLCBxdWVyaWVzKSB7XG4gICAgcXVlcmllcyA9IHF1ZXJpZXMgfHwge307XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVBbmRTdG9yZShpdGVtKSB7XG4gICAgICBpZiAoXy5pc09iamVjdChpdGVtKSAmJiBpdGVtLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uc3QgZnVuY3Rpb25EZWYgPSB0bENvbmZpZy5zZXJ2ZXIucGx1Z2lucy50aW1lbGlvbi5nZXRGdW5jdGlvbihpdGVtLmZ1bmN0aW9uKTtcblxuICAgICAgICBpZiAoZnVuY3Rpb25EZWYuZGF0YXNvdXJjZSkge1xuICAgICAgICAgIHF1ZXJpZXNbZnVuY3Rpb25EZWYuY2FjaGVLZXkoaXRlbSldID0gaXRlbTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSXMgdGhpcyB0aGluZyBhIGZ1bmN0aW9uP1xuICAgIGlmICh2YWxpZGF0ZUFuZFN0b3JlKGNoYWluKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghXy5pc0FycmF5KGNoYWluKSkgcmV0dXJuO1xuXG4gICAgXy5lYWNoKGNoYWluLCBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgIGlmICghXy5pc09iamVjdChvcGVyYXRvcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChvcGVyYXRvci50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2NoYWluJzpcbiAgICAgICAgICBwcmVQcm9jZXNzQ2hhaW4ob3BlcmF0b3IuY2hhaW4sIHF1ZXJpZXMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjaGFpbkxpc3QnOlxuICAgICAgICAgIHByZVByb2Nlc3NDaGFpbihvcGVyYXRvci5saXN0LCBxdWVyaWVzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIGlmICh2YWxpZGF0ZUFuZFN0b3JlKG9wZXJhdG9yKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZVByb2Nlc3NDaGFpbihvcGVyYXRvci5hcmd1bWVudHMsIHF1ZXJpZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBxdWVyaWVzO1xuICB9O1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/preprocess_chain.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,MAAM,CAAC,OAAO,GAAG,SAAS,iBAAiB,CAAC,QAAQ,EAAE;AACpD,SAAO,SAAS,eAAe,CAAC,KAAK,EAAE,OAAO,EAAE;AAC9C,WAAO,GAAG,OAAO,IAAI,EAAE,CAAC;AACxB,aAAS,gBAAgB,CAAC,IAAI,EAAE;AAC9B,UAAI,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,EAAE;AAChD,YAAM,WAAW,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,YAAS,CAAC,CAAC;;AAEhF,YAAI,WAAW,CAAC,UAAU,EAAE;AAC1B,iBAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;AAC3C,iBAAO,IAAI,CAAC;SACb;AACD,eAAO,KAAK,CAAC;OACd;KACF;;;AAGD,QAAI,gBAAgB,CAAC,KAAK,CAAC,EAAE;AAC3B,aAAO;KACR;;AAED,QAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,OAAO;;AAE9B,KAAC,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,QAAQ,EAAE;AAChC,UAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;AACzB,eAAO;OACR;AACD,cAAQ,QAAQ,CAAC,IAAI;AACnB,aAAK,OAAO;AACV,yBAAe,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AACzC,gBAAM;AAAA,AACR,aAAK,WAAW;AACd,yBAAe,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;AACxC,gBAAM;AAAA,AACR,aAAK,UAAU;AACb,cAAI,gBAAgB,CAAC,QAAQ,CAAC,EAAE;AAC9B,kBAAM;WACP,MAAM;AACL,2BAAe,CAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;WAC9C;AACD,gBAAM;AAAA,OACT;KACF,CAAC,CAAC;;AAEH,WAAO,OAAO,CAAC;GAChB,CAAC;CACH,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/preprocess_chain.js",
      "sourcesContent": [
        "const _ = require('lodash');\n\nmodule.exports = function preProcessChainFn(tlConfig) {\n  return function preProcessChain(chain, queries) {\n    queries = queries || {};\n    function validateAndStore(item) {\n      if (_.isObject(item) && item.type === 'function') {\n        const functionDef = tlConfig.server.plugins.timelion.getFunction(item.function);\n\n        if (functionDef.datasource) {\n          queries[functionDef.cacheKey(item)] = item;\n          return true;\n        }\n        return false;\n      }\n    }\n\n    // Is this thing a function?\n    if (validateAndStore(chain)) {\n      return;\n    }\n\n    if (!_.isArray(chain)) return;\n\n    _.each(chain, function (operator) {\n      if (!_.isObject(operator)) {\n        return;\n      }\n      switch (operator.type) {\n        case 'chain':\n          preProcessChain(operator.chain, queries);\n          break;\n        case 'chainList':\n          preProcessChain(operator.list, queries);\n          break;\n        case 'function':\n          if (validateAndStore(operator)) {\n            break;\n          } else {\n            preProcessChain(operator.arguments, queries);\n          }\n          break;\n      }\n    });\n\n    return queries;\n  };\n};\n"
      ]
    },
    "mtime": 1499984633000
  },
  "{\"filename\":\"/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/validate_arg.js\",\"extra\":{},\"env\":{},\"retainLines\":false,\"nonStandard\":true,\"experimental\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"stage\":1,\"blacklist\":[\"regenerator\"],\"optional\":[\"asyncToGenerator\"],\"modules\":\"common\",\"moduleIds\":false,\"jsxPragma\":\"React.createElement\",\"plugins\":[],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"keepModuleIdExtensions\":false,\"auxiliaryCommentAfter\":\"\",\"externalHelpers\":false,\"metadataUsedHelpers\":false,\"breakConfig\":false,\"sourceType\":\"module\"}:5.8.38": {
    "metadata": {
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      },
      "usedHelpers": []
    },
    "ignored": false,
    "code": "'use strict';\n\nvar argType = require('./arg_type');\nvar _ = require('lodash');\n\nmodule.exports = function (functionDef) {\n  return function validateArg(value, name, argDef) {\n    var type = argType(value);\n    var required = argDef.types;\n    var multi = argDef.multi;\n    var isCorrectType = (function () {\n      // If argument is not allow to be specified multiple times, we're dealing with a plain value for type\n      if (!multi) return _.contains(required, type);\n      // If it is, we'll get an array for type\n      return _.difference(type, required).length === 0;\n    })();\n\n    if (isCorrectType) return true;else return false;\n\n    if (!isCorrectType) {\n      throw new Error(functionDef.name + '(' + name + ') must be one of ' + JSON.stringify(required) + '. Got: ' + type);\n    }\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vc2FnaWVmby9raWJhbmEtYXdzL3NyYy9jb3JlX3BsdWdpbnMvdGltZWxpb24vc2VydmVyL2hhbmRsZXJzL2xpYi92YWxpZGF0ZV9hcmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDdEMsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUU1QixNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVUsV0FBVyxFQUFFO0FBQ3RDLFNBQU8sU0FBUyxXQUFXLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUU7QUFDL0MsUUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzVCLFFBQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDOUIsUUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztBQUMzQixRQUFNLGFBQWEsR0FBSSxDQUFBLFlBQVk7O0FBRWpDLFVBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQzs7QUFFOUMsYUFBTyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDO0tBQ2xELENBQUEsRUFBRSxBQUFDLENBQUM7O0FBRUwsUUFBSSxhQUFhLEVBQUUsT0FBTyxJQUFJLENBQUMsS0FDMUIsT0FBTyxLQUFLLENBQUM7O0FBRWxCLFFBQUksQ0FBQyxhQUFhLEVBQUU7QUFDbEIsWUFBTSxJQUFJLEtBQUssQ0FBRSxXQUFXLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLEdBQUcsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRyxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUM7S0FDckg7R0FDRixDQUFDO0NBQ0gsQ0FBQyIsImZpbGUiOiIvVXNlcnMvb3NhZ2llZm8va2liYW5hLWF3cy9zcmMvY29yZV9wbHVnaW5zL3RpbWVsaW9uL3NlcnZlci9oYW5kbGVycy9saWIvdmFsaWRhdGVfYXJnLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXJnVHlwZSA9IHJlcXVpcmUoJy4vYXJnX3R5cGUnKTtcbmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZnVuY3Rpb25EZWYpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHZhbGlkYXRlQXJnKHZhbHVlLCBuYW1lLCBhcmdEZWYpIHtcbiAgICBjb25zdCB0eXBlID0gYXJnVHlwZSh2YWx1ZSk7XG4gICAgY29uc3QgcmVxdWlyZWQgPSBhcmdEZWYudHlwZXM7XG4gICAgY29uc3QgbXVsdGkgPSBhcmdEZWYubXVsdGk7XG4gICAgY29uc3QgaXNDb3JyZWN0VHlwZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBJZiBhcmd1bWVudCBpcyBub3QgYWxsb3cgdG8gYmUgc3BlY2lmaWVkIG11bHRpcGxlIHRpbWVzLCB3ZSdyZSBkZWFsaW5nIHdpdGggYSBwbGFpbiB2YWx1ZSBmb3IgdHlwZVxuICAgICAgaWYgKCFtdWx0aSkgcmV0dXJuIF8uY29udGFpbnMocmVxdWlyZWQsIHR5cGUpO1xuICAgICAgLy8gSWYgaXQgaXMsIHdlJ2xsIGdldCBhbiBhcnJheSBmb3IgdHlwZVxuICAgICAgcmV0dXJuIF8uZGlmZmVyZW5jZSh0eXBlLCByZXF1aXJlZCkubGVuZ3RoID09PSAwO1xuICAgIH0oKSk7XG5cbiAgICBpZiAoaXNDb3JyZWN0VHlwZSkgcmV0dXJuIHRydWU7XG4gICAgZWxzZSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoIWlzQ29ycmVjdFR5cGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvciAoZnVuY3Rpb25EZWYubmFtZSArICcoJyArIG5hbWUgKyAnKSBtdXN0IGJlIG9uZSBvZiAnICsgSlNPTi5zdHJpbmdpZnkocmVxdWlyZWQpICsgJy4gR290OiAnICsgdHlwZSk7XG4gICAgfVxuICB9O1xufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/validate_arg.js"
      ],
      "names": [],
      "mappings": ";;AAAA,IAAM,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACtC,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,MAAM,CAAC,OAAO,GAAG,UAAU,WAAW,EAAE;AACtC,SAAO,SAAS,WAAW,CAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE;AAC/C,QAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;AAC5B,QAAM,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC;AAC9B,QAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;AAC3B,QAAM,aAAa,GAAI,CAAA,YAAY;;AAEjC,UAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;;AAE9C,aAAO,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC;KAClD,CAAA,EAAE,AAAC,CAAC;;AAEL,QAAI,aAAa,EAAE,OAAO,IAAI,CAAC,KAC1B,OAAO,KAAK,CAAC;;AAElB,QAAI,CAAC,aAAa,EAAE;AAClB,YAAM,IAAI,KAAK,CAAE,WAAW,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,SAAS,GAAG,IAAI,CAAC,CAAC;KACrH;GACF,CAAC;CACH,CAAC",
      "file": "/Users/osagiefo/kibana-aws/src/core_plugins/timelion/server/handlers/lib/validate_arg.js",
      "sourcesContent": [
        "const argType = require('./arg_type');\nconst _ = require('lodash');\n\nmodule.exports = function (functionDef) {\n  return function validateArg(value, name, argDef) {\n    const type = argType(value);\n    const required = argDef.types;\n    const multi = argDef.multi;\n    const isCorrectType = (function () {\n      // If argument is not allow to be specified multiple times, we're dealing with a plain value for type\n      if (!multi) return _.contains(required, type);\n      // If it is, we'll get an array for type\n      return _.difference(type, required).length === 0;\n    }());\n\n    if (isCorrectType) return true;\n    else return false;\n\n    if (!isCorrectType) {\n      throw new Error (functionDef.name + '(' + name + ') must be one of ' + JSON.stringify(required) + '. Got: ' + type);\n    }\n  };\n};\n"
      ]
    },
    "mtime": 1499984633000
  }
}